{"config":{"lang":["en"],"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"FaBo Swift Docs FaBo Swift Docs\u306b\u3064\u3044\u3066 FaBo Swift Docs\u306f\u3001Swift\u9006\u5f15\u304d\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3067\u3059\u3002 \u4fee\u6b63\u4f9d\u983c\u7b49 Github\u306eRepo\u306b Issues \u3092\u3042\u3052\u308b\u3002 \u305d\u306e\u4ed6\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 Android Things Docs DonkeyCar Docs Denbun Docs Circuit Docs Swift Docs Keras Docs NRF Docs DeviceWebAPI Docs","title":"FaBo Swift Docs"},{"location":"#fabo-swift-docs","text":"","title":"FaBo Swift Docs"},{"location":"#fabo-swift-docs_1","text":"FaBo Swift Docs\u306f\u3001Swift\u9006\u5f15\u304d\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3067\u3059\u3002","title":"FaBo Swift Docs\u306b\u3064\u3044\u3066"},{"location":"#_1","text":"Github\u306eRepo\u306b Issues \u3092\u3042\u3052\u308b\u3002","title":"\u4fee\u6b63\u4f9d\u983c\u7b49"},{"location":"#_2","text":"Android Things Docs DonkeyCar Docs Denbun Docs Circuit Docs Swift Docs Keras Docs NRF Docs DeviceWebAPI Docs","title":"\u305d\u306e\u4ed6\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8"},{"location":"1.uikit/","text":"","title":"Index"},{"location":"1.uikit/001_uilabel/","text":"UILabel\u3067\u6587\u5b57\u3092\u8868\u793a Swift 4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 // // ViewController.swift // uikit001 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // \u30dc\u30bf\u30f3\u306e\u30b5\u30a4\u30ba\u3092\u5b9a\u7fa9. let bWidth : CGFloat = 200 let bHeight : CGFloat = 50 // \u914d\u7f6e\u3059\u308b\u5ea7\u6a19\u3092\u5b9a\u7fa9(\u753b\u9762\u306e\u4e2d\u5fc3). let posX : CGFloat = self . view . bounds . width / 2 - bWidth / 2 let posY : CGFloat = self . view . bounds . height / 2 - bHeight / 2 // Label\u3092\u4f5c\u6210. let label : UILabel = UILabel ( frame : CGRect ( x : posX , y : posY , width : bWidth , height : bHeight )) // UILabel\u306e\u80cc\u666f\u3092\u30aa\u30ec\u30f3\u30b8\u8272\u306b. label . backgroundColor = UIColor . orange // UILabel\u306e\u67a0\u3092\u4e38\u304f\u3059\u308b. label . layer . masksToBounds = true // \u4e38\u304f\u3059\u308b\u30b3\u30fc\u30ca\u30fc\u306e\u534a\u5f84. label . layer . cornerRadius = 20.0 // \u6587\u5b57\u306e\u8272\u3092\u767d\u306b\u5b9a\u7fa9. label . textColor = UIColor . white // UILabel\u306b\u6587\u5b57\u3092\u4ee3\u5165. label . text = \"Hello Swift!!\" // \u6587\u5b57\u306e\u5f71\u3092\u30b0\u30ec\u30fc\u306b\u5b9a\u7fa9. label . shadowColor = UIColor . gray // Text\u3092\u4e2d\u592e\u5bc4\u305b\u306b\u3059\u308b. label . textAlignment = NSTextAlignment . center // View\u306e\u80cc\u666f\u3092\u9752\u306b\u3059\u308b. self . view . backgroundColor = UIColor . cyan // View\u306bLabel\u3092\u8ffd\u52a0. self . view . addSubview ( label ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 // // ViewController.swift // uikit001 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // \u30dc\u30bf\u30f3\u306e\u30b5\u30a4\u30ba\u3092\u5b9a\u7fa9. let bWidth : CGFloat = 200 let bHeight : CGFloat = 50 // \u914d\u7f6e\u3059\u308b\u5ea7\u6a19\u3092\u5b9a\u7fa9(\u753b\u9762\u306e\u4e2d\u5fc3). let posX : CGFloat = self . view . bounds . width / 2 - bWidth / 2 let posY : CGFloat = self . view . bounds . height / 2 - bHeight / 2 // Label\u3092\u4f5c\u6210. let label : UILabel = UILabel ( frame : CGRect ( x : posX , y : posY , width : bWidth , height : bHeight )) // UILabel\u306e\u80cc\u666f\u3092\u30aa\u30ec\u30f3\u30b8\u8272\u306b. label . backgroundColor = UIColor . orangeColor () // UILabel\u306e\u67a0\u3092\u4e38\u304f\u3059\u308b. label . layer . masksToBounds = true // \u4e38\u304f\u3059\u308b\u30b3\u30fc\u30ca\u30fc\u306e\u534a\u5f84. label . layer . cornerRadius = 20.0 // \u6587\u5b57\u306e\u8272\u3092\u767d\u306b\u5b9a\u7fa9. label . textColor = UIColor . whiteColor () // UILabel\u306b\u6587\u5b57\u3092\u4ee3\u5165. label . text = \"Hello Swift!!\" // \u6587\u5b57\u306e\u5f71\u3092\u30b0\u30ec\u30fc\u306b\u5b9a\u7fa9. label . shadowColor = UIColor . grayColor () // Text\u3092\u4e2d\u592e\u5bc4\u305b\u306b\u3059\u308b. label . textAlignment = NSTextAlignment . Center // View\u306e\u80cc\u666f\u3092\u9752\u306b\u3059\u308b. self . view . backgroundColor = UIColor . cyanColor () // View\u306bLabel\u3092\u8ffd\u52a0. self . view . addSubview ( label ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } } 2.x\u30683.x\u306e\u5dee\u5206 UIColor.grayColor()\u304cUIColor.gray\u306b\u5909\u66f4 NSTextAlignment.Center\u304c\u3001NSTextAlignment.center\u306b\u5909\u66f4 Reference UIColor https://developer.apple.com/reference/uikit/uicolor UILabel https://developer.apple.com/reference/uikit/uilabel","title":"UILabel\u3067\u6587\u5b57\u3092\u8868\u793a"},{"location":"1.uikit/001_uilabel/#uilabel","text":"Swift 4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 // // ViewController.swift // uikit001 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // \u30dc\u30bf\u30f3\u306e\u30b5\u30a4\u30ba\u3092\u5b9a\u7fa9. let bWidth : CGFloat = 200 let bHeight : CGFloat = 50 // \u914d\u7f6e\u3059\u308b\u5ea7\u6a19\u3092\u5b9a\u7fa9(\u753b\u9762\u306e\u4e2d\u5fc3). let posX : CGFloat = self . view . bounds . width / 2 - bWidth / 2 let posY : CGFloat = self . view . bounds . height / 2 - bHeight / 2 // Label\u3092\u4f5c\u6210. let label : UILabel = UILabel ( frame : CGRect ( x : posX , y : posY , width : bWidth , height : bHeight )) // UILabel\u306e\u80cc\u666f\u3092\u30aa\u30ec\u30f3\u30b8\u8272\u306b. label . backgroundColor = UIColor . orange // UILabel\u306e\u67a0\u3092\u4e38\u304f\u3059\u308b. label . layer . masksToBounds = true // \u4e38\u304f\u3059\u308b\u30b3\u30fc\u30ca\u30fc\u306e\u534a\u5f84. label . layer . cornerRadius = 20.0 // \u6587\u5b57\u306e\u8272\u3092\u767d\u306b\u5b9a\u7fa9. label . textColor = UIColor . white // UILabel\u306b\u6587\u5b57\u3092\u4ee3\u5165. label . text = \"Hello Swift!!\" // \u6587\u5b57\u306e\u5f71\u3092\u30b0\u30ec\u30fc\u306b\u5b9a\u7fa9. label . shadowColor = UIColor . gray // Text\u3092\u4e2d\u592e\u5bc4\u305b\u306b\u3059\u308b. label . textAlignment = NSTextAlignment . center // View\u306e\u80cc\u666f\u3092\u9752\u306b\u3059\u308b. self . view . backgroundColor = UIColor . cyan // View\u306bLabel\u3092\u8ffd\u52a0. self . view . addSubview ( label ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 // // ViewController.swift // uikit001 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // \u30dc\u30bf\u30f3\u306e\u30b5\u30a4\u30ba\u3092\u5b9a\u7fa9. let bWidth : CGFloat = 200 let bHeight : CGFloat = 50 // \u914d\u7f6e\u3059\u308b\u5ea7\u6a19\u3092\u5b9a\u7fa9(\u753b\u9762\u306e\u4e2d\u5fc3). let posX : CGFloat = self . view . bounds . width / 2 - bWidth / 2 let posY : CGFloat = self . view . bounds . height / 2 - bHeight / 2 // Label\u3092\u4f5c\u6210. let label : UILabel = UILabel ( frame : CGRect ( x : posX , y : posY , width : bWidth , height : bHeight )) // UILabel\u306e\u80cc\u666f\u3092\u30aa\u30ec\u30f3\u30b8\u8272\u306b. label . backgroundColor = UIColor . orangeColor () // UILabel\u306e\u67a0\u3092\u4e38\u304f\u3059\u308b. label . layer . masksToBounds = true // \u4e38\u304f\u3059\u308b\u30b3\u30fc\u30ca\u30fc\u306e\u534a\u5f84. label . layer . cornerRadius = 20.0 // \u6587\u5b57\u306e\u8272\u3092\u767d\u306b\u5b9a\u7fa9. label . textColor = UIColor . whiteColor () // UILabel\u306b\u6587\u5b57\u3092\u4ee3\u5165. label . text = \"Hello Swift!!\" // \u6587\u5b57\u306e\u5f71\u3092\u30b0\u30ec\u30fc\u306b\u5b9a\u7fa9. label . shadowColor = UIColor . grayColor () // Text\u3092\u4e2d\u592e\u5bc4\u305b\u306b\u3059\u308b. label . textAlignment = NSTextAlignment . Center // View\u306e\u80cc\u666f\u3092\u9752\u306b\u3059\u308b. self . view . backgroundColor = UIColor . cyanColor () // View\u306bLabel\u3092\u8ffd\u52a0. self . view . addSubview ( label ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } }","title":"UILabel\u3067\u6587\u5b57\u3092\u8868\u793a"},{"location":"1.uikit/001_uilabel/#2x3x","text":"UIColor.grayColor()\u304cUIColor.gray\u306b\u5909\u66f4 NSTextAlignment.Center\u304c\u3001NSTextAlignment.center\u306b\u5909\u66f4","title":"2.x\u30683.x\u306e\u5dee\u5206"},{"location":"1.uikit/001_uilabel/#reference","text":"UIColor https://developer.apple.com/reference/uikit/uicolor UILabel https://developer.apple.com/reference/uikit/uilabel","title":"Reference"},{"location":"1.uikit/002_uibutton/","text":"UIButton\u3067\u30dc\u30bf\u30f3\u3092\u8868\u793a Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 // // ViewController.swift // UIKit002 // // Copyright \u00a9 2018\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { private var myButton : UIButton ! override func viewDidLoad () { super . viewDidLoad () // Button\u3092\u751f\u6210\u3059\u308b. myButton = UIButton () // \u30dc\u30bf\u30f3\u306e\u30b5\u30a4\u30ba. let bWidth : CGFloat = 200 let bHeight : CGFloat = 50 // \u30dc\u30bf\u30f3\u306eX,Y\u5ea7\u6a19. let posX : CGFloat = self . view . frame . width / 2 - bWidth / 2 let posY : CGFloat = self . view . frame . height / 2 - bHeight / 2 // \u30dc\u30bf\u30f3\u306e\u8a2d\u7f6e\u5ea7\u6a19\u3068\u30b5\u30a4\u30ba\u3092\u8a2d\u5b9a\u3059\u308b. myButton . frame = CGRect ( x : posX , y : posY , width : bWidth , height : bHeight ) // \u30dc\u30bf\u30f3\u306e\u80cc\u666f\u8272\u3092\u8a2d\u5b9a. myButton . backgroundColor = UIColor . red // \u30dc\u30bf\u30f3\u306e\u67a0\u3092\u4e38\u304f\u3059\u308b. myButton . layer . masksToBounds = true // \u30b3\u30fc\u30ca\u30fc\u306e\u534a\u5f84\u3092\u8a2d\u5b9a\u3059\u308b. myButton . layer . cornerRadius = 20.0 // \u30bf\u30a4\u30c8\u30eb\u3092\u8a2d\u5b9a\u3059\u308b(\u901a\u5e38\u6642). myButton . setTitle ( \"\u30dc\u30bf\u30f3(\u901a\u5e38)\" , for : . normal ) myButton . setTitleColor ( UIColor . white , for : . normal ) // \u30bf\u30a4\u30c8\u30eb\u3092\u8a2d\u5b9a\u3059\u308b(\u30dc\u30bf\u30f3\u304c\u30cf\u30a4\u30e9\u30a4\u30c8\u3055\u308c\u305f\u6642). myButton . setTitle ( \"\u30dc\u30bf\u30f3(\u62bc\u3055\u308c\u305f\u6642)\" , for : . highlighted ) myButton . setTitleColor ( UIColor . black , for : . highlighted ) // \u30dc\u30bf\u30f3\u306b\u30bf\u30b0\u3092\u3064\u3051\u308b. myButton . tag = 1 // \u30a4\u30d9\u30f3\u30c8\u3092\u8ffd\u52a0\u3059\u308b myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchUpInside ) // \u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0. self . view . addSubview ( myButton ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } /* \u30dc\u30bf\u30f3\u306e\u30a4\u30d9\u30f3\u30c8. */ @objc internal func onClickMyButton ( sender : UIButton ) { print ( \"onClickMyButton:\" ); print ( \"sender.currentTitle: \\( sender . currentTitle ) \" ) print ( \"sender.tag: \\( sender . tag ) \" ) } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 // // ViewController.swift // UIKit002 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { private var myButton : UIButton ! override func viewDidLoad () { super . viewDidLoad () // Button\u3092\u751f\u6210\u3059\u308b. myButton = UIButton () // \u30dc\u30bf\u30f3\u306e\u30b5\u30a4\u30ba. let bWidth : CGFloat = 200 let bHeight : CGFloat = 50 // \u30dc\u30bf\u30f3\u306eX,Y\u5ea7\u6a19. let posX : CGFloat = self . view . frame . width / 2 - bWidth / 2 let posY : CGFloat = self . view . frame . height / 2 - bHeight / 2 // \u30dc\u30bf\u30f3\u306e\u8a2d\u7f6e\u5ea7\u6a19\u3068\u30b5\u30a4\u30ba\u3092\u8a2d\u5b9a\u3059\u308b. myButton . frame = CGRect ( x : posX , y : posY , width : bWidth , height : bHeight ) // \u30dc\u30bf\u30f3\u306e\u80cc\u666f\u8272\u3092\u8a2d\u5b9a. myButton . backgroundColor = UIColor . red // \u30dc\u30bf\u30f3\u306e\u67a0\u3092\u4e38\u304f\u3059\u308b. myButton . layer . masksToBounds = true // \u30b3\u30fc\u30ca\u30fc\u306e\u534a\u5f84\u3092\u8a2d\u5b9a\u3059\u308b. myButton . layer . cornerRadius = 20.0 // \u30bf\u30a4\u30c8\u30eb\u3092\u8a2d\u5b9a\u3059\u308b(\u901a\u5e38\u6642). myButton . setTitle ( \"\u30dc\u30bf\u30f3(\u901a\u5e38)\" , for : . normal ) myButton . setTitleColor ( UIColor . white , for : . normal ) // \u30bf\u30a4\u30c8\u30eb\u3092\u8a2d\u5b9a\u3059\u308b(\u30dc\u30bf\u30f3\u304c\u30cf\u30a4\u30e9\u30a4\u30c8\u3055\u308c\u305f\u6642). myButton . setTitle ( \"\u30dc\u30bf\u30f3(\u62bc\u3055\u308c\u305f\u6642)\" , for : . highlighted ) myButton . setTitleColor ( UIColor . black , for : . highlighted ) // \u30dc\u30bf\u30f3\u306b\u30bf\u30b0\u3092\u3064\u3051\u308b. myButton . tag = 1 // \u30a4\u30d9\u30f3\u30c8\u3092\u8ffd\u52a0\u3059\u308b myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchUpInside ) // \u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0. self . view . addSubview ( myButton ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } /* \u30dc\u30bf\u30f3\u306e\u30a4\u30d9\u30f3\u30c8. */ internal func onClickMyButton ( sender : UIButton ) { print ( \"onClickMyButton:\" ); print ( \"sender.currentTitle: \\( sender . currentTitle ) \" ) print ( \"sender.tag: \\( sender . tag ) \" ) } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 // // ViewController.swift // UIKit002 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { private var myButton : UIButton ! override func viewDidLoad () { super . viewDidLoad () // Button\u3092\u751f\u6210\u3059\u308b. myButton = UIButton () // \u30dc\u30bf\u30f3\u306e\u30b5\u30a4\u30ba. let bWidth : CGFloat = 200 let bHeight : CGFloat = 50 // \u30dc\u30bf\u30f3\u306eX,Y\u5ea7\u6a19. let posX : CGFloat = self . view . frame . width / 2 - bWidth / 2 let posY : CGFloat = self . view . frame . height / 2 - bHeight / 2 // \u30dc\u30bf\u30f3\u306e\u8a2d\u7f6e\u5ea7\u6a19\u3068\u30b5\u30a4\u30ba\u3092\u8a2d\u5b9a\u3059\u308b. myButton . frame = CGRectMake ( posX , posY , bWidth , bHeight ) // \u30dc\u30bf\u30f3\u306e\u80cc\u666f\u8272\u3092\u8a2d\u5b9a. myButton . backgroundColor = UIColor . redColor () // \u30dc\u30bf\u30f3\u306e\u67a0\u3092\u4e38\u304f\u3059\u308b. myButton . layer . masksToBounds = true // \u30b3\u30fc\u30ca\u30fc\u306e\u534a\u5f84\u3092\u8a2d\u5b9a\u3059\u308b. myButton . layer . cornerRadius = 20.0 // \u30bf\u30a4\u30c8\u30eb\u3092\u8a2d\u5b9a\u3059\u308b(\u901a\u5e38\u6642). myButton . setTitle ( \"\u30dc\u30bf\u30f3(\u901a\u5e38)\" , forState : . Normal ) myButton . setTitleColor ( UIColor . whiteColor (), forState : . Normal ) // \u30bf\u30a4\u30c8\u30eb\u3092\u8a2d\u5b9a\u3059\u308b(\u30dc\u30bf\u30f3\u304c\u30cf\u30a4\u30e9\u30a4\u30c8\u3055\u308c\u305f\u6642). myButton . setTitle ( \"\u30dc\u30bf\u30f3(\u62bc\u3055\u308c\u305f\u6642)\" , forState : . Highlighted ) myButton . setTitleColor ( UIColor . blackColor (), forState : . Highlighted ) // \u30dc\u30bf\u30f3\u306b\u30bf\u30b0\u3092\u3064\u3051\u308b. myButton . tag = 1 // \u30a4\u30d9\u30f3\u30c8\u3092\u8ffd\u52a0\u3059\u308b myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : . TouchUpInside ) // \u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0. self . view . addSubview ( myButton ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } /* \u30dc\u30bf\u30f3\u306e\u30a4\u30d9\u30f3\u30c8. */ internal func onClickMyButton ( sender : UIButton ) { print ( \"onClickMyButton:\" ); print ( \"sender.currentTitle: \\( sender . currentTitle ) \" ) print ( \"sender.tag: \\( sender . tag ) \" ) } } 3.0\u30684.0\u306e\u5dee\u5206 internal func onClickMyButton(sender: UIButton) \u306b @objc \u3092\u8ffd\u52a0 2.3\u30683.0\u306e\u5dee\u5206 UIColor.grayColor()\u304cUIColor.gray\u306b\u5909\u66f4 CGRectMake()\u304cCGReat()\u306b\u5909\u66f4 UIButton.setTitle()\u306eforState: .Normal\u304c for: .normal\u306b\u5909\u66f4 UIButton.addTarget()\u306e#selector(ViewController.onClickMyButton(_:))\u304c\u3001#selector(ViewController.onClickMyButton(sender:)\u306b\u5909\u66f4 UIButton.addTarget()\u306eforControlEvents: .TouchUpInside\u304cfor: .touchUpInside\u306b\u5909\u66f4 Reference UIColor https://developer.apple.com/reference/uikit/uicolor UIButton https://developer.apple.com/reference/uikit/uibutton","title":"UIButton\u3067\u30dc\u30bf\u30f3\u3092\u8868\u793a"},{"location":"1.uikit/002_uibutton/#uibutton","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 // // ViewController.swift // UIKit002 // // Copyright \u00a9 2018\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { private var myButton : UIButton ! override func viewDidLoad () { super . viewDidLoad () // Button\u3092\u751f\u6210\u3059\u308b. myButton = UIButton () // \u30dc\u30bf\u30f3\u306e\u30b5\u30a4\u30ba. let bWidth : CGFloat = 200 let bHeight : CGFloat = 50 // \u30dc\u30bf\u30f3\u306eX,Y\u5ea7\u6a19. let posX : CGFloat = self . view . frame . width / 2 - bWidth / 2 let posY : CGFloat = self . view . frame . height / 2 - bHeight / 2 // \u30dc\u30bf\u30f3\u306e\u8a2d\u7f6e\u5ea7\u6a19\u3068\u30b5\u30a4\u30ba\u3092\u8a2d\u5b9a\u3059\u308b. myButton . frame = CGRect ( x : posX , y : posY , width : bWidth , height : bHeight ) // \u30dc\u30bf\u30f3\u306e\u80cc\u666f\u8272\u3092\u8a2d\u5b9a. myButton . backgroundColor = UIColor . red // \u30dc\u30bf\u30f3\u306e\u67a0\u3092\u4e38\u304f\u3059\u308b. myButton . layer . masksToBounds = true // \u30b3\u30fc\u30ca\u30fc\u306e\u534a\u5f84\u3092\u8a2d\u5b9a\u3059\u308b. myButton . layer . cornerRadius = 20.0 // \u30bf\u30a4\u30c8\u30eb\u3092\u8a2d\u5b9a\u3059\u308b(\u901a\u5e38\u6642). myButton . setTitle ( \"\u30dc\u30bf\u30f3(\u901a\u5e38)\" , for : . normal ) myButton . setTitleColor ( UIColor . white , for : . normal ) // \u30bf\u30a4\u30c8\u30eb\u3092\u8a2d\u5b9a\u3059\u308b(\u30dc\u30bf\u30f3\u304c\u30cf\u30a4\u30e9\u30a4\u30c8\u3055\u308c\u305f\u6642). myButton . setTitle ( \"\u30dc\u30bf\u30f3(\u62bc\u3055\u308c\u305f\u6642)\" , for : . highlighted ) myButton . setTitleColor ( UIColor . black , for : . highlighted ) // \u30dc\u30bf\u30f3\u306b\u30bf\u30b0\u3092\u3064\u3051\u308b. myButton . tag = 1 // \u30a4\u30d9\u30f3\u30c8\u3092\u8ffd\u52a0\u3059\u308b myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchUpInside ) // \u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0. self . view . addSubview ( myButton ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } /* \u30dc\u30bf\u30f3\u306e\u30a4\u30d9\u30f3\u30c8. */ @objc internal func onClickMyButton ( sender : UIButton ) { print ( \"onClickMyButton:\" ); print ( \"sender.currentTitle: \\( sender . currentTitle ) \" ) print ( \"sender.tag: \\( sender . tag ) \" ) } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 // // ViewController.swift // UIKit002 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { private var myButton : UIButton ! override func viewDidLoad () { super . viewDidLoad () // Button\u3092\u751f\u6210\u3059\u308b. myButton = UIButton () // \u30dc\u30bf\u30f3\u306e\u30b5\u30a4\u30ba. let bWidth : CGFloat = 200 let bHeight : CGFloat = 50 // \u30dc\u30bf\u30f3\u306eX,Y\u5ea7\u6a19. let posX : CGFloat = self . view . frame . width / 2 - bWidth / 2 let posY : CGFloat = self . view . frame . height / 2 - bHeight / 2 // \u30dc\u30bf\u30f3\u306e\u8a2d\u7f6e\u5ea7\u6a19\u3068\u30b5\u30a4\u30ba\u3092\u8a2d\u5b9a\u3059\u308b. myButton . frame = CGRect ( x : posX , y : posY , width : bWidth , height : bHeight ) // \u30dc\u30bf\u30f3\u306e\u80cc\u666f\u8272\u3092\u8a2d\u5b9a. myButton . backgroundColor = UIColor . red // \u30dc\u30bf\u30f3\u306e\u67a0\u3092\u4e38\u304f\u3059\u308b. myButton . layer . masksToBounds = true // \u30b3\u30fc\u30ca\u30fc\u306e\u534a\u5f84\u3092\u8a2d\u5b9a\u3059\u308b. myButton . layer . cornerRadius = 20.0 // \u30bf\u30a4\u30c8\u30eb\u3092\u8a2d\u5b9a\u3059\u308b(\u901a\u5e38\u6642). myButton . setTitle ( \"\u30dc\u30bf\u30f3(\u901a\u5e38)\" , for : . normal ) myButton . setTitleColor ( UIColor . white , for : . normal ) // \u30bf\u30a4\u30c8\u30eb\u3092\u8a2d\u5b9a\u3059\u308b(\u30dc\u30bf\u30f3\u304c\u30cf\u30a4\u30e9\u30a4\u30c8\u3055\u308c\u305f\u6642). myButton . setTitle ( \"\u30dc\u30bf\u30f3(\u62bc\u3055\u308c\u305f\u6642)\" , for : . highlighted ) myButton . setTitleColor ( UIColor . black , for : . highlighted ) // \u30dc\u30bf\u30f3\u306b\u30bf\u30b0\u3092\u3064\u3051\u308b. myButton . tag = 1 // \u30a4\u30d9\u30f3\u30c8\u3092\u8ffd\u52a0\u3059\u308b myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchUpInside ) // \u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0. self . view . addSubview ( myButton ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } /* \u30dc\u30bf\u30f3\u306e\u30a4\u30d9\u30f3\u30c8. */ internal func onClickMyButton ( sender : UIButton ) { print ( \"onClickMyButton:\" ); print ( \"sender.currentTitle: \\( sender . currentTitle ) \" ) print ( \"sender.tag: \\( sender . tag ) \" ) } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 // // ViewController.swift // UIKit002 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { private var myButton : UIButton ! override func viewDidLoad () { super . viewDidLoad () // Button\u3092\u751f\u6210\u3059\u308b. myButton = UIButton () // \u30dc\u30bf\u30f3\u306e\u30b5\u30a4\u30ba. let bWidth : CGFloat = 200 let bHeight : CGFloat = 50 // \u30dc\u30bf\u30f3\u306eX,Y\u5ea7\u6a19. let posX : CGFloat = self . view . frame . width / 2 - bWidth / 2 let posY : CGFloat = self . view . frame . height / 2 - bHeight / 2 // \u30dc\u30bf\u30f3\u306e\u8a2d\u7f6e\u5ea7\u6a19\u3068\u30b5\u30a4\u30ba\u3092\u8a2d\u5b9a\u3059\u308b. myButton . frame = CGRectMake ( posX , posY , bWidth , bHeight ) // \u30dc\u30bf\u30f3\u306e\u80cc\u666f\u8272\u3092\u8a2d\u5b9a. myButton . backgroundColor = UIColor . redColor () // \u30dc\u30bf\u30f3\u306e\u67a0\u3092\u4e38\u304f\u3059\u308b. myButton . layer . masksToBounds = true // \u30b3\u30fc\u30ca\u30fc\u306e\u534a\u5f84\u3092\u8a2d\u5b9a\u3059\u308b. myButton . layer . cornerRadius = 20.0 // \u30bf\u30a4\u30c8\u30eb\u3092\u8a2d\u5b9a\u3059\u308b(\u901a\u5e38\u6642). myButton . setTitle ( \"\u30dc\u30bf\u30f3(\u901a\u5e38)\" , forState : . Normal ) myButton . setTitleColor ( UIColor . whiteColor (), forState : . Normal ) // \u30bf\u30a4\u30c8\u30eb\u3092\u8a2d\u5b9a\u3059\u308b(\u30dc\u30bf\u30f3\u304c\u30cf\u30a4\u30e9\u30a4\u30c8\u3055\u308c\u305f\u6642). myButton . setTitle ( \"\u30dc\u30bf\u30f3(\u62bc\u3055\u308c\u305f\u6642)\" , forState : . Highlighted ) myButton . setTitleColor ( UIColor . blackColor (), forState : . Highlighted ) // \u30dc\u30bf\u30f3\u306b\u30bf\u30b0\u3092\u3064\u3051\u308b. myButton . tag = 1 // \u30a4\u30d9\u30f3\u30c8\u3092\u8ffd\u52a0\u3059\u308b myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : . TouchUpInside ) // \u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0. self . view . addSubview ( myButton ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } /* \u30dc\u30bf\u30f3\u306e\u30a4\u30d9\u30f3\u30c8. */ internal func onClickMyButton ( sender : UIButton ) { print ( \"onClickMyButton:\" ); print ( \"sender.currentTitle: \\( sender . currentTitle ) \" ) print ( \"sender.tag: \\( sender . tag ) \" ) } }","title":"UIButton\u3067\u30dc\u30bf\u30f3\u3092\u8868\u793a"},{"location":"1.uikit/002_uibutton/#3040","text":"internal func onClickMyButton(sender: UIButton) \u306b @objc \u3092\u8ffd\u52a0","title":"3.0\u30684.0\u306e\u5dee\u5206"},{"location":"1.uikit/002_uibutton/#2330","text":"UIColor.grayColor()\u304cUIColor.gray\u306b\u5909\u66f4 CGRectMake()\u304cCGReat()\u306b\u5909\u66f4 UIButton.setTitle()\u306eforState: .Normal\u304c for: .normal\u306b\u5909\u66f4 UIButton.addTarget()\u306e#selector(ViewController.onClickMyButton(_:))\u304c\u3001#selector(ViewController.onClickMyButton(sender:)\u306b\u5909\u66f4 UIButton.addTarget()\u306eforControlEvents: .TouchUpInside\u304cfor: .touchUpInside\u306b\u5909\u66f4","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"1.uikit/002_uibutton/#reference","text":"UIColor https://developer.apple.com/reference/uikit/uicolor UIButton https://developer.apple.com/reference/uikit/uibutton","title":"Reference"},{"location":"1.uikit/003_uibutton/","text":"UIButton\u3067\u3044\u308d\u3044\u308d\u306a\u30dc\u30bf\u30f3\u3092\u8868\u793a Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 // // ViewController.swift // UIKit003 // // Copyright \u00a9 2018\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { private var myInfoDarkButton : UIButton ! private var myInfoLightButton : UIButton ! private var myAddButton : UIButton ! private var myDetailButton : UIButton ! private var mySystemButton : UIButton ! override func viewDidLoad () { super . viewDidLoad () // \u30dc\u30bf\u30f3\u3092\u751f\u6210. myInfoDarkButton = UIButton ( type : . infoDark ) myInfoLightButton = UIButton ( type : . infoLight ) myAddButton = UIButton ( type : . contactAdd ) myDetailButton = UIButton ( type : . detailDisclosure ) mySystemButton = UIButton ( type : . system ) // \u30dc\u30bf\u30f3\u306e\u4f4d\u7f6e\u3092\u6307\u5b9a\u3059\u308b let posX : CGFloat = self . view . frame . width / 2 myInfoDarkButton . layer . position = CGPoint ( x : posX , y : 50 ) myInfoLightButton . layer . position = CGPoint ( x : posX , y : 100 ) myAddButton . layer . position = CGPoint ( x : posX , y : 150 ) myDetailButton . layer . position = CGPoint ( x : posX , y : 200 ) // System\u30dc\u30bf\u30f3\u306e\u30b5\u30a4\u30ba. let sWidth : CGFloat = 200 let sHeight : CGFloat = 50 // System\u30dc\u30bf\u30f3\u306e\u914d\u7f6e\u3059\u308bx,y\u5ea7\u6a19 let sposX : CGFloat = self . view . frame . width / 2 - sWidth / 2 let sposY : CGFloat = 250 // System\u30dc\u30bf\u30f3\u306b\u914d\u7f6e\u3059\u308bx,y\u5ea7\u6a19\u3068\u30b5\u30a4\u30ba\u3092\u8a2d\u5b9a. mySystemButton . frame = CGRect ( x : sposX , y : sposY , width : sWidth , height : sHeight ) // System\u30dc\u30bf\u30f3\u306b\u30bf\u30a4\u30c8\u30eb\u3092\u8a2d\u5b9a\u3059\u308b. mySystemButton . setTitle ( \"MySystemButton\" , for : . normal ) // \u30bf\u30b0\u3092\u8a2d\u5b9a\u3059\u308b. myInfoDarkButton . tag = 1 myInfoLightButton . tag = 2 myAddButton . tag = 3 myDetailButton . tag = 4 mySystemButton . tag = 5 // \u30a4\u30d9\u30f3\u30c8\u3092\u8ffd\u52a0\u3059\u308b myInfoDarkButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchDown ) myInfoLightButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchDown ) myAddButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchDown ) myDetailButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchDown ) mySystemButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchDown ) // \u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myInfoDarkButton ) self . view . addSubview ( myInfoLightButton ) self . view . addSubview ( myAddButton ) self . view . addSubview ( myDetailButton ) self . view . addSubview ( mySystemButton ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8 */ @objc internal func onClickMyButton ( sender : UIButton ) { print ( \"onClickMyButton:\" ) print ( \"sender.currentTitile: \\( sender . currentTitle ) \" ) print ( \"sender.tag \\( sender . tag ) \" ) } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 // // ViewController.swift // UIKit003 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { private var myInfoDarkButton : UIButton ! private var myInfoLightButton : UIButton ! private var myAddButton : UIButton ! private var myDetailButton : UIButton ! private var mySystemButton : UIButton ! override func viewDidLoad () { super . viewDidLoad () // \u30dc\u30bf\u30f3\u3092\u751f\u6210. myInfoDarkButton = UIButton ( type : . infoDark ) myInfoLightButton = UIButton ( type : . infoLight ) myAddButton = UIButton ( type : . contactAdd ) myDetailButton = UIButton ( type : . detailDisclosure ) mySystemButton = UIButton ( type : . system ) // \u30dc\u30bf\u30f3\u306e\u4f4d\u7f6e\u3092\u6307\u5b9a\u3059\u308b let posX : CGFloat = self . view . frame . width / 2 myInfoDarkButton . layer . position = CGPoint ( x : posX , y : 50 ) myInfoLightButton . layer . position = CGPoint ( x : posX , y : 100 ) myAddButton . layer . position = CGPoint ( x : posX , y : 150 ) myDetailButton . layer . position = CGPoint ( x : posX , y : 200 ) // System\u30dc\u30bf\u30f3\u306e\u30b5\u30a4\u30ba. let sWidth : CGFloat = 200 let sHeight : CGFloat = 50 // System\u30dc\u30bf\u30f3\u306e\u914d\u7f6e\u3059\u308bx,y\u5ea7\u6a19 let sposX : CGFloat = self . view . frame . width / 2 - sWidth / 2 let sposY : CGFloat = 250 // System\u30dc\u30bf\u30f3\u306b\u914d\u7f6e\u3059\u308bx,y\u5ea7\u6a19\u3068\u30b5\u30a4\u30ba\u3092\u8a2d\u5b9a. mySystemButton . frame = CGRect ( x : sposX , y : sposY , width : sWidth , height : sHeight ) // System\u30dc\u30bf\u30f3\u306b\u30bf\u30a4\u30c8\u30eb\u3092\u8a2d\u5b9a\u3059\u308b. mySystemButton . setTitle ( \"MySystemButton\" , for : . normal ) // \u30bf\u30b0\u3092\u8a2d\u5b9a\u3059\u308b. myInfoDarkButton . tag = 1 myInfoLightButton . tag = 2 myAddButton . tag = 3 myDetailButton . tag = 4 mySystemButton . tag = 5 // \u30a4\u30d9\u30f3\u30c8\u3092\u8ffd\u52a0\u3059\u308b myInfoDarkButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchDown ) myInfoLightButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchDown ) myAddButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchDown ) myDetailButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchDown ) mySystemButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchDown ) // \u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myInfoDarkButton ) self . view . addSubview ( myInfoLightButton ) self . view . addSubview ( myAddButton ) self . view . addSubview ( myDetailButton ) self . view . addSubview ( mySystemButton ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8 */ internal func onClickMyButton ( sender : UIButton ) { print ( \"onClickMyButton:\" ) print ( \"sender.currentTitile: \\( sender . currentTitle ) \" ) print ( \"sender.tag \\( sender . tag ) \" ) } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 // // ViewController.swift // UIKit003 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { private var myInfoDarkButton : UIButton ! private var myInfoLightButton : UIButton ! private var myAddButton : UIButton ! private var myDetailButton : UIButton ! private var mySystemButton : UIButton ! override func viewDidLoad () { super . viewDidLoad () // \u30dc\u30bf\u30f3\u3092\u751f\u6210. myInfoDarkButton = UIButton ( type : . InfoDark ) myInfoLightButton = UIButton ( type : . InfoLight ) myAddButton = UIButton ( type : . ContactAdd ) myDetailButton = UIButton ( type : . DetailDisclosure ) mySystemButton = UIButton ( type : . System ) // \u30dc\u30bf\u30f3\u306e\u4f4d\u7f6e\u3092\u6307\u5b9a\u3059\u308b let posX : CGFloat = self . view . frame . width / 2 myInfoDarkButton . layer . position = CGPoint ( x : posX , y : 50 ) myInfoLightButton . layer . position = CGPoint ( x : posX , y : 100 ) myAddButton . layer . position = CGPoint ( x : posX , y : 150 ) myDetailButton . layer . position = CGPoint ( x : posX , y : 200 ) // System\u30dc\u30bf\u30f3\u306e\u30b5\u30a4\u30ba. let sWidth : CGFloat = 200 let sHeight : CGFloat = 50 // System\u30dc\u30bf\u30f3\u306e\u914d\u7f6e\u3059\u308bx,y\u5ea7\u6a19 let sposX : CGFloat = self . view . frame . width / 2 - sWidth / 2 let sposY : CGFloat = 250 // System\u30dc\u30bf\u30f3\u306b\u914d\u7f6e\u3059\u308bx,y\u5ea7\u6a19\u3068\u30b5\u30a4\u30ba\u3092\u8a2d\u5b9a. mySystemButton . frame = CGRectMake ( sposX , sposY , sWidth , sHeight ) // System\u30dc\u30bf\u30f3\u306b\u30bf\u30a4\u30c8\u30eb\u3092\u8a2d\u5b9a\u3059\u308b. mySystemButton . setTitle ( \"MySystemButton\" , forState : . Normal ) // \u30bf\u30b0\u3092\u8a2d\u5b9a\u3059\u308b. myInfoDarkButton . tag = 1 myInfoLightButton . tag = 2 myAddButton . tag = 3 myDetailButton . tag = 4 mySystemButton . tag = 5 // \u30a4\u30d9\u30f3\u30c8\u3092\u8ffd\u52a0\u3059\u308b myInfoDarkButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : . TouchDown ) myInfoLightButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : . TouchDown ) myAddButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : . TouchDown ) myDetailButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : . TouchDown ) mySystemButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : . TouchDown ) // \u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myInfoDarkButton ) self . view . addSubview ( myInfoLightButton ) self . view . addSubview ( myAddButton ) self . view . addSubview ( myDetailButton ) self . view . addSubview ( mySystemButton ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8 */ internal func onClickMyButton ( sender : UIButton ) { print ( \"onClickMyButton:\" ) print ( \"sender.currentTitile: \\( sender . currentTitle ) \" ) print ( \"sender.tag \\( sender . tag ) \" ) } } 3.0\u30684.0\u306e\u5dee\u5206 internal func onClickMyButton(sender: UIButton) \u306b @objc \u3092\u8ffd\u52a0 2.3\u30683.0\u306e\u5dee\u5206 CGRectMake()\u304cCGReat()\u306b\u5909\u66f4 UIButton.addTarget()\u306e#selector(ViewController.onClickMyButton(_:))\u304c\u3001#selector(ViewController.onClickMyButton(sender:)\u306b\u5909\u66f4 UIButton.addTarget()\u306eforControlEvents: .TouchDown\u304cfor: .touchDown\u306b\u5909\u66f4 Reference UIColor https://developer.apple.com/reference/uikit/uicolor UIButton https://developer.apple.com/reference/uikit/uibutton","title":"UIButton\u3067\u3044\u308d\u3044\u308d\u306a\u30dc\u30bf\u30f3\u3092\u8868\u793a"},{"location":"1.uikit/003_uibutton/#uibutton","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 // // ViewController.swift // UIKit003 // // Copyright \u00a9 2018\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { private var myInfoDarkButton : UIButton ! private var myInfoLightButton : UIButton ! private var myAddButton : UIButton ! private var myDetailButton : UIButton ! private var mySystemButton : UIButton ! override func viewDidLoad () { super . viewDidLoad () // \u30dc\u30bf\u30f3\u3092\u751f\u6210. myInfoDarkButton = UIButton ( type : . infoDark ) myInfoLightButton = UIButton ( type : . infoLight ) myAddButton = UIButton ( type : . contactAdd ) myDetailButton = UIButton ( type : . detailDisclosure ) mySystemButton = UIButton ( type : . system ) // \u30dc\u30bf\u30f3\u306e\u4f4d\u7f6e\u3092\u6307\u5b9a\u3059\u308b let posX : CGFloat = self . view . frame . width / 2 myInfoDarkButton . layer . position = CGPoint ( x : posX , y : 50 ) myInfoLightButton . layer . position = CGPoint ( x : posX , y : 100 ) myAddButton . layer . position = CGPoint ( x : posX , y : 150 ) myDetailButton . layer . position = CGPoint ( x : posX , y : 200 ) // System\u30dc\u30bf\u30f3\u306e\u30b5\u30a4\u30ba. let sWidth : CGFloat = 200 let sHeight : CGFloat = 50 // System\u30dc\u30bf\u30f3\u306e\u914d\u7f6e\u3059\u308bx,y\u5ea7\u6a19 let sposX : CGFloat = self . view . frame . width / 2 - sWidth / 2 let sposY : CGFloat = 250 // System\u30dc\u30bf\u30f3\u306b\u914d\u7f6e\u3059\u308bx,y\u5ea7\u6a19\u3068\u30b5\u30a4\u30ba\u3092\u8a2d\u5b9a. mySystemButton . frame = CGRect ( x : sposX , y : sposY , width : sWidth , height : sHeight ) // System\u30dc\u30bf\u30f3\u306b\u30bf\u30a4\u30c8\u30eb\u3092\u8a2d\u5b9a\u3059\u308b. mySystemButton . setTitle ( \"MySystemButton\" , for : . normal ) // \u30bf\u30b0\u3092\u8a2d\u5b9a\u3059\u308b. myInfoDarkButton . tag = 1 myInfoLightButton . tag = 2 myAddButton . tag = 3 myDetailButton . tag = 4 mySystemButton . tag = 5 // \u30a4\u30d9\u30f3\u30c8\u3092\u8ffd\u52a0\u3059\u308b myInfoDarkButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchDown ) myInfoLightButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchDown ) myAddButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchDown ) myDetailButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchDown ) mySystemButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchDown ) // \u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myInfoDarkButton ) self . view . addSubview ( myInfoLightButton ) self . view . addSubview ( myAddButton ) self . view . addSubview ( myDetailButton ) self . view . addSubview ( mySystemButton ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8 */ @objc internal func onClickMyButton ( sender : UIButton ) { print ( \"onClickMyButton:\" ) print ( \"sender.currentTitile: \\( sender . currentTitle ) \" ) print ( \"sender.tag \\( sender . tag ) \" ) } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 // // ViewController.swift // UIKit003 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { private var myInfoDarkButton : UIButton ! private var myInfoLightButton : UIButton ! private var myAddButton : UIButton ! private var myDetailButton : UIButton ! private var mySystemButton : UIButton ! override func viewDidLoad () { super . viewDidLoad () // \u30dc\u30bf\u30f3\u3092\u751f\u6210. myInfoDarkButton = UIButton ( type : . infoDark ) myInfoLightButton = UIButton ( type : . infoLight ) myAddButton = UIButton ( type : . contactAdd ) myDetailButton = UIButton ( type : . detailDisclosure ) mySystemButton = UIButton ( type : . system ) // \u30dc\u30bf\u30f3\u306e\u4f4d\u7f6e\u3092\u6307\u5b9a\u3059\u308b let posX : CGFloat = self . view . frame . width / 2 myInfoDarkButton . layer . position = CGPoint ( x : posX , y : 50 ) myInfoLightButton . layer . position = CGPoint ( x : posX , y : 100 ) myAddButton . layer . position = CGPoint ( x : posX , y : 150 ) myDetailButton . layer . position = CGPoint ( x : posX , y : 200 ) // System\u30dc\u30bf\u30f3\u306e\u30b5\u30a4\u30ba. let sWidth : CGFloat = 200 let sHeight : CGFloat = 50 // System\u30dc\u30bf\u30f3\u306e\u914d\u7f6e\u3059\u308bx,y\u5ea7\u6a19 let sposX : CGFloat = self . view . frame . width / 2 - sWidth / 2 let sposY : CGFloat = 250 // System\u30dc\u30bf\u30f3\u306b\u914d\u7f6e\u3059\u308bx,y\u5ea7\u6a19\u3068\u30b5\u30a4\u30ba\u3092\u8a2d\u5b9a. mySystemButton . frame = CGRect ( x : sposX , y : sposY , width : sWidth , height : sHeight ) // System\u30dc\u30bf\u30f3\u306b\u30bf\u30a4\u30c8\u30eb\u3092\u8a2d\u5b9a\u3059\u308b. mySystemButton . setTitle ( \"MySystemButton\" , for : . normal ) // \u30bf\u30b0\u3092\u8a2d\u5b9a\u3059\u308b. myInfoDarkButton . tag = 1 myInfoLightButton . tag = 2 myAddButton . tag = 3 myDetailButton . tag = 4 mySystemButton . tag = 5 // \u30a4\u30d9\u30f3\u30c8\u3092\u8ffd\u52a0\u3059\u308b myInfoDarkButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchDown ) myInfoLightButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchDown ) myAddButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchDown ) myDetailButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchDown ) mySystemButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchDown ) // \u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myInfoDarkButton ) self . view . addSubview ( myInfoLightButton ) self . view . addSubview ( myAddButton ) self . view . addSubview ( myDetailButton ) self . view . addSubview ( mySystemButton ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8 */ internal func onClickMyButton ( sender : UIButton ) { print ( \"onClickMyButton:\" ) print ( \"sender.currentTitile: \\( sender . currentTitle ) \" ) print ( \"sender.tag \\( sender . tag ) \" ) } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 // // ViewController.swift // UIKit003 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { private var myInfoDarkButton : UIButton ! private var myInfoLightButton : UIButton ! private var myAddButton : UIButton ! private var myDetailButton : UIButton ! private var mySystemButton : UIButton ! override func viewDidLoad () { super . viewDidLoad () // \u30dc\u30bf\u30f3\u3092\u751f\u6210. myInfoDarkButton = UIButton ( type : . InfoDark ) myInfoLightButton = UIButton ( type : . InfoLight ) myAddButton = UIButton ( type : . ContactAdd ) myDetailButton = UIButton ( type : . DetailDisclosure ) mySystemButton = UIButton ( type : . System ) // \u30dc\u30bf\u30f3\u306e\u4f4d\u7f6e\u3092\u6307\u5b9a\u3059\u308b let posX : CGFloat = self . view . frame . width / 2 myInfoDarkButton . layer . position = CGPoint ( x : posX , y : 50 ) myInfoLightButton . layer . position = CGPoint ( x : posX , y : 100 ) myAddButton . layer . position = CGPoint ( x : posX , y : 150 ) myDetailButton . layer . position = CGPoint ( x : posX , y : 200 ) // System\u30dc\u30bf\u30f3\u306e\u30b5\u30a4\u30ba. let sWidth : CGFloat = 200 let sHeight : CGFloat = 50 // System\u30dc\u30bf\u30f3\u306e\u914d\u7f6e\u3059\u308bx,y\u5ea7\u6a19 let sposX : CGFloat = self . view . frame . width / 2 - sWidth / 2 let sposY : CGFloat = 250 // System\u30dc\u30bf\u30f3\u306b\u914d\u7f6e\u3059\u308bx,y\u5ea7\u6a19\u3068\u30b5\u30a4\u30ba\u3092\u8a2d\u5b9a. mySystemButton . frame = CGRectMake ( sposX , sposY , sWidth , sHeight ) // System\u30dc\u30bf\u30f3\u306b\u30bf\u30a4\u30c8\u30eb\u3092\u8a2d\u5b9a\u3059\u308b. mySystemButton . setTitle ( \"MySystemButton\" , forState : . Normal ) // \u30bf\u30b0\u3092\u8a2d\u5b9a\u3059\u308b. myInfoDarkButton . tag = 1 myInfoLightButton . tag = 2 myAddButton . tag = 3 myDetailButton . tag = 4 mySystemButton . tag = 5 // \u30a4\u30d9\u30f3\u30c8\u3092\u8ffd\u52a0\u3059\u308b myInfoDarkButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : . TouchDown ) myInfoLightButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : . TouchDown ) myAddButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : . TouchDown ) myDetailButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : . TouchDown ) mySystemButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : . TouchDown ) // \u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myInfoDarkButton ) self . view . addSubview ( myInfoLightButton ) self . view . addSubview ( myAddButton ) self . view . addSubview ( myDetailButton ) self . view . addSubview ( mySystemButton ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8 */ internal func onClickMyButton ( sender : UIButton ) { print ( \"onClickMyButton:\" ) print ( \"sender.currentTitile: \\( sender . currentTitle ) \" ) print ( \"sender.tag \\( sender . tag ) \" ) } }","title":"UIButton\u3067\u3044\u308d\u3044\u308d\u306a\u30dc\u30bf\u30f3\u3092\u8868\u793a"},{"location":"1.uikit/003_uibutton/#3040","text":"internal func onClickMyButton(sender: UIButton) \u306b @objc \u3092\u8ffd\u52a0","title":"3.0\u30684.0\u306e\u5dee\u5206"},{"location":"1.uikit/003_uibutton/#2330","text":"CGRectMake()\u304cCGReat()\u306b\u5909\u66f4 UIButton.addTarget()\u306e#selector(ViewController.onClickMyButton(_:))\u304c\u3001#selector(ViewController.onClickMyButton(sender:)\u306b\u5909\u66f4 UIButton.addTarget()\u306eforControlEvents: .TouchDown\u304cfor: .touchDown\u306b\u5909\u66f4","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"1.uikit/003_uibutton/#reference","text":"UIColor https://developer.apple.com/reference/uikit/uicolor UIButton https://developer.apple.com/reference/uikit/uibutton","title":"Reference"},{"location":"1.uikit/004_uitextfield/","text":"UITextField\u3067\u6587\u5b57\u3092\u5165\u529b Swift 4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 // // ViewController.swift // UIKit004 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UITextFieldDelegate { private var myTextField : UITextField ! override func viewDidLoad () { super . viewDidLoad () // UITextField\u306e\u914d\u7f6e\u3059\u308bx,y\u3068\u5e45\u3068\u9ad8\u3055\u3092\u8a2d\u5b9a. let tWidth : CGFloat = 200 let tHeight : CGFloat = 30 let posX : CGFloat = ( self . view . bounds . width - tWidth ) / 2 let posY : CGFloat = ( self . view . bounds . height - tHeight ) / 2 // UITextField\u3092\u4f5c\u6210\u3059\u308b. myTextField = UITextField ( frame : CGRect ( x : posX , y : posY , width : tWidth , height : tHeight )) // \u8868\u793a\u3059\u308b\u6587\u5b57\u3092\u4ee3\u5165\u3059\u308b. myTextField . text = \"Hello TextField\" // Delegate\u3092\u81ea\u8eab\u306b\u8a2d\u5b9a\u3059\u308b myTextField . delegate = self // \u67a0\u3092\u8868\u793a\u3059\u308b. myTextField . borderStyle = . roundedRect // \u30af\u30ea\u30a2\u30dc\u30bf\u30f3\u3092\u8ffd\u52a0. myTextField . clearButtonMode = . whileEditing // View\u306b\u8ffd\u52a0\u3059\u308b self . view . addSubview ( myTextField ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } /* UITextField\u304c\u7de8\u96c6\u3055\u308c\u305f\u76f4\u524d\u306b\u547c\u3070\u308c\u308b */ func textFieldDidBeginEditing ( _ textField : UITextField ) { print ( \"textFieldDidBeginEditing: \\( textField . text ! ) \" ) } /* UITextField\u304c\u7de8\u96c6\u3055\u308c\u305f\u76f4\u5f8c\u306b\u547c\u3070\u308c\u308b */ func textFieldDidEndEditing ( _ textField : UITextField ) { print ( \"textFieldDidEndEditing: \\( textField . text ! ) \" ) } /* \u6539\u884c\u30dc\u30bf\u30f3\u304c\u62bc\u3055\u308c\u305f\u969b\u306b\u547c\u3070\u308c\u308b */ func textFieldShouldReturn ( _ textField : UITextField ) -> Bool { print ( \"textFieldShouldReturn \\( textField . text ! ) \" ) // \u6539\u884c\u30dc\u30bf\u30f3\u304c\u62bc\u3055\u308c\u305f\u3089Keyboard\u3092\u9589\u3058\u308b\u51e6\u7406. textField . resignFirstResponder () return true } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 // // ViewController.swift // UIKit004 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UITextFieldDelegate { private var myTextField : UITextField ! override func viewDidLoad () { super . viewDidLoad () // UITextField\u306e\u914d\u7f6e\u3059\u308bx,y\u3068\u5e45\u3068\u9ad8\u3055\u3092\u8a2d\u5b9a. let tWidth : CGFloat = 200 let tHeight : CGFloat = 30 let posX : CGFloat = ( self . view . bounds . width - tWidth ) / 2 let posY : CGFloat = ( self . view . bounds . height - tHeight ) / 2 // UITextField\u3092\u4f5c\u6210\u3059\u308b. myTextField = UITextField ( frame : CGRectMake ( posX , posY , tWidth , tHeight )) // \u8868\u793a\u3059\u308b\u6587\u5b57\u3092\u4ee3\u5165\u3059\u308b. myTextField . text = \"Hello TextField\" // Delegate\u3092\u81ea\u8eab\u306b\u8a2d\u5b9a\u3059\u308b myTextField . delegate = self // \u67a0\u3092\u8868\u793a\u3059\u308b. myTextField . borderStyle = . RoundedRect // \u30af\u30ea\u30a2\u30dc\u30bf\u30f3\u3092\u8ffd\u52a0. myTextField . clearButtonMode = . WhileEditing // View\u306b\u8ffd\u52a0\u3059\u308b self . view . addSubview ( myTextField ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } /* UITextField\u304c\u7de8\u96c6\u3055\u308c\u305f\u76f4\u524d\u306b\u547c\u3070\u308c\u308b */ func textFieldDidBeginEditing ( textField : UITextField ) { print ( \"textFieldDidBeginEditing: \\( textField . text ! ) \" ) } /* UITextField\u304c\u7de8\u96c6\u3055\u308c\u305f\u76f4\u5f8c\u306b\u547c\u3070\u308c\u308b */ func textFieldDidEndEditing ( textField : UITextField ) { print ( \"textFieldDidEndEditing: \\( textField . text ! ) \" ) } /* \u6539\u884c\u30dc\u30bf\u30f3\u304c\u62bc\u3055\u308c\u305f\u969b\u306b\u547c\u3070\u308c\u308b */ func textFieldShouldReturn ( textField : UITextField ) -> Bool { print ( \"textFieldShouldReturn \\( textField . text ! ) \" ) // \u6539\u884c\u30dc\u30bf\u30f3\u304c\u62bc\u3055\u308c\u305f\u3089Keyboard\u3092\u9589\u3058\u308b\u51e6\u7406. textField . resignFirstResponder () return true } } 2.3\u30683.0\u306e\u5dee\u5206 textFieldDidBeginEditing(textField: UITextField)\u304ctextFieldDidBeginEditing(_ textField: UITextField)\u306b\u5909\u66f4 textFieldDidEndEditing(textField: UITextField)\u304c\u3001textFieldDidEndEditing(_ textField: UITextField)\u306b\u5909\u66f4 textFieldShouldReturn(textField: UITextField)\u304c\u3001textFieldShouldReturn(_ textField: UITextField)\u306b\u5909\u66f4 UITextBorderStyle.RoundedRect\u304cUITextBorderStyle.rundedRect\u306b\u5909\u66f4 Reference UITextField https://developer.apple.com/reference/uikit/uitextfield","title":"UITextField\u3067\u6587\u5b57\u3092\u5165\u529b"},{"location":"1.uikit/004_uitextfield/#uitextfield","text":"Swift 4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 // // ViewController.swift // UIKit004 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UITextFieldDelegate { private var myTextField : UITextField ! override func viewDidLoad () { super . viewDidLoad () // UITextField\u306e\u914d\u7f6e\u3059\u308bx,y\u3068\u5e45\u3068\u9ad8\u3055\u3092\u8a2d\u5b9a. let tWidth : CGFloat = 200 let tHeight : CGFloat = 30 let posX : CGFloat = ( self . view . bounds . width - tWidth ) / 2 let posY : CGFloat = ( self . view . bounds . height - tHeight ) / 2 // UITextField\u3092\u4f5c\u6210\u3059\u308b. myTextField = UITextField ( frame : CGRect ( x : posX , y : posY , width : tWidth , height : tHeight )) // \u8868\u793a\u3059\u308b\u6587\u5b57\u3092\u4ee3\u5165\u3059\u308b. myTextField . text = \"Hello TextField\" // Delegate\u3092\u81ea\u8eab\u306b\u8a2d\u5b9a\u3059\u308b myTextField . delegate = self // \u67a0\u3092\u8868\u793a\u3059\u308b. myTextField . borderStyle = . roundedRect // \u30af\u30ea\u30a2\u30dc\u30bf\u30f3\u3092\u8ffd\u52a0. myTextField . clearButtonMode = . whileEditing // View\u306b\u8ffd\u52a0\u3059\u308b self . view . addSubview ( myTextField ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } /* UITextField\u304c\u7de8\u96c6\u3055\u308c\u305f\u76f4\u524d\u306b\u547c\u3070\u308c\u308b */ func textFieldDidBeginEditing ( _ textField : UITextField ) { print ( \"textFieldDidBeginEditing: \\( textField . text ! ) \" ) } /* UITextField\u304c\u7de8\u96c6\u3055\u308c\u305f\u76f4\u5f8c\u306b\u547c\u3070\u308c\u308b */ func textFieldDidEndEditing ( _ textField : UITextField ) { print ( \"textFieldDidEndEditing: \\( textField . text ! ) \" ) } /* \u6539\u884c\u30dc\u30bf\u30f3\u304c\u62bc\u3055\u308c\u305f\u969b\u306b\u547c\u3070\u308c\u308b */ func textFieldShouldReturn ( _ textField : UITextField ) -> Bool { print ( \"textFieldShouldReturn \\( textField . text ! ) \" ) // \u6539\u884c\u30dc\u30bf\u30f3\u304c\u62bc\u3055\u308c\u305f\u3089Keyboard\u3092\u9589\u3058\u308b\u51e6\u7406. textField . resignFirstResponder () return true } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 // // ViewController.swift // UIKit004 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UITextFieldDelegate { private var myTextField : UITextField ! override func viewDidLoad () { super . viewDidLoad () // UITextField\u306e\u914d\u7f6e\u3059\u308bx,y\u3068\u5e45\u3068\u9ad8\u3055\u3092\u8a2d\u5b9a. let tWidth : CGFloat = 200 let tHeight : CGFloat = 30 let posX : CGFloat = ( self . view . bounds . width - tWidth ) / 2 let posY : CGFloat = ( self . view . bounds . height - tHeight ) / 2 // UITextField\u3092\u4f5c\u6210\u3059\u308b. myTextField = UITextField ( frame : CGRectMake ( posX , posY , tWidth , tHeight )) // \u8868\u793a\u3059\u308b\u6587\u5b57\u3092\u4ee3\u5165\u3059\u308b. myTextField . text = \"Hello TextField\" // Delegate\u3092\u81ea\u8eab\u306b\u8a2d\u5b9a\u3059\u308b myTextField . delegate = self // \u67a0\u3092\u8868\u793a\u3059\u308b. myTextField . borderStyle = . RoundedRect // \u30af\u30ea\u30a2\u30dc\u30bf\u30f3\u3092\u8ffd\u52a0. myTextField . clearButtonMode = . WhileEditing // View\u306b\u8ffd\u52a0\u3059\u308b self . view . addSubview ( myTextField ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } /* UITextField\u304c\u7de8\u96c6\u3055\u308c\u305f\u76f4\u524d\u306b\u547c\u3070\u308c\u308b */ func textFieldDidBeginEditing ( textField : UITextField ) { print ( \"textFieldDidBeginEditing: \\( textField . text ! ) \" ) } /* UITextField\u304c\u7de8\u96c6\u3055\u308c\u305f\u76f4\u5f8c\u306b\u547c\u3070\u308c\u308b */ func textFieldDidEndEditing ( textField : UITextField ) { print ( \"textFieldDidEndEditing: \\( textField . text ! ) \" ) } /* \u6539\u884c\u30dc\u30bf\u30f3\u304c\u62bc\u3055\u308c\u305f\u969b\u306b\u547c\u3070\u308c\u308b */ func textFieldShouldReturn ( textField : UITextField ) -> Bool { print ( \"textFieldShouldReturn \\( textField . text ! ) \" ) // \u6539\u884c\u30dc\u30bf\u30f3\u304c\u62bc\u3055\u308c\u305f\u3089Keyboard\u3092\u9589\u3058\u308b\u51e6\u7406. textField . resignFirstResponder () return true } }","title":"UITextField\u3067\u6587\u5b57\u3092\u5165\u529b"},{"location":"1.uikit/004_uitextfield/#2330","text":"textFieldDidBeginEditing(textField: UITextField)\u304ctextFieldDidBeginEditing(_ textField: UITextField)\u306b\u5909\u66f4 textFieldDidEndEditing(textField: UITextField)\u304c\u3001textFieldDidEndEditing(_ textField: UITextField)\u306b\u5909\u66f4 textFieldShouldReturn(textField: UITextField)\u304c\u3001textFieldShouldReturn(_ textField: UITextField)\u306b\u5909\u66f4 UITextBorderStyle.RoundedRect\u304cUITextBorderStyle.rundedRect\u306b\u5909\u66f4","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"1.uikit/004_uitextfield/#reference","text":"UITextField https://developer.apple.com/reference/uikit/uitextfield","title":"Reference"},{"location":"1.uikit/005_uiimageview/","text":"UIImageView\u3067\u753b\u50cf\u3092\u8868\u793a Swift 4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 // // ViewController.swift // UIKit005 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { private var myImageView : UIImageView ! override func viewDidLoad () { super . viewDidLoad () // UIImageView\u306e\u30b5\u30a4\u30ba\u3092\u8a2d\u5b9a\u3059\u308b let iWidth : CGFloat = 300 let iHeight : CGFloat = 100 // UIImageView\u306ex,y\u3092\u8a2d\u5b9a\u3059\u308b let posX : CGFloat = ( self . view . bounds . width - iWidth ) / 2 let posY : CGFloat = ( self . view . bounds . height - iHeight ) / 2 // UIImageView\u3092\u4f5c\u6210. myImageView = UIImageView ( frame : CGRect ( x : posX , y : posY , width : iWidth , height : iHeight )) // UIImage\u3092\u4f5c\u6210. let myImage : UIImage = UIImage ( named : \"fabo_logo.png\" ) ! // \u753b\u50cf\u3092UIImageView\u306b\u8a2d\u5b9a\u3059\u308b. myImageView . image = myImage // UIImageView\u3092View\u306b\u8ffd\u52a0\u3059\u308b self . view . addSubview ( myImageView ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 // // ViewController.swift // UIKit005 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { private var myImageView : UIImageView ! override func viewDidLoad () { super . viewDidLoad () // UIImageView\u306e\u30b5\u30a4\u30ba\u3092\u8a2d\u5b9a\u3059\u308b let iWidth : CGFloat = 300 let iHeight : CGFloat = 100 // UIImageView\u306ex,y\u3092\u8a2d\u5b9a\u3059\u308b let posX : CGFloat = ( self . view . bounds . width - iWidth ) / 2 let posY : CGFloat = ( self . view . bounds . height - iHeight ) / 2 // UIImageView\u3092\u4f5c\u6210. myImageView = UIImageView ( frame : CGRectMake ( posX , posY , iWidth , iHeight )) // UIImage\u3092\u4f5c\u6210. let myImage : UIImage = UIImage ( named : \"fabo_logo.png\" ) ! // \u753b\u50cf\u3092UIImageView\u306b\u8a2d\u5b9a\u3059\u308b. myImageView . image = myImage // UIImageView\u3092View\u306b\u8ffd\u52a0\u3059\u308b self . view . addSubview ( myImageView ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } } 2.3\u30683.0\u306e\u5dee\u5206 CGRectMake()\u304cCGRect()\u306b\u5909\u66f4. \u4e8b\u524d\u6e96\u5099 Reference UIImageView https://developer.apple.com/reference/uikit/uiimageview UIImage https://developer.apple.com/reference/uikit/uiimage","title":"UIImageView\u3067\u753b\u50cf\u3092\u8868\u793a"},{"location":"1.uikit/005_uiimageview/#uiimageview","text":"Swift 4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 // // ViewController.swift // UIKit005 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { private var myImageView : UIImageView ! override func viewDidLoad () { super . viewDidLoad () // UIImageView\u306e\u30b5\u30a4\u30ba\u3092\u8a2d\u5b9a\u3059\u308b let iWidth : CGFloat = 300 let iHeight : CGFloat = 100 // UIImageView\u306ex,y\u3092\u8a2d\u5b9a\u3059\u308b let posX : CGFloat = ( self . view . bounds . width - iWidth ) / 2 let posY : CGFloat = ( self . view . bounds . height - iHeight ) / 2 // UIImageView\u3092\u4f5c\u6210. myImageView = UIImageView ( frame : CGRect ( x : posX , y : posY , width : iWidth , height : iHeight )) // UIImage\u3092\u4f5c\u6210. let myImage : UIImage = UIImage ( named : \"fabo_logo.png\" ) ! // \u753b\u50cf\u3092UIImageView\u306b\u8a2d\u5b9a\u3059\u308b. myImageView . image = myImage // UIImageView\u3092View\u306b\u8ffd\u52a0\u3059\u308b self . view . addSubview ( myImageView ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 // // ViewController.swift // UIKit005 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { private var myImageView : UIImageView ! override func viewDidLoad () { super . viewDidLoad () // UIImageView\u306e\u30b5\u30a4\u30ba\u3092\u8a2d\u5b9a\u3059\u308b let iWidth : CGFloat = 300 let iHeight : CGFloat = 100 // UIImageView\u306ex,y\u3092\u8a2d\u5b9a\u3059\u308b let posX : CGFloat = ( self . view . bounds . width - iWidth ) / 2 let posY : CGFloat = ( self . view . bounds . height - iHeight ) / 2 // UIImageView\u3092\u4f5c\u6210. myImageView = UIImageView ( frame : CGRectMake ( posX , posY , iWidth , iHeight )) // UIImage\u3092\u4f5c\u6210. let myImage : UIImage = UIImage ( named : \"fabo_logo.png\" ) ! // \u753b\u50cf\u3092UIImageView\u306b\u8a2d\u5b9a\u3059\u308b. myImageView . image = myImage // UIImageView\u3092View\u306b\u8ffd\u52a0\u3059\u308b self . view . addSubview ( myImageView ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } }","title":"UIImageView\u3067\u753b\u50cf\u3092\u8868\u793a"},{"location":"1.uikit/005_uiimageview/#2330","text":"CGRectMake()\u304cCGRect()\u306b\u5909\u66f4.","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"1.uikit/005_uiimageview/#_1","text":"","title":"\u4e8b\u524d\u6e96\u5099"},{"location":"1.uikit/005_uiimageview/#reference","text":"UIImageView https://developer.apple.com/reference/uikit/uiimageview UIImage https://developer.apple.com/reference/uikit/uiimage","title":"Reference"},{"location":"1.uikit/006_uitableview/","text":"UITableView\u3067\u30c6\u30fc\u30d6\u30eb\u3092\u8868\u793a Swift 4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 // // ViewController.swift // UIKit006 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UITableViewDelegate , UITableViewDataSource { // Table\u3067\u4f7f\u7528\u3059\u308b\u914d\u5217\u3092\u8a2d\u5b9a\u3059\u308b private let myItems : NSArray = [ \"TEST1\" , \"TEST2\" , \"TEST3\" ] private var myTableView : UITableView ! override func viewDidLoad () { super . viewDidLoad () // Status Bar\u306e\u9ad8\u3055\u3092\u53d6\u5f97\u3059\u308b. let barHeight : CGFloat = UIApplication . shared . statusBarFrame . size . height // View\u306e\u9ad8\u3055\u3068\u5e45\u3092\u53d6\u5f97\u3059\u308b. let displayWidth : CGFloat = self . view . frame . width let displayHeight : CGFloat = self . view . frame . height // TableView\u306e\u751f\u6210(Status bar\u306e\u9ad8\u3055\u3092\u305a\u3089\u3057\u3066\u8868\u793a). myTableView = UITableView ( frame : CGRect ( x : 0 , y : barHeight , width : displayWidth , height : displayHeight )) // Cell\u540d\u306e\u767b\u9332\u3092\u304a\u3053\u306a\u3046. myTableView . register ( UITableViewCell . self , forCellReuseIdentifier : \"MyCell\" ) // DataSource\u3092\u81ea\u8eab\u306b\u8a2d\u5b9a\u3059\u308b. myTableView . dataSource = self // Delegate\u3092\u81ea\u8eab\u306b\u8a2d\u5b9a\u3059\u308b. myTableView . delegate = self // View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myTableView ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } /* Cell\u304c\u9078\u629e\u3055\u308c\u305f\u969b\u306b\u547c\u3073\u51fa\u3055\u308c\u308b */ func tableView ( _ tableView : UITableView , didSelectRowAt indexPath : IndexPath ) { print ( \"Num: \\( indexPath . row ) \" ) print ( \"Value: \\( myItems [ indexPath . row ] ) \" ) } /* Cell\u306e\u7dcf\u6570\u3092\u8fd4\u3059. */ func tableView ( _ tableView : UITableView , numberOfRowsInSection section : Int ) -> Int { return myItems . count } /* Cell\u306b\u5024\u3092\u8a2d\u5b9a\u3059\u308b */ func tableView ( _ tableView : UITableView , cellForRowAt indexPath : IndexPath ) -> UITableViewCell { // \u518d\u5229\u7528\u3059\u308bCell\u3092\u53d6\u5f97\u3059\u308b. let cell = tableView . dequeueReusableCell ( withIdentifier : \"MyCell\" , for : indexPath as IndexPath ) // Cell\u306b\u5024\u3092\u8a2d\u5b9a\u3059\u308b. cell . textLabel !. text = \" \\( myItems [ indexPath . row ] ) \" return cell } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 // // ViewController.swift // UIKit006 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UITableViewDelegate , UITableViewDataSource { // Table\u3067\u4f7f\u7528\u3059\u308b\u914d\u5217\u3092\u8a2d\u5b9a\u3059\u308b private let myItems : NSArray = [ \"TEST1\" , \"TEST2\" , \"TEST3\" ] private var myTableView : UITableView ! override func viewDidLoad () { super . viewDidLoad () // Status Bar\u306e\u9ad8\u3055\u3092\u53d6\u5f97\u3059\u308b. let barHeight : CGFloat = UIApplication . sharedApplication (). statusBarFrame . size . height // View\u306e\u9ad8\u3055\u3068\u5e45\u3092\u53d6\u5f97\u3059\u308b. let displayWidth : CGFloat = self . view . frame . width let displayHeight : CGFloat = self . view . frame . height // TableView\u306e\u751f\u6210(Status bar\u306e\u9ad8\u3055\u3092\u305a\u3089\u3057\u3066\u8868\u793a). myTableView = UITableView ( frame : CGRectMake ( 0 , barHeight , displayWidth , displayHeight )) // Cell\u540d\u306e\u767b\u9332\u3092\u304a\u3053\u306a\u3046. myTableView . registerClass ( UITableViewCell . self , forCellReuseIdentifier : \"MyCell\" ) // DataSource\u3092\u81ea\u8eab\u306b\u8a2d\u5b9a\u3059\u308b. myTableView . dataSource = self // Delegate\u3092\u81ea\u8eab\u306b\u8a2d\u5b9a\u3059\u308b. myTableView . delegate = self // View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myTableView ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } /* Cell\u304c\u9078\u629e\u3055\u308c\u305f\u969b\u306b\u547c\u3073\u51fa\u3055\u308c\u308b */ func tableView ( tableView : UITableView , didSelectRowAtIndexPath indexPath : NSIndexPath ) { print ( \"Num: \\( indexPath . row ) \" ) print ( \"Value: \\( myItems [ indexPath . row ] ) \" ) } /* Cell\u306e\u7dcf\u6570\u3092\u8fd4\u3059. */ func tableView ( tableView : UITableView , numberOfRowsInSection section : Int ) -> Int { return myItems . count } /* Cell\u306b\u5024\u3092\u8a2d\u5b9a\u3059\u308b */ func tableView ( tableView : UITableView , cellForRowAtIndexPath indexPath : NSIndexPath ) -> UITableViewCell { // \u518d\u5229\u7528\u3059\u308bCell\u3092\u53d6\u5f97\u3059\u308b. let cell = tableView . dequeueReusableCellWithIdentifier ( \"MyCell\" , forIndexPath : indexPath ) // Cell\u306b\u5024\u3092\u8a2d\u5b9a\u3059\u308b. cell . textLabel !. text = \" \\( myItems [ indexPath . row ] ) \" return cell } } 2.3\u30683.0\u306e\u5dee\u5206 CGRectMake()\u304cCGRect()\u306b\u5909\u66f4. Reference UIImageView https://developer.apple.com/reference/uikit/uiimageview UIImage https://developer.apple.com/reference/uikit/uiimage","title":"UITableView\u3067\u30c6\u30fc\u30d6\u30eb\u3092\u8868\u793a"},{"location":"1.uikit/006_uitableview/#uitableview","text":"Swift 4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 // // ViewController.swift // UIKit006 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UITableViewDelegate , UITableViewDataSource { // Table\u3067\u4f7f\u7528\u3059\u308b\u914d\u5217\u3092\u8a2d\u5b9a\u3059\u308b private let myItems : NSArray = [ \"TEST1\" , \"TEST2\" , \"TEST3\" ] private var myTableView : UITableView ! override func viewDidLoad () { super . viewDidLoad () // Status Bar\u306e\u9ad8\u3055\u3092\u53d6\u5f97\u3059\u308b. let barHeight : CGFloat = UIApplication . shared . statusBarFrame . size . height // View\u306e\u9ad8\u3055\u3068\u5e45\u3092\u53d6\u5f97\u3059\u308b. let displayWidth : CGFloat = self . view . frame . width let displayHeight : CGFloat = self . view . frame . height // TableView\u306e\u751f\u6210(Status bar\u306e\u9ad8\u3055\u3092\u305a\u3089\u3057\u3066\u8868\u793a). myTableView = UITableView ( frame : CGRect ( x : 0 , y : barHeight , width : displayWidth , height : displayHeight )) // Cell\u540d\u306e\u767b\u9332\u3092\u304a\u3053\u306a\u3046. myTableView . register ( UITableViewCell . self , forCellReuseIdentifier : \"MyCell\" ) // DataSource\u3092\u81ea\u8eab\u306b\u8a2d\u5b9a\u3059\u308b. myTableView . dataSource = self // Delegate\u3092\u81ea\u8eab\u306b\u8a2d\u5b9a\u3059\u308b. myTableView . delegate = self // View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myTableView ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } /* Cell\u304c\u9078\u629e\u3055\u308c\u305f\u969b\u306b\u547c\u3073\u51fa\u3055\u308c\u308b */ func tableView ( _ tableView : UITableView , didSelectRowAt indexPath : IndexPath ) { print ( \"Num: \\( indexPath . row ) \" ) print ( \"Value: \\( myItems [ indexPath . row ] ) \" ) } /* Cell\u306e\u7dcf\u6570\u3092\u8fd4\u3059. */ func tableView ( _ tableView : UITableView , numberOfRowsInSection section : Int ) -> Int { return myItems . count } /* Cell\u306b\u5024\u3092\u8a2d\u5b9a\u3059\u308b */ func tableView ( _ tableView : UITableView , cellForRowAt indexPath : IndexPath ) -> UITableViewCell { // \u518d\u5229\u7528\u3059\u308bCell\u3092\u53d6\u5f97\u3059\u308b. let cell = tableView . dequeueReusableCell ( withIdentifier : \"MyCell\" , for : indexPath as IndexPath ) // Cell\u306b\u5024\u3092\u8a2d\u5b9a\u3059\u308b. cell . textLabel !. text = \" \\( myItems [ indexPath . row ] ) \" return cell } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 // // ViewController.swift // UIKit006 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UITableViewDelegate , UITableViewDataSource { // Table\u3067\u4f7f\u7528\u3059\u308b\u914d\u5217\u3092\u8a2d\u5b9a\u3059\u308b private let myItems : NSArray = [ \"TEST1\" , \"TEST2\" , \"TEST3\" ] private var myTableView : UITableView ! override func viewDidLoad () { super . viewDidLoad () // Status Bar\u306e\u9ad8\u3055\u3092\u53d6\u5f97\u3059\u308b. let barHeight : CGFloat = UIApplication . sharedApplication (). statusBarFrame . size . height // View\u306e\u9ad8\u3055\u3068\u5e45\u3092\u53d6\u5f97\u3059\u308b. let displayWidth : CGFloat = self . view . frame . width let displayHeight : CGFloat = self . view . frame . height // TableView\u306e\u751f\u6210(Status bar\u306e\u9ad8\u3055\u3092\u305a\u3089\u3057\u3066\u8868\u793a). myTableView = UITableView ( frame : CGRectMake ( 0 , barHeight , displayWidth , displayHeight )) // Cell\u540d\u306e\u767b\u9332\u3092\u304a\u3053\u306a\u3046. myTableView . registerClass ( UITableViewCell . self , forCellReuseIdentifier : \"MyCell\" ) // DataSource\u3092\u81ea\u8eab\u306b\u8a2d\u5b9a\u3059\u308b. myTableView . dataSource = self // Delegate\u3092\u81ea\u8eab\u306b\u8a2d\u5b9a\u3059\u308b. myTableView . delegate = self // View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myTableView ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } /* Cell\u304c\u9078\u629e\u3055\u308c\u305f\u969b\u306b\u547c\u3073\u51fa\u3055\u308c\u308b */ func tableView ( tableView : UITableView , didSelectRowAtIndexPath indexPath : NSIndexPath ) { print ( \"Num: \\( indexPath . row ) \" ) print ( \"Value: \\( myItems [ indexPath . row ] ) \" ) } /* Cell\u306e\u7dcf\u6570\u3092\u8fd4\u3059. */ func tableView ( tableView : UITableView , numberOfRowsInSection section : Int ) -> Int { return myItems . count } /* Cell\u306b\u5024\u3092\u8a2d\u5b9a\u3059\u308b */ func tableView ( tableView : UITableView , cellForRowAtIndexPath indexPath : NSIndexPath ) -> UITableViewCell { // \u518d\u5229\u7528\u3059\u308bCell\u3092\u53d6\u5f97\u3059\u308b. let cell = tableView . dequeueReusableCellWithIdentifier ( \"MyCell\" , forIndexPath : indexPath ) // Cell\u306b\u5024\u3092\u8a2d\u5b9a\u3059\u308b. cell . textLabel !. text = \" \\( myItems [ indexPath . row ] ) \" return cell } }","title":"UITableView\u3067\u30c6\u30fc\u30d6\u30eb\u3092\u8868\u793a"},{"location":"1.uikit/006_uitableview/#2330","text":"CGRectMake()\u304cCGRect()\u306b\u5909\u66f4.","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"1.uikit/006_uitableview/#reference","text":"UIImageView https://developer.apple.com/reference/uikit/uiimageview UIImage https://developer.apple.com/reference/uikit/uiimage","title":"Reference"},{"location":"1.uikit/007_uifont/","text":"UIFont\u3067\u6587\u5b57\u3092\u8868\u793a Swift 4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 // // ViewController.swift // UIKit007 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // \u5c0f\u3055\u3081\u306e\u30d5\u30a9\u30f3\u30c8\u306e\u6587\u5b57\u5217\u3092\u30e9\u30d9\u30eb\u306b\u8868\u793a\u3059\u308b. let mySmallLabel : UILabel = UILabel ( frame : CGRect ( x : 25 , y : 0 , width : 300 , height : 150 )) mySmallLabel . text = \"\u5c0f\u3055\u3081\u306e\u30d5\u30a9\u30f3\u30c8\" mySmallLabel . font = UIFont . systemFont ( ofSize : UIFont . smallSystemFontSize ) self . view . addSubview ( mySmallLabel ) // \u30b7\u30b9\u30c6\u30e0\u306e\u6a19\u6e96\u306e\u30d5\u30a9\u30f3\u30c8\u30b5\u30a4\u30ba\u306e\u6587\u5b57\u5217\u3092\u30e9\u30d9\u30eb\u3092\u8868\u793a\u3059\u308b. let myNormalLabel : UILabel = UILabel ( frame : CGRect ( x : 25 , y : 30 , width : 200 , height : 150 )) myNormalLabel . font = UIFont . systemFont ( ofSize : UIFont . systemFontSize ) myNormalLabel . text = \"\u30b7\u30b9\u30c6\u30e0\u6a19\u6e96\u306e\u30d5\u30a9\u30f3\u30c8\u30b5\u30a4\u30ba\" self . view . addSubview ( myNormalLabel ) // UIButton\u7528\u306e\u30d5\u30a9\u30f3\u30c8\u30b5\u30a4\u30ba\u306e\u6587\u5b57\u5217\u3092\u30e9\u30d9\u30eb\u306b\u8868\u793a\u3059\u308b. let myButtonLabel : UILabel = UILabel ( frame : CGRect ( x : 25 , y : 60 , width : 300 , height : 150 )) myButtonLabel . font = UIFont . systemFont ( ofSize : UIFont . buttonFontSize ) myButtonLabel . text = \"UIButton\u306e\u30d5\u30a9\u30f3\u30c8\u30b5\u30a4\u30ba\" self . view . addSubview ( myButtonLabel ) // \u30ab\u30b9\u30bf\u30e0\u3057\u305f\u30d5\u30a9\u30f3\u30c8\u30b5\u30a4\u30ba(20)\u306e\u6587\u5b57\u5217\u3092\u30e9\u30d9\u30eb\u306b\u8868\u793a\u3059\u308b. let myCustomLabel : UILabel = UILabel ( frame : CGRect ( x : 25 , y : 90 , width : 300 , height : 150 )) myCustomLabel . font = UIFont . systemFont ( ofSize : CGFloat ( 20 )) myCustomLabel . text = \"\u30dd\u30a4\u30f3\u30c820\u306e\u30d5\u30a9\u30f3\u30c8\u30b5\u30a4\u30ba\" self . view . addSubview ( myCustomLabel ) // Italic Sysrem Font\u306e\u6587\u5b57\u5217\u3092\u30e9\u30d9\u30eb\u306b\u8868\u793a\u3059\u308b. let myItalicLabel : UILabel = UILabel ( frame : CGRect ( x : 25 , y : 150 , width : 300 , height : 150 )) myItalicLabel . font = UIFont . italicSystemFont ( ofSize : UIFont . labelFontSize ) myItalicLabel . text = \"Italic\u30d5\u30a9\u30f3\u30c8\" self . view . addSubview ( myItalicLabel ) // Bold\u306e\u6587\u5b57\u5217\u3092\u30e9\u30d9\u30eb\u306b\u8868\u793a\u3059\u308b. let myBoldLabel : UILabel = UILabel ( frame : CGRect ( x : 25 , y : 180 , width : 300 , height : 150 )) myBoldLabel . font = UIFont . boldSystemFont ( ofSize : UIFont . labelFontSize ) myBoldLabel . text = \"Bold\u30d5\u30a9\u30f3\u30c8\" self . view . addSubview ( myBoldLabel ) // Arial\u306e\u6587\u5b57\u5217\u3092\u30e9\u30d9\u30eb\u306b\u8868\u793a\u3059\u308b. let myArialLabel : UILabel = UILabel ( frame : CGRect ( x : 25 , y : 230 , width : 300 , height : 150 )) myArialLabel . font = UIFont ( name : \"ArilHebew\" , size : UIFont . labelFontSize ) myArialLabel . text = \"ArialHebrew\" self . view . addSubview ( myArialLabel ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 // // ViewController.swift // UIKit007 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // \u5c0f\u3055\u3081\u306e\u30d5\u30a9\u30f3\u30c8\u306e\u6587\u5b57\u5217\u3092\u30e9\u30d9\u30eb\u306b\u8868\u793a\u3059\u308b. let mySmallLabel : UILabel = UILabel ( frame : CGRectMake ( 25 , 0 , 300 , 150 )) mySmallLabel . text = \"\u5c0f\u3055\u3081\u306e\u30d5\u30a9\u30f3\u30c8\" mySmallLabel . font = UIFont . systemFontOfSize ( UIFont . smallSystemFontSize ()) self . view . addSubview ( mySmallLabel ) // \u30b7\u30b9\u30c6\u30e0\u306e\u6a19\u6e96\u306e\u30d5\u30a9\u30f3\u30c8\u30b5\u30a4\u30ba\u306e\u6587\u5b57\u5217\u3092\u30e9\u30d9\u30eb\u3092\u8868\u793a\u3059\u308b. let myNormalLabel : UILabel = UILabel ( frame : CGRectMake ( 25 , 30 , 200 , 150 )) myNormalLabel . font = UIFont . systemFontOfSize ( UIFont . systemFontSize ()) myNormalLabel . text = \"\u30b7\u30b9\u30c6\u30e0\u6a19\u6e96\u306e\u30d5\u30a9\u30f3\u30c8\u30b5\u30a4\u30ba\" self . view . addSubview ( myNormalLabel ) // UIButton\u7528\u306e\u30d5\u30a9\u30f3\u30c8\u30b5\u30a4\u30ba\u306e\u6587\u5b57\u5217\u3092\u30e9\u30d9\u30eb\u306b\u8868\u793a\u3059\u308b. let myButtonLabel : UILabel = UILabel ( frame : CGRectMake ( 25 , 60 , 300 , 150 )) myButtonLabel . font = UIFont . systemFontOfSize ( UIFont . buttonFontSize ()) myButtonLabel . text = \"UIButton\u306e\u30d5\u30a9\u30f3\u30c8\u30b5\u30a4\u30ba\" self . view . addSubview ( myButtonLabel ) // \u30ab\u30b9\u30bf\u30e0\u3057\u305f\u30d5\u30a9\u30f3\u30c8\u30b5\u30a4\u30ba(20)\u306e\u6587\u5b57\u5217\u3092\u30e9\u30d9\u30eb\u306b\u8868\u793a\u3059\u308b. let myCustomLabel : UILabel = UILabel ( frame : CGRectMake ( 25 , 90 , 300 , 150 )) myCustomLabel . font = UIFont . systemFontOfSize ( CGFloat ( 20 )) myCustomLabel . text = \"\u30dd\u30a4\u30f3\u30c820\u306e\u30d5\u30a9\u30f3\u30c8\u30b5\u30a4\u30ba\" self . view . addSubview ( myCustomLabel ) // Italic Sysrem Font\u306e\u6587\u5b57\u5217\u3092\u30e9\u30d9\u30eb\u306b\u8868\u793a\u3059\u308b. let myItalicLabel : UILabel = UILabel ( frame : CGRectMake ( 25 , 150 , 300 , 150 )) myItalicLabel . font = UIFont . italicSystemFontOfSize ( UIFont . labelFontSize ()) myItalicLabel . text = \"Italic\u30d5\u30a9\u30f3\u30c8\" self . view . addSubview ( myItalicLabel ) // Bold\u306e\u6587\u5b57\u5217\u3092\u30e9\u30d9\u30eb\u306b\u8868\u793a\u3059\u308b. let myBoldLabel : UILabel = UILabel ( frame : CGRectMake ( 25 , 180 , 300 , 150 )) myBoldLabel . font = UIFont . boldSystemFontOfSize ( UIFont . labelFontSize ()) myBoldLabel . text = \"Bold\u30d5\u30a9\u30f3\u30c8\" self . view . addSubview ( myBoldLabel ) // Arial\u306e\u6587\u5b57\u5217\u3092\u30e9\u30d9\u30eb\u306b\u8868\u793a\u3059\u308b. let myArialLabel : UILabel = UILabel ( frame : CGRectMake ( 25 , 230 , 300 , 150 )) myArialLabel . font = UIFont ( name : \"ArilHebew\" , size : UIFont . labelFontSize ()) myArialLabel . text = \"ArialHebrew\" self . view . addSubview ( myArialLabel ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } } 2.3\u30683.0\u306e\u5dee\u5206 CGRectMake()\u304cCGRect()\u306b\u5909\u66f4. UIFont.systemFontOfSize(UIFont.smallSystemFontSize())\u304cUIFont.systemFont(ofSize: UIFont.smallSystemFontSize)\u306b\u5909\u66f4. Reference UIFont https://developer.apple.com/reference/uikit/uifont","title":"UIFont\u3067\u6587\u5b57\u3092\u8868\u793a"},{"location":"1.uikit/007_uifont/#uifont","text":"Swift 4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 // // ViewController.swift // UIKit007 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // \u5c0f\u3055\u3081\u306e\u30d5\u30a9\u30f3\u30c8\u306e\u6587\u5b57\u5217\u3092\u30e9\u30d9\u30eb\u306b\u8868\u793a\u3059\u308b. let mySmallLabel : UILabel = UILabel ( frame : CGRect ( x : 25 , y : 0 , width : 300 , height : 150 )) mySmallLabel . text = \"\u5c0f\u3055\u3081\u306e\u30d5\u30a9\u30f3\u30c8\" mySmallLabel . font = UIFont . systemFont ( ofSize : UIFont . smallSystemFontSize ) self . view . addSubview ( mySmallLabel ) // \u30b7\u30b9\u30c6\u30e0\u306e\u6a19\u6e96\u306e\u30d5\u30a9\u30f3\u30c8\u30b5\u30a4\u30ba\u306e\u6587\u5b57\u5217\u3092\u30e9\u30d9\u30eb\u3092\u8868\u793a\u3059\u308b. let myNormalLabel : UILabel = UILabel ( frame : CGRect ( x : 25 , y : 30 , width : 200 , height : 150 )) myNormalLabel . font = UIFont . systemFont ( ofSize : UIFont . systemFontSize ) myNormalLabel . text = \"\u30b7\u30b9\u30c6\u30e0\u6a19\u6e96\u306e\u30d5\u30a9\u30f3\u30c8\u30b5\u30a4\u30ba\" self . view . addSubview ( myNormalLabel ) // UIButton\u7528\u306e\u30d5\u30a9\u30f3\u30c8\u30b5\u30a4\u30ba\u306e\u6587\u5b57\u5217\u3092\u30e9\u30d9\u30eb\u306b\u8868\u793a\u3059\u308b. let myButtonLabel : UILabel = UILabel ( frame : CGRect ( x : 25 , y : 60 , width : 300 , height : 150 )) myButtonLabel . font = UIFont . systemFont ( ofSize : UIFont . buttonFontSize ) myButtonLabel . text = \"UIButton\u306e\u30d5\u30a9\u30f3\u30c8\u30b5\u30a4\u30ba\" self . view . addSubview ( myButtonLabel ) // \u30ab\u30b9\u30bf\u30e0\u3057\u305f\u30d5\u30a9\u30f3\u30c8\u30b5\u30a4\u30ba(20)\u306e\u6587\u5b57\u5217\u3092\u30e9\u30d9\u30eb\u306b\u8868\u793a\u3059\u308b. let myCustomLabel : UILabel = UILabel ( frame : CGRect ( x : 25 , y : 90 , width : 300 , height : 150 )) myCustomLabel . font = UIFont . systemFont ( ofSize : CGFloat ( 20 )) myCustomLabel . text = \"\u30dd\u30a4\u30f3\u30c820\u306e\u30d5\u30a9\u30f3\u30c8\u30b5\u30a4\u30ba\" self . view . addSubview ( myCustomLabel ) // Italic Sysrem Font\u306e\u6587\u5b57\u5217\u3092\u30e9\u30d9\u30eb\u306b\u8868\u793a\u3059\u308b. let myItalicLabel : UILabel = UILabel ( frame : CGRect ( x : 25 , y : 150 , width : 300 , height : 150 )) myItalicLabel . font = UIFont . italicSystemFont ( ofSize : UIFont . labelFontSize ) myItalicLabel . text = \"Italic\u30d5\u30a9\u30f3\u30c8\" self . view . addSubview ( myItalicLabel ) // Bold\u306e\u6587\u5b57\u5217\u3092\u30e9\u30d9\u30eb\u306b\u8868\u793a\u3059\u308b. let myBoldLabel : UILabel = UILabel ( frame : CGRect ( x : 25 , y : 180 , width : 300 , height : 150 )) myBoldLabel . font = UIFont . boldSystemFont ( ofSize : UIFont . labelFontSize ) myBoldLabel . text = \"Bold\u30d5\u30a9\u30f3\u30c8\" self . view . addSubview ( myBoldLabel ) // Arial\u306e\u6587\u5b57\u5217\u3092\u30e9\u30d9\u30eb\u306b\u8868\u793a\u3059\u308b. let myArialLabel : UILabel = UILabel ( frame : CGRect ( x : 25 , y : 230 , width : 300 , height : 150 )) myArialLabel . font = UIFont ( name : \"ArilHebew\" , size : UIFont . labelFontSize ) myArialLabel . text = \"ArialHebrew\" self . view . addSubview ( myArialLabel ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 // // ViewController.swift // UIKit007 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // \u5c0f\u3055\u3081\u306e\u30d5\u30a9\u30f3\u30c8\u306e\u6587\u5b57\u5217\u3092\u30e9\u30d9\u30eb\u306b\u8868\u793a\u3059\u308b. let mySmallLabel : UILabel = UILabel ( frame : CGRectMake ( 25 , 0 , 300 , 150 )) mySmallLabel . text = \"\u5c0f\u3055\u3081\u306e\u30d5\u30a9\u30f3\u30c8\" mySmallLabel . font = UIFont . systemFontOfSize ( UIFont . smallSystemFontSize ()) self . view . addSubview ( mySmallLabel ) // \u30b7\u30b9\u30c6\u30e0\u306e\u6a19\u6e96\u306e\u30d5\u30a9\u30f3\u30c8\u30b5\u30a4\u30ba\u306e\u6587\u5b57\u5217\u3092\u30e9\u30d9\u30eb\u3092\u8868\u793a\u3059\u308b. let myNormalLabel : UILabel = UILabel ( frame : CGRectMake ( 25 , 30 , 200 , 150 )) myNormalLabel . font = UIFont . systemFontOfSize ( UIFont . systemFontSize ()) myNormalLabel . text = \"\u30b7\u30b9\u30c6\u30e0\u6a19\u6e96\u306e\u30d5\u30a9\u30f3\u30c8\u30b5\u30a4\u30ba\" self . view . addSubview ( myNormalLabel ) // UIButton\u7528\u306e\u30d5\u30a9\u30f3\u30c8\u30b5\u30a4\u30ba\u306e\u6587\u5b57\u5217\u3092\u30e9\u30d9\u30eb\u306b\u8868\u793a\u3059\u308b. let myButtonLabel : UILabel = UILabel ( frame : CGRectMake ( 25 , 60 , 300 , 150 )) myButtonLabel . font = UIFont . systemFontOfSize ( UIFont . buttonFontSize ()) myButtonLabel . text = \"UIButton\u306e\u30d5\u30a9\u30f3\u30c8\u30b5\u30a4\u30ba\" self . view . addSubview ( myButtonLabel ) // \u30ab\u30b9\u30bf\u30e0\u3057\u305f\u30d5\u30a9\u30f3\u30c8\u30b5\u30a4\u30ba(20)\u306e\u6587\u5b57\u5217\u3092\u30e9\u30d9\u30eb\u306b\u8868\u793a\u3059\u308b. let myCustomLabel : UILabel = UILabel ( frame : CGRectMake ( 25 , 90 , 300 , 150 )) myCustomLabel . font = UIFont . systemFontOfSize ( CGFloat ( 20 )) myCustomLabel . text = \"\u30dd\u30a4\u30f3\u30c820\u306e\u30d5\u30a9\u30f3\u30c8\u30b5\u30a4\u30ba\" self . view . addSubview ( myCustomLabel ) // Italic Sysrem Font\u306e\u6587\u5b57\u5217\u3092\u30e9\u30d9\u30eb\u306b\u8868\u793a\u3059\u308b. let myItalicLabel : UILabel = UILabel ( frame : CGRectMake ( 25 , 150 , 300 , 150 )) myItalicLabel . font = UIFont . italicSystemFontOfSize ( UIFont . labelFontSize ()) myItalicLabel . text = \"Italic\u30d5\u30a9\u30f3\u30c8\" self . view . addSubview ( myItalicLabel ) // Bold\u306e\u6587\u5b57\u5217\u3092\u30e9\u30d9\u30eb\u306b\u8868\u793a\u3059\u308b. let myBoldLabel : UILabel = UILabel ( frame : CGRectMake ( 25 , 180 , 300 , 150 )) myBoldLabel . font = UIFont . boldSystemFontOfSize ( UIFont . labelFontSize ()) myBoldLabel . text = \"Bold\u30d5\u30a9\u30f3\u30c8\" self . view . addSubview ( myBoldLabel ) // Arial\u306e\u6587\u5b57\u5217\u3092\u30e9\u30d9\u30eb\u306b\u8868\u793a\u3059\u308b. let myArialLabel : UILabel = UILabel ( frame : CGRectMake ( 25 , 230 , 300 , 150 )) myArialLabel . font = UIFont ( name : \"ArilHebew\" , size : UIFont . labelFontSize ()) myArialLabel . text = \"ArialHebrew\" self . view . addSubview ( myArialLabel ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } }","title":"UIFont\u3067\u6587\u5b57\u3092\u8868\u793a"},{"location":"1.uikit/007_uifont/#2330","text":"CGRectMake()\u304cCGRect()\u306b\u5909\u66f4. UIFont.systemFontOfSize(UIFont.smallSystemFontSize())\u304cUIFont.systemFont(ofSize: UIFont.smallSystemFontSize)\u306b\u5909\u66f4.","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"1.uikit/007_uifont/#reference","text":"UIFont https://developer.apple.com/reference/uikit/uifont","title":"Reference"},{"location":"1.uikit/008_uinotification/","text":"UserNotification\u3092\u8868\u793a Swift 4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 // // ViewController.swift // UIKit008 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit import UserNotifications class ViewController : UIViewController { private let BUTTON_NORMAL : Int = 1 private let BUTTON_FIRE : Int = 2 override func viewDidLoad () { super . viewDidLoad () // Notification\u306e\u8868\u793a\u8a31\u53ef\u3092\u3082\u3089\u3046. let center = UNUserNotificationCenter . current () center . requestAuthorization ( options : [. alert , . sound ]) { ( granted , error ) in } // \u3059\u3050\u306bNotification\u3092\u767a\u706b\u3059\u308b\u30dc\u30bf\u30f3. let buttonWidth : CGFloat = 200 let buttonHeight : CGFloat = 80 let posX : CGFloat = ( self . view . bounds . width - buttonWidth ) / 2 let posY : CGFloat = 200 let myButton : UIButton = UIButton ( frame : CGRect ( x : posX , y : posY , width : buttonWidth , height : buttonHeight )) myButton . backgroundColor = UIColor . orange myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 20.0 myButton . tag = BUTTON_NORMAL myButton . setTitle ( \"Notification\" , for : . normal ) myButton . addTarget ( self , action : #selector ( onClickMyButton ( sender :)), for : . touchDown ) view . addSubview ( myButton ) // \u6642\u9593\u3092\u304a\u3044\u3066Notification\u3092\u767a\u706b\u3059\u308b\u30dc\u30bf\u30f3. let posFireX : CGFloat = ( self . view . bounds . width - buttonWidth ) / 2 let posFireY : CGFloat = 400 let myFireButton : UIButton = UIButton ( frame : CGRect ( x : posFireX , y : posFireY , width : buttonWidth , height : buttonHeight )) myFireButton . backgroundColor = UIColor . blue myFireButton . layer . masksToBounds = true myFireButton . layer . cornerRadius = 20.0 myFireButton . tag = BUTTON_FIRE myFireButton . setTitle ( \"Fire Notification\" , for : . normal ) myFireButton . addTarget ( self , action : #selector ( onClickMyButton ( sender :)), for : . touchDown ) view . addSubview ( myFireButton ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. */ internal func onClickMyButton ( sender : UIButton ) { print ( \"onClickMyButton\" ) if sender . tag == BUTTON_NORMAL { showNotification () } else if sender . tag == BUTTON_FIRE { showNotificationFire () } } /* Notification\u3092\u8868\u793a. */ private func showNotification () { print ( \"showNotification\" ) // Notification\u3092\u751f\u6210. let content = UNMutableNotificationContent () // Title\u3092\u4ee3\u5165\u3059\u308b. content . title = \"Title1\" // Body\u3092\u4ee3\u5165\u3059\u308b. content . body = \"Hello Notification\" // \u97f3\u3092\u8a2d\u5b9a\u3059\u308b. content . sound = UNNotificationSound . default () // Request\u3092\u751f\u6210\u3059\u308b. let request = UNNotificationRequest . init ( identifier : \"Title1\" , content : content , trigger : nil ) // Notication\u3092\u767a\u884c\u3059\u308b. let center = UNUserNotificationCenter . current () center . add ( request ) { ( error ) in print ( error ) } } /* Notification\u3092\u8868\u793a(10\u79d2\u5f8c) */ private func showNotificationFire () { // Notification\u3092\u751f\u6210. let content = UNMutableNotificationContent () // Title\u3092\u4ee3\u5165\u3059\u308b. content . title = \"Title1\" // Body\u3092\u4ee3\u5165\u3059\u308b. content . body = \"Hello Notification\" // \u97f3\u3092\u8a2d\u5b9a\u3059\u308b. content . sound = UNNotificationSound . default () // Trigger\u3092\u751f\u6210\u3059\u308b. let trigger = UNTimeIntervalNotificationTrigger . init ( timeInterval : 5 , repeats : false ) // Request\u3092\u751f\u6210\u3059\u308b. let request = UNNotificationRequest . init ( identifier : \"Title1\" , content : content , trigger : trigger ) // Notication\u3092\u767a\u884c\u3059\u308b. let center = UNUserNotificationCenter . current () center . add ( request ) { ( error ) in print ( error ) } } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 // // ViewController.swift // UIKit008 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { private let BUTTON_NORMAL : Int = 1 private let BUTTON_FIRE : Int = 2 override func viewDidLoad () { super . viewDidLoad () // \u30a2\u30e9\u30fc\u30c8\u306e\u8868\u793a\u8a31\u53ef\u3092\u3082\u3089\u3046. let setting = UIUserNotificationSettings ( forTypes : [. Sound , . Alert ], categories : nil ) UIApplication . sharedApplication (). registerUserNotificationSettings ( setting ) // \u3059\u3050\u306bNotification\u3092\u767a\u706b\u3059\u308b\u30dc\u30bf\u30f3. let buttonWidth : CGFloat = 200 let buttonHeight : CGFloat = 80 let posX : CGFloat = ( self . view . bounds . width - buttonWidth ) / 2 let posY : CGFloat = 200 let myButton : UIButton = UIButton ( frame : CGRectMake ( posX , posY , buttonWidth , buttonHeight )) myButton . backgroundColor = UIColor . orangeColor () myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 20.0 myButton . tag = BUTTON_NORMAL myButton . setTitle ( \"Notification\" , forState : . Normal ) myButton . addTarget ( self , action : #selector ( onClickMyButton ( _ :)), forControlEvents : . TouchDown ) view . addSubview ( myButton ) // \u6642\u9593\u3092\u304a\u3044\u3066Notification\u3092\u767a\u706b\u3059\u308b\u30dc\u30bf\u30f3. let posFireX : CGFloat = ( self . view . bounds . width - buttonWidth ) / 2 let posFireY : CGFloat = 400 let myFireButton : UIButton = UIButton ( frame : CGRectMake ( posFireX , posFireY , buttonWidth , buttonHeight )) myFireButton . backgroundColor = UIColor . blueColor () myFireButton . layer . masksToBounds = true myFireButton . layer . cornerRadius = 20.0 myFireButton . tag = BUTTON_FIRE myFireButton . setTitle ( \"Fire Notification\" , forState : . Normal ) myFireButton . addTarget ( self , action : #selector ( onClickMyButton ( _ :)), forControlEvents : . TouchDown ) view . addSubview ( myFireButton ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. */ internal func onClickMyButton ( sender : UIButton ) { print ( \"onClickMyButton\" ) if sender . tag == BUTTON_NORMAL { showNotification () } else if sender . tag == BUTTON_FIRE { showNotificationFire () } } /* Notification\u3092\u8868\u793a. */ private func showNotification () { print ( \"showNotification\" ) // Notification\u3092\u751f\u6210. let myNotification : UILocalNotification = UILocalNotification () // \u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u4ee3\u5165\u3059\u308b. myNotification . alertBody = \"TEST1\" // Timezone\u3092\u8a2d\u5b9a\u3059\u308b. myNotification . timeZone = NSTimeZone . defaultTimeZone () // Notication\u3092\u767a\u884c\u3059\u308b. UIApplication . sharedApplication (). scheduleLocalNotification ( myNotification ) } /* Notification\u3092\u8868\u793a(10\u79d2\u5f8c) */ private func showNotificationFire () { print ( \"showNotificationFire\" ) // Notification\u3092\u751f\u6210. let myFireNotification : UILocalNotification = UILocalNotification () // \u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u4ee3\u5165\u3059\u308b. myFireNotification . alertBody = \"TEST2\" // \u518d\u751f\u30b5\u30a6\u30f3\u30c9\u3092\u8a2d\u5b9a\u3059\u308b. myFireNotification . soundName = UILocalNotificationDefaultSoundName // Timezone\u3092\u8a2d\u5b9a\u3059\u308b. myFireNotification . timeZone = NSTimeZone . defaultTimeZone () // 10\u79d2\u5f8c\u306b\u8a2d\u5b9a\u3059\u308b. myFireNotification . fireDate = NSDate ( timeIntervalSinceNow : 10 ) // Notification\u3092\u767a\u884c\u3059\u308b. UIApplication . sharedApplication (). scheduleLocalNotification ( myFireNotification ) } } 2.3\u30683.0\u306e\u5dee\u5206 UILocalNotification\u304cDepricate\u306b\u3066\u3001UNUserNotificationCenter\u306b\u5909\u66f4 Reference UserNotifications https://developer.apple.com/reference/usernotifications","title":"UserNotification\u3092\u8868\u793a"},{"location":"1.uikit/008_uinotification/#usernotification","text":"Swift 4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 // // ViewController.swift // UIKit008 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit import UserNotifications class ViewController : UIViewController { private let BUTTON_NORMAL : Int = 1 private let BUTTON_FIRE : Int = 2 override func viewDidLoad () { super . viewDidLoad () // Notification\u306e\u8868\u793a\u8a31\u53ef\u3092\u3082\u3089\u3046. let center = UNUserNotificationCenter . current () center . requestAuthorization ( options : [. alert , . sound ]) { ( granted , error ) in } // \u3059\u3050\u306bNotification\u3092\u767a\u706b\u3059\u308b\u30dc\u30bf\u30f3. let buttonWidth : CGFloat = 200 let buttonHeight : CGFloat = 80 let posX : CGFloat = ( self . view . bounds . width - buttonWidth ) / 2 let posY : CGFloat = 200 let myButton : UIButton = UIButton ( frame : CGRect ( x : posX , y : posY , width : buttonWidth , height : buttonHeight )) myButton . backgroundColor = UIColor . orange myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 20.0 myButton . tag = BUTTON_NORMAL myButton . setTitle ( \"Notification\" , for : . normal ) myButton . addTarget ( self , action : #selector ( onClickMyButton ( sender :)), for : . touchDown ) view . addSubview ( myButton ) // \u6642\u9593\u3092\u304a\u3044\u3066Notification\u3092\u767a\u706b\u3059\u308b\u30dc\u30bf\u30f3. let posFireX : CGFloat = ( self . view . bounds . width - buttonWidth ) / 2 let posFireY : CGFloat = 400 let myFireButton : UIButton = UIButton ( frame : CGRect ( x : posFireX , y : posFireY , width : buttonWidth , height : buttonHeight )) myFireButton . backgroundColor = UIColor . blue myFireButton . layer . masksToBounds = true myFireButton . layer . cornerRadius = 20.0 myFireButton . tag = BUTTON_FIRE myFireButton . setTitle ( \"Fire Notification\" , for : . normal ) myFireButton . addTarget ( self , action : #selector ( onClickMyButton ( sender :)), for : . touchDown ) view . addSubview ( myFireButton ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. */ internal func onClickMyButton ( sender : UIButton ) { print ( \"onClickMyButton\" ) if sender . tag == BUTTON_NORMAL { showNotification () } else if sender . tag == BUTTON_FIRE { showNotificationFire () } } /* Notification\u3092\u8868\u793a. */ private func showNotification () { print ( \"showNotification\" ) // Notification\u3092\u751f\u6210. let content = UNMutableNotificationContent () // Title\u3092\u4ee3\u5165\u3059\u308b. content . title = \"Title1\" // Body\u3092\u4ee3\u5165\u3059\u308b. content . body = \"Hello Notification\" // \u97f3\u3092\u8a2d\u5b9a\u3059\u308b. content . sound = UNNotificationSound . default () // Request\u3092\u751f\u6210\u3059\u308b. let request = UNNotificationRequest . init ( identifier : \"Title1\" , content : content , trigger : nil ) // Notication\u3092\u767a\u884c\u3059\u308b. let center = UNUserNotificationCenter . current () center . add ( request ) { ( error ) in print ( error ) } } /* Notification\u3092\u8868\u793a(10\u79d2\u5f8c) */ private func showNotificationFire () { // Notification\u3092\u751f\u6210. let content = UNMutableNotificationContent () // Title\u3092\u4ee3\u5165\u3059\u308b. content . title = \"Title1\" // Body\u3092\u4ee3\u5165\u3059\u308b. content . body = \"Hello Notification\" // \u97f3\u3092\u8a2d\u5b9a\u3059\u308b. content . sound = UNNotificationSound . default () // Trigger\u3092\u751f\u6210\u3059\u308b. let trigger = UNTimeIntervalNotificationTrigger . init ( timeInterval : 5 , repeats : false ) // Request\u3092\u751f\u6210\u3059\u308b. let request = UNNotificationRequest . init ( identifier : \"Title1\" , content : content , trigger : trigger ) // Notication\u3092\u767a\u884c\u3059\u308b. let center = UNUserNotificationCenter . current () center . add ( request ) { ( error ) in print ( error ) } } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 // // ViewController.swift // UIKit008 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { private let BUTTON_NORMAL : Int = 1 private let BUTTON_FIRE : Int = 2 override func viewDidLoad () { super . viewDidLoad () // \u30a2\u30e9\u30fc\u30c8\u306e\u8868\u793a\u8a31\u53ef\u3092\u3082\u3089\u3046. let setting = UIUserNotificationSettings ( forTypes : [. Sound , . Alert ], categories : nil ) UIApplication . sharedApplication (). registerUserNotificationSettings ( setting ) // \u3059\u3050\u306bNotification\u3092\u767a\u706b\u3059\u308b\u30dc\u30bf\u30f3. let buttonWidth : CGFloat = 200 let buttonHeight : CGFloat = 80 let posX : CGFloat = ( self . view . bounds . width - buttonWidth ) / 2 let posY : CGFloat = 200 let myButton : UIButton = UIButton ( frame : CGRectMake ( posX , posY , buttonWidth , buttonHeight )) myButton . backgroundColor = UIColor . orangeColor () myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 20.0 myButton . tag = BUTTON_NORMAL myButton . setTitle ( \"Notification\" , forState : . Normal ) myButton . addTarget ( self , action : #selector ( onClickMyButton ( _ :)), forControlEvents : . TouchDown ) view . addSubview ( myButton ) // \u6642\u9593\u3092\u304a\u3044\u3066Notification\u3092\u767a\u706b\u3059\u308b\u30dc\u30bf\u30f3. let posFireX : CGFloat = ( self . view . bounds . width - buttonWidth ) / 2 let posFireY : CGFloat = 400 let myFireButton : UIButton = UIButton ( frame : CGRectMake ( posFireX , posFireY , buttonWidth , buttonHeight )) myFireButton . backgroundColor = UIColor . blueColor () myFireButton . layer . masksToBounds = true myFireButton . layer . cornerRadius = 20.0 myFireButton . tag = BUTTON_FIRE myFireButton . setTitle ( \"Fire Notification\" , forState : . Normal ) myFireButton . addTarget ( self , action : #selector ( onClickMyButton ( _ :)), forControlEvents : . TouchDown ) view . addSubview ( myFireButton ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. */ internal func onClickMyButton ( sender : UIButton ) { print ( \"onClickMyButton\" ) if sender . tag == BUTTON_NORMAL { showNotification () } else if sender . tag == BUTTON_FIRE { showNotificationFire () } } /* Notification\u3092\u8868\u793a. */ private func showNotification () { print ( \"showNotification\" ) // Notification\u3092\u751f\u6210. let myNotification : UILocalNotification = UILocalNotification () // \u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u4ee3\u5165\u3059\u308b. myNotification . alertBody = \"TEST1\" // Timezone\u3092\u8a2d\u5b9a\u3059\u308b. myNotification . timeZone = NSTimeZone . defaultTimeZone () // Notication\u3092\u767a\u884c\u3059\u308b. UIApplication . sharedApplication (). scheduleLocalNotification ( myNotification ) } /* Notification\u3092\u8868\u793a(10\u79d2\u5f8c) */ private func showNotificationFire () { print ( \"showNotificationFire\" ) // Notification\u3092\u751f\u6210. let myFireNotification : UILocalNotification = UILocalNotification () // \u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u4ee3\u5165\u3059\u308b. myFireNotification . alertBody = \"TEST2\" // \u518d\u751f\u30b5\u30a6\u30f3\u30c9\u3092\u8a2d\u5b9a\u3059\u308b. myFireNotification . soundName = UILocalNotificationDefaultSoundName // Timezone\u3092\u8a2d\u5b9a\u3059\u308b. myFireNotification . timeZone = NSTimeZone . defaultTimeZone () // 10\u79d2\u5f8c\u306b\u8a2d\u5b9a\u3059\u308b. myFireNotification . fireDate = NSDate ( timeIntervalSinceNow : 10 ) // Notification\u3092\u767a\u884c\u3059\u308b. UIApplication . sharedApplication (). scheduleLocalNotification ( myFireNotification ) } }","title":"UserNotification\u3092\u8868\u793a"},{"location":"1.uikit/008_uinotification/#2330","text":"UILocalNotification\u304cDepricate\u306b\u3066\u3001UNUserNotificationCenter\u306b\u5909\u66f4","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"1.uikit/008_uinotification/#reference","text":"UserNotifications https://developer.apple.com/reference/usernotifications","title":"Reference"},{"location":"1.uikit/009_uiwebview/","text":"UIWebView\u3067Web\u30da\u30fc\u30b8\u3092\u8868\u793a UIWebView\u306fiOS 12.0\u304b\u3089\u975e\u63a8\u5968 Swift 4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 // // ViewController.swift // UIKit009 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UIWebViewDelegate { private var myWebView : UIWebView ! override func viewDidLoad () { super . viewDidLoad () // WebView\u306e\u751f\u6210. myWebView = UIWebView () // Deletegate\u3092\u81ea\u8eab\u306b\u8a2d\u5b9a. myWebView . delegate = self // WebView\u306e\u30b5\u30a4\u30ba\u3092\u8a2d\u5b9a. myWebView . frame = self . view . bounds // URL\u3092\u8a2d\u5b9a. let url : URL = URL ( string : \"http://www.fabo.io\" ) ! // \u30ea\u30a8\u30b9\u30c8\u3092\u767a\u884c\u3059\u308b. let request : NSURLRequest = NSURLRequest ( url : url ) // \u30ea\u30af\u30a8\u30b9\u30c8\u3092\u767a\u884c\u3059\u308b. myWebView . loadRequest ( request as URLRequest ) // View\u306b\u8ffd\u52a0\u3059\u308b self . view . addSubview ( myWebView ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } /* Page\u304c\u5168\u3066\u8aad\u307f\u7d42\u308f\u3063\u305f\u3089\u547c\u3070\u308c\u308b. */ func webViewDidFinishLoad ( _ webView : UIWebView ) { print ( \"webViewDidFinishLoad\" ) } /* Page\u304cLoad\u3055\u308c\u59cb\u3081\u305f\u6642\u3001\u547c\u3070\u308c\u308b. */ func webViewDidStartLoad ( _ webView : UIWebView ) { print ( \"webViewDidStartLoad\" ) } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 // // ViewController.swift // UIKit009 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class VipewController : UIViewController , UIWebViewDelegate { private var myWebView : UIWebView ! override func viewDidLoad () { super . viewDidLoad () // WebView\u306e\u751f\u6210. myWebView = UIWebView () // Deletegate\u3092\u81ea\u8eab\u306b\u8a2d\u5b9a. myWebView . delegate = self // WebView\u306e\u30b5\u30a4\u30ba\u3092\u8a2d\u5b9a. myWebView . frame = self . view . bounds // URL\u3092\u8a2d\u5b9a. let url : NSURL = NSURL ( string : \"http://www.fabo.io\" ) ! // \u30ea\u30a8\u30b9\u30c8\u3092\u767a\u884c\u3059\u308b. let request : NSURLRequest = NSURLRequest ( URL : url ) // \u30ea\u30af\u30a8\u30b9\u30c8\u3092\u767a\u884c\u3059\u308b. myWebView . loadRequest ( request ) // View\u306b\u8ffd\u52a0\u3059\u308b self . view . addSubview ( myWebView ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } /* Page\u304c\u5168\u3066\u8aad\u307f\u7d42\u308f\u3063\u305f\u3089\u547c\u3070\u308c\u308b. */ func webViewDidFinishLoad ( webView : UIWebView ) { print ( \"webViewDidFinishLoad\" ) } /* Page\u304cLoad\u3055\u308c\u59cb\u3081\u305f\u6642\u3001\u547c\u3070\u308c\u308b. */ func webViewDidStartLoad ( webView : UIWebView ) { print ( \"webViewDidStartLoad\" ) } } 2.3\u30683.0\u306e\u5dee\u5206 ATS\u306e\u30ad\u30fc\u304cNSTemporaryExceptionAllowsInsecureHTTPLoads\u304b\u3089NSExceptionAllowsInsecureHTTPLoads\u306b\u5909\u66f4. ATS\u306e\u8a2d\u5b9a(3.0) info.plist info.plist 1 2 3 4 5 6 7 8 9 10 11 <key> NSAppTransportSecurity </key> <dict> <key> NSExceptionDomains </key> <dict> <key> www.fabo.io </key> <dict> <key> NSExceptionAllowsInsecureHTTPLoads </key> <true/> </dict> </dict> </dict> ATS\u306e\u8a2d\u5b9a(2.3) info.plist info.plist 1 2 3 4 5 6 7 8 9 10 11 <key> NSAppTransportSecurity </key> <dict> <key> NSExceptionDomains </key> <dict> <key> www.fabo.io </key> <dict> <key> NSTemporaryExceptionAllowsInsecureHTTPLoads </key> <true/> </dict> </dict> </dict> Reference UserNotifications https://developer.apple.com/reference/uikit/uiwebview","title":"UIWebView\u3067Web\u30da\u30fc\u30b8\u3092\u8868\u793a"},{"location":"1.uikit/009_uiwebview/#uiwebviewweb","text":"UIWebView\u306fiOS 12.0\u304b\u3089\u975e\u63a8\u5968 Swift 4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 // // ViewController.swift // UIKit009 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UIWebViewDelegate { private var myWebView : UIWebView ! override func viewDidLoad () { super . viewDidLoad () // WebView\u306e\u751f\u6210. myWebView = UIWebView () // Deletegate\u3092\u81ea\u8eab\u306b\u8a2d\u5b9a. myWebView . delegate = self // WebView\u306e\u30b5\u30a4\u30ba\u3092\u8a2d\u5b9a. myWebView . frame = self . view . bounds // URL\u3092\u8a2d\u5b9a. let url : URL = URL ( string : \"http://www.fabo.io\" ) ! // \u30ea\u30a8\u30b9\u30c8\u3092\u767a\u884c\u3059\u308b. let request : NSURLRequest = NSURLRequest ( url : url ) // \u30ea\u30af\u30a8\u30b9\u30c8\u3092\u767a\u884c\u3059\u308b. myWebView . loadRequest ( request as URLRequest ) // View\u306b\u8ffd\u52a0\u3059\u308b self . view . addSubview ( myWebView ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } /* Page\u304c\u5168\u3066\u8aad\u307f\u7d42\u308f\u3063\u305f\u3089\u547c\u3070\u308c\u308b. */ func webViewDidFinishLoad ( _ webView : UIWebView ) { print ( \"webViewDidFinishLoad\" ) } /* Page\u304cLoad\u3055\u308c\u59cb\u3081\u305f\u6642\u3001\u547c\u3070\u308c\u308b. */ func webViewDidStartLoad ( _ webView : UIWebView ) { print ( \"webViewDidStartLoad\" ) } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 // // ViewController.swift // UIKit009 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class VipewController : UIViewController , UIWebViewDelegate { private var myWebView : UIWebView ! override func viewDidLoad () { super . viewDidLoad () // WebView\u306e\u751f\u6210. myWebView = UIWebView () // Deletegate\u3092\u81ea\u8eab\u306b\u8a2d\u5b9a. myWebView . delegate = self // WebView\u306e\u30b5\u30a4\u30ba\u3092\u8a2d\u5b9a. myWebView . frame = self . view . bounds // URL\u3092\u8a2d\u5b9a. let url : NSURL = NSURL ( string : \"http://www.fabo.io\" ) ! // \u30ea\u30a8\u30b9\u30c8\u3092\u767a\u884c\u3059\u308b. let request : NSURLRequest = NSURLRequest ( URL : url ) // \u30ea\u30af\u30a8\u30b9\u30c8\u3092\u767a\u884c\u3059\u308b. myWebView . loadRequest ( request ) // View\u306b\u8ffd\u52a0\u3059\u308b self . view . addSubview ( myWebView ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } /* Page\u304c\u5168\u3066\u8aad\u307f\u7d42\u308f\u3063\u305f\u3089\u547c\u3070\u308c\u308b. */ func webViewDidFinishLoad ( webView : UIWebView ) { print ( \"webViewDidFinishLoad\" ) } /* Page\u304cLoad\u3055\u308c\u59cb\u3081\u305f\u6642\u3001\u547c\u3070\u308c\u308b. */ func webViewDidStartLoad ( webView : UIWebView ) { print ( \"webViewDidStartLoad\" ) } }","title":"UIWebView\u3067Web\u30da\u30fc\u30b8\u3092\u8868\u793a"},{"location":"1.uikit/009_uiwebview/#2330","text":"ATS\u306e\u30ad\u30fc\u304cNSTemporaryExceptionAllowsInsecureHTTPLoads\u304b\u3089NSExceptionAllowsInsecureHTTPLoads\u306b\u5909\u66f4.","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"1.uikit/009_uiwebview/#ats30","text":"info.plist info.plist 1 2 3 4 5 6 7 8 9 10 11 <key> NSAppTransportSecurity </key> <dict> <key> NSExceptionDomains </key> <dict> <key> www.fabo.io </key> <dict> <key> NSExceptionAllowsInsecureHTTPLoads </key> <true/> </dict> </dict> </dict>","title":"ATS\u306e\u8a2d\u5b9a(3.0)"},{"location":"1.uikit/009_uiwebview/#ats23","text":"info.plist info.plist 1 2 3 4 5 6 7 8 9 10 11 <key> NSAppTransportSecurity </key> <dict> <key> NSExceptionDomains </key> <dict> <key> www.fabo.io </key> <dict> <key> NSTemporaryExceptionAllowsInsecureHTTPLoads </key> <true/> </dict> </dict> </dict>","title":"ATS\u306e\u8a2d\u5b9a(2.3)"},{"location":"1.uikit/009_uiwebview/#reference","text":"UserNotifications https://developer.apple.com/reference/uikit/uiwebview","title":"Reference"},{"location":"1.uikit/010_uialertcontroller/","text":"UIAlertController\u3067\u30a2\u30e9\u30fc\u30c8\u3092\u8868\u793a Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 // // ViewController.swift // UIKit010 // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // View\u306e\u80cc\u666f\u3092Cyan\u306b\u8a2d\u5b9a\u3059\u308b. self . view . backgroundColor = UIColor . cyan // Button\u306e\u5b9a\u7fa9\u3059\u308b. let myButton : UIButton = UIButton () let buttonWidth : CGFloat = 200 let buttonHeight : CGFloat = 40 let posX : CGFloat = ( self . view . bounds . width - buttonWidth ) / 2 let posY : CGFloat = 200 myButton . frame = CGRect ( x : posX , y : posY , width : buttonWidth , height : buttonHeight ) myButton . backgroundColor = UIColor . red myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 20.0 myButton . setTitle ( \"UIAlert\u3092\u767a\u52d5\" , for : . normal ) myButton . setTitleColor ( UIColor . white , for : . normal ) myButton . addTarget ( self , action : #selector ( onClickMyButton ( sender :)), for : . touchDown ) // \u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0\u3059\u308b self . view . addSubview ( myButton ) } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8 */ @objc internal func onClickMyButton ( sender : UIButton ){ // UIAlertController\u3092\u4f5c\u6210\u3059\u308b. let myAlert : UIAlertController = UIAlertController ( title : \"\u30bf\u30a4\u30c8\u30eb\" , message : \"\u30e1\u30c3\u30bb\u30fc\u30b8\" , preferredStyle : . alert ) // OK\u306e\u30a2\u30af\u30b7\u30e7\u30f3\u3092\u4f5c\u6210\u3059\u308b. let myOkAction = UIAlertAction ( title : \"OK\" , style : . default ) { action in print ( \"Action OK!!\" ) } // OK\u306eAction\u3092\u8ffd\u52a0\u3059\u308b. myAlert . addAction ( myOkAction ) // UIAlert\u3092\u767a\u52d5\u3059\u308b. present ( myAlert , animated : true , completion : nil ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 // // ViewController.swift // UIKit010 // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // View\u306e\u80cc\u666f\u3092Cyan\u306b\u8a2d\u5b9a\u3059\u308b. self . view . backgroundColor = UIColor . cyan // Button\u306e\u5b9a\u7fa9\u3059\u308b. let myButton : UIButton = UIButton () let buttonWidth : CGFloat = 200 let buttonHeight : CGFloat = 40 let posX : CGFloat = ( self . view . bounds . width - buttonWidth ) / 2 let posY : CGFloat = 200 myButton . frame = CGRect ( x : posX , y : posY , width : buttonWidth , height : buttonHeight ) myButton . backgroundColor = UIColor . red myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 20.0 myButton . setTitle ( \"UIAlert\u3092\u767a\u52d5\" , for : . normal ) myButton . setTitleColor ( UIColor . white , for : . normal ) myButton . addTarget ( self , action : #selector ( onClickMyButton ( sender :)), for : . touchDown ) // \u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0\u3059\u308b self . view . addSubview ( myButton ) } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8 */ internal func onClickMyButton ( sender : UIButton ){ // UIAlertController\u3092\u4f5c\u6210\u3059\u308b. let myAlert : UIAlertController = UIAlertController ( title : \"\u30bf\u30a4\u30c8\u30eb\" , message : \"\u30e1\u30c3\u30bb\u30fc\u30b8\" , preferredStyle : . alert ) // OK\u306e\u30a2\u30af\u30b7\u30e7\u30f3\u3092\u4f5c\u6210\u3059\u308b. let myOkAction = UIAlertAction ( title : \"OK\" , style : . default ) { action in print ( \"Action OK!!\" ) } // OK\u306eAction\u3092\u8ffd\u52a0\u3059\u308b. myAlert . addAction ( myOkAction ) // UIAlert\u3092\u767a\u52d5\u3059\u308b. present ( myAlert , animated : true , completion : nil ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 // // ViewController.swift // UIKit010 // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // View\u306e\u80cc\u666f\u3092Cyan\u306b\u8a2d\u5b9a\u3059\u308b. self . view . backgroundColor = UIColor . cyanColor () // Button\u306e\u5b9a\u7fa9\u3059\u308b. let myButton : UIButton = UIButton () let buttonWidth : CGFloat = 200 let buttonHeight : CGFloat = 40 let posX : CGFloat = ( self . view . bounds . width - buttonWidth ) / 2 let posY : CGFloat = 200 myButton . frame = CGRectMake ( posX , posY , buttonWidth , buttonHeight ) myButton . backgroundColor = UIColor . redColor () myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 20.0 myButton . setTitle ( \"UIAlert\u3092\u767a\u52d5\" , forState : . Normal ) myButton . setTitleColor ( UIColor . whiteColor (), forState : . Normal ) myButton . addTarget ( self , action : #selector ( onClickMyButton ( _ :)), forControlEvents : . TouchDown ) // \u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0\u3059\u308b self . view . addSubview ( myButton ) } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8 */ internal func onClickMyButton ( sender : UIButton ){ // UIAlertController\u3092\u4f5c\u6210\u3059\u308b. let myAlert : UIAlertController = UIAlertController ( title : \"\u30bf\u30a4\u30c8\u30eb\" , message : \"\u30e1\u30c3\u30bb\u30fc\u30b8\" , preferredStyle : . Alert ) // OK\u306e\u30a2\u30af\u30b7\u30e7\u30f3\u3092\u4f5c\u6210\u3059\u308b. let myOkAction = UIAlertAction ( title : \"OK\" , style : . Default ) { action in print ( \"Action OK!!\" ) } // OK\u306eAction\u3092\u8ffd\u52a0\u3059\u308b. myAlert . addAction ( myOkAction ) // UIAlert\u3092\u767a\u52d5\u3059\u308b. presentViewController ( myAlert , animated : true , completion : nil ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } 3.0\u30684.0\u306e\u5dee\u5206 internal func onClickMyButton(sender: UIButton) \u306b @objc \u3092\u8ffd\u52a0 2.3\u30683.0\u306e\u5dee\u5206 presentViewController()\u304cpresent()\u306b\u5909\u66f4. Reference UserNotifications https://developer.apple.com/reference/uikit/uialertcontroller","title":"UIAlertController\u3067\u30a2\u30e9\u30fc\u30c8\u3092\u8868\u793a"},{"location":"1.uikit/010_uialertcontroller/#uialertcontroller","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 // // ViewController.swift // UIKit010 // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // View\u306e\u80cc\u666f\u3092Cyan\u306b\u8a2d\u5b9a\u3059\u308b. self . view . backgroundColor = UIColor . cyan // Button\u306e\u5b9a\u7fa9\u3059\u308b. let myButton : UIButton = UIButton () let buttonWidth : CGFloat = 200 let buttonHeight : CGFloat = 40 let posX : CGFloat = ( self . view . bounds . width - buttonWidth ) / 2 let posY : CGFloat = 200 myButton . frame = CGRect ( x : posX , y : posY , width : buttonWidth , height : buttonHeight ) myButton . backgroundColor = UIColor . red myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 20.0 myButton . setTitle ( \"UIAlert\u3092\u767a\u52d5\" , for : . normal ) myButton . setTitleColor ( UIColor . white , for : . normal ) myButton . addTarget ( self , action : #selector ( onClickMyButton ( sender :)), for : . touchDown ) // \u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0\u3059\u308b self . view . addSubview ( myButton ) } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8 */ @objc internal func onClickMyButton ( sender : UIButton ){ // UIAlertController\u3092\u4f5c\u6210\u3059\u308b. let myAlert : UIAlertController = UIAlertController ( title : \"\u30bf\u30a4\u30c8\u30eb\" , message : \"\u30e1\u30c3\u30bb\u30fc\u30b8\" , preferredStyle : . alert ) // OK\u306e\u30a2\u30af\u30b7\u30e7\u30f3\u3092\u4f5c\u6210\u3059\u308b. let myOkAction = UIAlertAction ( title : \"OK\" , style : . default ) { action in print ( \"Action OK!!\" ) } // OK\u306eAction\u3092\u8ffd\u52a0\u3059\u308b. myAlert . addAction ( myOkAction ) // UIAlert\u3092\u767a\u52d5\u3059\u308b. present ( myAlert , animated : true , completion : nil ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 // // ViewController.swift // UIKit010 // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // View\u306e\u80cc\u666f\u3092Cyan\u306b\u8a2d\u5b9a\u3059\u308b. self . view . backgroundColor = UIColor . cyan // Button\u306e\u5b9a\u7fa9\u3059\u308b. let myButton : UIButton = UIButton () let buttonWidth : CGFloat = 200 let buttonHeight : CGFloat = 40 let posX : CGFloat = ( self . view . bounds . width - buttonWidth ) / 2 let posY : CGFloat = 200 myButton . frame = CGRect ( x : posX , y : posY , width : buttonWidth , height : buttonHeight ) myButton . backgroundColor = UIColor . red myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 20.0 myButton . setTitle ( \"UIAlert\u3092\u767a\u52d5\" , for : . normal ) myButton . setTitleColor ( UIColor . white , for : . normal ) myButton . addTarget ( self , action : #selector ( onClickMyButton ( sender :)), for : . touchDown ) // \u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0\u3059\u308b self . view . addSubview ( myButton ) } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8 */ internal func onClickMyButton ( sender : UIButton ){ // UIAlertController\u3092\u4f5c\u6210\u3059\u308b. let myAlert : UIAlertController = UIAlertController ( title : \"\u30bf\u30a4\u30c8\u30eb\" , message : \"\u30e1\u30c3\u30bb\u30fc\u30b8\" , preferredStyle : . alert ) // OK\u306e\u30a2\u30af\u30b7\u30e7\u30f3\u3092\u4f5c\u6210\u3059\u308b. let myOkAction = UIAlertAction ( title : \"OK\" , style : . default ) { action in print ( \"Action OK!!\" ) } // OK\u306eAction\u3092\u8ffd\u52a0\u3059\u308b. myAlert . addAction ( myOkAction ) // UIAlert\u3092\u767a\u52d5\u3059\u308b. present ( myAlert , animated : true , completion : nil ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 // // ViewController.swift // UIKit010 // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // View\u306e\u80cc\u666f\u3092Cyan\u306b\u8a2d\u5b9a\u3059\u308b. self . view . backgroundColor = UIColor . cyanColor () // Button\u306e\u5b9a\u7fa9\u3059\u308b. let myButton : UIButton = UIButton () let buttonWidth : CGFloat = 200 let buttonHeight : CGFloat = 40 let posX : CGFloat = ( self . view . bounds . width - buttonWidth ) / 2 let posY : CGFloat = 200 myButton . frame = CGRectMake ( posX , posY , buttonWidth , buttonHeight ) myButton . backgroundColor = UIColor . redColor () myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 20.0 myButton . setTitle ( \"UIAlert\u3092\u767a\u52d5\" , forState : . Normal ) myButton . setTitleColor ( UIColor . whiteColor (), forState : . Normal ) myButton . addTarget ( self , action : #selector ( onClickMyButton ( _ :)), forControlEvents : . TouchDown ) // \u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0\u3059\u308b self . view . addSubview ( myButton ) } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8 */ internal func onClickMyButton ( sender : UIButton ){ // UIAlertController\u3092\u4f5c\u6210\u3059\u308b. let myAlert : UIAlertController = UIAlertController ( title : \"\u30bf\u30a4\u30c8\u30eb\" , message : \"\u30e1\u30c3\u30bb\u30fc\u30b8\" , preferredStyle : . Alert ) // OK\u306e\u30a2\u30af\u30b7\u30e7\u30f3\u3092\u4f5c\u6210\u3059\u308b. let myOkAction = UIAlertAction ( title : \"OK\" , style : . Default ) { action in print ( \"Action OK!!\" ) } // OK\u306eAction\u3092\u8ffd\u52a0\u3059\u308b. myAlert . addAction ( myOkAction ) // UIAlert\u3092\u767a\u52d5\u3059\u308b. presentViewController ( myAlert , animated : true , completion : nil ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } }","title":"UIAlertController\u3067\u30a2\u30e9\u30fc\u30c8\u3092\u8868\u793a"},{"location":"1.uikit/010_uialertcontroller/#3040","text":"internal func onClickMyButton(sender: UIButton) \u306b @objc \u3092\u8ffd\u52a0","title":"3.0\u30684.0\u306e\u5dee\u5206"},{"location":"1.uikit/010_uialertcontroller/#2330","text":"presentViewController()\u304cpresent()\u306b\u5909\u66f4.","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"1.uikit/010_uialertcontroller/#reference","text":"UserNotifications https://developer.apple.com/reference/uikit/uialertcontroller","title":"Reference"},{"location":"1.uikit/011_uipickerview/","text":"UIPickerView\u3067\u5024\u306e\u9078\u629e Swift 4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 // // ViewController.swift // UIKit011 // import UIKit class ViewController : UIViewController , UIPickerViewDelegate , UIPickerViewDataSource { // UIPickerView. private var myUIPicker : UIPickerView ! // \u8868\u793a\u3059\u308b\u5024\u306e\u914d\u5217. private let myValues : NSArray = [ \"\u305d\u306e\u4e00\" , \"\u305d\u306e\u4e8c\" , \"\u305d\u306e\u4e09\" , \"\u305d\u306e\u56db\" ] override func viewDidLoad () { super . viewDidLoad () // UIPickerView\u3092\u751f\u6210. myUIPicker = UIPickerView () // \u30b5\u30a4\u30ba\u3092\u6307\u5b9a\u3059\u308b. myUIPicker . frame = CGRect ( x : 0 , y : 0 , width : self . view . bounds . width , height : 180.0 ) // Delegate\u3092\u8a2d\u5b9a\u3059\u308b. myUIPicker . delegate = self // DataSource\u3092\u8a2d\u5b9a\u3059\u308b. myUIPicker . dataSource = self // View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myUIPicker ) } func numberOfComponents ( in pickerView : UIPickerView ) -> Int { return 1 } /* picker\u306b\u8868\u793a\u3059\u308b\u884c\u6570\u3092\u8fd4\u3059\u30c7\u30fc\u30bf\u30bd\u30fc\u30b9\u30e1\u30bd\u30c3\u30c9. (\u5b9f\u88c5\u5fc5\u9808) */ func pickerView ( _ pickerView : UIPickerView , numberOfRowsInComponent component : Int ) -> Int { return myValues . count } /* picker\u306b\u8868\u793a\u3059\u308b\u5024\u3092\u8fd4\u3059\u30c7\u30ea\u30b2\u30fc\u30c8\u30e1\u30bd\u30c3\u30c9. */ func pickerView ( _ pickerView : UIPickerView , titleForRow row : Int , forComponent component : Int ) -> String ? { return myValues [ row ] as ? String } /* picker\u304c\u9078\u629e\u3055\u308c\u305f\u969b\u306b\u547c\u3070\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8\u30e1\u30bd\u30c3\u30c9. */ func pickerView ( _ pickerView : UIPickerView , didSelectRow row : Int , inComponent component : Int ) { print ( \"row: \\( row ) \" ) print ( \"value: \\( myValues [ row ] ) \" ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 // // ViewController.swift // UIKit011 // import UIKit class ViewController : UIViewController , UIPickerViewDelegate , UIPickerViewDataSource { // UIPickerView. private var myUIPicker : UIPickerView ! // \u8868\u793a\u3059\u308b\u5024\u306e\u914d\u5217. private let myValues : NSArray = [ \"\u305d\u306e\u4e00\" , \"\u305d\u306e\u4e8c\" , \"\u305d\u306e\u4e09\" , \"\u305d\u306e\u56db\" ] override func viewDidLoad () { super . viewDidLoad () // UIPickerView\u3092\u751f\u6210. myUIPicker = UIPickerView () // \u30b5\u30a4\u30ba\u3092\u6307\u5b9a\u3059\u308b. myUIPicker . frame = CGRectMake ( 0 , 0 , self . view . bounds . width , 180.0 ) // Delegate\u3092\u8a2d\u5b9a\u3059\u308b. myUIPicker . delegate = self // DataSource\u3092\u8a2d\u5b9a\u3059\u308b. myUIPicker . dataSource = self // View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myUIPicker ) } /* picker\u306b\u8868\u793a\u3059\u308b\u5217\u6570\u3092\u8fd4\u3059\u30c7\u30fc\u30bf\u30bd\u30fc\u30b9\u30e1\u30bd\u30c3\u30c9. (\u5b9f\u88c5\u5fc5\u9808) */ func numberOfComponentsInPickerView ( pickerView : UIPickerView ) -> Int { return 1 } /* picker\u306b\u8868\u793a\u3059\u308b\u884c\u6570\u3092\u8fd4\u3059\u30c7\u30fc\u30bf\u30bd\u30fc\u30b9\u30e1\u30bd\u30c3\u30c9. (\u5b9f\u88c5\u5fc5\u9808) */ func pickerView ( pickerView : UIPickerView , numberOfRowsInComponent component : Int ) -> Int { return myValues . count } /* picker\u306b\u8868\u793a\u3059\u308b\u5024\u3092\u8fd4\u3059\u30c7\u30ea\u30b2\u30fc\u30c8\u30e1\u30bd\u30c3\u30c9. */ func pickerView ( pickerView : UIPickerView , titleForRow row : Int , forComponent component : Int ) -> String ? { return myValues [ row ] as ? String } /* picker\u304c\u9078\u629e\u3055\u308c\u305f\u969b\u306b\u547c\u3070\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8\u30e1\u30bd\u30c3\u30c9. */ func pickerView ( pickerView : UIPickerView , didSelectRow row : Int , inComponent component : Int ) { print ( \"row: \\( row ) \" ) print ( \"value: \\( myValues [ row ] ) \" ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } 2.3\u30683.0\u306e\u5dee\u5206 numberOfComponentsInPickerView()\u304c\u3001numberOfComponents()\u306b\u5909\u66f4. Reference UIPIckerView https://developer.apple.com/reference/uikit/uipickerview","title":"UIPickerView\u3067\u5024\u306e\u9078\u629e"},{"location":"1.uikit/011_uipickerview/#uipickerview","text":"Swift 4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 // // ViewController.swift // UIKit011 // import UIKit class ViewController : UIViewController , UIPickerViewDelegate , UIPickerViewDataSource { // UIPickerView. private var myUIPicker : UIPickerView ! // \u8868\u793a\u3059\u308b\u5024\u306e\u914d\u5217. private let myValues : NSArray = [ \"\u305d\u306e\u4e00\" , \"\u305d\u306e\u4e8c\" , \"\u305d\u306e\u4e09\" , \"\u305d\u306e\u56db\" ] override func viewDidLoad () { super . viewDidLoad () // UIPickerView\u3092\u751f\u6210. myUIPicker = UIPickerView () // \u30b5\u30a4\u30ba\u3092\u6307\u5b9a\u3059\u308b. myUIPicker . frame = CGRect ( x : 0 , y : 0 , width : self . view . bounds . width , height : 180.0 ) // Delegate\u3092\u8a2d\u5b9a\u3059\u308b. myUIPicker . delegate = self // DataSource\u3092\u8a2d\u5b9a\u3059\u308b. myUIPicker . dataSource = self // View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myUIPicker ) } func numberOfComponents ( in pickerView : UIPickerView ) -> Int { return 1 } /* picker\u306b\u8868\u793a\u3059\u308b\u884c\u6570\u3092\u8fd4\u3059\u30c7\u30fc\u30bf\u30bd\u30fc\u30b9\u30e1\u30bd\u30c3\u30c9. (\u5b9f\u88c5\u5fc5\u9808) */ func pickerView ( _ pickerView : UIPickerView , numberOfRowsInComponent component : Int ) -> Int { return myValues . count } /* picker\u306b\u8868\u793a\u3059\u308b\u5024\u3092\u8fd4\u3059\u30c7\u30ea\u30b2\u30fc\u30c8\u30e1\u30bd\u30c3\u30c9. */ func pickerView ( _ pickerView : UIPickerView , titleForRow row : Int , forComponent component : Int ) -> String ? { return myValues [ row ] as ? String } /* picker\u304c\u9078\u629e\u3055\u308c\u305f\u969b\u306b\u547c\u3070\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8\u30e1\u30bd\u30c3\u30c9. */ func pickerView ( _ pickerView : UIPickerView , didSelectRow row : Int , inComponent component : Int ) { print ( \"row: \\( row ) \" ) print ( \"value: \\( myValues [ row ] ) \" ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 // // ViewController.swift // UIKit011 // import UIKit class ViewController : UIViewController , UIPickerViewDelegate , UIPickerViewDataSource { // UIPickerView. private var myUIPicker : UIPickerView ! // \u8868\u793a\u3059\u308b\u5024\u306e\u914d\u5217. private let myValues : NSArray = [ \"\u305d\u306e\u4e00\" , \"\u305d\u306e\u4e8c\" , \"\u305d\u306e\u4e09\" , \"\u305d\u306e\u56db\" ] override func viewDidLoad () { super . viewDidLoad () // UIPickerView\u3092\u751f\u6210. myUIPicker = UIPickerView () // \u30b5\u30a4\u30ba\u3092\u6307\u5b9a\u3059\u308b. myUIPicker . frame = CGRectMake ( 0 , 0 , self . view . bounds . width , 180.0 ) // Delegate\u3092\u8a2d\u5b9a\u3059\u308b. myUIPicker . delegate = self // DataSource\u3092\u8a2d\u5b9a\u3059\u308b. myUIPicker . dataSource = self // View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myUIPicker ) } /* picker\u306b\u8868\u793a\u3059\u308b\u5217\u6570\u3092\u8fd4\u3059\u30c7\u30fc\u30bf\u30bd\u30fc\u30b9\u30e1\u30bd\u30c3\u30c9. (\u5b9f\u88c5\u5fc5\u9808) */ func numberOfComponentsInPickerView ( pickerView : UIPickerView ) -> Int { return 1 } /* picker\u306b\u8868\u793a\u3059\u308b\u884c\u6570\u3092\u8fd4\u3059\u30c7\u30fc\u30bf\u30bd\u30fc\u30b9\u30e1\u30bd\u30c3\u30c9. (\u5b9f\u88c5\u5fc5\u9808) */ func pickerView ( pickerView : UIPickerView , numberOfRowsInComponent component : Int ) -> Int { return myValues . count } /* picker\u306b\u8868\u793a\u3059\u308b\u5024\u3092\u8fd4\u3059\u30c7\u30ea\u30b2\u30fc\u30c8\u30e1\u30bd\u30c3\u30c9. */ func pickerView ( pickerView : UIPickerView , titleForRow row : Int , forComponent component : Int ) -> String ? { return myValues [ row ] as ? String } /* picker\u304c\u9078\u629e\u3055\u308c\u305f\u969b\u306b\u547c\u3070\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8\u30e1\u30bd\u30c3\u30c9. */ func pickerView ( pickerView : UIPickerView , didSelectRow row : Int , inComponent component : Int ) { print ( \"row: \\( row ) \" ) print ( \"value: \\( myValues [ row ] ) \" ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } }","title":"UIPickerView\u3067\u5024\u306e\u9078\u629e"},{"location":"1.uikit/011_uipickerview/#2330","text":"numberOfComponentsInPickerView()\u304c\u3001numberOfComponents()\u306b\u5909\u66f4.","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"1.uikit/011_uipickerview/#reference","text":"UIPIckerView https://developer.apple.com/reference/uikit/uipickerview","title":"Reference"},{"location":"1.uikit/012_uinavigationcontroller/","text":"UUINavigationController\u306e\u8868\u793a AppDelegate.swift Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 // // AppDelegate.swift // UIKit012 // // Copyright \u00a9 2018\u5e74 FaBo, Inc. All rights reserved. // import UIKit @UIApplicationMain class AppDelegate : UIResponder , UIApplicationDelegate { var window : UIWindow ? func application ( _ application : UIApplication , didFinishLaunchingWithOptions launchOptions : [ UIApplication . LaunchOptionsKey : Any ]? = nil ) -> Bool { // ViewController\u3092\u751f\u6210\u3059\u308b. let myFirstViewController : FirstViewController = FirstViewController () // myFirstViewController\u3092rootview\u306b\u8a2d\u5b9a\u3057\u3001Navication Controller\u3092\u751f\u6210\u3059\u308b. let myNavigationController : UINavigationController = UINavigationController ( rootViewController : myFirstViewController ) // rootViewController\u306bNavigationController\u3092\u8a2d\u5b9a\u3059\u308b. self . window ?. rootViewController = myNavigationController // NavigationController\u3092\u8868\u793a\u3059\u308b. self . window ?. makeKeyAndVisible () return true } func applicationWillResignActive ( _ application : UIApplication ) { // Sent when the application is about to move from active to inactive state. This can occur for certain types of temporary interruptions (such as an incoming phone call or SMS message) or when the user quits the application and it begins the transition to the background state. // Use this method to pause ongoing tasks, disable timers, and invalidate graphics rendering callbacks. Games should use this method to pause the game. } func applicationDidEnterBackground ( _ application : UIApplication ) { // Use this method to release shared resources, save user data, invalidate timers, and store enough application state information to restore your application to its current state in case it is terminated later. // If your application supports background execution, this method is called instead of applicationWillTerminate: when the user quits. } func applicationWillEnterForeground ( _ application : UIApplication ) { // Called as part of the transition from the background to the active state; here you can undo many of the changes made on entering the background. } func applicationDidBecomeActive ( _ application : UIApplication ) { // Restart any tasks that were paused (or not yet started) while the application was inactive. If the application was previously in the background, optionally refresh the user interface. } func applicationWillTerminate ( _ application : UIApplication ) { // Called when the application is about to terminate. Save data if appropriate. See also applicationDidEnterBackground:. } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 // // AppDelegate.swift // UIKit012 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit @UIApplicationMain class AppDelegate : UIResponder , UIApplicationDelegate { var window : UIWindow ? func application ( _ application : UIApplication , didFinishLaunchingWithOptions launchOptions : [ NSObject : AnyObject ]?) -> Bool { // ViewController\u3092\u751f\u6210\u3059\u308b. let myFirstViewController : FirstViewController = FirstViewController () // myFirstViewController\u3092rootview\u306b\u8a2d\u5b9a\u3057\u3001Navication Controller\u3092\u751f\u6210\u3059\u308b. let myNavigationController : UINavigationController = UINavigationController ( rootViewController : myFirstViewController ) // rootViewController\u306bNavigationController\u3092\u8a2d\u5b9a\u3059\u308b. self . window ?. rootViewController = myNavigationController // NavigationController\u3092\u8868\u793a\u3059\u308b. self . window ?. makeKeyAndVisible () return true } func applicationWillResignActive ( _ application : UIApplication ) { // Sent when the application is about to move from active to inactive state. This can occur for certain types of temporary interruptions (such as an incoming phone call or SMS message) or when the user quits the application and it begins the transition to the background state. // Use this method to pause ongoing tasks, disable timers, and invalidate graphics rendering callbacks. Games should use this method to pause the game. } func applicationDidEnterBackground ( _ application : UIApplication ) { // Use this method to release shared resources, save user data, invalidate timers, and store enough application state information to restore your application to its current state in case it is terminated later. // If your application supports background execution, this method is called instead of applicationWillTerminate: when the user quits. } func applicationWillEnterForeground ( _ application : UIApplication ) { // Called as part of the transition from the background to the active state; here you can undo many of the changes made on entering the background. } func applicationDidBecomeActive ( _ application : UIApplication ) { // Restart any tasks that were paused (or not yet started) while the application was inactive. If the application was previously in the background, optionally refresh the user interface. } func applicationWillTerminate ( _ application : UIApplication ) { // Called when the application is about to terminate. Save data if appropriate. See also applicationDidEnterBackground:. } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 // // AppDelegate.swift // UIKit012 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit @UIApplicationMain class AppDelegate : UIResponder , UIApplicationDelegate { var window : UIWindow ? func application ( application : UIApplication , didFinishLaunchingWithOptions launchOptions : [ NSObject : AnyObject ]?) -> Bool { // ViewController\u3092\u751f\u6210\u3059\u308b. let myFirstViewController : FirstViewController = FirstViewController () // myFirstViewController\u3092rootview\u306b\u8a2d\u5b9a\u3057\u3001Navication Controller\u3092\u751f\u6210\u3059\u308b. var myNavigationController : UINavigationController = UINavigationController ( rootViewController : myFirstViewController ) // rootViewController\u306bNavigationController\u3092\u8a2d\u5b9a\u3059\u308b. self . window ?. rootViewController = myNavigationController // NavigationController\u3092\u8868\u793a\u3059\u308b. self . window ?. makeKeyAndVisible () return true } func applicationWillResignActive ( application : UIApplication ) { // Sent when the application is about to move from active to inactive state. This can occur for certain types of temporary interruptions (such as an incoming phone call or SMS message) or when the user quits the application and it begins the transition to the background state. // Use this method to pause ongoing tasks, disable timers, and throttle down OpenGL ES frame rates. Games should use this method to pause the game. } func applicationDidEnterBackground ( application : UIApplication ) { // Use this method to release shared resources, save user data, invalidate timers, and store enough application state information to restore your application to its current state in case it is terminated later. // If your application supports background execution, this method is called instead of applicationWillTerminate: when the user quits. } func applicationWillEnterForeground ( application : UIApplication ) { // Called as part of the transition from the background to the inactive state; here you can undo many of the changes made on entering the background. } func applicationDidBecomeActive ( application : UIApplication ) { // Restart any tasks that were paused (or not yet started) while the application was inactive. If the application was previously in the background, optionally refresh the user interface. } func applicationWillTerminate ( application : UIApplication ) { // Called when the application is about to terminate. Save data if appropriate. See also applicationDidEnterBackground:. } } FirstViewController.swift Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 // // FirstViewController.swift // UIKit012 // // Copyright \u00a9 2018\u5e74 FaBo, Inc. All rights reserved. // import UIKit class FirstViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // Controller\u306e\u30bf\u30a4\u30c8\u30eb\u3092\u8a2d\u5b9a\u3059\u308b. self . title = \"My First View\" // View\u306e\u80cc\u666f\u8272\u3092Cyan\u306b\u8a2d\u5b9a\u3059\u308b. self . view . backgroundColor = UIColor . cyan // \u30dc\u30bf\u30f3\u306e\u5b9a\u7fa9\u3092\u304a\u3053\u306a\u3046. let buttonWidth : CGFloat = 100 let buttonHeight : CGFloat = 50 let posX : CGFloat = ( self . view . bounds . width - buttonWidth ) / 2 let posY : CGFloat = 200 let myButton = UIButton ( frame : CGRect ( x : posX , y : posY , width : buttonWidth , height : buttonHeight )) myButton . backgroundColor = UIColor . orange myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 20.0 myButton . setTitle ( \"\u30dc\u30bf\u30f3\" , for : . normal ) myButton . addTarget ( self , action : #selector ( onClickMyButton ( sender :)), for : . touchUpInside ) // \u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myButton ); } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8 */ @objc internal func onClickMyButton ( sender : UIButton ){ // \u79fb\u52d5\u5148\u306eView\u3092\u5b9a\u7fa9\u3059\u308b. let secondViewController = SecondViewController () // SecondView\u306b\u79fb\u52d5\u3059\u308b. self . navigationController ?. pushViewController ( secondViewController , animated : true ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 // // FirstViewController.swift // UIKit012 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class FirstViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // Controller\u306e\u30bf\u30a4\u30c8\u30eb\u3092\u8a2d\u5b9a\u3059\u308b. self . title = \"My First View\" // View\u306e\u80cc\u666f\u8272\u3092Cyan\u306b\u8a2d\u5b9a\u3059\u308b. self . view . backgroundColor = UIColor . cyan // \u30dc\u30bf\u30f3\u306e\u5b9a\u7fa9\u3092\u304a\u3053\u306a\u3046. let buttonWidth : CGFloat = 100 let buttonHeight : CGFloat = 50 let posX : CGFloat = ( self . view . bounds . width - buttonWidth ) / 2 let posY : CGFloat = 200 let myButton = UIButton ( frame : CGRect ( x : posX , y : posY , width : buttonWidth , height : buttonHeight )) myButton . backgroundColor = UIColor . orange myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 20.0 myButton . setTitle ( \"\u30dc\u30bf\u30f3\" , for : . normal ) myButton . addTarget ( self , action : #selector ( onClickMyButton ( sender :)), for : . touchUpInside ) // \u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myButton ); } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8 */ internal func onClickMyButton ( sender : UIButton ){ // \u79fb\u52d5\u5148\u306eView\u3092\u5b9a\u7fa9\u3059\u308b. let secondViewController = SecondViewController () // SecondView\u306b\u79fb\u52d5\u3059\u308b. self . navigationController ?. pushViewController ( secondViewController , animated : true ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 // // FirstViewController.swift // UIKit012 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class FirstViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // Controller\u306e\u30bf\u30a4\u30c8\u30eb\u3092\u8a2d\u5b9a\u3059\u308b. self . title = \"My First View\" // View\u306e\u80cc\u666f\u8272\u3092Cyan\u306b\u8a2d\u5b9a\u3059\u308b. self . view . backgroundColor = UIColor . cyanColor () // \u30dc\u30bf\u30f3\u306e\u5b9a\u7fa9\u3092\u304a\u3053\u306a\u3046. let buttonWidth : CGFloat = 100 let buttonHeight : CGFloat = 50 let posX : CGFloat = ( self . view . bounds . width - buttonWidth ) / 2 let posY : CGFloat = 200 let myButton = UIButton ( frame : CGRectMake ( posX , posY , buttonWidth , buttonHeight )) myButton . backgroundColor = UIColor . orangeColor () myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 20.0 myButton . setTitle ( \"\u30dc\u30bf\u30f3\" , forState : . Normal ) myButton . addTarget ( self , action : #selector ( onClickMyButton ( _ :)), forControlEvents : . TouchUpInside ) // \u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myButton ); } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8 */ internal func onClickMyButton ( sender : UIButton ){ // \u79fb\u52d5\u5148\u306eView\u3092\u5b9a\u7fa9\u3059\u308b. let secondViewController = SecondViewController () // SecondView\u306b\u79fb\u52d5\u3059\u308b. self . navigationController ?. pushViewController ( secondViewController , animated : true ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } } SecondViewController.swift Swift 4.x/3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 // // SecondViewController.swift // UIKit012 // // Copyright \u00a9 2018\u5e74 FaBo, Inc. All rights reserved. // import UIKit class SecondViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // Controller\u306e\u30bf\u30a4\u30c8\u30eb\u3092\u8a2d\u5b9a\u3059\u308b. self . title = \"My Second View\" // View\u306e\u80cc\u666f\u8272\u3092\u5b9a\u7fa9\u3059\u308b. self . view . backgroundColor = UIColor . green } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 // // SecondViewController.swift // UIKit012 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class SecondViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // Controller\u306e\u30bf\u30a4\u30c8\u30eb\u3092\u8a2d\u5b9a\u3059\u308b. self . title = \"My Second View\" // View\u306e\u80cc\u666f\u8272\u3092\u5b9a\u7fa9\u3059\u308b. self . view . backgroundColor = UIColor . greenColor () } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } } 3.0\u30684.0\u306e\u5dee\u5206 [NSObject: AnyObject]? \u304c\u3001 [UIApplication.LaunchOptionsKey : Any]? = nil \u306b\u5909\u66f4 internal func onClickMyButton(sender: UIButton) \u306b @objc \u3092\u8ffd\u52a0 2.3\u30683.0\u306e\u5dee\u5206 UIScreen.mainScreen()\u304cUIScreen.main\u306b\u5909\u66f4. Reference UINavigationController https://developer.apple.com/reference/uikit/uinavigationcontroller","title":"UUINavigationController\u306e\u8868\u793a"},{"location":"1.uikit/012_uinavigationcontroller/#uuinavigationcontroller","text":"","title":"UUINavigationController\u306e\u8868\u793a"},{"location":"1.uikit/012_uinavigationcontroller/#appdelegateswift","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 // // AppDelegate.swift // UIKit012 // // Copyright \u00a9 2018\u5e74 FaBo, Inc. All rights reserved. // import UIKit @UIApplicationMain class AppDelegate : UIResponder , UIApplicationDelegate { var window : UIWindow ? func application ( _ application : UIApplication , didFinishLaunchingWithOptions launchOptions : [ UIApplication . LaunchOptionsKey : Any ]? = nil ) -> Bool { // ViewController\u3092\u751f\u6210\u3059\u308b. let myFirstViewController : FirstViewController = FirstViewController () // myFirstViewController\u3092rootview\u306b\u8a2d\u5b9a\u3057\u3001Navication Controller\u3092\u751f\u6210\u3059\u308b. let myNavigationController : UINavigationController = UINavigationController ( rootViewController : myFirstViewController ) // rootViewController\u306bNavigationController\u3092\u8a2d\u5b9a\u3059\u308b. self . window ?. rootViewController = myNavigationController // NavigationController\u3092\u8868\u793a\u3059\u308b. self . window ?. makeKeyAndVisible () return true } func applicationWillResignActive ( _ application : UIApplication ) { // Sent when the application is about to move from active to inactive state. This can occur for certain types of temporary interruptions (such as an incoming phone call or SMS message) or when the user quits the application and it begins the transition to the background state. // Use this method to pause ongoing tasks, disable timers, and invalidate graphics rendering callbacks. Games should use this method to pause the game. } func applicationDidEnterBackground ( _ application : UIApplication ) { // Use this method to release shared resources, save user data, invalidate timers, and store enough application state information to restore your application to its current state in case it is terminated later. // If your application supports background execution, this method is called instead of applicationWillTerminate: when the user quits. } func applicationWillEnterForeground ( _ application : UIApplication ) { // Called as part of the transition from the background to the active state; here you can undo many of the changes made on entering the background. } func applicationDidBecomeActive ( _ application : UIApplication ) { // Restart any tasks that were paused (or not yet started) while the application was inactive. If the application was previously in the background, optionally refresh the user interface. } func applicationWillTerminate ( _ application : UIApplication ) { // Called when the application is about to terminate. Save data if appropriate. See also applicationDidEnterBackground:. } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 // // AppDelegate.swift // UIKit012 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit @UIApplicationMain class AppDelegate : UIResponder , UIApplicationDelegate { var window : UIWindow ? func application ( _ application : UIApplication , didFinishLaunchingWithOptions launchOptions : [ NSObject : AnyObject ]?) -> Bool { // ViewController\u3092\u751f\u6210\u3059\u308b. let myFirstViewController : FirstViewController = FirstViewController () // myFirstViewController\u3092rootview\u306b\u8a2d\u5b9a\u3057\u3001Navication Controller\u3092\u751f\u6210\u3059\u308b. let myNavigationController : UINavigationController = UINavigationController ( rootViewController : myFirstViewController ) // rootViewController\u306bNavigationController\u3092\u8a2d\u5b9a\u3059\u308b. self . window ?. rootViewController = myNavigationController // NavigationController\u3092\u8868\u793a\u3059\u308b. self . window ?. makeKeyAndVisible () return true } func applicationWillResignActive ( _ application : UIApplication ) { // Sent when the application is about to move from active to inactive state. This can occur for certain types of temporary interruptions (such as an incoming phone call or SMS message) or when the user quits the application and it begins the transition to the background state. // Use this method to pause ongoing tasks, disable timers, and invalidate graphics rendering callbacks. Games should use this method to pause the game. } func applicationDidEnterBackground ( _ application : UIApplication ) { // Use this method to release shared resources, save user data, invalidate timers, and store enough application state information to restore your application to its current state in case it is terminated later. // If your application supports background execution, this method is called instead of applicationWillTerminate: when the user quits. } func applicationWillEnterForeground ( _ application : UIApplication ) { // Called as part of the transition from the background to the active state; here you can undo many of the changes made on entering the background. } func applicationDidBecomeActive ( _ application : UIApplication ) { // Restart any tasks that were paused (or not yet started) while the application was inactive. If the application was previously in the background, optionally refresh the user interface. } func applicationWillTerminate ( _ application : UIApplication ) { // Called when the application is about to terminate. Save data if appropriate. See also applicationDidEnterBackground:. } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 // // AppDelegate.swift // UIKit012 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit @UIApplicationMain class AppDelegate : UIResponder , UIApplicationDelegate { var window : UIWindow ? func application ( application : UIApplication , didFinishLaunchingWithOptions launchOptions : [ NSObject : AnyObject ]?) -> Bool { // ViewController\u3092\u751f\u6210\u3059\u308b. let myFirstViewController : FirstViewController = FirstViewController () // myFirstViewController\u3092rootview\u306b\u8a2d\u5b9a\u3057\u3001Navication Controller\u3092\u751f\u6210\u3059\u308b. var myNavigationController : UINavigationController = UINavigationController ( rootViewController : myFirstViewController ) // rootViewController\u306bNavigationController\u3092\u8a2d\u5b9a\u3059\u308b. self . window ?. rootViewController = myNavigationController // NavigationController\u3092\u8868\u793a\u3059\u308b. self . window ?. makeKeyAndVisible () return true } func applicationWillResignActive ( application : UIApplication ) { // Sent when the application is about to move from active to inactive state. This can occur for certain types of temporary interruptions (such as an incoming phone call or SMS message) or when the user quits the application and it begins the transition to the background state. // Use this method to pause ongoing tasks, disable timers, and throttle down OpenGL ES frame rates. Games should use this method to pause the game. } func applicationDidEnterBackground ( application : UIApplication ) { // Use this method to release shared resources, save user data, invalidate timers, and store enough application state information to restore your application to its current state in case it is terminated later. // If your application supports background execution, this method is called instead of applicationWillTerminate: when the user quits. } func applicationWillEnterForeground ( application : UIApplication ) { // Called as part of the transition from the background to the inactive state; here you can undo many of the changes made on entering the background. } func applicationDidBecomeActive ( application : UIApplication ) { // Restart any tasks that were paused (or not yet started) while the application was inactive. If the application was previously in the background, optionally refresh the user interface. } func applicationWillTerminate ( application : UIApplication ) { // Called when the application is about to terminate. Save data if appropriate. See also applicationDidEnterBackground:. } }","title":"AppDelegate.swift"},{"location":"1.uikit/012_uinavigationcontroller/#firstviewcontrollerswift","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 // // FirstViewController.swift // UIKit012 // // Copyright \u00a9 2018\u5e74 FaBo, Inc. All rights reserved. // import UIKit class FirstViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // Controller\u306e\u30bf\u30a4\u30c8\u30eb\u3092\u8a2d\u5b9a\u3059\u308b. self . title = \"My First View\" // View\u306e\u80cc\u666f\u8272\u3092Cyan\u306b\u8a2d\u5b9a\u3059\u308b. self . view . backgroundColor = UIColor . cyan // \u30dc\u30bf\u30f3\u306e\u5b9a\u7fa9\u3092\u304a\u3053\u306a\u3046. let buttonWidth : CGFloat = 100 let buttonHeight : CGFloat = 50 let posX : CGFloat = ( self . view . bounds . width - buttonWidth ) / 2 let posY : CGFloat = 200 let myButton = UIButton ( frame : CGRect ( x : posX , y : posY , width : buttonWidth , height : buttonHeight )) myButton . backgroundColor = UIColor . orange myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 20.0 myButton . setTitle ( \"\u30dc\u30bf\u30f3\" , for : . normal ) myButton . addTarget ( self , action : #selector ( onClickMyButton ( sender :)), for : . touchUpInside ) // \u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myButton ); } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8 */ @objc internal func onClickMyButton ( sender : UIButton ){ // \u79fb\u52d5\u5148\u306eView\u3092\u5b9a\u7fa9\u3059\u308b. let secondViewController = SecondViewController () // SecondView\u306b\u79fb\u52d5\u3059\u308b. self . navigationController ?. pushViewController ( secondViewController , animated : true ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 // // FirstViewController.swift // UIKit012 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class FirstViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // Controller\u306e\u30bf\u30a4\u30c8\u30eb\u3092\u8a2d\u5b9a\u3059\u308b. self . title = \"My First View\" // View\u306e\u80cc\u666f\u8272\u3092Cyan\u306b\u8a2d\u5b9a\u3059\u308b. self . view . backgroundColor = UIColor . cyan // \u30dc\u30bf\u30f3\u306e\u5b9a\u7fa9\u3092\u304a\u3053\u306a\u3046. let buttonWidth : CGFloat = 100 let buttonHeight : CGFloat = 50 let posX : CGFloat = ( self . view . bounds . width - buttonWidth ) / 2 let posY : CGFloat = 200 let myButton = UIButton ( frame : CGRect ( x : posX , y : posY , width : buttonWidth , height : buttonHeight )) myButton . backgroundColor = UIColor . orange myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 20.0 myButton . setTitle ( \"\u30dc\u30bf\u30f3\" , for : . normal ) myButton . addTarget ( self , action : #selector ( onClickMyButton ( sender :)), for : . touchUpInside ) // \u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myButton ); } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8 */ internal func onClickMyButton ( sender : UIButton ){ // \u79fb\u52d5\u5148\u306eView\u3092\u5b9a\u7fa9\u3059\u308b. let secondViewController = SecondViewController () // SecondView\u306b\u79fb\u52d5\u3059\u308b. self . navigationController ?. pushViewController ( secondViewController , animated : true ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 // // FirstViewController.swift // UIKit012 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class FirstViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // Controller\u306e\u30bf\u30a4\u30c8\u30eb\u3092\u8a2d\u5b9a\u3059\u308b. self . title = \"My First View\" // View\u306e\u80cc\u666f\u8272\u3092Cyan\u306b\u8a2d\u5b9a\u3059\u308b. self . view . backgroundColor = UIColor . cyanColor () // \u30dc\u30bf\u30f3\u306e\u5b9a\u7fa9\u3092\u304a\u3053\u306a\u3046. let buttonWidth : CGFloat = 100 let buttonHeight : CGFloat = 50 let posX : CGFloat = ( self . view . bounds . width - buttonWidth ) / 2 let posY : CGFloat = 200 let myButton = UIButton ( frame : CGRectMake ( posX , posY , buttonWidth , buttonHeight )) myButton . backgroundColor = UIColor . orangeColor () myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 20.0 myButton . setTitle ( \"\u30dc\u30bf\u30f3\" , forState : . Normal ) myButton . addTarget ( self , action : #selector ( onClickMyButton ( _ :)), forControlEvents : . TouchUpInside ) // \u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myButton ); } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8 */ internal func onClickMyButton ( sender : UIButton ){ // \u79fb\u52d5\u5148\u306eView\u3092\u5b9a\u7fa9\u3059\u308b. let secondViewController = SecondViewController () // SecondView\u306b\u79fb\u52d5\u3059\u308b. self . navigationController ?. pushViewController ( secondViewController , animated : true ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } }","title":"FirstViewController.swift"},{"location":"1.uikit/012_uinavigationcontroller/#secondviewcontrollerswift","text":"Swift 4.x/3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 // // SecondViewController.swift // UIKit012 // // Copyright \u00a9 2018\u5e74 FaBo, Inc. All rights reserved. // import UIKit class SecondViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // Controller\u306e\u30bf\u30a4\u30c8\u30eb\u3092\u8a2d\u5b9a\u3059\u308b. self . title = \"My Second View\" // View\u306e\u80cc\u666f\u8272\u3092\u5b9a\u7fa9\u3059\u308b. self . view . backgroundColor = UIColor . green } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 // // SecondViewController.swift // UIKit012 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class SecondViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // Controller\u306e\u30bf\u30a4\u30c8\u30eb\u3092\u8a2d\u5b9a\u3059\u308b. self . title = \"My Second View\" // View\u306e\u80cc\u666f\u8272\u3092\u5b9a\u7fa9\u3059\u308b. self . view . backgroundColor = UIColor . greenColor () } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } }","title":"SecondViewController.swift"},{"location":"1.uikit/012_uinavigationcontroller/#3040","text":"[NSObject: AnyObject]? \u304c\u3001 [UIApplication.LaunchOptionsKey : Any]? = nil \u306b\u5909\u66f4 internal func onClickMyButton(sender: UIButton) \u306b @objc \u3092\u8ffd\u52a0","title":"3.0\u30684.0\u306e\u5dee\u5206"},{"location":"1.uikit/012_uinavigationcontroller/#2330","text":"UIScreen.mainScreen()\u304cUIScreen.main\u306b\u5909\u66f4.","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"1.uikit/012_uinavigationcontroller/#reference","text":"UINavigationController https://developer.apple.com/reference/uikit/uinavigationcontroller","title":"Reference"},{"location":"1.uikit/013_uitabbarcontroller/","text":"UITabBarController\u3067\u30bf\u30d6\u306e\u8868\u793a AppDelegate.swift Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 // // AppDelegate.swift // UIKit013_3.0 // // Created by akira on 2016/08/13. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit @UIApplicationMain class AppDelegate : UIResponder , UIApplicationDelegate { var window : UIWindow ? func application ( _ application : UIApplication , didFinishLaunchingWithOptions launchOptions : [ UIApplication . LaunchOptionsKey : Any ]? = nil ) -> Bool { // Tab\u306b\u8a2d\u5b9a\u3059\u308bViewController\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u751f\u6210. let myFirstTab : UIViewController = FirstViewController () let mySecondTab : UIViewController = SecondViewController () // \u30bf\u30d6\u3092\u8981\u7d20\u306b\u6301\u3064Array\u306e.\u3092\u4f5c\u6210\u3059\u308b. let myTabs = NSArray ( objects : myFirstTab , mySecondTab ) // UITabController\u306e\u4f5c\u6210\u3059\u308b. let myTabBarController : UITabBarController = UITabBarController () // ViewController\u3092\u8a2d\u5b9a\u3059\u308b. myTabBarController . setViewControllers ( myTabs as ? [ UIViewController ], animated : false ) // RootViewController\u306b\u8a2d\u5b9a\u3059\u308b. self . window !. rootViewController = myTabBarController // Window\u3092\u8868\u793a\u3059\u308b. self . window !. makeKeyAndVisible () return true } func applicationWillResignActive ( _ application : UIApplication ) { // Sent when the application is about to move from active to inactive state. This can occur for certain types of temporary interruptions (such as an incoming phone call or SMS message) or when the user quits the application and it begins the transition to the background state. // Use this method to pause ongoing tasks, disable timers, and invalidate graphics rendering callbacks. Games should use this method to pause the game. } func applicationDidEnterBackground ( _ application : UIApplication ) { // Use this method to release shared resources, save user data, invalidate timers, and store enough application state information to restore your application to its current state in case it is terminated later. // If your application supports background execution, this method is called instead of applicationWillTerminate: when the user quits. } func applicationWillEnterForeground ( _ application : UIApplication ) { // Called as part of the transition from the background to the active state; here you can undo many of the changes made on entering the background. } func applicationDidBecomeActive ( _ application : UIApplication ) { // Restart any tasks that were paused (or not yet started) while the application was inactive. If the application was previously in the background, optionally refresh the user interface. } func applicationWillTerminate ( _ application : UIApplication ) { // Called when the application is about to terminate. Save data if appropriate. See also applicationDidEnterBackground:. } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 // // AppDelegate.swift // UIKit013_3.0 // // Created by akira on 2016/08/13. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit @UIApplicationMain class AppDelegate : UIResponder , UIApplicationDelegate { var window : UIWindow ? func application ( _ application : UIApplication , didFinishLaunchingWithOptions launchOptions : [ NSObject : AnyObject ]?) -> Bool { // Tab\u306b\u8a2d\u5b9a\u3059\u308bViewController\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u751f\u6210. let myFirstTab : UIViewController = FirstViewController () let mySecondTab : UIViewController = SecondViewController () // \u30bf\u30d6\u3092\u8981\u7d20\u306b\u6301\u3064Array\u306e.\u3092\u4f5c\u6210\u3059\u308b. let myTabs = NSArray ( objects : myFirstTab , mySecondTab ) // UITabController\u306e\u4f5c\u6210\u3059\u308b. let myTabBarController : UITabBarController = UITabBarController () // ViewController\u3092\u8a2d\u5b9a\u3059\u308b. myTabBarController . setViewControllers ( myTabs as ? [ UIViewController ], animated : false ) // RootViewController\u306b\u8a2d\u5b9a\u3059\u308b. self . window !. rootViewController = myTabBarController // Window\u3092\u8868\u793a\u3059\u308b. self . window !. makeKeyAndVisible () return true } func applicationWillResignActive ( _ application : UIApplication ) { // Sent when the application is about to move from active to inactive state. This can occur for certain types of temporary interruptions (such as an incoming phone call or SMS message) or when the user quits the application and it begins the transition to the background state. // Use this method to pause ongoing tasks, disable timers, and invalidate graphics rendering callbacks. Games should use this method to pause the game. } func applicationDidEnterBackground ( _ application : UIApplication ) { // Use this method to release shared resources, save user data, invalidate timers, and store enough application state information to restore your application to its current state in case it is terminated later. // If your application supports background execution, this method is called instead of applicationWillTerminate: when the user quits. } func applicationWillEnterForeground ( _ application : UIApplication ) { // Called as part of the transition from the background to the active state; here you can undo many of the changes made on entering the background. } func applicationDidBecomeActive ( _ application : UIApplication ) { // Restart any tasks that were paused (or not yet started) while the application was inactive. If the application was previously in the background, optionally refresh the user interface. } func applicationWillTerminate ( _ application : UIApplication ) { // Called when the application is about to terminate. Save data if appropriate. See also applicationDidEnterBackground:. } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 // // AppDelegate.swift // UIKit013 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit @UIApplicationMain class AppDelegate : UIResponder , UIApplicationDelegate { var window : UIWindow ? func application ( application : UIApplication , didFinishLaunchingWithOptions launchOptions : [ NSObject : AnyObject ]?) -> Bool { // Tab\u306b\u8a2d\u5b9a\u3059\u308bViewController\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u751f\u6210. let myFirstTab : UIViewController = FirstViewController () let mySecondTab : UIViewController = SecondViewController () // \u30bf\u30d6\u3092\u8981\u7d20\u306b\u6301\u3064Array\u306e.\u3092\u4f5c\u6210\u3059\u308b. let myTabs = NSArray ( objects : myFirstTab , mySecondTab ) // UITabController\u306e\u4f5c\u6210\u3059\u308b. let myTabBarController : UITabBarController = UITabBarController () // ViewController\u3092\u8a2d\u5b9a\u3059\u308b. myTabBarController . setViewControllers ( myTabs as ? [ UIViewController ], animated : false ) // RootViewController\u306b\u8a2d\u5b9a\u3059\u308b. self . window !. rootViewController = myTabBarController // Window\u3092\u8868\u793a\u3059\u308b. self . window !. makeKeyAndVisible () return true } func applicationWillResignActive ( application : UIApplication ) { // Sent when the application is about to move from active to inactive state. This can occur for certain types of temporary interruptions (such as an incoming phone call or SMS message) or when the user quits the application and it begins the transition to the background state. // Use this method to pause ongoing tasks, disable timers, and throttle down OpenGL ES frame rates. Games should use this method to pause the game. } func applicationDidEnterBackground ( application : UIApplication ) { // Use this method to release shared resources, save user data, invalidate timers, and store enough application state information to restore your application to its current state in case it is terminated later. // If your application supports background execution, this method is called instead of applicationWillTerminate: when the user quits. } func applicationWillEnterForeground ( application : UIApplication ) { // Called as part of the transition from the background to the inactive state; here you can undo many of the changes made on entering the background. } func applicationDidBecomeActive ( application : UIApplication ) { // Restart any tasks that were paused (or not yet started) while the application was inactive. If the application was previously in the background, optionally refresh the user interface. } func applicationWillTerminate ( application : UIApplication ) { // Called when the application is about to terminate. Save data if appropriate. See also applicationDidEnterBackground:. } } FirstViewController.swift Swift 4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 // // FirstViewController.swift // UIKit013 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class FirstViewController : UIViewController { init () { super . init ( nibName : nil , bundle : nil ) // View\u306e\u80cc\u666f\u8272\u3092Cyan\u306b\u8a2d\u5b9a\u3059\u308b. self . view . backgroundColor = UIColor . cyan //tabBarItem\u306e\u30a2\u30a4\u30b3\u30f3\u3092Featured\u306b\u3001\u30bf\u30b0\u30921\u3068\u5b9a\u7fa9\u3059\u308b. self . tabBarItem = UITabBarItem ( tabBarSystemItem : . featured , tag : 1 ) } required init ?( coder aDecoder : NSCoder ) { super . init ( coder : aDecoder ) } required override init ( nibName nibNameOrNil : String !, bundle nibBundleOrNil : Bundle !) { super . init ( nibName : nibNameOrNil , bundle : nibBundleOrNil ) } override func viewDidLoad () { super . viewDidLoad () } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 // // FirstViewController.swift // UIKit013 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class FirstViewController : UIViewController { init () { super . init ( nibName : nil , bundle : nil ) // View\u306e\u80cc\u666f\u8272\u3092Cyan\u306b\u8a2d\u5b9a\u3059\u308b. self . view . backgroundColor = UIColor . cyanColor () //tabBarItem\u306e\u30a2\u30a4\u30b3\u30f3\u3092Featured\u306b\u3001\u30bf\u30b0\u30921\u3068\u5b9a\u7fa9\u3059\u308b. self . tabBarItem = UITabBarItem ( tabBarSystemItem : UITabBarSystemItem . Featured , tag : 1 ) } required init ?( coder aDecoder : NSCoder ) { super . init ( coder : aDecoder ) } required override init ( nibName nibNameOrNil : String !, bundle nibBundleOrNil : NSBundle !) { super . init ( nibName : nibNameOrNil , bundle : nibBundleOrNil ) } override func viewDidLoad () { super . viewDidLoad () } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } SecondViewController.swift Swift 4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 // // SecondViewController.swift // UIKit013 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class SecondViewController : UIViewController { init () { super . init ( nibName : nil , bundle : nil ) // View\u306e\u80cc\u666f\u8272\u3092Green\u306b\u8a2d\u5b9a\u3059\u308b. self . view . backgroundColor = UIColor . green // tabBarItem\u306e\u30a2\u30a4\u30b3\u30f3\u3092Featured\u306b\u3001\u30bf\u30b0\u30922\u3068\u5b9a\u7fa9\u3059\u308b. self . tabBarItem = UITabBarItem ( tabBarSystemItem : . featured , tag : 2 ) } required init ?( coder aDecoder : NSCoder ) { super . init ( coder : aDecoder ) } required override init ( nibName nibNameOrNil : String !, bundle nibBundleOrNil : Bundle !) { super . init ( nibName : nibNameOrNil , bundle : nibBundleOrNil ) } override func viewDidLoad () { super . viewDidLoad () } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 /// // SecondViewController.swift // UIKit013 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class SecondViewController : UIViewController { init () { super . init ( nibName : nil , bundle : nil ) // View\u306e\u80cc\u666f\u8272\u3092Green\u306b\u8a2d\u5b9a\u3059\u308b. self . view . backgroundColor = UIColor . greenColor () // tabBarItem\u306e\u30a2\u30a4\u30b3\u30f3\u3092Featured\u306b\u3001\u30bf\u30b0\u30922\u3068\u5b9a\u7fa9\u3059\u308b. self . tabBarItem = UITabBarItem ( tabBarSystemItem : UITabBarSystemItem . Featured , tag : 2 ) } required init ?( coder aDecoder : NSCoder ) { super . init ( coder : aDecoder ) } required override init ( nibName nibNameOrNil : String !, bundle nibBundleOrNil : NSBundle !) { super . init ( nibName : nibNameOrNil , bundle : nibBundleOrNil ) } override func viewDidLoad () { super . viewDidLoad () } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } 3.0\u30684.0\u306e\u5dee\u5206 [NSObject: AnyObject]? \u304c\u3001 [UIApplication.LaunchOptionsKey : Any]? = nil \u306b\u5909\u66f4 2.3\u30683.0\u306e\u5dee\u5206 UIScreen.mainScreen()\u304cUIScreen.main\u306b\u5909\u66f4. Reference UITabBarController https://developer.apple.com/reference/uikit/uitabbarcontroller","title":"UITabBarController\u3067\u30bf\u30d6\u306e\u8868\u793a"},{"location":"1.uikit/013_uitabbarcontroller/#uitabbarcontroller","text":"","title":"UITabBarController\u3067\u30bf\u30d6\u306e\u8868\u793a"},{"location":"1.uikit/013_uitabbarcontroller/#appdelegateswift","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 // // AppDelegate.swift // UIKit013_3.0 // // Created by akira on 2016/08/13. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit @UIApplicationMain class AppDelegate : UIResponder , UIApplicationDelegate { var window : UIWindow ? func application ( _ application : UIApplication , didFinishLaunchingWithOptions launchOptions : [ UIApplication . LaunchOptionsKey : Any ]? = nil ) -> Bool { // Tab\u306b\u8a2d\u5b9a\u3059\u308bViewController\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u751f\u6210. let myFirstTab : UIViewController = FirstViewController () let mySecondTab : UIViewController = SecondViewController () // \u30bf\u30d6\u3092\u8981\u7d20\u306b\u6301\u3064Array\u306e.\u3092\u4f5c\u6210\u3059\u308b. let myTabs = NSArray ( objects : myFirstTab , mySecondTab ) // UITabController\u306e\u4f5c\u6210\u3059\u308b. let myTabBarController : UITabBarController = UITabBarController () // ViewController\u3092\u8a2d\u5b9a\u3059\u308b. myTabBarController . setViewControllers ( myTabs as ? [ UIViewController ], animated : false ) // RootViewController\u306b\u8a2d\u5b9a\u3059\u308b. self . window !. rootViewController = myTabBarController // Window\u3092\u8868\u793a\u3059\u308b. self . window !. makeKeyAndVisible () return true } func applicationWillResignActive ( _ application : UIApplication ) { // Sent when the application is about to move from active to inactive state. This can occur for certain types of temporary interruptions (such as an incoming phone call or SMS message) or when the user quits the application and it begins the transition to the background state. // Use this method to pause ongoing tasks, disable timers, and invalidate graphics rendering callbacks. Games should use this method to pause the game. } func applicationDidEnterBackground ( _ application : UIApplication ) { // Use this method to release shared resources, save user data, invalidate timers, and store enough application state information to restore your application to its current state in case it is terminated later. // If your application supports background execution, this method is called instead of applicationWillTerminate: when the user quits. } func applicationWillEnterForeground ( _ application : UIApplication ) { // Called as part of the transition from the background to the active state; here you can undo many of the changes made on entering the background. } func applicationDidBecomeActive ( _ application : UIApplication ) { // Restart any tasks that were paused (or not yet started) while the application was inactive. If the application was previously in the background, optionally refresh the user interface. } func applicationWillTerminate ( _ application : UIApplication ) { // Called when the application is about to terminate. Save data if appropriate. See also applicationDidEnterBackground:. } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 // // AppDelegate.swift // UIKit013_3.0 // // Created by akira on 2016/08/13. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit @UIApplicationMain class AppDelegate : UIResponder , UIApplicationDelegate { var window : UIWindow ? func application ( _ application : UIApplication , didFinishLaunchingWithOptions launchOptions : [ NSObject : AnyObject ]?) -> Bool { // Tab\u306b\u8a2d\u5b9a\u3059\u308bViewController\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u751f\u6210. let myFirstTab : UIViewController = FirstViewController () let mySecondTab : UIViewController = SecondViewController () // \u30bf\u30d6\u3092\u8981\u7d20\u306b\u6301\u3064Array\u306e.\u3092\u4f5c\u6210\u3059\u308b. let myTabs = NSArray ( objects : myFirstTab , mySecondTab ) // UITabController\u306e\u4f5c\u6210\u3059\u308b. let myTabBarController : UITabBarController = UITabBarController () // ViewController\u3092\u8a2d\u5b9a\u3059\u308b. myTabBarController . setViewControllers ( myTabs as ? [ UIViewController ], animated : false ) // RootViewController\u306b\u8a2d\u5b9a\u3059\u308b. self . window !. rootViewController = myTabBarController // Window\u3092\u8868\u793a\u3059\u308b. self . window !. makeKeyAndVisible () return true } func applicationWillResignActive ( _ application : UIApplication ) { // Sent when the application is about to move from active to inactive state. This can occur for certain types of temporary interruptions (such as an incoming phone call or SMS message) or when the user quits the application and it begins the transition to the background state. // Use this method to pause ongoing tasks, disable timers, and invalidate graphics rendering callbacks. Games should use this method to pause the game. } func applicationDidEnterBackground ( _ application : UIApplication ) { // Use this method to release shared resources, save user data, invalidate timers, and store enough application state information to restore your application to its current state in case it is terminated later. // If your application supports background execution, this method is called instead of applicationWillTerminate: when the user quits. } func applicationWillEnterForeground ( _ application : UIApplication ) { // Called as part of the transition from the background to the active state; here you can undo many of the changes made on entering the background. } func applicationDidBecomeActive ( _ application : UIApplication ) { // Restart any tasks that were paused (or not yet started) while the application was inactive. If the application was previously in the background, optionally refresh the user interface. } func applicationWillTerminate ( _ application : UIApplication ) { // Called when the application is about to terminate. Save data if appropriate. See also applicationDidEnterBackground:. } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 // // AppDelegate.swift // UIKit013 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit @UIApplicationMain class AppDelegate : UIResponder , UIApplicationDelegate { var window : UIWindow ? func application ( application : UIApplication , didFinishLaunchingWithOptions launchOptions : [ NSObject : AnyObject ]?) -> Bool { // Tab\u306b\u8a2d\u5b9a\u3059\u308bViewController\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u751f\u6210. let myFirstTab : UIViewController = FirstViewController () let mySecondTab : UIViewController = SecondViewController () // \u30bf\u30d6\u3092\u8981\u7d20\u306b\u6301\u3064Array\u306e.\u3092\u4f5c\u6210\u3059\u308b. let myTabs = NSArray ( objects : myFirstTab , mySecondTab ) // UITabController\u306e\u4f5c\u6210\u3059\u308b. let myTabBarController : UITabBarController = UITabBarController () // ViewController\u3092\u8a2d\u5b9a\u3059\u308b. myTabBarController . setViewControllers ( myTabs as ? [ UIViewController ], animated : false ) // RootViewController\u306b\u8a2d\u5b9a\u3059\u308b. self . window !. rootViewController = myTabBarController // Window\u3092\u8868\u793a\u3059\u308b. self . window !. makeKeyAndVisible () return true } func applicationWillResignActive ( application : UIApplication ) { // Sent when the application is about to move from active to inactive state. This can occur for certain types of temporary interruptions (such as an incoming phone call or SMS message) or when the user quits the application and it begins the transition to the background state. // Use this method to pause ongoing tasks, disable timers, and throttle down OpenGL ES frame rates. Games should use this method to pause the game. } func applicationDidEnterBackground ( application : UIApplication ) { // Use this method to release shared resources, save user data, invalidate timers, and store enough application state information to restore your application to its current state in case it is terminated later. // If your application supports background execution, this method is called instead of applicationWillTerminate: when the user quits. } func applicationWillEnterForeground ( application : UIApplication ) { // Called as part of the transition from the background to the inactive state; here you can undo many of the changes made on entering the background. } func applicationDidBecomeActive ( application : UIApplication ) { // Restart any tasks that were paused (or not yet started) while the application was inactive. If the application was previously in the background, optionally refresh the user interface. } func applicationWillTerminate ( application : UIApplication ) { // Called when the application is about to terminate. Save data if appropriate. See also applicationDidEnterBackground:. } }","title":"AppDelegate.swift"},{"location":"1.uikit/013_uitabbarcontroller/#firstviewcontrollerswift","text":"Swift 4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 // // FirstViewController.swift // UIKit013 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class FirstViewController : UIViewController { init () { super . init ( nibName : nil , bundle : nil ) // View\u306e\u80cc\u666f\u8272\u3092Cyan\u306b\u8a2d\u5b9a\u3059\u308b. self . view . backgroundColor = UIColor . cyan //tabBarItem\u306e\u30a2\u30a4\u30b3\u30f3\u3092Featured\u306b\u3001\u30bf\u30b0\u30921\u3068\u5b9a\u7fa9\u3059\u308b. self . tabBarItem = UITabBarItem ( tabBarSystemItem : . featured , tag : 1 ) } required init ?( coder aDecoder : NSCoder ) { super . init ( coder : aDecoder ) } required override init ( nibName nibNameOrNil : String !, bundle nibBundleOrNil : Bundle !) { super . init ( nibName : nibNameOrNil , bundle : nibBundleOrNil ) } override func viewDidLoad () { super . viewDidLoad () } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 // // FirstViewController.swift // UIKit013 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class FirstViewController : UIViewController { init () { super . init ( nibName : nil , bundle : nil ) // View\u306e\u80cc\u666f\u8272\u3092Cyan\u306b\u8a2d\u5b9a\u3059\u308b. self . view . backgroundColor = UIColor . cyanColor () //tabBarItem\u306e\u30a2\u30a4\u30b3\u30f3\u3092Featured\u306b\u3001\u30bf\u30b0\u30921\u3068\u5b9a\u7fa9\u3059\u308b. self . tabBarItem = UITabBarItem ( tabBarSystemItem : UITabBarSystemItem . Featured , tag : 1 ) } required init ?( coder aDecoder : NSCoder ) { super . init ( coder : aDecoder ) } required override init ( nibName nibNameOrNil : String !, bundle nibBundleOrNil : NSBundle !) { super . init ( nibName : nibNameOrNil , bundle : nibBundleOrNil ) } override func viewDidLoad () { super . viewDidLoad () } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } }","title":"FirstViewController.swift"},{"location":"1.uikit/013_uitabbarcontroller/#secondviewcontrollerswift","text":"Swift 4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 // // SecondViewController.swift // UIKit013 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class SecondViewController : UIViewController { init () { super . init ( nibName : nil , bundle : nil ) // View\u306e\u80cc\u666f\u8272\u3092Green\u306b\u8a2d\u5b9a\u3059\u308b. self . view . backgroundColor = UIColor . green // tabBarItem\u306e\u30a2\u30a4\u30b3\u30f3\u3092Featured\u306b\u3001\u30bf\u30b0\u30922\u3068\u5b9a\u7fa9\u3059\u308b. self . tabBarItem = UITabBarItem ( tabBarSystemItem : . featured , tag : 2 ) } required init ?( coder aDecoder : NSCoder ) { super . init ( coder : aDecoder ) } required override init ( nibName nibNameOrNil : String !, bundle nibBundleOrNil : Bundle !) { super . init ( nibName : nibNameOrNil , bundle : nibBundleOrNil ) } override func viewDidLoad () { super . viewDidLoad () } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 /// // SecondViewController.swift // UIKit013 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class SecondViewController : UIViewController { init () { super . init ( nibName : nil , bundle : nil ) // View\u306e\u80cc\u666f\u8272\u3092Green\u306b\u8a2d\u5b9a\u3059\u308b. self . view . backgroundColor = UIColor . greenColor () // tabBarItem\u306e\u30a2\u30a4\u30b3\u30f3\u3092Featured\u306b\u3001\u30bf\u30b0\u30922\u3068\u5b9a\u7fa9\u3059\u308b. self . tabBarItem = UITabBarItem ( tabBarSystemItem : UITabBarSystemItem . Featured , tag : 2 ) } required init ?( coder aDecoder : NSCoder ) { super . init ( coder : aDecoder ) } required override init ( nibName nibNameOrNil : String !, bundle nibBundleOrNil : NSBundle !) { super . init ( nibName : nibNameOrNil , bundle : nibBundleOrNil ) } override func viewDidLoad () { super . viewDidLoad () } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } }","title":"SecondViewController.swift"},{"location":"1.uikit/013_uitabbarcontroller/#3040","text":"[NSObject: AnyObject]? \u304c\u3001 [UIApplication.LaunchOptionsKey : Any]? = nil \u306b\u5909\u66f4","title":"3.0\u30684.0\u306e\u5dee\u5206"},{"location":"1.uikit/013_uitabbarcontroller/#2330","text":"UIScreen.mainScreen()\u304cUIScreen.main\u306b\u5909\u66f4.","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"1.uikit/013_uitabbarcontroller/#reference","text":"UITabBarController https://developer.apple.com/reference/uikit/uitabbarcontroller","title":"Reference"},{"location":"1.uikit/014_uiimageview/","text":"UIImageView\u3067\u753b\u50cf\u3092\u8868\u793a Swift4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 // // ViewController.swift // UIKit014 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // \u753b\u50cf\u3092\u8a2d\u5b9a\u3059\u308b. let myImage : UIImage = UIImage ( named : \"fabo_logo.png\" ) ! let imageWidth : CGFloat = 300 let imageHeight : CGFloat = 100 // \u753b\u50cf\u3092\u7e2e\u5c0f\u3059\u308b(0.5\u500d) // \u8868\u793a\u3059\u308b\u5ea7\u6a19\u3092\u8a2d\u5b9a. let downPosX : CGFloat = ( self . view . bounds . width - imageWidth ) / 2 let downPosY : CGFloat = 50 // \u8868\u793a\u7528\u306eUIImageView\u3092\u751f\u6210. let myScaleDownView : UIImageView = UIImageView ( frame : CGRect ( x : downPosX , y : downPosY , width : imageWidth , height : imageHeight )) // UIImageView\u306b\u753b\u50cf\u3092\u8a2d\u5b9a\u3059\u308b. myScaleDownView . image = myImage // \u7e2e\u5c0f\u7528(0.5\u500d)\u306e\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u3092\u751f\u6210\u3059\u308b. myScaleDownView . transform = CGAffineTransform ( scaleX : 0.5 , y : 0.5 ) // View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myScaleDownView ) // \u753b\u50cf\u3092\u62e1\u5927(1.2\u500d) // \u8868\u793a\u3059\u308b\u5ea7\u6a19\u3092\u8a2d\u5b9a. let upPosX : CGFloat = ( self . view . bounds . width - imageWidth ) / 2 let upPosY : CGFloat = 150 // \u8868\u793a\u7528\u306eUIImageView\u3092\u751f\u6210. let myScaleUpView : UIImageView = UIImageView ( frame : CGRect ( x : upPosX , y : upPosY , width : imageWidth , height : imageHeight )) // UIImageView\u306b\u753b\u50cf\u3092\u8a2d\u5b9a\u3059\u308b. myScaleUpView . image = myImage // \u7e2e\u5c0f\u7528(0.5\u500d)\u306e\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u3092\u751f\u6210\u3059\u308b. myScaleUpView . transform = CGAffineTransform ( scaleX : 1.2 , y : 1.2 ) // View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myScaleUpView ) // \u753b\u50cf\u3092\u56de\u8ee2\u3059\u308b. // \u8868\u793a\u3059\u308b\u5ea7\u6a19\u3092\u8a2d\u5b9a. let rotatePosX : CGFloat = ( self . view . bounds . width - imageWidth ) / 2 let rotatePosY : CGFloat = 350 // \u8868\u793a\u7528\u306eUIImageView\u3092\u751f\u6210. let myRotateView : UIImageView = UIImageView ( frame : CGRect ( x : rotatePosX , y : rotatePosY , width : imageWidth , height : imageHeight )) // UIImageView\u306b\u753b\u50cf\u3092\u8a2d\u5b9a\u3059\u308b. myRotateView . image = myImage // radian\u3067\u56de\u8ee2\u89d2\u5ea6\u3092\u6307\u5b9a(30\u5ea6)\u3059\u308b. let angle : CGFloat = CGFloat (( 30.0 * M_PI ) / 180.0 ) // \u56de\u8ee2\u7528\u306e\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u3092\u751f\u6210\u3059\u308b. myRotateView . transform = CGAffineTransform ( rotationAngle : angle ) // View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myRotateView ) // \u753b\u50cf\u3092\u53cd\u8ee2\u3059\u308b. // \u8868\u793a\u3059\u308b\u5ea7\u6a19\u3092\u8a2d\u5b9a. let reversePosX : CGFloat = ( self . view . bounds . width - imageWidth ) / 2 let reversePosY : CGFloat = 550 // \u8868\u793a\u7528\u306eUIImageView\u3092\u751f\u6210. let myReverseView : UIImageView = UIImageView ( frame : CGRect ( x : reversePosX , y : reversePosY , width : imageWidth , height : imageHeight )) // \u753b\u50cf\u3092\u8a2d\u5b9a\u3059\u308b. myReverseView . image = myImage // \u7e2e\u5c0f\u7528(0.5\u500d)\u306e\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u3092\u751f\u6210\u3059\u308b. myReverseView . transform = myReverseView . transform . scaledBy ( x : - 1.0 , y : 1.0 ) // View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myReverseView ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 // // ViewController.swift // UIKit014 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // \u753b\u50cf\u3092\u8a2d\u5b9a\u3059\u308b. let myImage : UIImage = UIImage ( named : \"fabo_logo.png\" ) ! let imageWidth : CGFloat = 300 let imageHeight : CGFloat = 100 // \u753b\u50cf\u3092\u7e2e\u5c0f\u3059\u308b(0.5\u500d) // \u8868\u793a\u3059\u308b\u5ea7\u6a19\u3092\u8a2d\u5b9a. let downPosX : CGFloat = ( self . view . bounds . width - imageWidth ) / 2 let downPosY : CGFloat = 50 // \u8868\u793a\u7528\u306eUIImageView\u3092\u751f\u6210. let myScaleDownView : UIImageView = UIImageView ( frame : CGRect ( x : downPosX , y : downPosY , width : imageWidth , height : imageHeight )) // UIImageView\u306b\u753b\u50cf\u3092\u8a2d\u5b9a\u3059\u308b. myScaleDownView . image = myImage // \u7e2e\u5c0f\u7528(0.5\u500d)\u306e\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u3092\u751f\u6210\u3059\u308b. myScaleDownView . transform = CGAffineTransformMakeScale ( 0.5 , 0.5 ) // View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myScaleDownView ) // \u753b\u50cf\u3092\u62e1\u5927(1.2\u500d) // \u8868\u793a\u3059\u308b\u5ea7\u6a19\u3092\u8a2d\u5b9a. let upPosX : CGFloat = ( self . view . bounds . width - imageWidth ) / 2 let upPosY : CGFloat = 150 // \u8868\u793a\u7528\u306eUIImageView\u3092\u751f\u6210. let myScaleUpView : UIImageView = UIImageView ( frame : CGRect ( x : upPosX , y : upPosY , width : imageWidth , height : imageHeight )) // UIImageView\u306b\u753b\u50cf\u3092\u8a2d\u5b9a\u3059\u308b. myScaleUpView . image = myImage // \u7e2e\u5c0f\u7528(0.5\u500d)\u306e\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u3092\u751f\u6210\u3059\u308b. myScaleUpView . transform = CGAffineTransformMakeScale ( 1.2 , 1.2 ) // View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myScaleUpView ) // \u753b\u50cf\u3092\u56de\u8ee2\u3059\u308b. // \u8868\u793a\u3059\u308b\u5ea7\u6a19\u3092\u8a2d\u5b9a. let rotatePosX : CGFloat = ( self . view . bounds . width - imageWidth ) / 2 let rotatePosY : CGFloat = 350 // \u8868\u793a\u7528\u306eUIImageView\u3092\u751f\u6210. let myRotateView : UIImageView = UIImageView ( frame : CGRect ( x : rotatePosX , y : rotatePosY , width : imageWidth , height : imageHeight )) // UIImageView\u306b\u753b\u50cf\u3092\u8a2d\u5b9a\u3059\u308b. myRotateView . image = myImage // radian\u3067\u56de\u8ee2\u89d2\u5ea6\u3092\u6307\u5b9a(30\u5ea6)\u3059\u308b. let angle : CGFloat = CGFloat (( 30.0 * M_PI ) / 180.0 ) // \u56de\u8ee2\u7528\u306e\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u3092\u751f\u6210\u3059\u308b. myRotateView . transform = CGAffineTransformMakeRotation ( angle ) // View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myRotateView ) // \u753b\u50cf\u3092\u53cd\u8ee2\u3059\u308b. // \u8868\u793a\u3059\u308b\u5ea7\u6a19\u3092\u8a2d\u5b9a. let reversePosX : CGFloat = ( self . view . bounds . width - imageWidth ) / 2 let reversePosY : CGFloat = 550 // \u8868\u793a\u7528\u306eUIImageView\u3092\u751f\u6210. let myReverseView : UIImageView = UIImageView ( frame : CGRect ( x : reversePosX , y : reversePosY , width : imageWidth , height : imageHeight )) // \u753b\u50cf\u3092\u8a2d\u5b9a\u3059\u308b. myReverseView . image = myImage // \u7e2e\u5c0f\u7528(0.5\u500d)\u306e\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u3092\u751f\u6210\u3059\u308b. myReverseView . transform = CGAffineTransformScale ( myReverseView . transform , - 1.0 , 1.0 ) // View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myReverseView ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } } 2.3\u30683.0\u306e\u5dee\u5206 CGAffineTransform\u306e\u5f15\u6570\u5b9a\u7fa9\u306e\u5909\u66f4. Reference UserNotifications https://developer.apple.com/reference/uikit/uiimageview","title":"UIImageView\u3067\u753b\u50cf\u3092\u8868\u793a"},{"location":"1.uikit/014_uiimageview/#uiimageview","text":"Swift4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 // // ViewController.swift // UIKit014 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // \u753b\u50cf\u3092\u8a2d\u5b9a\u3059\u308b. let myImage : UIImage = UIImage ( named : \"fabo_logo.png\" ) ! let imageWidth : CGFloat = 300 let imageHeight : CGFloat = 100 // \u753b\u50cf\u3092\u7e2e\u5c0f\u3059\u308b(0.5\u500d) // \u8868\u793a\u3059\u308b\u5ea7\u6a19\u3092\u8a2d\u5b9a. let downPosX : CGFloat = ( self . view . bounds . width - imageWidth ) / 2 let downPosY : CGFloat = 50 // \u8868\u793a\u7528\u306eUIImageView\u3092\u751f\u6210. let myScaleDownView : UIImageView = UIImageView ( frame : CGRect ( x : downPosX , y : downPosY , width : imageWidth , height : imageHeight )) // UIImageView\u306b\u753b\u50cf\u3092\u8a2d\u5b9a\u3059\u308b. myScaleDownView . image = myImage // \u7e2e\u5c0f\u7528(0.5\u500d)\u306e\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u3092\u751f\u6210\u3059\u308b. myScaleDownView . transform = CGAffineTransform ( scaleX : 0.5 , y : 0.5 ) // View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myScaleDownView ) // \u753b\u50cf\u3092\u62e1\u5927(1.2\u500d) // \u8868\u793a\u3059\u308b\u5ea7\u6a19\u3092\u8a2d\u5b9a. let upPosX : CGFloat = ( self . view . bounds . width - imageWidth ) / 2 let upPosY : CGFloat = 150 // \u8868\u793a\u7528\u306eUIImageView\u3092\u751f\u6210. let myScaleUpView : UIImageView = UIImageView ( frame : CGRect ( x : upPosX , y : upPosY , width : imageWidth , height : imageHeight )) // UIImageView\u306b\u753b\u50cf\u3092\u8a2d\u5b9a\u3059\u308b. myScaleUpView . image = myImage // \u7e2e\u5c0f\u7528(0.5\u500d)\u306e\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u3092\u751f\u6210\u3059\u308b. myScaleUpView . transform = CGAffineTransform ( scaleX : 1.2 , y : 1.2 ) // View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myScaleUpView ) // \u753b\u50cf\u3092\u56de\u8ee2\u3059\u308b. // \u8868\u793a\u3059\u308b\u5ea7\u6a19\u3092\u8a2d\u5b9a. let rotatePosX : CGFloat = ( self . view . bounds . width - imageWidth ) / 2 let rotatePosY : CGFloat = 350 // \u8868\u793a\u7528\u306eUIImageView\u3092\u751f\u6210. let myRotateView : UIImageView = UIImageView ( frame : CGRect ( x : rotatePosX , y : rotatePosY , width : imageWidth , height : imageHeight )) // UIImageView\u306b\u753b\u50cf\u3092\u8a2d\u5b9a\u3059\u308b. myRotateView . image = myImage // radian\u3067\u56de\u8ee2\u89d2\u5ea6\u3092\u6307\u5b9a(30\u5ea6)\u3059\u308b. let angle : CGFloat = CGFloat (( 30.0 * M_PI ) / 180.0 ) // \u56de\u8ee2\u7528\u306e\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u3092\u751f\u6210\u3059\u308b. myRotateView . transform = CGAffineTransform ( rotationAngle : angle ) // View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myRotateView ) // \u753b\u50cf\u3092\u53cd\u8ee2\u3059\u308b. // \u8868\u793a\u3059\u308b\u5ea7\u6a19\u3092\u8a2d\u5b9a. let reversePosX : CGFloat = ( self . view . bounds . width - imageWidth ) / 2 let reversePosY : CGFloat = 550 // \u8868\u793a\u7528\u306eUIImageView\u3092\u751f\u6210. let myReverseView : UIImageView = UIImageView ( frame : CGRect ( x : reversePosX , y : reversePosY , width : imageWidth , height : imageHeight )) // \u753b\u50cf\u3092\u8a2d\u5b9a\u3059\u308b. myReverseView . image = myImage // \u7e2e\u5c0f\u7528(0.5\u500d)\u306e\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u3092\u751f\u6210\u3059\u308b. myReverseView . transform = myReverseView . transform . scaledBy ( x : - 1.0 , y : 1.0 ) // View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myReverseView ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 // // ViewController.swift // UIKit014 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // \u753b\u50cf\u3092\u8a2d\u5b9a\u3059\u308b. let myImage : UIImage = UIImage ( named : \"fabo_logo.png\" ) ! let imageWidth : CGFloat = 300 let imageHeight : CGFloat = 100 // \u753b\u50cf\u3092\u7e2e\u5c0f\u3059\u308b(0.5\u500d) // \u8868\u793a\u3059\u308b\u5ea7\u6a19\u3092\u8a2d\u5b9a. let downPosX : CGFloat = ( self . view . bounds . width - imageWidth ) / 2 let downPosY : CGFloat = 50 // \u8868\u793a\u7528\u306eUIImageView\u3092\u751f\u6210. let myScaleDownView : UIImageView = UIImageView ( frame : CGRect ( x : downPosX , y : downPosY , width : imageWidth , height : imageHeight )) // UIImageView\u306b\u753b\u50cf\u3092\u8a2d\u5b9a\u3059\u308b. myScaleDownView . image = myImage // \u7e2e\u5c0f\u7528(0.5\u500d)\u306e\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u3092\u751f\u6210\u3059\u308b. myScaleDownView . transform = CGAffineTransformMakeScale ( 0.5 , 0.5 ) // View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myScaleDownView ) // \u753b\u50cf\u3092\u62e1\u5927(1.2\u500d) // \u8868\u793a\u3059\u308b\u5ea7\u6a19\u3092\u8a2d\u5b9a. let upPosX : CGFloat = ( self . view . bounds . width - imageWidth ) / 2 let upPosY : CGFloat = 150 // \u8868\u793a\u7528\u306eUIImageView\u3092\u751f\u6210. let myScaleUpView : UIImageView = UIImageView ( frame : CGRect ( x : upPosX , y : upPosY , width : imageWidth , height : imageHeight )) // UIImageView\u306b\u753b\u50cf\u3092\u8a2d\u5b9a\u3059\u308b. myScaleUpView . image = myImage // \u7e2e\u5c0f\u7528(0.5\u500d)\u306e\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u3092\u751f\u6210\u3059\u308b. myScaleUpView . transform = CGAffineTransformMakeScale ( 1.2 , 1.2 ) // View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myScaleUpView ) // \u753b\u50cf\u3092\u56de\u8ee2\u3059\u308b. // \u8868\u793a\u3059\u308b\u5ea7\u6a19\u3092\u8a2d\u5b9a. let rotatePosX : CGFloat = ( self . view . bounds . width - imageWidth ) / 2 let rotatePosY : CGFloat = 350 // \u8868\u793a\u7528\u306eUIImageView\u3092\u751f\u6210. let myRotateView : UIImageView = UIImageView ( frame : CGRect ( x : rotatePosX , y : rotatePosY , width : imageWidth , height : imageHeight )) // UIImageView\u306b\u753b\u50cf\u3092\u8a2d\u5b9a\u3059\u308b. myRotateView . image = myImage // radian\u3067\u56de\u8ee2\u89d2\u5ea6\u3092\u6307\u5b9a(30\u5ea6)\u3059\u308b. let angle : CGFloat = CGFloat (( 30.0 * M_PI ) / 180.0 ) // \u56de\u8ee2\u7528\u306e\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u3092\u751f\u6210\u3059\u308b. myRotateView . transform = CGAffineTransformMakeRotation ( angle ) // View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myRotateView ) // \u753b\u50cf\u3092\u53cd\u8ee2\u3059\u308b. // \u8868\u793a\u3059\u308b\u5ea7\u6a19\u3092\u8a2d\u5b9a. let reversePosX : CGFloat = ( self . view . bounds . width - imageWidth ) / 2 let reversePosY : CGFloat = 550 // \u8868\u793a\u7528\u306eUIImageView\u3092\u751f\u6210. let myReverseView : UIImageView = UIImageView ( frame : CGRect ( x : reversePosX , y : reversePosY , width : imageWidth , height : imageHeight )) // \u753b\u50cf\u3092\u8a2d\u5b9a\u3059\u308b. myReverseView . image = myImage // \u7e2e\u5c0f\u7528(0.5\u500d)\u306e\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u3092\u751f\u6210\u3059\u308b. myReverseView . transform = CGAffineTransformScale ( myReverseView . transform , - 1.0 , 1.0 ) // View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myReverseView ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } }","title":"UIImageView\u3067\u753b\u50cf\u3092\u8868\u793a"},{"location":"1.uikit/014_uiimageview/#2330","text":"CGAffineTransform\u306e\u5f15\u6570\u5b9a\u7fa9\u306e\u5909\u66f4.","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"1.uikit/014_uiimageview/#reference","text":"UserNotifications https://developer.apple.com/reference/uikit/uiimageview","title":"Reference"},{"location":"1.uikit/015_uiviewcontroller/","text":"UIViewController\u3067\u753b\u9762\u9077\u79fb\u3059\u308b ViewController.swift Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 // // ViewController.swift // UIKit015_4.0 // // Created by akira on 2016/08/13. // Copyright \u00a9 2018\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u8272\u3092Green\u306b\u8a2d\u5b9a\u3059\u308b. self . view . backgroundColor = UIColor . green // \u30dc\u30bf\u30f3\u3092\u751f\u6210\u3059\u308b. let nextButton : UIButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 120 , height : 50 )) nextButton . backgroundColor = UIColor . red nextButton . layer . masksToBounds = true nextButton . setTitle ( \"Next\" , for : . normal ) nextButton . layer . cornerRadius = 20.0 nextButton . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : self . view . bounds . height - 50 ) nextButton . addTarget ( self , action : #selector ( onClickMyButton ( sender :)), for : . touchUpInside ) // \u30dc\u30bf\u30f3\u3092\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( nextButton ); } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. */ @objc internal func onClickMyButton ( sender : UIButton ){ // \u9077\u79fb\u3059\u308bView\u3092\u5b9a\u7fa9\u3059\u308b. let mySecondViewController : UIViewController = SecondViewController () // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u8a2d\u5b9a\u3059\u308b. mySecondViewController . modalTransitionStyle = . partialCurl // View\u306e\u79fb\u52d5\u3059\u308b. self . present ( mySecondViewController , animated : true , completion : nil ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 // // ViewController.swift // UIKit015_3.0 // // Created by akira on 2016/08/13. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u8272\u3092Green\u306b\u8a2d\u5b9a\u3059\u308b. self . view . backgroundColor = UIColor . green // \u30dc\u30bf\u30f3\u3092\u751f\u6210\u3059\u308b. let nextButton : UIButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 120 , height : 50 )) nextButton . backgroundColor = UIColor . red nextButton . layer . masksToBounds = true nextButton . setTitle ( \"Next\" , for : . normal ) nextButton . layer . cornerRadius = 20.0 nextButton . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : self . view . bounds . height - 50 ) nextButton . addTarget ( self , action : #selector ( onClickMyButton ( sender :)), for : . touchUpInside ) // \u30dc\u30bf\u30f3\u3092\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( nextButton ); } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. */ internal func onClickMyButton ( sender : UIButton ){ // \u9077\u79fb\u3059\u308bView\u3092\u5b9a\u7fa9\u3059\u308b. let mySecondViewController : UIViewController = SecondViewController () // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u8a2d\u5b9a\u3059\u308b. mySecondViewController . modalTransitionStyle = . partialCurl // View\u306e\u79fb\u52d5\u3059\u308b. self . present ( mySecondViewController , animated : true , completion : nil ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 /// // ViewController.swift // UIKit015 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u8272\u3092Green\u306b\u8a2d\u5b9a\u3059\u308b. self . view . backgroundColor = UIColor . greenColor () // \u30dc\u30bf\u30f3\u3092\u751f\u6210\u3059\u308b. let nextButton : UIButton = UIButton ( frame : CGRectMake ( 0 , 0 , 120 , 50 )) nextButton . backgroundColor = UIColor . redColor (); nextButton . layer . masksToBounds = true nextButton . setTitle ( \"Next\" , forState : . Normal ) nextButton . layer . cornerRadius = 20.0 nextButton . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : self . view . bounds . height - 50 ) nextButton . addTarget ( self , action : #selector ( onClickMyButton ( _ :)), forControlEvents : . TouchUpInside ) // \u30dc\u30bf\u30f3\u3092\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( nextButton ); } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. */ internal func onClickMyButton ( sender : UIButton ){ // \u9077\u79fb\u3059\u308bView\u3092\u5b9a\u7fa9\u3059\u308b. let mySecondViewController : UIViewController = SecondViewController () // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u8a2d\u5b9a\u3059\u308b. mySecondViewController . modalTransitionStyle = UIModalTransitionStyle . PartialCurl // View\u306e\u79fb\u52d5\u3059\u308b. self . presentViewController ( mySecondViewController , animated : true , completion : nil ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } } SecondViewController.swift Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 // // SecondViewController.swift // UIKit015 // // Copyright \u00a9 2018\u5e74 FaBo, Inc. All rights reserved. // import UIKit class SecondViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u8272\u3092\u8a2d\u5b9a. self . view . backgroundColor = UIColor . blue // \u30dc\u30bf\u30f3\u3092\u4f5c\u6210. let backButton : UIButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 120 , height : 50 )) backButton . backgroundColor = UIColor . red backButton . layer . masksToBounds = true backButton . setTitle ( \"Back\" , for : . normal ) backButton . layer . cornerRadius = 20.0 backButton . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : self . view . bounds . height - 50 ) backButton . addTarget ( self , action : #selector ( onClickMyButton ( sender :)), for : . touchUpInside ) self . view . addSubview ( backButton ); } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. */ @objc internal func onClickMyButton ( sender : UIButton ){ // \u9077\u79fb\u3059\u308bView\u3092\u5b9a\u7fa9. let myViewController : UIViewController = ViewController () // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u8a2d\u5b9a. myViewController . modalTransitionStyle = UIModalTransitionStyle . flipHorizontal // View\u306e\u79fb\u52d5. self . present ( myViewController , animated : true , completion : nil ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 // // SecondViewController.swift // UIKit015 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class SecondViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u8272\u3092\u8a2d\u5b9a. self . view . backgroundColor = UIColor . blueColor () // \u30dc\u30bf\u30f3\u3092\u4f5c\u6210. let backButton : UIButton = UIButton ( frame : CGRectMake ( 0 , 0 , 120 , 50 )) backButton . backgroundColor = UIColor . redColor (); backButton . layer . masksToBounds = true backButton . setTitle ( \"Back\" , forState : . Normal ) backButton . layer . cornerRadius = 20.0 backButton . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : self . view . bounds . height - 50 ) backButton . addTarget ( self , action : #selector ( onClickMyButton ( _ :)), forControlEvents : . TouchUpInside ) self . view . addSubview ( backButton ); } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. */ internal func onClickMyButton ( sender : UIButton ){ // \u9077\u79fb\u3059\u308bView\u3092\u5b9a\u7fa9. let myViewController : UIViewController = ViewController () // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u8a2d\u5b9a. myViewController . modalTransitionStyle = UIModalTransitionStyle . FlipHorizontal // View\u306e\u79fb\u52d5. self . presentViewController ( myViewController , animated : true , completion : nil ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 // // SecondViewController.swift // UIKit015 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class SecondViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u8272\u3092\u8a2d\u5b9a. self . view . backgroundColor = UIColor . blueColor () // \u30dc\u30bf\u30f3\u3092\u4f5c\u6210. let backButton : UIButton = UIButton ( frame : CGRectMake ( 0 , 0 , 120 , 50 )) backButton . backgroundColor = UIColor . redColor (); backButton . layer . masksToBounds = true backButton . setTitle ( \"Back\" , forState : . Normal ) backButton . layer . cornerRadius = 20.0 backButton . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : self . view . bounds . height - 50 ) backButton . addTarget ( self , action : #selector ( onClickMyButton ( _ :)), forControlEvents : . TouchUpInside ) self . view . addSubview ( backButton ); } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. */ internal func onClickMyButton ( sender : UIButton ){ // \u9077\u79fb\u3059\u308bView\u3092\u5b9a\u7fa9. let myViewController : UIViewController = ViewController () // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u8a2d\u5b9a. myViewController . modalTransitionStyle = UIModalTransitionStyle . FlipHorizontal // View\u306e\u79fb\u52d5. self . presentViewController ( myViewController , animated : true , completion : nil ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } } 3.x\u30684.x\u306e\u5dee\u5206 internal func onClickMyButton(sender: UIButton) \u306b @objc \u3092\u8ffd\u52a0 UIColor.blueColor() \u304c UIColor.blue \u306b\u5909\u66f4 UIButton(frame: CGRectMake(0,0,120,50)) \u304c\u3001 UIButton(frame: CGRect(x: 0, y: 0, width: 120, height: 50)) \u306b\u5909\u66f4 UIColor.redColor() \u304c UIColor.red \u306b\u5909\u66f4 setTitle(\"Back\", forState: .Normal) \u304c\u3001 setTitle(\"Back\", for: .normal) \u306b\u5909\u66f4 backButton.addTarget(self, action: #selector(onClickMyButton(_:)), forControlEvents: .TouchUpInside) \u304c\u3001 backButton.addTarget(self, action: #selector(onClickMyButton(sender:)), for: .touchUpInside) \u306b\u5909\u66f4 UIModalTransitionStyle.FlipHorizontal \u304c\u3001 UIModalTransitionStyle.flipHorizontal \u306b\u5909\u66f4 self.presentViewController(myViewController, animated: true, completion: nil) \u304c\u3001 self.present(myViewController, animated: true, completion: nil) \u306b\u5909\u66f4 2.3\u30683.0\u306e\u5dee\u5206 presentViewController()\u304cpresent()\u306b\u5909\u66f4. Reference UserNotifications https://developer.apple.com/reference/uikit/uialertcontroller","title":"UIViewController\u3067\u753b\u9762\u9077\u79fb\u3059\u308b"},{"location":"1.uikit/015_uiviewcontroller/#uiviewcontroller","text":"","title":"UIViewController\u3067\u753b\u9762\u9077\u79fb\u3059\u308b"},{"location":"1.uikit/015_uiviewcontroller/#viewcontrollerswift","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 // // ViewController.swift // UIKit015_4.0 // // Created by akira on 2016/08/13. // Copyright \u00a9 2018\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u8272\u3092Green\u306b\u8a2d\u5b9a\u3059\u308b. self . view . backgroundColor = UIColor . green // \u30dc\u30bf\u30f3\u3092\u751f\u6210\u3059\u308b. let nextButton : UIButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 120 , height : 50 )) nextButton . backgroundColor = UIColor . red nextButton . layer . masksToBounds = true nextButton . setTitle ( \"Next\" , for : . normal ) nextButton . layer . cornerRadius = 20.0 nextButton . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : self . view . bounds . height - 50 ) nextButton . addTarget ( self , action : #selector ( onClickMyButton ( sender :)), for : . touchUpInside ) // \u30dc\u30bf\u30f3\u3092\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( nextButton ); } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. */ @objc internal func onClickMyButton ( sender : UIButton ){ // \u9077\u79fb\u3059\u308bView\u3092\u5b9a\u7fa9\u3059\u308b. let mySecondViewController : UIViewController = SecondViewController () // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u8a2d\u5b9a\u3059\u308b. mySecondViewController . modalTransitionStyle = . partialCurl // View\u306e\u79fb\u52d5\u3059\u308b. self . present ( mySecondViewController , animated : true , completion : nil ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 // // ViewController.swift // UIKit015_3.0 // // Created by akira on 2016/08/13. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u8272\u3092Green\u306b\u8a2d\u5b9a\u3059\u308b. self . view . backgroundColor = UIColor . green // \u30dc\u30bf\u30f3\u3092\u751f\u6210\u3059\u308b. let nextButton : UIButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 120 , height : 50 )) nextButton . backgroundColor = UIColor . red nextButton . layer . masksToBounds = true nextButton . setTitle ( \"Next\" , for : . normal ) nextButton . layer . cornerRadius = 20.0 nextButton . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : self . view . bounds . height - 50 ) nextButton . addTarget ( self , action : #selector ( onClickMyButton ( sender :)), for : . touchUpInside ) // \u30dc\u30bf\u30f3\u3092\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( nextButton ); } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. */ internal func onClickMyButton ( sender : UIButton ){ // \u9077\u79fb\u3059\u308bView\u3092\u5b9a\u7fa9\u3059\u308b. let mySecondViewController : UIViewController = SecondViewController () // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u8a2d\u5b9a\u3059\u308b. mySecondViewController . modalTransitionStyle = . partialCurl // View\u306e\u79fb\u52d5\u3059\u308b. self . present ( mySecondViewController , animated : true , completion : nil ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 /// // ViewController.swift // UIKit015 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u8272\u3092Green\u306b\u8a2d\u5b9a\u3059\u308b. self . view . backgroundColor = UIColor . greenColor () // \u30dc\u30bf\u30f3\u3092\u751f\u6210\u3059\u308b. let nextButton : UIButton = UIButton ( frame : CGRectMake ( 0 , 0 , 120 , 50 )) nextButton . backgroundColor = UIColor . redColor (); nextButton . layer . masksToBounds = true nextButton . setTitle ( \"Next\" , forState : . Normal ) nextButton . layer . cornerRadius = 20.0 nextButton . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : self . view . bounds . height - 50 ) nextButton . addTarget ( self , action : #selector ( onClickMyButton ( _ :)), forControlEvents : . TouchUpInside ) // \u30dc\u30bf\u30f3\u3092\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( nextButton ); } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. */ internal func onClickMyButton ( sender : UIButton ){ // \u9077\u79fb\u3059\u308bView\u3092\u5b9a\u7fa9\u3059\u308b. let mySecondViewController : UIViewController = SecondViewController () // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u8a2d\u5b9a\u3059\u308b. mySecondViewController . modalTransitionStyle = UIModalTransitionStyle . PartialCurl // View\u306e\u79fb\u52d5\u3059\u308b. self . presentViewController ( mySecondViewController , animated : true , completion : nil ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } }","title":"ViewController.swift"},{"location":"1.uikit/015_uiviewcontroller/#secondviewcontrollerswift","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 // // SecondViewController.swift // UIKit015 // // Copyright \u00a9 2018\u5e74 FaBo, Inc. All rights reserved. // import UIKit class SecondViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u8272\u3092\u8a2d\u5b9a. self . view . backgroundColor = UIColor . blue // \u30dc\u30bf\u30f3\u3092\u4f5c\u6210. let backButton : UIButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 120 , height : 50 )) backButton . backgroundColor = UIColor . red backButton . layer . masksToBounds = true backButton . setTitle ( \"Back\" , for : . normal ) backButton . layer . cornerRadius = 20.0 backButton . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : self . view . bounds . height - 50 ) backButton . addTarget ( self , action : #selector ( onClickMyButton ( sender :)), for : . touchUpInside ) self . view . addSubview ( backButton ); } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. */ @objc internal func onClickMyButton ( sender : UIButton ){ // \u9077\u79fb\u3059\u308bView\u3092\u5b9a\u7fa9. let myViewController : UIViewController = ViewController () // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u8a2d\u5b9a. myViewController . modalTransitionStyle = UIModalTransitionStyle . flipHorizontal // View\u306e\u79fb\u52d5. self . present ( myViewController , animated : true , completion : nil ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 // // SecondViewController.swift // UIKit015 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class SecondViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u8272\u3092\u8a2d\u5b9a. self . view . backgroundColor = UIColor . blueColor () // \u30dc\u30bf\u30f3\u3092\u4f5c\u6210. let backButton : UIButton = UIButton ( frame : CGRectMake ( 0 , 0 , 120 , 50 )) backButton . backgroundColor = UIColor . redColor (); backButton . layer . masksToBounds = true backButton . setTitle ( \"Back\" , forState : . Normal ) backButton . layer . cornerRadius = 20.0 backButton . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : self . view . bounds . height - 50 ) backButton . addTarget ( self , action : #selector ( onClickMyButton ( _ :)), forControlEvents : . TouchUpInside ) self . view . addSubview ( backButton ); } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. */ internal func onClickMyButton ( sender : UIButton ){ // \u9077\u79fb\u3059\u308bView\u3092\u5b9a\u7fa9. let myViewController : UIViewController = ViewController () // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u8a2d\u5b9a. myViewController . modalTransitionStyle = UIModalTransitionStyle . FlipHorizontal // View\u306e\u79fb\u52d5. self . presentViewController ( myViewController , animated : true , completion : nil ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 // // SecondViewController.swift // UIKit015 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class SecondViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u8272\u3092\u8a2d\u5b9a. self . view . backgroundColor = UIColor . blueColor () // \u30dc\u30bf\u30f3\u3092\u4f5c\u6210. let backButton : UIButton = UIButton ( frame : CGRectMake ( 0 , 0 , 120 , 50 )) backButton . backgroundColor = UIColor . redColor (); backButton . layer . masksToBounds = true backButton . setTitle ( \"Back\" , forState : . Normal ) backButton . layer . cornerRadius = 20.0 backButton . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : self . view . bounds . height - 50 ) backButton . addTarget ( self , action : #selector ( onClickMyButton ( _ :)), forControlEvents : . TouchUpInside ) self . view . addSubview ( backButton ); } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. */ internal func onClickMyButton ( sender : UIButton ){ // \u9077\u79fb\u3059\u308bView\u3092\u5b9a\u7fa9. let myViewController : UIViewController = ViewController () // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u8a2d\u5b9a. myViewController . modalTransitionStyle = UIModalTransitionStyle . FlipHorizontal // View\u306e\u79fb\u52d5. self . presentViewController ( myViewController , animated : true , completion : nil ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } }","title":"SecondViewController.swift"},{"location":"1.uikit/015_uiviewcontroller/#3x4x","text":"internal func onClickMyButton(sender: UIButton) \u306b @objc \u3092\u8ffd\u52a0 UIColor.blueColor() \u304c UIColor.blue \u306b\u5909\u66f4 UIButton(frame: CGRectMake(0,0,120,50)) \u304c\u3001 UIButton(frame: CGRect(x: 0, y: 0, width: 120, height: 50)) \u306b\u5909\u66f4 UIColor.redColor() \u304c UIColor.red \u306b\u5909\u66f4 setTitle(\"Back\", forState: .Normal) \u304c\u3001 setTitle(\"Back\", for: .normal) \u306b\u5909\u66f4 backButton.addTarget(self, action: #selector(onClickMyButton(_:)), forControlEvents: .TouchUpInside) \u304c\u3001 backButton.addTarget(self, action: #selector(onClickMyButton(sender:)), for: .touchUpInside) \u306b\u5909\u66f4 UIModalTransitionStyle.FlipHorizontal \u304c\u3001 UIModalTransitionStyle.flipHorizontal \u306b\u5909\u66f4 self.presentViewController(myViewController, animated: true, completion: nil) \u304c\u3001 self.present(myViewController, animated: true, completion: nil) \u306b\u5909\u66f4","title":"3.x\u30684.x\u306e\u5dee\u5206"},{"location":"1.uikit/015_uiviewcontroller/#2330","text":"presentViewController()\u304cpresent()\u306b\u5909\u66f4.","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"1.uikit/015_uiviewcontroller/#reference","text":"UserNotifications https://developer.apple.com/reference/uikit/uialertcontroller","title":"Reference"},{"location":"1.uikit/016_uiscrollview/","text":"UIScrollView\u306e\u8868\u793a Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 // // ViewController.swift // UIKit016_3.0 // // Created by KimikoWatanabe on 2016/08/16. // Copyright \u00a9 2018\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { private var myScrollView : UIScrollView ! override func viewDidLoad () { super . viewDidLoad () // ScrollView\u3092\u751f\u6210. myScrollView = UIScrollView () // ScrollView\u306e\u5927\u304d\u3055\u3092\u8a2d\u5b9a\u3059\u308b. myScrollView . frame = self . view . frame // UIImage\u306b\u753b\u50cf\u3092\u8a2d\u5b9a\u3059\u308b. let myImage = UIImage ( named : \"temple.jpg\" ) ! // UIImageView\u3092\u751f\u6210\u3059\u308b. let myImageView = UIImageView () // myImageView\u306eimage\u306bmyImage\u3092\u8a2d\u5b9a\u3059\u308b. myImageView . image = myImage // frame\u306e\u5024\u3092\u8a2d\u5b9a\u3059\u308b. myImageView . frame = myScrollView . frame // \u753b\u50cf\u306e\u30a2\u30b9\u30da\u30af\u30c8\u6bd4\u3092\u8a2d\u5b9a. myImageView . contentMode = UIView . ContentMode . scaleAspectFill // ScrollView\u306bmyImageView\u3092\u8ffd\u52a0\u3059\u308b. myScrollView . addSubview ( myImageView ) // Scroll\u306e\u9ad8\u3055\u3092\u8a08\u7b97\u3057\u3066\u304a\u304f. let scroll_height = myImage . size . height * ( self . view . frame . width / myImage . size . width ) // ScrollView\u306bcontentSize\u3092\u8a2d\u5b9a\u3059\u308b. myScrollView . contentSize = CGSize ( width : self . view . frame . width , height : scroll_height ) // View\u306bScrollView\u3092Add\u3059\u308b. self . view . addSubview ( myScrollView ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 // // ViewController.swift // UIKit016_3.0 // // Created by KimikoWatanabe on 2016/08/16. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { private var myScrollView : UIScrollView ! override func viewDidLoad () { super . viewDidLoad () // ScrollView\u3092\u751f\u6210. myScrollView = UIScrollView () // ScrollView\u306e\u5927\u304d\u3055\u3092\u8a2d\u5b9a\u3059\u308b. myScrollView . frame = self . view . frame // UIImage\u306b\u753b\u50cf\u3092\u8a2d\u5b9a\u3059\u308b. let myImage = UIImage ( named : \"temple.jpg\" ) ! // UIImageView\u3092\u751f\u6210\u3059\u308b. let myImageView = UIImageView () // myImageView\u306eimage\u306bmyImage\u3092\u8a2d\u5b9a\u3059\u308b. myImageView . image = myImage // frame\u306e\u5024\u3092\u8a2d\u5b9a\u3059\u308b. myImageView . frame = myScrollView . frame // \u753b\u50cf\u306e\u30a2\u30b9\u30da\u30af\u30c8\u6bd4\u3092\u8a2d\u5b9a. myImageView . contentMode = UIViewContentMode . scaleAspectFill // ScrollView\u306bmyImageView\u3092\u8ffd\u52a0\u3059\u308b. myScrollView . addSubview ( myImageView ) // Scroll\u306e\u9ad8\u3055\u3092\u8a08\u7b97\u3057\u3066\u304a\u304f. let scroll_height = myImage . size . height * ( self . view . frame . width / myImage . size . width ) // ScrollView\u306bcontentSize\u3092\u8a2d\u5b9a\u3059\u308b. myScrollView . contentSize = CGSize ( width : self . view . frame . width , height : scroll_height ) // View\u306bScrollView\u3092Add\u3059\u308b. self . view . addSubview ( myScrollView ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 // // ViewController.swift // UIKit016_2.3 // // Created by KimikoWatanabe on 2016/08/16. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. import UIKit class ViewController : UIViewController { private var myScrollView : UIScrollView ! override func viewDidLoad () { super . viewDidLoad () // ScrollView\u3092\u751f\u6210. myScrollView = UIScrollView () // ScrollView\u306e\u5927\u304d\u3055\u3092\u8a2d\u5b9a\u3059\u308b. myScrollView . frame = self . view . frame // UIImage\u306b\u753b\u50cf\u3092\u8a2d\u5b9a\u3059\u308b. let myImage = UIImage ( named : \"temple.jpg\" ) ! // UIImageView\u3092\u751f\u6210\u3059\u308b. let myImageView = UIImageView () // myImageView\u306eimage\u306bmyImage\u3092\u8a2d\u5b9a\u3059\u308b. myImageView . image = myImage // frame\u306e\u5024\u3092\u8a2d\u5b9a\u3059\u308b. myImageView . frame = myScrollView . frame // \u753b\u50cf\u306e\u30a2\u30b9\u30da\u30af\u30c8\u6bd4\u3092\u8a2d\u5b9a. myImageView . contentMode = UIViewContentMode . ScaleAspectFill // ScrollView\u306bmyImageView\u3092\u8ffd\u52a0\u3059\u308b. myScrollView . addSubview ( myImageView ) // Scroll\u306e\u9ad8\u3055\u3092\u8a08\u7b97\u3057\u3066\u304a\u304f. let scroll_height = myImage . size . height * ( self . view . frame . width / myImage . size . width ) // ScrollView\u306bcontentSize\u3092\u8a2d\u5b9a\u3059\u308b. myScrollView . contentSize = CGSizeMake ( self . view . frame . width , scroll_height ) // View\u306bScrollView\u3092Add\u3059\u308b. self . view . addSubview ( myScrollView ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } 3.x\u30684.x\u306e\u5dee\u5206 UIViewContentMode \u304c\u3001 UIView.ContentMode \u306b\u5909\u66f4 2.3\u30683.0\u306e\u5dee\u5206 UIViewContentMode\u306e\u540d\u79f0\u304c\u5909\u66f4 CGSize\u306e\u751f\u6210\u65b9\u6cd5\u306e\u5909\u66f4(CGSizeMake\u306e\u5ec3\u6b62) Reference UIScrollView Class https://developer.apple.com/reference/uikit/uiscrollview UIImageView Class https://developer.apple.com/reference/uikit/uiimageview UIImage Class https://developer.apple.com/reference/uikit/uiimage","title":"UIScrollView\u306e\u8868\u793a"},{"location":"1.uikit/016_uiscrollview/#uiscrollview","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 // // ViewController.swift // UIKit016_3.0 // // Created by KimikoWatanabe on 2016/08/16. // Copyright \u00a9 2018\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { private var myScrollView : UIScrollView ! override func viewDidLoad () { super . viewDidLoad () // ScrollView\u3092\u751f\u6210. myScrollView = UIScrollView () // ScrollView\u306e\u5927\u304d\u3055\u3092\u8a2d\u5b9a\u3059\u308b. myScrollView . frame = self . view . frame // UIImage\u306b\u753b\u50cf\u3092\u8a2d\u5b9a\u3059\u308b. let myImage = UIImage ( named : \"temple.jpg\" ) ! // UIImageView\u3092\u751f\u6210\u3059\u308b. let myImageView = UIImageView () // myImageView\u306eimage\u306bmyImage\u3092\u8a2d\u5b9a\u3059\u308b. myImageView . image = myImage // frame\u306e\u5024\u3092\u8a2d\u5b9a\u3059\u308b. myImageView . frame = myScrollView . frame // \u753b\u50cf\u306e\u30a2\u30b9\u30da\u30af\u30c8\u6bd4\u3092\u8a2d\u5b9a. myImageView . contentMode = UIView . ContentMode . scaleAspectFill // ScrollView\u306bmyImageView\u3092\u8ffd\u52a0\u3059\u308b. myScrollView . addSubview ( myImageView ) // Scroll\u306e\u9ad8\u3055\u3092\u8a08\u7b97\u3057\u3066\u304a\u304f. let scroll_height = myImage . size . height * ( self . view . frame . width / myImage . size . width ) // ScrollView\u306bcontentSize\u3092\u8a2d\u5b9a\u3059\u308b. myScrollView . contentSize = CGSize ( width : self . view . frame . width , height : scroll_height ) // View\u306bScrollView\u3092Add\u3059\u308b. self . view . addSubview ( myScrollView ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 // // ViewController.swift // UIKit016_3.0 // // Created by KimikoWatanabe on 2016/08/16. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { private var myScrollView : UIScrollView ! override func viewDidLoad () { super . viewDidLoad () // ScrollView\u3092\u751f\u6210. myScrollView = UIScrollView () // ScrollView\u306e\u5927\u304d\u3055\u3092\u8a2d\u5b9a\u3059\u308b. myScrollView . frame = self . view . frame // UIImage\u306b\u753b\u50cf\u3092\u8a2d\u5b9a\u3059\u308b. let myImage = UIImage ( named : \"temple.jpg\" ) ! // UIImageView\u3092\u751f\u6210\u3059\u308b. let myImageView = UIImageView () // myImageView\u306eimage\u306bmyImage\u3092\u8a2d\u5b9a\u3059\u308b. myImageView . image = myImage // frame\u306e\u5024\u3092\u8a2d\u5b9a\u3059\u308b. myImageView . frame = myScrollView . frame // \u753b\u50cf\u306e\u30a2\u30b9\u30da\u30af\u30c8\u6bd4\u3092\u8a2d\u5b9a. myImageView . contentMode = UIViewContentMode . scaleAspectFill // ScrollView\u306bmyImageView\u3092\u8ffd\u52a0\u3059\u308b. myScrollView . addSubview ( myImageView ) // Scroll\u306e\u9ad8\u3055\u3092\u8a08\u7b97\u3057\u3066\u304a\u304f. let scroll_height = myImage . size . height * ( self . view . frame . width / myImage . size . width ) // ScrollView\u306bcontentSize\u3092\u8a2d\u5b9a\u3059\u308b. myScrollView . contentSize = CGSize ( width : self . view . frame . width , height : scroll_height ) // View\u306bScrollView\u3092Add\u3059\u308b. self . view . addSubview ( myScrollView ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 // // ViewController.swift // UIKit016_2.3 // // Created by KimikoWatanabe on 2016/08/16. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. import UIKit class ViewController : UIViewController { private var myScrollView : UIScrollView ! override func viewDidLoad () { super . viewDidLoad () // ScrollView\u3092\u751f\u6210. myScrollView = UIScrollView () // ScrollView\u306e\u5927\u304d\u3055\u3092\u8a2d\u5b9a\u3059\u308b. myScrollView . frame = self . view . frame // UIImage\u306b\u753b\u50cf\u3092\u8a2d\u5b9a\u3059\u308b. let myImage = UIImage ( named : \"temple.jpg\" ) ! // UIImageView\u3092\u751f\u6210\u3059\u308b. let myImageView = UIImageView () // myImageView\u306eimage\u306bmyImage\u3092\u8a2d\u5b9a\u3059\u308b. myImageView . image = myImage // frame\u306e\u5024\u3092\u8a2d\u5b9a\u3059\u308b. myImageView . frame = myScrollView . frame // \u753b\u50cf\u306e\u30a2\u30b9\u30da\u30af\u30c8\u6bd4\u3092\u8a2d\u5b9a. myImageView . contentMode = UIViewContentMode . ScaleAspectFill // ScrollView\u306bmyImageView\u3092\u8ffd\u52a0\u3059\u308b. myScrollView . addSubview ( myImageView ) // Scroll\u306e\u9ad8\u3055\u3092\u8a08\u7b97\u3057\u3066\u304a\u304f. let scroll_height = myImage . size . height * ( self . view . frame . width / myImage . size . width ) // ScrollView\u306bcontentSize\u3092\u8a2d\u5b9a\u3059\u308b. myScrollView . contentSize = CGSizeMake ( self . view . frame . width , scroll_height ) // View\u306bScrollView\u3092Add\u3059\u308b. self . view . addSubview ( myScrollView ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } }","title":"UIScrollView\u306e\u8868\u793a"},{"location":"1.uikit/016_uiscrollview/#3x4x","text":"UIViewContentMode \u304c\u3001 UIView.ContentMode \u306b\u5909\u66f4","title":"3.x\u30684.x\u306e\u5dee\u5206"},{"location":"1.uikit/016_uiscrollview/#2330","text":"UIViewContentMode\u306e\u540d\u79f0\u304c\u5909\u66f4 CGSize\u306e\u751f\u6210\u65b9\u6cd5\u306e\u5909\u66f4(CGSizeMake\u306e\u5ec3\u6b62)","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"1.uikit/016_uiscrollview/#reference","text":"UIScrollView Class https://developer.apple.com/reference/uikit/uiscrollview UIImageView Class https://developer.apple.com/reference/uikit/uiimageview UIImage Class https://developer.apple.com/reference/uikit/uiimage","title":"Reference"},{"location":"1.uikit/017_uibarbuttonitem/","text":"UIBarButtonItem\u306e\u8a2d\u7f6e Swift 4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 // // AppDelegate.swift // UIKit017_3.0 // // Created by KimikoWatanabe on 2016/08/16. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit @UIApplicationMain class AppDelegate : UIResponder , UIApplicationDelegate { internal var window : UIWindow ? func applicationDidFinishLaunching ( _ application : UIApplication ) { // viewConroller\u3092\u751f\u6210. let myViewController = ViewController () // navigationController\u3092\u751f\u6210. let navigationController = UINavigationController ( rootViewController : myViewController ) // window\u3092\u751f\u6210. window = UIWindow ( frame : UIScreen . main . bounds ) // rootViewController\u306bnavigationController\u3092\u8a2d\u5b9a. window ?. rootViewController = navigationController window ?. makeKeyAndVisible () //return true } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 // // AppDelegate.swift // UIKit017_2.3 // // Created by KimikoWatanabe on 2016/08/16. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit @UIApplicationMain class AppDelegate : UIResponder , UIApplicationDelegate { internal var window : UIWindow ? func application ( application : UIApplication , didFinishLaunchingWithOptions launchOptions : [ NSObject : AnyObject ]?) -> Bool { // viewConroller\u3092\u751f\u6210. let myViewController = ViewController () // navigationController\u3092\u751f\u6210. let navigationController = UINavigationController ( rootViewController : myViewController ) // window\u3092\u751f\u6210. window = UIWindow ( frame : UIScreen . mainScreen (). bounds ) // rootViewController\u306bnavigationController\u3092\u8a2d\u5b9a. window ?. rootViewController = navigationController window ?. makeKeyAndVisible () return true } } ViewController.swift Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 // // ViewController.swift // UIKit017_4.0 // // Created by KimikoWatanabe on 2016/08/16. // Copyright \u00a9 2018\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { private var myLeftButton : UIBarButtonItem ! private var myRightButton : UIBarButtonItem ! override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u8272\u3092Cyan\u306b\u8a2d\u5b9a\u3059\u308b. self . view . backgroundColor = UIColor . cyan // NavigationController\u306e\u30bf\u30a4\u30c8\u30eb\u3092\u8a2d\u5b9a\u3059\u308b. self . title = \"My Navigation\" // \u5de6\u30dc\u30bf\u30f3\u3092\u4f5c\u6210\u3059\u308b.. myLeftButton = UIBarButtonItem ( barButtonSystemItem : . add , target : self , action : #selector ( ViewController . onClickMyButton ( sender :))) // \u53f3\u30dc\u30bf\u30f3\u3092\u4f5c\u6210\u3059\u308b. myRightButton = UIBarButtonItem ( title : \"RightBtn\" , style : . plain , target : self , action : #selector ( ViewController . onClickMyButton ( sender :))) // tag\u3092\u8a2d\u5b9a\u3059\u308b. myLeftButton . tag = 1 myRightButton . tag = 2 // \u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u30d0\u30fc\u306e\u5de6\u306b\u8a2d\u7f6e\u3059\u308b. self . navigationItem . leftBarButtonItem = myLeftButton // \u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u30d0\u30fc\u306e\u53f3\u306b\u8a2d\u7f6e\u3059\u308b. self . navigationItem . rightBarButtonItem = myRightButton } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. */ @objc internal func onClickMyButton ( sender : UIButton ){ switch ( sender . tag ){ case 1 : // \u80cc\u666f\u8272\u3092\u9752\u8272\u306b\u5909\u3048\u308b. self . view . backgroundColor = UIColor . blue case 2 : // \u80cc\u666f\u8272\u3092\u8d64\u8272\u306b\u5909\u3048\u308b. self . view . backgroundColor = UIColor . red default : print ( \"error\" ) } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 // // ViewController.swift // UIKit017_3.0 // // Created by KimikoWatanabe on 2016/08/16. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { private var myLeftButton : UIBarButtonItem ! private var myRightButton : UIBarButtonItem ! override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u8272\u3092Cyan\u306b\u8a2d\u5b9a\u3059\u308b. self . view . backgroundColor = UIColor . cyan // NavigationController\u306e\u30bf\u30a4\u30c8\u30eb\u3092\u8a2d\u5b9a\u3059\u308b. self . title = \"My Navigation\" // \u5de6\u30dc\u30bf\u30f3\u3092\u4f5c\u6210\u3059\u308b.. myLeftButton = UIBarButtonItem ( barButtonSystemItem : . add , target : self , action : #selector ( ViewController . onClickMyButton ( sender :))) // \u53f3\u30dc\u30bf\u30f3\u3092\u4f5c\u6210\u3059\u308b. myRightButton = UIBarButtonItem ( title : \"RightBtn\" , style : . plain , target : self , action : #selector ( ViewController . onClickMyButton ( sender :))) // tag\u3092\u8a2d\u5b9a\u3059\u308b. myLeftButton . tag = 1 myRightButton . tag = 2 // \u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u30d0\u30fc\u306e\u5de6\u306b\u8a2d\u7f6e\u3059\u308b. self . navigationItem . leftBarButtonItem = myLeftButton // \u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u30d0\u30fc\u306e\u53f3\u306b\u8a2d\u7f6e\u3059\u308b. self . navigationItem . rightBarButtonItem = myRightButton } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. */ internal func onClickMyButton ( sender : UIButton ){ switch ( sender . tag ){ case 1 : // \u80cc\u666f\u8272\u3092\u9752\u8272\u306b\u5909\u3048\u308b. self . view . backgroundColor = UIColor . blue case 2 : // \u80cc\u666f\u8272\u3092\u8d64\u8272\u306b\u5909\u3048\u308b. self . view . backgroundColor = UIColor . red default : print ( \"error\" ) } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 // // ViewController.swift // UIKit017_2.3 // // Created by KimikoWatanabe on 2016/08/16. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { private var myLeftButton : UIBarButtonItem ! private var myRightButton : UIBarButtonItem ! override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u8272\u3092Cyan\u306b\u8a2d\u5b9a\u3059\u308b. self . view . backgroundColor = UIColor . cyanColor () // NavigationController\u306e\u30bf\u30a4\u30c8\u30eb\u3092\u8a2d\u5b9a\u3059\u308b. self . title = \"My Navigation\" // \u5de6\u30dc\u30bf\u30f3\u3092\u4f5c\u6210\u3059\u308b.. myLeftButton = UIBarButtonItem ( barButtonSystemItem : . Add , target : self , action : \"onClickMyButton:\" ) // \u53f3\u30dc\u30bf\u30f3\u3092\u4f5c\u6210\u3059\u308b. myRightButton = UIBarButtonItem ( title : \"RightBtn\" , style : . Plain , target : self , action : \"onClickMyButton:\" ) // tag\u3092\u8a2d\u5b9a\u3059\u308b. myLeftButton . tag = 1 myRightButton . tag = 2 // \u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u30d0\u30fc\u306e\u5de6\u306b\u8a2d\u7f6e\u3059\u308b. self . navigationItem . leftBarButtonItem = myLeftButton // \u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u30d0\u30fc\u306e\u53f3\u306b\u8a2d\u7f6e\u3059\u308b. self . navigationItem . rightBarButtonItem = myRightButton } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. */ internal func onClickMyButton ( sender : UIButton ){ switch ( sender . tag ){ case 1 : // \u80cc\u666f\u8272\u3092\u9752\u8272\u306b\u5909\u3048\u308b. self . view . backgroundColor = UIColor . blueColor () case 2 : // \u80cc\u666f\u8272\u3092\u8d64\u8272\u306b\u5909\u3048\u308b. self . view . backgroundColor = UIColor . redColor () default : print ( \"error\" ) } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } 3.x\u30684.x\u306e\u5dee\u5206 internal func onClickMyButton(sender: UIButton) \u306b @objc \u3092\u8ffd\u52a0 2.3\u30683.0\u306e\u5dee\u5206 UIApplicationDelegate\u306eDelegate\u30e1\u30bd\u30c3\u30c9\u540d\u304c\u5909\u66f4 UIScreen\u304b\u3089\u30b9\u30af\u30ea\u30fc\u30f3\u306e\u30b5\u30a4\u30ba\u53d6\u5f97\u306e\u65b9\u6cd5\u304c\u5909\u66f4(UIScreen.mainScreen() -> UIScreen.main) UIBarButtonItemStyle\u306e\u540d\u79f0\u304c\u5909\u66f4 Reference UIBarButtonItem Class https://developer.apple.com/reference/uikit/uibarbuttonitem UINavigationController Class https://developer.apple.com/reference/uikit/uinavigationcontroller UIViewController Class https://developer.apple.com/reference/uikit/uiviewcontroller","title":"UIBarButtonItem\u306e\u8a2d\u7f6e"},{"location":"1.uikit/017_uibarbuttonitem/#uibarbuttonitem","text":"Swift 4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 // // AppDelegate.swift // UIKit017_3.0 // // Created by KimikoWatanabe on 2016/08/16. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit @UIApplicationMain class AppDelegate : UIResponder , UIApplicationDelegate { internal var window : UIWindow ? func applicationDidFinishLaunching ( _ application : UIApplication ) { // viewConroller\u3092\u751f\u6210. let myViewController = ViewController () // navigationController\u3092\u751f\u6210. let navigationController = UINavigationController ( rootViewController : myViewController ) // window\u3092\u751f\u6210. window = UIWindow ( frame : UIScreen . main . bounds ) // rootViewController\u306bnavigationController\u3092\u8a2d\u5b9a. window ?. rootViewController = navigationController window ?. makeKeyAndVisible () //return true } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 // // AppDelegate.swift // UIKit017_2.3 // // Created by KimikoWatanabe on 2016/08/16. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit @UIApplicationMain class AppDelegate : UIResponder , UIApplicationDelegate { internal var window : UIWindow ? func application ( application : UIApplication , didFinishLaunchingWithOptions launchOptions : [ NSObject : AnyObject ]?) -> Bool { // viewConroller\u3092\u751f\u6210. let myViewController = ViewController () // navigationController\u3092\u751f\u6210. let navigationController = UINavigationController ( rootViewController : myViewController ) // window\u3092\u751f\u6210. window = UIWindow ( frame : UIScreen . mainScreen (). bounds ) // rootViewController\u306bnavigationController\u3092\u8a2d\u5b9a. window ?. rootViewController = navigationController window ?. makeKeyAndVisible () return true } }","title":"UIBarButtonItem\u306e\u8a2d\u7f6e"},{"location":"1.uikit/017_uibarbuttonitem/#viewcontrollerswift","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 // // ViewController.swift // UIKit017_4.0 // // Created by KimikoWatanabe on 2016/08/16. // Copyright \u00a9 2018\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { private var myLeftButton : UIBarButtonItem ! private var myRightButton : UIBarButtonItem ! override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u8272\u3092Cyan\u306b\u8a2d\u5b9a\u3059\u308b. self . view . backgroundColor = UIColor . cyan // NavigationController\u306e\u30bf\u30a4\u30c8\u30eb\u3092\u8a2d\u5b9a\u3059\u308b. self . title = \"My Navigation\" // \u5de6\u30dc\u30bf\u30f3\u3092\u4f5c\u6210\u3059\u308b.. myLeftButton = UIBarButtonItem ( barButtonSystemItem : . add , target : self , action : #selector ( ViewController . onClickMyButton ( sender :))) // \u53f3\u30dc\u30bf\u30f3\u3092\u4f5c\u6210\u3059\u308b. myRightButton = UIBarButtonItem ( title : \"RightBtn\" , style : . plain , target : self , action : #selector ( ViewController . onClickMyButton ( sender :))) // tag\u3092\u8a2d\u5b9a\u3059\u308b. myLeftButton . tag = 1 myRightButton . tag = 2 // \u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u30d0\u30fc\u306e\u5de6\u306b\u8a2d\u7f6e\u3059\u308b. self . navigationItem . leftBarButtonItem = myLeftButton // \u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u30d0\u30fc\u306e\u53f3\u306b\u8a2d\u7f6e\u3059\u308b. self . navigationItem . rightBarButtonItem = myRightButton } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. */ @objc internal func onClickMyButton ( sender : UIButton ){ switch ( sender . tag ){ case 1 : // \u80cc\u666f\u8272\u3092\u9752\u8272\u306b\u5909\u3048\u308b. self . view . backgroundColor = UIColor . blue case 2 : // \u80cc\u666f\u8272\u3092\u8d64\u8272\u306b\u5909\u3048\u308b. self . view . backgroundColor = UIColor . red default : print ( \"error\" ) } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 // // ViewController.swift // UIKit017_3.0 // // Created by KimikoWatanabe on 2016/08/16. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { private var myLeftButton : UIBarButtonItem ! private var myRightButton : UIBarButtonItem ! override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u8272\u3092Cyan\u306b\u8a2d\u5b9a\u3059\u308b. self . view . backgroundColor = UIColor . cyan // NavigationController\u306e\u30bf\u30a4\u30c8\u30eb\u3092\u8a2d\u5b9a\u3059\u308b. self . title = \"My Navigation\" // \u5de6\u30dc\u30bf\u30f3\u3092\u4f5c\u6210\u3059\u308b.. myLeftButton = UIBarButtonItem ( barButtonSystemItem : . add , target : self , action : #selector ( ViewController . onClickMyButton ( sender :))) // \u53f3\u30dc\u30bf\u30f3\u3092\u4f5c\u6210\u3059\u308b. myRightButton = UIBarButtonItem ( title : \"RightBtn\" , style : . plain , target : self , action : #selector ( ViewController . onClickMyButton ( sender :))) // tag\u3092\u8a2d\u5b9a\u3059\u308b. myLeftButton . tag = 1 myRightButton . tag = 2 // \u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u30d0\u30fc\u306e\u5de6\u306b\u8a2d\u7f6e\u3059\u308b. self . navigationItem . leftBarButtonItem = myLeftButton // \u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u30d0\u30fc\u306e\u53f3\u306b\u8a2d\u7f6e\u3059\u308b. self . navigationItem . rightBarButtonItem = myRightButton } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. */ internal func onClickMyButton ( sender : UIButton ){ switch ( sender . tag ){ case 1 : // \u80cc\u666f\u8272\u3092\u9752\u8272\u306b\u5909\u3048\u308b. self . view . backgroundColor = UIColor . blue case 2 : // \u80cc\u666f\u8272\u3092\u8d64\u8272\u306b\u5909\u3048\u308b. self . view . backgroundColor = UIColor . red default : print ( \"error\" ) } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 // // ViewController.swift // UIKit017_2.3 // // Created by KimikoWatanabe on 2016/08/16. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { private var myLeftButton : UIBarButtonItem ! private var myRightButton : UIBarButtonItem ! override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u8272\u3092Cyan\u306b\u8a2d\u5b9a\u3059\u308b. self . view . backgroundColor = UIColor . cyanColor () // NavigationController\u306e\u30bf\u30a4\u30c8\u30eb\u3092\u8a2d\u5b9a\u3059\u308b. self . title = \"My Navigation\" // \u5de6\u30dc\u30bf\u30f3\u3092\u4f5c\u6210\u3059\u308b.. myLeftButton = UIBarButtonItem ( barButtonSystemItem : . Add , target : self , action : \"onClickMyButton:\" ) // \u53f3\u30dc\u30bf\u30f3\u3092\u4f5c\u6210\u3059\u308b. myRightButton = UIBarButtonItem ( title : \"RightBtn\" , style : . Plain , target : self , action : \"onClickMyButton:\" ) // tag\u3092\u8a2d\u5b9a\u3059\u308b. myLeftButton . tag = 1 myRightButton . tag = 2 // \u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u30d0\u30fc\u306e\u5de6\u306b\u8a2d\u7f6e\u3059\u308b. self . navigationItem . leftBarButtonItem = myLeftButton // \u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u30d0\u30fc\u306e\u53f3\u306b\u8a2d\u7f6e\u3059\u308b. self . navigationItem . rightBarButtonItem = myRightButton } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. */ internal func onClickMyButton ( sender : UIButton ){ switch ( sender . tag ){ case 1 : // \u80cc\u666f\u8272\u3092\u9752\u8272\u306b\u5909\u3048\u308b. self . view . backgroundColor = UIColor . blueColor () case 2 : // \u80cc\u666f\u8272\u3092\u8d64\u8272\u306b\u5909\u3048\u308b. self . view . backgroundColor = UIColor . redColor () default : print ( \"error\" ) } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } }","title":"ViewController.swift"},{"location":"1.uikit/017_uibarbuttonitem/#3x4x","text":"internal func onClickMyButton(sender: UIButton) \u306b @objc \u3092\u8ffd\u52a0","title":"3.x\u30684.x\u306e\u5dee\u5206"},{"location":"1.uikit/017_uibarbuttonitem/#2330","text":"UIApplicationDelegate\u306eDelegate\u30e1\u30bd\u30c3\u30c9\u540d\u304c\u5909\u66f4 UIScreen\u304b\u3089\u30b9\u30af\u30ea\u30fc\u30f3\u306e\u30b5\u30a4\u30ba\u53d6\u5f97\u306e\u65b9\u6cd5\u304c\u5909\u66f4(UIScreen.mainScreen() -> UIScreen.main) UIBarButtonItemStyle\u306e\u540d\u79f0\u304c\u5909\u66f4","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"1.uikit/017_uibarbuttonitem/#reference","text":"UIBarButtonItem Class https://developer.apple.com/reference/uikit/uibarbuttonitem UINavigationController Class https://developer.apple.com/reference/uikit/uinavigationcontroller UIViewController Class https://developer.apple.com/reference/uikit/uiviewcontroller","title":"Reference"},{"location":"1.uikit/018_uipagecontrol/","text":"UIPageControl\u306e\u8868\u793a Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 // // ViewController.swift // UIKit018_4.0 // // Created by KimikoWatanabe on 2016/08/13. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UIScrollViewDelegate { private var pageControl : UIPageControl ! private var scrollView : UIScrollView ! override func viewDidLoad () { // \u30d3\u30e5\u30fc\u306e\u7e26\u3001\u6a2a\u306e\u30b5\u30a4\u30ba\u3092\u53d6\u5f97\u3059\u308b. let width = self . view . frame . maxX , height = self . view . frame . maxY // \u80cc\u666f\u306e\u8272\u3092Cyan\u306b\u8a2d\u5b9a\u3059\u308b. self . view . backgroundColor = UIColor . cyan // ScrollView\u3092\u53d6\u5f97\u3059\u308b. scrollView = UIScrollView ( frame : self . view . frame ) // \u30da\u30fc\u30b8\u6570\u3092\u5b9a\u7fa9\u3059\u308b. let pageSize = 4 // \u7e26\u65b9\u5411\u3068\u3001\u6a2a\u65b9\u5411\u306e\u30a4\u30f3\u30c7\u30a3\u30b1\u30fc\u30bf\u3092\u975e\u8868\u793a\u306b\u3059\u308b. scrollView . showsHorizontalScrollIndicator = false ; scrollView . showsVerticalScrollIndicator = false // \u30da\u30fc\u30b8\u30f3\u30b0\u3092\u8a31\u53ef\u3059\u308b. scrollView . isPagingEnabled = true // ScrollView\u306e\u30c7\u30ea\u30b2\u30fc\u30c8\u3092\u8a2d\u5b9a\u3059\u308b. scrollView . delegate = self // \u30b9\u30af\u30ed\u30fc\u30eb\u306e\u753b\u9762\u30b5\u30a4\u30ba\u3092\u6307\u5b9a\u3059\u308b. scrollView . contentSize = CGSize ( width : CGFloat ( pageSize ) * width , height : 0 ) // ScrollView\u3092View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( scrollView ) // \u30da\u30fc\u30b8\u6570\u5206\u30dc\u30bf\u30f3\u3092\u751f\u6210\u3059\u308b. for i in 0 .. < pageSize { // \u30da\u30fc\u30b8\u3054\u3068\u306b\u7570\u306a\u308b\u30e9\u30d9\u30eb\u3092\u751f\u6210\u3059\u308b. let myLabel : UILabel = UILabel ( frame : CGRect ( x : CGFloat ( i ) * width + width / 2 - 40 , y : height / 2 - 40 , width : 80 , height : 80 )) myLabel . backgroundColor = UIColor . black myLabel . textColor = UIColor . white myLabel . textAlignment = NSTextAlignment . center myLabel . layer . masksToBounds = true myLabel . text = \"Page \\( i ) \" myLabel . font = UIFont . systemFont ( ofSize : UIFont . smallSystemFontSize ) myLabel . layer . cornerRadius = 40.0 scrollView . addSubview ( myLabel ) } // PageControl\u3092\u4f5c\u6210\u3059\u308b. pageControl = UIPageControl ( frame : CGRect ( x : 0 , y : self . view . frame . maxY - 100 , width : width , height : 50 )) pageControl . backgroundColor = UIColor . orange // PageControl\u3059\u308b\u30da\u30fc\u30b8\u6570\u3092\u8a2d\u5b9a\u3059\u308b. pageControl . numberOfPages = pageSize // \u73fe\u5728\u30da\u30fc\u30b8\u3092\u8a2d\u5b9a\u3059\u308b. pageControl . currentPage = 0 pageControl . isUserInteractionEnabled = false self . view . addSubview ( pageControl ) } func scrollViewDidEndDecelerating ( _ scrollView : UIScrollView ) { // \u30b9\u30af\u30ed\u30fc\u30eb\u6570\u304c1\u30da\u30fc\u30b8\u5206\u306b\u306a\u3063\u305f\u3089\u6642. if fmod ( scrollView . contentOffset . x , scrollView . frame . maxX ) == 0 { // \u30da\u30fc\u30b8\u306e\u5834\u6240\u3092\u5207\u308a\u66ff\u3048\u308b. pageControl . currentPage = Int ( scrollView . contentOffset . x / scrollView . frame . maxX ) } } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 // // ViewController.swift // UIKit018_3.0 // // Created by KimikoWatanabe on 2016/08/13. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UIScrollViewDelegate { private var pageControl : UIPageControl ! private var scrollView : UIScrollView ! override func viewDidLoad () { // \u30d3\u30e5\u30fc\u306e\u7e26\u3001\u6a2a\u306e\u30b5\u30a4\u30ba\u3092\u53d6\u5f97\u3059\u308b. let width = self . view . frame . maxX , height = self . view . frame . maxY // \u80cc\u666f\u306e\u8272\u3092Cyan\u306b\u8a2d\u5b9a\u3059\u308b. self . view . backgroundColor = UIColor . cyan // ScrollView\u3092\u53d6\u5f97\u3059\u308b. scrollView = UIScrollView ( frame : self . view . frame ) // \u30da\u30fc\u30b8\u6570\u3092\u5b9a\u7fa9\u3059\u308b. let pageSize = 4 // \u7e26\u65b9\u5411\u3068\u3001\u6a2a\u65b9\u5411\u306e\u30a4\u30f3\u30c7\u30a3\u30b1\u30fc\u30bf\u3092\u975e\u8868\u793a\u306b\u3059\u308b. scrollView . showsHorizontalScrollIndicator = false ; scrollView . showsVerticalScrollIndicator = false // \u30da\u30fc\u30b8\u30f3\u30b0\u3092\u8a31\u53ef\u3059\u308b. scrollView . isPagingEnabled = true // ScrollView\u306e\u30c7\u30ea\u30b2\u30fc\u30c8\u3092\u8a2d\u5b9a\u3059\u308b. scrollView . delegate = self // \u30b9\u30af\u30ed\u30fc\u30eb\u306e\u753b\u9762\u30b5\u30a4\u30ba\u3092\u6307\u5b9a\u3059\u308b. scrollView . contentSize = CGSize ( width : CGFloat ( pageSize ) * width , height : 0 ) // ScrollView\u3092View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( scrollView ) // \u30da\u30fc\u30b8\u6570\u5206\u30dc\u30bf\u30f3\u3092\u751f\u6210\u3059\u308b. for i in 0 .. < pageSize { // \u30da\u30fc\u30b8\u3054\u3068\u306b\u7570\u306a\u308b\u30e9\u30d9\u30eb\u3092\u751f\u6210\u3059\u308b. let myLabel : UILabel = UILabel ( frame : CGRect ( x : CGFloat ( i ) * width + width / 2 - 40 , y : height / 2 - 40 , width : 80 , height : 80 )) myLabel . backgroundColor = UIColor . black myLabel . textColor = UIColor . white myLabel . textAlignment = NSTextAlignment . center myLabel . layer . masksToBounds = true myLabel . text = \"Page \\( i ) \" myLabel . font = UIFont . systemFont ( ofSize : UIFont . smallSystemFontSize ) myLabel . layer . cornerRadius = 40.0 scrollView . addSubview ( myLabel ) } // PageControl\u3092\u4f5c\u6210\u3059\u308b. pageControl = UIPageControl ( frame : CGRect ( x : 0 , y : self . view . frame . maxY - 100 , width : width , height : 50 )) pageControl . backgroundColor = UIColor . orange // PageControl\u3059\u308b\u30da\u30fc\u30b8\u6570\u3092\u8a2d\u5b9a\u3059\u308b. pageControl . numberOfPages = pageSize // \u73fe\u5728\u30da\u30fc\u30b8\u3092\u8a2d\u5b9a\u3059\u308b. pageControl . currentPage = 0 pageControl . isUserInteractionEnabled = false self . view . addSubview ( pageControl ) } func scrollViewDidEndDecelerating ( scrollView : UIScrollView ) { // \u30b9\u30af\u30ed\u30fc\u30eb\u6570\u304c1\u30da\u30fc\u30b8\u5206\u306b\u306a\u3063\u305f\u3089\u6642. if fmod ( scrollView . contentOffset . x , scrollView . frame . maxX ) == 0 { // \u30da\u30fc\u30b8\u306e\u5834\u6240\u3092\u5207\u308a\u66ff\u3048\u308b. pageControl . currentPage = Int ( scrollView . contentOffset . x / scrollView . frame . maxX ) } } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 // // ViewController.swift // UIKit018_2.3 // // Created by KimikoWatanabe on 2016/08/16. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UIScrollViewDelegate { private var pageControl : UIPageControl ! private var scrollView : UIScrollView ! override func viewDidLoad () { // \u30d3\u30e5\u30fc\u306e\u7e26\u3001\u6a2a\u306e\u30b5\u30a4\u30ba\u3092\u53d6\u5f97\u3059\u308b. let width = self . view . frame . maxX , height = self . view . frame . maxY // \u80cc\u666f\u306e\u8272\u3092Cyan\u306b\u8a2d\u5b9a\u3059\u308b. self . view . backgroundColor = UIColor . cyanColor () // ScrollView\u3092\u53d6\u5f97\u3059\u308b. scrollView = UIScrollView ( frame : self . view . frame ) // \u30da\u30fc\u30b8\u6570\u3092\u5b9a\u7fa9\u3059\u308b. let pageSize = 4 // \u7e26\u65b9\u5411\u3068\u3001\u6a2a\u65b9\u5411\u306e\u30a4\u30f3\u30c7\u30a3\u30b1\u30fc\u30bf\u3092\u975e\u8868\u793a\u306b\u3059\u308b. scrollView . showsHorizontalScrollIndicator = false ; scrollView . showsVerticalScrollIndicator = false // \u30da\u30fc\u30b8\u30f3\u30b0\u3092\u8a31\u53ef\u3059\u308b. scrollView . pagingEnabled = true // ScrollView\u306e\u30c7\u30ea\u30b2\u30fc\u30c8\u3092\u8a2d\u5b9a\u3059\u308b. scrollView . delegate = self // \u30b9\u30af\u30ed\u30fc\u30eb\u306e\u753b\u9762\u30b5\u30a4\u30ba\u3092\u6307\u5b9a\u3059\u308b. scrollView . contentSize = CGSizeMake ( CGFloat ( pageSize ) * width , 0 ) // ScrollView\u3092View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( scrollView ) // \u30da\u30fc\u30b8\u6570\u5206\u30dc\u30bf\u30f3\u3092\u751f\u6210\u3059\u308b. for var i = 0 ; i < pageSize ; i ++ { // \u30da\u30fc\u30b8\u3054\u3068\u306b\u7570\u306a\u308b\u30e9\u30d9\u30eb\u3092\u751f\u6210\u3059\u308b. let myLabel : UILabel = UILabel ( frame : CGRectMake ( CGFloat ( i ) * width + width / 2 - 40 , height / 2 - 40 , 80 , 80 )) myLabel . backgroundColor = UIColor . blackColor () myLabel . textColor = UIColor . whiteColor () myLabel . textAlignment = NSTextAlignment . Center myLabel . layer . masksToBounds = true myLabel . text = \"Page \\( i ) \" myLabel . font = UIFont . systemFontOfSize ( UIFont . smallSystemFontSize ()) myLabel . layer . cornerRadius = 40.0 scrollView . addSubview ( myLabel ) } // PageControl\u3092\u4f5c\u6210\u3059\u308b. pageControl = UIPageControl ( frame : CGRectMake ( 0 , self . view . frame . maxY - 100 , width , 50 )) pageControl . backgroundColor = UIColor . orangeColor () // PageControl\u3059\u308b\u30da\u30fc\u30b8\u6570\u3092\u8a2d\u5b9a\u3059\u308b. pageControl . numberOfPages = pageSize // \u73fe\u5728\u30da\u30fc\u30b8\u3092\u8a2d\u5b9a\u3059\u308b. pageControl . currentPage = 0 pageControl . userInteractionEnabled = false self . view . addSubview ( pageControl ) } func scrollViewDidEndDecelerating ( scrollView : UIScrollView ) { // \u30b9\u30af\u30ed\u30fc\u30eb\u6570\u304c1\u30da\u30fc\u30b8\u5206\u306b\u306a\u3063\u305f\u3089\u6642. if fmod ( scrollView . contentOffset . x , scrollView . frame . maxX ) == 0 { // \u30da\u30fc\u30b8\u306e\u5834\u6240\u3092\u5207\u308a\u66ff\u3048\u308b. pageControl . currentPage = Int ( scrollView . contentOffset . x / scrollView . frame . maxX ) } } } 3.x\u30684.x\u306e\u5dee\u5206 scrollViewDidEndDecelerating(scrollView: UIScrollView) \u304c\u3001 scrollViewDidEndDecelerating(_ scrollView: UIScrollView) \u306b\u5909\u66f4 2.3\u30683.0\u306e\u5dee\u5206 UIColor\u306e\u6307\u5b9a\u304c\u5909\u66f4 UIScrollView\u3068UIPageControl\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u540d\u304c\u5909\u66f4 CGSize,CGRect\u306e\u751f\u6210\u65b9\u6cd5\u304c\u5909\u66f4(CGSizeMake,CGRectMake\u30e1\u30bd\u30c3\u30c9\u304c\u5ec3\u6b62) Reference UIPageControl Class https://developer.apple.com/reference/uikit/uipagecontrol","title":"UIPageControl\u306e\u8868\u793a"},{"location":"1.uikit/018_uipagecontrol/#uipagecontrol","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 // // ViewController.swift // UIKit018_4.0 // // Created by KimikoWatanabe on 2016/08/13. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UIScrollViewDelegate { private var pageControl : UIPageControl ! private var scrollView : UIScrollView ! override func viewDidLoad () { // \u30d3\u30e5\u30fc\u306e\u7e26\u3001\u6a2a\u306e\u30b5\u30a4\u30ba\u3092\u53d6\u5f97\u3059\u308b. let width = self . view . frame . maxX , height = self . view . frame . maxY // \u80cc\u666f\u306e\u8272\u3092Cyan\u306b\u8a2d\u5b9a\u3059\u308b. self . view . backgroundColor = UIColor . cyan // ScrollView\u3092\u53d6\u5f97\u3059\u308b. scrollView = UIScrollView ( frame : self . view . frame ) // \u30da\u30fc\u30b8\u6570\u3092\u5b9a\u7fa9\u3059\u308b. let pageSize = 4 // \u7e26\u65b9\u5411\u3068\u3001\u6a2a\u65b9\u5411\u306e\u30a4\u30f3\u30c7\u30a3\u30b1\u30fc\u30bf\u3092\u975e\u8868\u793a\u306b\u3059\u308b. scrollView . showsHorizontalScrollIndicator = false ; scrollView . showsVerticalScrollIndicator = false // \u30da\u30fc\u30b8\u30f3\u30b0\u3092\u8a31\u53ef\u3059\u308b. scrollView . isPagingEnabled = true // ScrollView\u306e\u30c7\u30ea\u30b2\u30fc\u30c8\u3092\u8a2d\u5b9a\u3059\u308b. scrollView . delegate = self // \u30b9\u30af\u30ed\u30fc\u30eb\u306e\u753b\u9762\u30b5\u30a4\u30ba\u3092\u6307\u5b9a\u3059\u308b. scrollView . contentSize = CGSize ( width : CGFloat ( pageSize ) * width , height : 0 ) // ScrollView\u3092View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( scrollView ) // \u30da\u30fc\u30b8\u6570\u5206\u30dc\u30bf\u30f3\u3092\u751f\u6210\u3059\u308b. for i in 0 .. < pageSize { // \u30da\u30fc\u30b8\u3054\u3068\u306b\u7570\u306a\u308b\u30e9\u30d9\u30eb\u3092\u751f\u6210\u3059\u308b. let myLabel : UILabel = UILabel ( frame : CGRect ( x : CGFloat ( i ) * width + width / 2 - 40 , y : height / 2 - 40 , width : 80 , height : 80 )) myLabel . backgroundColor = UIColor . black myLabel . textColor = UIColor . white myLabel . textAlignment = NSTextAlignment . center myLabel . layer . masksToBounds = true myLabel . text = \"Page \\( i ) \" myLabel . font = UIFont . systemFont ( ofSize : UIFont . smallSystemFontSize ) myLabel . layer . cornerRadius = 40.0 scrollView . addSubview ( myLabel ) } // PageControl\u3092\u4f5c\u6210\u3059\u308b. pageControl = UIPageControl ( frame : CGRect ( x : 0 , y : self . view . frame . maxY - 100 , width : width , height : 50 )) pageControl . backgroundColor = UIColor . orange // PageControl\u3059\u308b\u30da\u30fc\u30b8\u6570\u3092\u8a2d\u5b9a\u3059\u308b. pageControl . numberOfPages = pageSize // \u73fe\u5728\u30da\u30fc\u30b8\u3092\u8a2d\u5b9a\u3059\u308b. pageControl . currentPage = 0 pageControl . isUserInteractionEnabled = false self . view . addSubview ( pageControl ) } func scrollViewDidEndDecelerating ( _ scrollView : UIScrollView ) { // \u30b9\u30af\u30ed\u30fc\u30eb\u6570\u304c1\u30da\u30fc\u30b8\u5206\u306b\u306a\u3063\u305f\u3089\u6642. if fmod ( scrollView . contentOffset . x , scrollView . frame . maxX ) == 0 { // \u30da\u30fc\u30b8\u306e\u5834\u6240\u3092\u5207\u308a\u66ff\u3048\u308b. pageControl . currentPage = Int ( scrollView . contentOffset . x / scrollView . frame . maxX ) } } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 // // ViewController.swift // UIKit018_3.0 // // Created by KimikoWatanabe on 2016/08/13. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UIScrollViewDelegate { private var pageControl : UIPageControl ! private var scrollView : UIScrollView ! override func viewDidLoad () { // \u30d3\u30e5\u30fc\u306e\u7e26\u3001\u6a2a\u306e\u30b5\u30a4\u30ba\u3092\u53d6\u5f97\u3059\u308b. let width = self . view . frame . maxX , height = self . view . frame . maxY // \u80cc\u666f\u306e\u8272\u3092Cyan\u306b\u8a2d\u5b9a\u3059\u308b. self . view . backgroundColor = UIColor . cyan // ScrollView\u3092\u53d6\u5f97\u3059\u308b. scrollView = UIScrollView ( frame : self . view . frame ) // \u30da\u30fc\u30b8\u6570\u3092\u5b9a\u7fa9\u3059\u308b. let pageSize = 4 // \u7e26\u65b9\u5411\u3068\u3001\u6a2a\u65b9\u5411\u306e\u30a4\u30f3\u30c7\u30a3\u30b1\u30fc\u30bf\u3092\u975e\u8868\u793a\u306b\u3059\u308b. scrollView . showsHorizontalScrollIndicator = false ; scrollView . showsVerticalScrollIndicator = false // \u30da\u30fc\u30b8\u30f3\u30b0\u3092\u8a31\u53ef\u3059\u308b. scrollView . isPagingEnabled = true // ScrollView\u306e\u30c7\u30ea\u30b2\u30fc\u30c8\u3092\u8a2d\u5b9a\u3059\u308b. scrollView . delegate = self // \u30b9\u30af\u30ed\u30fc\u30eb\u306e\u753b\u9762\u30b5\u30a4\u30ba\u3092\u6307\u5b9a\u3059\u308b. scrollView . contentSize = CGSize ( width : CGFloat ( pageSize ) * width , height : 0 ) // ScrollView\u3092View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( scrollView ) // \u30da\u30fc\u30b8\u6570\u5206\u30dc\u30bf\u30f3\u3092\u751f\u6210\u3059\u308b. for i in 0 .. < pageSize { // \u30da\u30fc\u30b8\u3054\u3068\u306b\u7570\u306a\u308b\u30e9\u30d9\u30eb\u3092\u751f\u6210\u3059\u308b. let myLabel : UILabel = UILabel ( frame : CGRect ( x : CGFloat ( i ) * width + width / 2 - 40 , y : height / 2 - 40 , width : 80 , height : 80 )) myLabel . backgroundColor = UIColor . black myLabel . textColor = UIColor . white myLabel . textAlignment = NSTextAlignment . center myLabel . layer . masksToBounds = true myLabel . text = \"Page \\( i ) \" myLabel . font = UIFont . systemFont ( ofSize : UIFont . smallSystemFontSize ) myLabel . layer . cornerRadius = 40.0 scrollView . addSubview ( myLabel ) } // PageControl\u3092\u4f5c\u6210\u3059\u308b. pageControl = UIPageControl ( frame : CGRect ( x : 0 , y : self . view . frame . maxY - 100 , width : width , height : 50 )) pageControl . backgroundColor = UIColor . orange // PageControl\u3059\u308b\u30da\u30fc\u30b8\u6570\u3092\u8a2d\u5b9a\u3059\u308b. pageControl . numberOfPages = pageSize // \u73fe\u5728\u30da\u30fc\u30b8\u3092\u8a2d\u5b9a\u3059\u308b. pageControl . currentPage = 0 pageControl . isUserInteractionEnabled = false self . view . addSubview ( pageControl ) } func scrollViewDidEndDecelerating ( scrollView : UIScrollView ) { // \u30b9\u30af\u30ed\u30fc\u30eb\u6570\u304c1\u30da\u30fc\u30b8\u5206\u306b\u306a\u3063\u305f\u3089\u6642. if fmod ( scrollView . contentOffset . x , scrollView . frame . maxX ) == 0 { // \u30da\u30fc\u30b8\u306e\u5834\u6240\u3092\u5207\u308a\u66ff\u3048\u308b. pageControl . currentPage = Int ( scrollView . contentOffset . x / scrollView . frame . maxX ) } } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 // // ViewController.swift // UIKit018_2.3 // // Created by KimikoWatanabe on 2016/08/16. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UIScrollViewDelegate { private var pageControl : UIPageControl ! private var scrollView : UIScrollView ! override func viewDidLoad () { // \u30d3\u30e5\u30fc\u306e\u7e26\u3001\u6a2a\u306e\u30b5\u30a4\u30ba\u3092\u53d6\u5f97\u3059\u308b. let width = self . view . frame . maxX , height = self . view . frame . maxY // \u80cc\u666f\u306e\u8272\u3092Cyan\u306b\u8a2d\u5b9a\u3059\u308b. self . view . backgroundColor = UIColor . cyanColor () // ScrollView\u3092\u53d6\u5f97\u3059\u308b. scrollView = UIScrollView ( frame : self . view . frame ) // \u30da\u30fc\u30b8\u6570\u3092\u5b9a\u7fa9\u3059\u308b. let pageSize = 4 // \u7e26\u65b9\u5411\u3068\u3001\u6a2a\u65b9\u5411\u306e\u30a4\u30f3\u30c7\u30a3\u30b1\u30fc\u30bf\u3092\u975e\u8868\u793a\u306b\u3059\u308b. scrollView . showsHorizontalScrollIndicator = false ; scrollView . showsVerticalScrollIndicator = false // \u30da\u30fc\u30b8\u30f3\u30b0\u3092\u8a31\u53ef\u3059\u308b. scrollView . pagingEnabled = true // ScrollView\u306e\u30c7\u30ea\u30b2\u30fc\u30c8\u3092\u8a2d\u5b9a\u3059\u308b. scrollView . delegate = self // \u30b9\u30af\u30ed\u30fc\u30eb\u306e\u753b\u9762\u30b5\u30a4\u30ba\u3092\u6307\u5b9a\u3059\u308b. scrollView . contentSize = CGSizeMake ( CGFloat ( pageSize ) * width , 0 ) // ScrollView\u3092View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( scrollView ) // \u30da\u30fc\u30b8\u6570\u5206\u30dc\u30bf\u30f3\u3092\u751f\u6210\u3059\u308b. for var i = 0 ; i < pageSize ; i ++ { // \u30da\u30fc\u30b8\u3054\u3068\u306b\u7570\u306a\u308b\u30e9\u30d9\u30eb\u3092\u751f\u6210\u3059\u308b. let myLabel : UILabel = UILabel ( frame : CGRectMake ( CGFloat ( i ) * width + width / 2 - 40 , height / 2 - 40 , 80 , 80 )) myLabel . backgroundColor = UIColor . blackColor () myLabel . textColor = UIColor . whiteColor () myLabel . textAlignment = NSTextAlignment . Center myLabel . layer . masksToBounds = true myLabel . text = \"Page \\( i ) \" myLabel . font = UIFont . systemFontOfSize ( UIFont . smallSystemFontSize ()) myLabel . layer . cornerRadius = 40.0 scrollView . addSubview ( myLabel ) } // PageControl\u3092\u4f5c\u6210\u3059\u308b. pageControl = UIPageControl ( frame : CGRectMake ( 0 , self . view . frame . maxY - 100 , width , 50 )) pageControl . backgroundColor = UIColor . orangeColor () // PageControl\u3059\u308b\u30da\u30fc\u30b8\u6570\u3092\u8a2d\u5b9a\u3059\u308b. pageControl . numberOfPages = pageSize // \u73fe\u5728\u30da\u30fc\u30b8\u3092\u8a2d\u5b9a\u3059\u308b. pageControl . currentPage = 0 pageControl . userInteractionEnabled = false self . view . addSubview ( pageControl ) } func scrollViewDidEndDecelerating ( scrollView : UIScrollView ) { // \u30b9\u30af\u30ed\u30fc\u30eb\u6570\u304c1\u30da\u30fc\u30b8\u5206\u306b\u306a\u3063\u305f\u3089\u6642. if fmod ( scrollView . contentOffset . x , scrollView . frame . maxX ) == 0 { // \u30da\u30fc\u30b8\u306e\u5834\u6240\u3092\u5207\u308a\u66ff\u3048\u308b. pageControl . currentPage = Int ( scrollView . contentOffset . x / scrollView . frame . maxX ) } } }","title":"UIPageControl\u306e\u8868\u793a"},{"location":"1.uikit/018_uipagecontrol/#3x4x","text":"scrollViewDidEndDecelerating(scrollView: UIScrollView) \u304c\u3001 scrollViewDidEndDecelerating(_ scrollView: UIScrollView) \u306b\u5909\u66f4","title":"3.x\u30684.x\u306e\u5dee\u5206"},{"location":"1.uikit/018_uipagecontrol/#2330","text":"UIColor\u306e\u6307\u5b9a\u304c\u5909\u66f4 UIScrollView\u3068UIPageControl\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u540d\u304c\u5909\u66f4 CGSize,CGRect\u306e\u751f\u6210\u65b9\u6cd5\u304c\u5909\u66f4(CGSizeMake,CGRectMake\u30e1\u30bd\u30c3\u30c9\u304c\u5ec3\u6b62)","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"1.uikit/018_uipagecontrol/#reference","text":"UIPageControl Class https://developer.apple.com/reference/uikit/uipagecontrol","title":"Reference"},{"location":"1.uikit/019_sectionuitableview/","text":"\u30bb\u30af\u30b7\u30e7\u30f3\u5206\u3051\u3057\u305fUITableView\u3092\u4f5c\u308b 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 // // ViewController.swift // UIKit019_3.0 // // Created by KimikoWatanabe on 2016/08/16. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UITableViewDelegate , UITableViewDataSource { // Table\u3067\u4f7f\u7528\u3059\u308b\u914d\u5217\u3092\u5b9a\u7fa9\u3059\u308b. private let myiPhoneItems : NSArray = [ \"iOS9\" , \"iOS8\" , \"iOS7\" , \"iOS6\" , \"iOS5\" , \"iOS4\" ] private let myAndroidItems : NSArray = [ \"5.x\" , \"4.x\" , \"2.x\" , \"1.x\" ] // Section\u3067\u4f7f\u7528\u3059\u308b\u914d\u5217\u3092\u5b9a\u7fa9\u3059\u308b. private let mySections : NSArray = [ \"iPhone\" , \"Android\" ] override func viewDidLoad () { super . viewDidLoad () // Status Bar\u306e\u9ad8\u3055\u3092\u53d6\u5f97\u3092.\u3059\u308b. let barHeight : CGFloat = UIApplication . shared . statusBarFrame . size . height // View\u306e\u9ad8\u3055\u3068\u5e45\u3092\u53d6\u5f97\u3059\u308b. let displayWidth : CGFloat = self . view . frame . width let displayHeight : CGFloat = self . view . frame . height // TableView\u306e\u751f\u6210( status bar\u306e\u9ad8\u3055\u5206\u305a\u3089\u3057\u3066\u8868\u793a ). let myTableView : UITableView = UITableView ( frame : CGRect ( x : 0 , y : barHeight , width : displayWidth , height : displayHeight - barHeight )) // Cell\u540d\u306e\u767b\u9332\u3092\u304a\u3053\u306a\u3046. myTableView . register ( UITableViewCell . self , forCellReuseIdentifier : \"MyCell\" ) // DataSource\u306e\u8a2d\u5b9a\u3092\u3059\u308b. myTableView . dataSource = self // Delegate\u3092\u8a2d\u5b9a\u3059\u308b. myTableView . delegate = self // View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myTableView ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } /* \u30bb\u30af\u30b7\u30e7\u30f3\u306e\u6570\u3092\u8fd4\u3059. */ func numberOfSections ( in tableView : UITableView ) -> Int { return mySections . count } /* \u30bb\u30af\u30b7\u30e7\u30f3\u306e\u30bf\u30a4\u30c8\u30eb\u3092\u8fd4\u3059. */ func tableView ( _ tableView : UITableView , titleForHeaderInSection section : Int ) -> String ? { return mySections [ section ] as ? String } /* Cell\u304c\u9078\u629e\u3055\u308c\u305f\u969b\u306b\u547c\u3073\u51fa\u3055\u308c\u308b. */ func tableView ( _ tableView : UITableView , didSelectRowAt indexPath : IndexPath ) { if indexPath . section == 0 { print ( \"Value: \\( myiPhoneItems [ indexPath . row ] ) \" ) } else if indexPath . section == 1 { print ( \"Value: \\( myAndroidItems [ indexPath . row ] ) \" ) } } /* \u30c6\u30fc\u30d6\u30eb\u306b\u8868\u793a\u3059\u308b\u914d\u5217\u306e\u7dcf\u6570\u3092\u8fd4\u3059. */ func tableView ( _ tableView : UITableView , numberOfRowsInSection section : Int ) -> Int { if section == 0 { return myiPhoneItems . count } else if section == 1 { return myAndroidItems . count } else { return 0 } } /* Cell\u306b\u5024\u3092\u8a2d\u5b9a\u3059\u308b. */ func tableView ( _ tableView : UITableView , cellForRowAt indexPath : IndexPath ) -> UITableViewCell { let cell = tableView . dequeueReusableCell ( withIdentifier : \"MyCell\" , for : indexPath ) if indexPath . section == 0 { cell . textLabel ?. text = \" \\( myiPhoneItems [ indexPath . row ] ) \" } else if indexPath . section == 1 { cell . textLabel ?. text = \" \\( myAndroidItems [ indexPath . row ] ) \" } return cell } } ```swift\u3000fct_label=\"Swift 2.3\" // // ViewController.swift // UIKit019_2.3 // // Created by KimikoWatanabe on 2016/08/16. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController: UIViewController, UITableViewDelegate, UITableViewDataSource { 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 // Table\u3067\u4f7f\u7528\u3059\u308b\u914d\u5217\u3092\u5b9a\u7fa9\u3059\u308b . private let myiPhoneItems : NSArray = [ \"iOS9\" , \"iOS8\" , \"iOS7\" , \"iOS6\" , \"iOS5\" , \"iOS4\" ] private let myAndroidItems : NSArray = [ \"5.x\" , \"4.x\" , \"2.x\" , \"1.x\" ] // Section\u3067\u4f7f\u7528\u3059\u308b\u914d\u5217\u3092\u5b9a\u7fa9\u3059\u308b . private let mySections : NSArray = [ \"iPhone\" , \"Android\" ] override func viewDidLoad () { super.viewDidLoad() // Status Bar\u306e\u9ad8\u3055\u3092\u53d6\u5f97\u3092.\u3059\u308b. let barHeight : CGFloat = UIApplication . sharedApplication () . statusBarFrame . size . height // View\u306e\u9ad8\u3055\u3068\u5e45\u3092\u53d6\u5f97\u3059\u308b . let displayWidth : CGFloat = self . view . frame . width let displayHeight : CGFloat = self . view . frame . height // TableView\u306e\u751f\u6210 ( status bar\u306e\u9ad8\u3055\u5206\u305a\u3089\u3057\u3066\u8868\u793a ) . let myTableView : UITableView = UITableView ( frame : CGRect ( x : 0 , y : barHeight , width : displayWidth , height : displayHeight - barHeight )) // Cell\u540d\u306e\u767b\u9332\u3092\u304a\u3053\u306a\u3046 . myTableView . registerClass ( UITableViewCell . self , forCellReuseIdentifier : \"MyCell\" ) // DataSource\u306e\u8a2d\u5b9a\u3092\u3059\u308b . myTableView . dataSource = self // Delegate\u3092\u8a2d\u5b9a\u3059\u308b . myTableView . delegate = self // View\u306b\u8ffd\u52a0\u3059\u308b . self . view . addSubview ( myTableView ) } override func didReceiveMemoryWarning () { super.didReceiveMemoryWarning() } /* \u30bb\u30af\u30b7\u30e7\u30f3\u306e\u6570\u3092\u8fd4\u3059. */ func numberOfSectionsInTableView ( tableView : UITableView ) - & gt ; Int { return mySections.count } /* \u30bb\u30af\u30b7\u30e7\u30f3\u306e\u30bf\u30a4\u30c8\u30eb\u3092\u8fd4\u3059. */ func tableView ( tableView : UITableView , titleForHeaderInSection section : Int ) - & gt ; String ? { return mySections [ section ] as? String } /* Cell\u304c\u9078\u629e\u3055\u308c\u305f\u969b\u306b\u547c\u3073\u51fa\u3055\u308c\u308b. */ func tableView ( tableView : UITableView , didSelectRowAtIndexPath indexPath : NSIndexPath ) { if indexPath.section == 0 { print(\" Value : \\ ( myiPhoneItems [ indexPath.row ] ) \") } else if indexPath.section == 1 { print(\" Value : \\ ( myAndroidItems [ indexPath.row ] ) \") } } /* \u30c6\u30fc\u30d6\u30eb\u306b\u8868\u793a\u3059\u308b\u914d\u5217\u306e\u7dcf\u6570\u3092\u8fd4\u3059. */ func tableView(tableView: UITableView, numberOfRowsInSection section: Int) -&gt; Int { if section == 0 { return myiPhoneItems.count } else if section == 1 { return myAndroidItems.count } else { return 0 } } /* Cell\u306b\u5024\u3092\u8a2d\u5b9a\u3059\u308b. */ func tableView(tableView: UITableView, cellForRowAtIndexPath indexPath: NSIndexPath) -&gt; UITableViewCell { let cell = tableView.dequeueReusableCellWithIdentifier(\" MyCell \", forIndexPath: indexPath) if indexPath.section == 0 { cell.textLabel?.text = \" \\ ( myiPhoneItems [ indexPath.row ] ) \" } else if indexPath.section == 1 { cell.textLabel?.text = \" \\ ( myAndroidItems [ indexPath.row ] ) \" } return cell } } ``` 2.3\u30683.0\u306e\u5dee\u5206 UITableViewDelegate\u306e\u30e1\u30bd\u30c3\u30c9\u306e\u5f15\u6570\u304c\u4e00\u90e8\u5909\u66f4 Reference UITableView Class https://developer.apple.com/reference/uikit/uitableview UITableVIewDelegate Protocol https://developer.apple.com/reference/uikit/uitableviewdelegate UITableViewDataSource Protocol https://developer.apple.com/reference/uikit/uitableviewdatasource","title":"\u30bb\u30af\u30b7\u30e7\u30f3\u5206\u3051\u3057\u305fUITableView\u3092\u4f5c\u308b"},{"location":"1.uikit/019_sectionuitableview/#uitableview","text":"1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 // // ViewController.swift // UIKit019_3.0 // // Created by KimikoWatanabe on 2016/08/16. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UITableViewDelegate , UITableViewDataSource { // Table\u3067\u4f7f\u7528\u3059\u308b\u914d\u5217\u3092\u5b9a\u7fa9\u3059\u308b. private let myiPhoneItems : NSArray = [ \"iOS9\" , \"iOS8\" , \"iOS7\" , \"iOS6\" , \"iOS5\" , \"iOS4\" ] private let myAndroidItems : NSArray = [ \"5.x\" , \"4.x\" , \"2.x\" , \"1.x\" ] // Section\u3067\u4f7f\u7528\u3059\u308b\u914d\u5217\u3092\u5b9a\u7fa9\u3059\u308b. private let mySections : NSArray = [ \"iPhone\" , \"Android\" ] override func viewDidLoad () { super . viewDidLoad () // Status Bar\u306e\u9ad8\u3055\u3092\u53d6\u5f97\u3092.\u3059\u308b. let barHeight : CGFloat = UIApplication . shared . statusBarFrame . size . height // View\u306e\u9ad8\u3055\u3068\u5e45\u3092\u53d6\u5f97\u3059\u308b. let displayWidth : CGFloat = self . view . frame . width let displayHeight : CGFloat = self . view . frame . height // TableView\u306e\u751f\u6210( status bar\u306e\u9ad8\u3055\u5206\u305a\u3089\u3057\u3066\u8868\u793a ). let myTableView : UITableView = UITableView ( frame : CGRect ( x : 0 , y : barHeight , width : displayWidth , height : displayHeight - barHeight )) // Cell\u540d\u306e\u767b\u9332\u3092\u304a\u3053\u306a\u3046. myTableView . register ( UITableViewCell . self , forCellReuseIdentifier : \"MyCell\" ) // DataSource\u306e\u8a2d\u5b9a\u3092\u3059\u308b. myTableView . dataSource = self // Delegate\u3092\u8a2d\u5b9a\u3059\u308b. myTableView . delegate = self // View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myTableView ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } /* \u30bb\u30af\u30b7\u30e7\u30f3\u306e\u6570\u3092\u8fd4\u3059. */ func numberOfSections ( in tableView : UITableView ) -> Int { return mySections . count } /* \u30bb\u30af\u30b7\u30e7\u30f3\u306e\u30bf\u30a4\u30c8\u30eb\u3092\u8fd4\u3059. */ func tableView ( _ tableView : UITableView , titleForHeaderInSection section : Int ) -> String ? { return mySections [ section ] as ? String } /* Cell\u304c\u9078\u629e\u3055\u308c\u305f\u969b\u306b\u547c\u3073\u51fa\u3055\u308c\u308b. */ func tableView ( _ tableView : UITableView , didSelectRowAt indexPath : IndexPath ) { if indexPath . section == 0 { print ( \"Value: \\( myiPhoneItems [ indexPath . row ] ) \" ) } else if indexPath . section == 1 { print ( \"Value: \\( myAndroidItems [ indexPath . row ] ) \" ) } } /* \u30c6\u30fc\u30d6\u30eb\u306b\u8868\u793a\u3059\u308b\u914d\u5217\u306e\u7dcf\u6570\u3092\u8fd4\u3059. */ func tableView ( _ tableView : UITableView , numberOfRowsInSection section : Int ) -> Int { if section == 0 { return myiPhoneItems . count } else if section == 1 { return myAndroidItems . count } else { return 0 } } /* Cell\u306b\u5024\u3092\u8a2d\u5b9a\u3059\u308b. */ func tableView ( _ tableView : UITableView , cellForRowAt indexPath : IndexPath ) -> UITableViewCell { let cell = tableView . dequeueReusableCell ( withIdentifier : \"MyCell\" , for : indexPath ) if indexPath . section == 0 { cell . textLabel ?. text = \" \\( myiPhoneItems [ indexPath . row ] ) \" } else if indexPath . section == 1 { cell . textLabel ?. text = \" \\( myAndroidItems [ indexPath . row ] ) \" } return cell } } ```swift\u3000fct_label=\"Swift 2.3\" // // ViewController.swift // UIKit019_2.3 // // Created by KimikoWatanabe on 2016/08/16. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController: UIViewController, UITableViewDelegate, UITableViewDataSource { 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 // Table\u3067\u4f7f\u7528\u3059\u308b\u914d\u5217\u3092\u5b9a\u7fa9\u3059\u308b . private let myiPhoneItems : NSArray = [ \"iOS9\" , \"iOS8\" , \"iOS7\" , \"iOS6\" , \"iOS5\" , \"iOS4\" ] private let myAndroidItems : NSArray = [ \"5.x\" , \"4.x\" , \"2.x\" , \"1.x\" ] // Section\u3067\u4f7f\u7528\u3059\u308b\u914d\u5217\u3092\u5b9a\u7fa9\u3059\u308b . private let mySections : NSArray = [ \"iPhone\" , \"Android\" ] override func viewDidLoad () { super.viewDidLoad() // Status Bar\u306e\u9ad8\u3055\u3092\u53d6\u5f97\u3092.\u3059\u308b. let barHeight : CGFloat = UIApplication . sharedApplication () . statusBarFrame . size . height // View\u306e\u9ad8\u3055\u3068\u5e45\u3092\u53d6\u5f97\u3059\u308b . let displayWidth : CGFloat = self . view . frame . width let displayHeight : CGFloat = self . view . frame . height // TableView\u306e\u751f\u6210 ( status bar\u306e\u9ad8\u3055\u5206\u305a\u3089\u3057\u3066\u8868\u793a ) . let myTableView : UITableView = UITableView ( frame : CGRect ( x : 0 , y : barHeight , width : displayWidth , height : displayHeight - barHeight )) // Cell\u540d\u306e\u767b\u9332\u3092\u304a\u3053\u306a\u3046 . myTableView . registerClass ( UITableViewCell . self , forCellReuseIdentifier : \"MyCell\" ) // DataSource\u306e\u8a2d\u5b9a\u3092\u3059\u308b . myTableView . dataSource = self // Delegate\u3092\u8a2d\u5b9a\u3059\u308b . myTableView . delegate = self // View\u306b\u8ffd\u52a0\u3059\u308b . self . view . addSubview ( myTableView ) } override func didReceiveMemoryWarning () { super.didReceiveMemoryWarning() } /* \u30bb\u30af\u30b7\u30e7\u30f3\u306e\u6570\u3092\u8fd4\u3059. */ func numberOfSectionsInTableView ( tableView : UITableView ) - & gt ; Int { return mySections.count } /* \u30bb\u30af\u30b7\u30e7\u30f3\u306e\u30bf\u30a4\u30c8\u30eb\u3092\u8fd4\u3059. */ func tableView ( tableView : UITableView , titleForHeaderInSection section : Int ) - & gt ; String ? { return mySections [ section ] as? String } /* Cell\u304c\u9078\u629e\u3055\u308c\u305f\u969b\u306b\u547c\u3073\u51fa\u3055\u308c\u308b. */ func tableView ( tableView : UITableView , didSelectRowAtIndexPath indexPath : NSIndexPath ) { if indexPath.section == 0 { print(\" Value : \\ ( myiPhoneItems [ indexPath.row ] ) \") } else if indexPath.section == 1 { print(\" Value : \\ ( myAndroidItems [ indexPath.row ] ) \") } } /* \u30c6\u30fc\u30d6\u30eb\u306b\u8868\u793a\u3059\u308b\u914d\u5217\u306e\u7dcf\u6570\u3092\u8fd4\u3059. */ func tableView(tableView: UITableView, numberOfRowsInSection section: Int) -&gt; Int { if section == 0 { return myiPhoneItems.count } else if section == 1 { return myAndroidItems.count } else { return 0 } } /* Cell\u306b\u5024\u3092\u8a2d\u5b9a\u3059\u308b. */ func tableView(tableView: UITableView, cellForRowAtIndexPath indexPath: NSIndexPath) -&gt; UITableViewCell { let cell = tableView.dequeueReusableCellWithIdentifier(\" MyCell \", forIndexPath: indexPath) if indexPath.section == 0 { cell.textLabel?.text = \" \\ ( myiPhoneItems [ indexPath.row ] ) \" } else if indexPath.section == 1 { cell.textLabel?.text = \" \\ ( myAndroidItems [ indexPath.row ] ) \" } return cell } } ```","title":"\u30bb\u30af\u30b7\u30e7\u30f3\u5206\u3051\u3057\u305fUITableView\u3092\u4f5c\u308b"},{"location":"1.uikit/019_sectionuitableview/#2330","text":"UITableViewDelegate\u306e\u30e1\u30bd\u30c3\u30c9\u306e\u5f15\u6570\u304c\u4e00\u90e8\u5909\u66f4","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"1.uikit/019_sectionuitableview/#reference","text":"UITableView Class https://developer.apple.com/reference/uikit/uitableview UITableVIewDelegate Protocol https://developer.apple.com/reference/uikit/uitableviewdelegate UITableViewDataSource Protocol https://developer.apple.com/reference/uikit/uitableviewdatasource","title":"Reference"},{"location":"1.uikit/020_uitextview/","text":"UITextView\u3067\u8907\u6570\u884c\u306e\u30c6\u30ad\u30b9\u30c8\u306e\u8868\u793a Swift 4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 // // ViewController.swift // UIKit020_3.0 // // Created by KimikoWatanabe on 2016/08/13. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u3092\u7070\u8272\u306b\u8a2d\u5b9a\u3059\u308b. self . view . backgroundColor = UIColor ( red : 0.9 , green : 0.9 , blue : 0.9 , alpha : 1.0 ) // TextView\u751f\u6210\u3059\u308b. let myTextView : UITextView = UITextView ( frame : CGRect ( x : 10 , y : 50 , width : self . view . frame . width - 20 , height : 500 )) // TextView\u306e\u80cc\u666f\u3092\u9ec3\u8272\u306b\u8a2d\u5b9a\u3059\u308b. myTextView . backgroundColor = UIColor ( red : 0.9 , green : 0.9 , blue : 1 , alpha : 1.0 ) // \u8868\u793a\u3055\u305b\u308b\u30c6\u30ad\u30b9\u30c8\u3092\u8a2d\u5b9a\u3059\u308b. myTextView . text = \"1234567890abcdefghijklmnopqrstuwxyz 1234567890 abcdefghijklmnopqrstuwxyz \\n a \\n b \\n c \\n defghijklmnopqrstuwxyz \\n http://www.gclue.com \\n \" // \u89d2\u306b\u4e38\u307f\u3092\u3064\u3051\u308b. myTextView . layer . masksToBounds = true // \u4e38\u307f\u306e\u30b5\u30a4\u30ba\u3092\u8a2d\u5b9a\u3059\u308b. myTextView . layer . cornerRadius = 20.0 // \u67a0\u7dda\u306e\u592a\u3055\u3092\u8a2d\u5b9a\u3059\u308b. myTextView . layer . borderWidth = 1 // \u67a0\u7dda\u306e\u8272\u3092\u9ed2\u306b\u8a2d\u5b9a\u3059\u308b. myTextView . layer . borderColor = UIColor . black . cgColor // \u30d5\u30a9\u30f3\u30c8\u306e\u8a2d\u5b9a\u3092\u3059\u308b. myTextView . font = UIFont . systemFont ( ofSize : 20.0 ) // \u30d5\u30a9\u30f3\u30c8\u306e\u8272\u306e\u8a2d\u5b9a\u3092\u3059\u308b. myTextView . textColor = UIColor . black // \u5de6\u8a70\u3081\u306e\u8a2d\u5b9a\u3092\u3059\u308b. myTextView . textAlignment = NSTextAlignment . left // \u30ea\u30f3\u30af\u3001\u65e5\u4ed8\u306a\u3069\u3092\u81ea\u52d5\u7684\u306b\u691c\u51fa\u3057\u3066\u30ea\u30f3\u30af\u306b\u5909\u63db\u3059\u308b. myTextView . dataDetectorTypes = UIDataDetectorTypes . all // \u5f71\u306e\u6fc3\u3055\u3092\u8a2d\u5b9a\u3059\u308b. myTextView . layer . shadowOpacity = 0.5 // \u30c6\u30ad\u30b9\u30c8\u3092\u7de8\u96c6\u4e0d\u53ef\u306b\u3059\u308b. myTextView . isEditable = false // TextView\u3092View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myTextView ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 // // ViewController.swift // UIKit020_2.3 // // Created by KimikoWatanabe on 2016/08/16. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u3092\u7070\u8272\u306b\u8a2d\u5b9a\u3059\u308b. self . view . backgroundColor = UIColor ( red : 0.9 , green : 0.9 , blue : 0.9 , alpha : 1.0 ) // TextView\u751f\u6210\u3059\u308b. let myTextView : UITextView = UITextView ( frame : CGRectMake ( 10 , 50 , self . view . frame . width - 20 , 500 )) // TextView\u306e\u80cc\u666f\u3092\u9ec3\u8272\u306b\u8a2d\u5b9a\u3059\u308b. myTextView . backgroundColor = UIColor ( red : 0.9 , green : 0.9 , blue : 1 , alpha : 1.0 ) // \u8868\u793a\u3055\u305b\u308b\u30c6\u30ad\u30b9\u30c8\u3092\u8a2d\u5b9a\u3059\u308b. myTextView . text = \"1234567890abcdefghijklmnopqrstuwxyz 1234567890 abcdefghijklmnopqrstuwxyz \\n a \\n b \\n c \\n defghijklmnopqrstuwxyz \\n http://www.gclue.com \\n \" // \u89d2\u306b\u4e38\u307f\u3092\u3064\u3051\u308b. myTextView . layer . masksToBounds = true // \u4e38\u307f\u306e\u30b5\u30a4\u30ba\u3092\u8a2d\u5b9a\u3059\u308b. myTextView . layer . cornerRadius = 20.0 // \u67a0\u7dda\u306e\u592a\u3055\u3092\u8a2d\u5b9a\u3059\u308b. myTextView . layer . borderWidth = 1 // \u67a0\u7dda\u306e\u8272\u3092\u9ed2\u306b\u8a2d\u5b9a\u3059\u308b. myTextView . layer . borderColor = UIColor . blackColor (). CGColor // \u30d5\u30a9\u30f3\u30c8\u306e\u8a2d\u5b9a\u3092\u3059\u308b. myTextView . font = UIFont . systemFontOfSize ( CGFloat ( 20 )) // \u30d5\u30a9\u30f3\u30c8\u306e\u8272\u306e\u8a2d\u5b9a\u3092\u3059\u308b. myTextView . textColor = UIColor . blackColor () // \u5de6\u8a70\u3081\u306e\u8a2d\u5b9a\u3092\u3059\u308b. myTextView . textAlignment = NSTextAlignment . Left // \u30ea\u30f3\u30af\u3001\u65e5\u4ed8\u306a\u3069\u3092\u81ea\u52d5\u7684\u306b\u691c\u51fa\u3057\u3066\u30ea\u30f3\u30af\u306b\u5909\u63db\u3059\u308b. myTextView . dataDetectorTypes = UIDataDetectorTypes . All // \u5f71\u306e\u6fc3\u3055\u3092\u8a2d\u5b9a\u3059\u308b. myTextView . layer . shadowOpacity = 0.5 // \u30c6\u30ad\u30b9\u30c8\u3092\u7de8\u96c6\u4e0d\u53ef\u306b\u3059\u308b. myTextView . editable = false // TextView\u3092View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myTextView ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } 2.3\u30683.0\u306e\u5dee\u5206 NSTextAlignment\u306e\u540d\u79f0\u304c\u5909\u66f4(\u982d\u6587\u5b57\u304c\u5927\u6587\u5b57\u304b\u3089\u5c0f\u6587\u5b57\u306b) UITextView\u306e\u4e00\u90e8\u30d7\u30ed\u30d1\u30c6\u30a3\u540d\u304c\u5909\u66f4 Reference UITextView Class https://developer.apple.com/reference/uikit/uitextview","title":"UITextView\u3067\u8907\u6570\u884c\u306e\u30c6\u30ad\u30b9\u30c8\u306e\u8868\u793a"},{"location":"1.uikit/020_uitextview/#uitextview","text":"Swift 4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 // // ViewController.swift // UIKit020_3.0 // // Created by KimikoWatanabe on 2016/08/13. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u3092\u7070\u8272\u306b\u8a2d\u5b9a\u3059\u308b. self . view . backgroundColor = UIColor ( red : 0.9 , green : 0.9 , blue : 0.9 , alpha : 1.0 ) // TextView\u751f\u6210\u3059\u308b. let myTextView : UITextView = UITextView ( frame : CGRect ( x : 10 , y : 50 , width : self . view . frame . width - 20 , height : 500 )) // TextView\u306e\u80cc\u666f\u3092\u9ec3\u8272\u306b\u8a2d\u5b9a\u3059\u308b. myTextView . backgroundColor = UIColor ( red : 0.9 , green : 0.9 , blue : 1 , alpha : 1.0 ) // \u8868\u793a\u3055\u305b\u308b\u30c6\u30ad\u30b9\u30c8\u3092\u8a2d\u5b9a\u3059\u308b. myTextView . text = \"1234567890abcdefghijklmnopqrstuwxyz 1234567890 abcdefghijklmnopqrstuwxyz \\n a \\n b \\n c \\n defghijklmnopqrstuwxyz \\n http://www.gclue.com \\n \" // \u89d2\u306b\u4e38\u307f\u3092\u3064\u3051\u308b. myTextView . layer . masksToBounds = true // \u4e38\u307f\u306e\u30b5\u30a4\u30ba\u3092\u8a2d\u5b9a\u3059\u308b. myTextView . layer . cornerRadius = 20.0 // \u67a0\u7dda\u306e\u592a\u3055\u3092\u8a2d\u5b9a\u3059\u308b. myTextView . layer . borderWidth = 1 // \u67a0\u7dda\u306e\u8272\u3092\u9ed2\u306b\u8a2d\u5b9a\u3059\u308b. myTextView . layer . borderColor = UIColor . black . cgColor // \u30d5\u30a9\u30f3\u30c8\u306e\u8a2d\u5b9a\u3092\u3059\u308b. myTextView . font = UIFont . systemFont ( ofSize : 20.0 ) // \u30d5\u30a9\u30f3\u30c8\u306e\u8272\u306e\u8a2d\u5b9a\u3092\u3059\u308b. myTextView . textColor = UIColor . black // \u5de6\u8a70\u3081\u306e\u8a2d\u5b9a\u3092\u3059\u308b. myTextView . textAlignment = NSTextAlignment . left // \u30ea\u30f3\u30af\u3001\u65e5\u4ed8\u306a\u3069\u3092\u81ea\u52d5\u7684\u306b\u691c\u51fa\u3057\u3066\u30ea\u30f3\u30af\u306b\u5909\u63db\u3059\u308b. myTextView . dataDetectorTypes = UIDataDetectorTypes . all // \u5f71\u306e\u6fc3\u3055\u3092\u8a2d\u5b9a\u3059\u308b. myTextView . layer . shadowOpacity = 0.5 // \u30c6\u30ad\u30b9\u30c8\u3092\u7de8\u96c6\u4e0d\u53ef\u306b\u3059\u308b. myTextView . isEditable = false // TextView\u3092View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myTextView ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 // // ViewController.swift // UIKit020_2.3 // // Created by KimikoWatanabe on 2016/08/16. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u3092\u7070\u8272\u306b\u8a2d\u5b9a\u3059\u308b. self . view . backgroundColor = UIColor ( red : 0.9 , green : 0.9 , blue : 0.9 , alpha : 1.0 ) // TextView\u751f\u6210\u3059\u308b. let myTextView : UITextView = UITextView ( frame : CGRectMake ( 10 , 50 , self . view . frame . width - 20 , 500 )) // TextView\u306e\u80cc\u666f\u3092\u9ec3\u8272\u306b\u8a2d\u5b9a\u3059\u308b. myTextView . backgroundColor = UIColor ( red : 0.9 , green : 0.9 , blue : 1 , alpha : 1.0 ) // \u8868\u793a\u3055\u305b\u308b\u30c6\u30ad\u30b9\u30c8\u3092\u8a2d\u5b9a\u3059\u308b. myTextView . text = \"1234567890abcdefghijklmnopqrstuwxyz 1234567890 abcdefghijklmnopqrstuwxyz \\n a \\n b \\n c \\n defghijklmnopqrstuwxyz \\n http://www.gclue.com \\n \" // \u89d2\u306b\u4e38\u307f\u3092\u3064\u3051\u308b. myTextView . layer . masksToBounds = true // \u4e38\u307f\u306e\u30b5\u30a4\u30ba\u3092\u8a2d\u5b9a\u3059\u308b. myTextView . layer . cornerRadius = 20.0 // \u67a0\u7dda\u306e\u592a\u3055\u3092\u8a2d\u5b9a\u3059\u308b. myTextView . layer . borderWidth = 1 // \u67a0\u7dda\u306e\u8272\u3092\u9ed2\u306b\u8a2d\u5b9a\u3059\u308b. myTextView . layer . borderColor = UIColor . blackColor (). CGColor // \u30d5\u30a9\u30f3\u30c8\u306e\u8a2d\u5b9a\u3092\u3059\u308b. myTextView . font = UIFont . systemFontOfSize ( CGFloat ( 20 )) // \u30d5\u30a9\u30f3\u30c8\u306e\u8272\u306e\u8a2d\u5b9a\u3092\u3059\u308b. myTextView . textColor = UIColor . blackColor () // \u5de6\u8a70\u3081\u306e\u8a2d\u5b9a\u3092\u3059\u308b. myTextView . textAlignment = NSTextAlignment . Left // \u30ea\u30f3\u30af\u3001\u65e5\u4ed8\u306a\u3069\u3092\u81ea\u52d5\u7684\u306b\u691c\u51fa\u3057\u3066\u30ea\u30f3\u30af\u306b\u5909\u63db\u3059\u308b. myTextView . dataDetectorTypes = UIDataDetectorTypes . All // \u5f71\u306e\u6fc3\u3055\u3092\u8a2d\u5b9a\u3059\u308b. myTextView . layer . shadowOpacity = 0.5 // \u30c6\u30ad\u30b9\u30c8\u3092\u7de8\u96c6\u4e0d\u53ef\u306b\u3059\u308b. myTextView . editable = false // TextView\u3092View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myTextView ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } }","title":"UITextView\u3067\u8907\u6570\u884c\u306e\u30c6\u30ad\u30b9\u30c8\u306e\u8868\u793a"},{"location":"1.uikit/020_uitextview/#2330","text":"NSTextAlignment\u306e\u540d\u79f0\u304c\u5909\u66f4(\u982d\u6587\u5b57\u304c\u5927\u6587\u5b57\u304b\u3089\u5c0f\u6587\u5b57\u306b) UITextView\u306e\u4e00\u90e8\u30d7\u30ed\u30d1\u30c6\u30a3\u540d\u304c\u5909\u66f4","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"1.uikit/020_uitextview/#reference","text":"UITextView Class https://developer.apple.com/reference/uikit/uitextview","title":"Reference"},{"location":"1.uikit/021_uislider/","text":"UISlider\u306e\u8868\u793a Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 // // ViewController.swift // UIKit021_4.0 // // Created by KimikoWatanabe on 2016/08/13. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { // \u753b\u50cf\u3092\u8a2d\u5b9a\u3059\u308b. private let myInputImage = CIImage ( image : UIImage ( named : \"sakura.jpg\" ) ! ) // ImageView\u3092.\u5b9a\u7fa9\u3059\u308b. private var myImageView : UIImageView ! override func viewDidLoad () { // UIImageView\u3092\u4f5c\u6210\u3059\u308b. myImageView = UIImageView ( frame : self . view . frame ) myImageView . image = UIImage ( ciImage : myInputImage !) self . view . addSubview ( myImageView ) // Slider\u3092\u4f5c\u6210\u3059\u308b. let myGreenSlider = UISlider ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 30 )) myGreenSlider . layer . position = CGPoint ( x : self . view . frame . midX , y : 500 ) myGreenSlider . backgroundColor = UIColor . white myGreenSlider . layer . cornerRadius = 10.0 myGreenSlider . layer . shadowOpacity = 0.5 myGreenSlider . layer . masksToBounds = false // \u6700\u5c0f\u5024\u3068\u6700\u5927\u5024\u3092\u8a2d\u5b9a\u3059\u308b. myGreenSlider . minimumValue = 0 myGreenSlider . maximumValue = 1 // Slider\u306e\u4f4d\u7f6e\u3092\u8a2d\u5b9a\u3059\u308b. myGreenSlider . value = 0.5 // Slider\u306e\u73fe\u5728\u4f4d\u7f6e\u3088\u308a\u53f3\u306eTint\u30ab\u30e9\u30fc\u3092\u5909\u3048\u308b. myGreenSlider . maximumTrackTintColor = UIColor . gray // Slider\u306e\u73fe\u5728\u4f4d\u7f6e\u3088\u308a\u5de6\u306eTint\u30ab\u30e9\u30fc\u3092\u5909\u3048\u308b. myGreenSlider . minimumTrackTintColor = UIColor . black myGreenSlider . addTarget ( self , action : #selector ( ViewController . onChangeValueMySlider ( sender :)), for : UIControl . Event . valueChanged ) self . view . addSubview ( myGreenSlider ) self . view . backgroundColor = UIColor ( red : 0 , green : CGFloat ( myGreenSlider . value ), blue : 0 , alpha : 1 ) } /* Slider\u306e\u5024\u304c\u5909\u308f\u3063\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9 */ @objc internal func onChangeValueMySlider ( sender : UISlider ){ // Slider\u306e\u5024\u306b\u5fdc\u3058\u3066view\u306e\u80cc\u666f\u306egreen\u5024\u3092\u5909\u3048\u308b. self . view . backgroundColor = UIColor ( red : 0 , green : CGFloat ( sender . value ), blue : 0 , alpha : 1 ) // \u30ab\u30e9\u30fc\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u6307\u5b9a\u3057\u3066CIFilter\u3092\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316\u3059\u308b. let myColorFilter = CIFilter ( name : \"CIColorCrossPolynomial\" ) // \u30a4\u30e1\u30fc\u30b8\u3092\u8a2d\u5b9a\u3059\u308b. myColorFilter !. setValue ( myInputImage , forKey : kCIInputImageKey ) // RGB\u306e\u5909\u63db\u5024\u3092\u4f5c\u6210\u3059\u308b. let r : [ CGFloat ] = [ 0.0 , CGFloat ( sender . value ), 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 ] let g : [ CGFloat ] = [ 0.0 , 0.0 , 1.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 ] let b : [ CGFloat ] = [ 1.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 ] // \u5024\u306e\u8abf\u6574\u3092\u3059\u308b. myColorFilter !. setValue ( CIVector ( values : r , count : 10 ), forKey : \"inputRedCoefficients\" ) myColorFilter !. setValue ( CIVector ( values : g , count : 10 ), forKey : \"inputGreenCoefficients\" ) myColorFilter !. setValue ( CIVector ( values : b , count : 10 ), forKey : \"inputBlueCoefficients\" ) // \u30d5\u30a3\u30eb\u30bf\u30fc\u3067\u51e6\u7406\u3057\u305f\u753b\u50cf\u3092\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8\u3059\u308b. let myOutputImage : CIImage = myColorFilter !. outputImage ! // \u518d\u3073UIView\u51e6\u7406\u6e08\u307f\u753b\u50cf\u3092\u8a2d\u5b9a\u3059\u308b. myImageView . image = UIImage ( ciImage : myOutputImage ) // \u518d\u63cf\u753b\u3092\u304a\u3053\u306a\u3046. myImageView . setNeedsDisplay () } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 // // ViewController.swift // UIKit021_3.0 // // Created by KimikoWatanabe on 2016/08/13. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { // \u753b\u50cf\u3092\u8a2d\u5b9a\u3059\u308b. private let myInputImage = CIImage ( image : UIImage ( named : \"sakura.jpg\" ) ! ) // ImageView\u3092.\u5b9a\u7fa9\u3059\u308b. private var myImageView : UIImageView ! override func viewDidLoad () { // UIImageView\u3092\u4f5c\u6210\u3059\u308b. myImageView = UIImageView ( frame : self . view . frame ) myImageView . image = UIImage ( ciImage : myInputImage !) self . view . addSubview ( myImageView ) // Slider\u3092\u4f5c\u6210\u3059\u308b. let myGreenSlider = UISlider ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 30 )) myGreenSlider . layer . position = CGPoint ( x : self . view . frame . midX , y : 500 ) myGreenSlider . backgroundColor = UIColor . white myGreenSlider . layer . cornerRadius = 10.0 myGreenSlider . layer . shadowOpacity = 0.5 myGreenSlider . layer . masksToBounds = false // \u6700\u5c0f\u5024\u3068\u6700\u5927\u5024\u3092\u8a2d\u5b9a\u3059\u308b. myGreenSlider . minimumValue = 0 myGreenSlider . maximumValue = 1 // Slider\u306e\u4f4d\u7f6e\u3092\u8a2d\u5b9a\u3059\u308b. myGreenSlider . value = 0.5 // Slider\u306e\u73fe\u5728\u4f4d\u7f6e\u3088\u308a\u53f3\u306eTint\u30ab\u30e9\u30fc\u3092\u5909\u3048\u308b. myGreenSlider . maximumTrackTintColor = UIColor . gray // Slider\u306e\u73fe\u5728\u4f4d\u7f6e\u3088\u308a\u5de6\u306eTint\u30ab\u30e9\u30fc\u3092\u5909\u3048\u308b. myGreenSlider . minimumTrackTintColor = UIColor . black myGreenSlider . addTarget ( self , action : #selector ( ViewController . onChangeValueMySlider ( sender :)), for : UIControlEvents . valueChanged ) self . view . addSubview ( myGreenSlider ) self . view . backgroundColor = UIColor ( red : 0 , green : CGFloat ( myGreenSlider . value ), blue : 0 , alpha : 1 ) } /* Slider\u306e\u5024\u304c\u5909\u308f\u3063\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9 */ internal func onChangeValueMySlider ( sender : UISlider ){ // Slider\u306e\u5024\u306b\u5fdc\u3058\u3066view\u306e\u80cc\u666f\u306egreen\u5024\u3092\u5909\u3048\u308b. self . view . backgroundColor = UIColor ( red : 0 , green : CGFloat ( sender . value ), blue : 0 , alpha : 1 ) // \u30ab\u30e9\u30fc\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u6307\u5b9a\u3057\u3066CIFilter\u3092\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316\u3059\u308b. let myColorFilter = CIFilter ( name : \"CIColorCrossPolynomial\" ) // \u30a4\u30e1\u30fc\u30b8\u3092\u8a2d\u5b9a\u3059\u308b. myColorFilter !. setValue ( myInputImage , forKey : kCIInputImageKey ) // RGB\u306e\u5909\u63db\u5024\u3092\u4f5c\u6210\u3059\u308b. let r : [ CGFloat ] = [ 0.0 , CGFloat ( sender . value ), 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 ] let g : [ CGFloat ] = [ 0.0 , 0.0 , 1.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 ] let b : [ CGFloat ] = [ 1.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 ] // \u5024\u306e\u8abf\u6574\u3092\u3059\u308b. myColorFilter !. setValue ( CIVector ( values : r , count : 10 ), forKey : \"inputRedCoefficients\" ) myColorFilter !. setValue ( CIVector ( values : g , count : 10 ), forKey : \"inputGreenCoefficients\" ) myColorFilter !. setValue ( CIVector ( values : b , count : 10 ), forKey : \"inputBlueCoefficients\" ) // \u30d5\u30a3\u30eb\u30bf\u30fc\u3067\u51e6\u7406\u3057\u305f\u753b\u50cf\u3092\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8\u3059\u308b. let myOutputImage : CIImage = myColorFilter !. outputImage ! // \u518d\u3073UIView\u51e6\u7406\u6e08\u307f\u753b\u50cf\u3092\u8a2d\u5b9a\u3059\u308b. myImageView . image = UIImage ( ciImage : myOutputImage ) // \u518d\u63cf\u753b\u3092\u304a\u3053\u306a\u3046. myImageView . setNeedsDisplay () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 // // ViewController.swift // UIKit021_2.3 // // Created by KimikoWatanabe on 2016/08/16. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { // \u753b\u50cf\u3092\u8a2d\u5b9a\u3059\u308b. private let myInputImage = CIImage ( image : UIImage ( named : \"sakura.jpg\" ) ! ) // ImageView\u3092.\u5b9a\u7fa9\u3059\u308b. private var myImageView : UIImageView ! override func viewDidLoad () { // UIImageView\u3092\u4f5c\u6210\u3059\u308b. myImageView = UIImageView ( frame : self . view . frame ) myImageView . image = UIImage ( CIImage : myInputImage !) self . view . addSubview ( myImageView ) // Slider\u3092\u4f5c\u6210\u3059\u308b. let myGreenSlider = UISlider ( frame : CGRectMake ( 0 , 0 , 200 , 30 )) myGreenSlider . layer . position = CGPointMake ( self . view . frame . midX , 500 ) myGreenSlider . backgroundColor = UIColor . whiteColor () myGreenSlider . layer . cornerRadius = 10.0 myGreenSlider . layer . shadowOpacity = 0.5 myGreenSlider . layer . masksToBounds = false // \u6700\u5c0f\u5024\u3068\u6700\u5927\u5024\u3092\u8a2d\u5b9a\u3059\u308b. myGreenSlider . minimumValue = 0 myGreenSlider . maximumValue = 1 // Slider\u306e\u4f4d\u7f6e\u3092\u8a2d\u5b9a\u3059\u308b. myGreenSlider . value = 0.5 // Slider\u306e\u73fe\u5728\u4f4d\u7f6e\u3088\u308a\u53f3\u306eTint\u30ab\u30e9\u30fc\u3092\u5909\u3048\u308b. myGreenSlider . maximumTrackTintColor = UIColor . grayColor () // Slider\u306e\u73fe\u5728\u4f4d\u7f6e\u3088\u308a\u5de6\u306eTint\u30ab\u30e9\u30fc\u3092\u5909\u3048\u308b. myGreenSlider . minimumTrackTintColor = UIColor . blackColor () myGreenSlider . addTarget ( self , action : #selector ( ViewController . onChangeValueMySlider ( _ :)), forControlEvents : UIControlEvents . ValueChanged ) self . view . addSubview ( myGreenSlider ) self . view . backgroundColor = UIColor ( red : 0 , green : CGFloat ( myGreenSlider . value ), blue : 0 , alpha : 1 ) } /* Slider\u306e\u5024\u304c\u5909\u308f\u3063\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9 */ internal func onChangeValueMySlider ( sender : UISlider ){ // Slider\u306e\u5024\u306b\u5fdc\u3058\u3066view\u306e\u80cc\u666f\u306egreen\u5024\u3092\u5909\u3048\u308b. self . view . backgroundColor = UIColor ( red : 0 , green : CGFloat ( sender . value ), blue : 0 , alpha : 1 ) // \u30ab\u30e9\u30fc\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u6307\u5b9a\u3057\u3066CIFilter\u3092\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316\u3059\u308b. let myColorFilter = CIFilter ( name : \"CIColorCrossPolynomial\" ) // \u30a4\u30e1\u30fc\u30b8\u3092\u8a2d\u5b9a\u3059\u308b. myColorFilter !. setValue ( myInputImage , forKey : kCIInputImageKey ) // RGB\u306e\u5909\u63db\u5024\u3092\u4f5c\u6210\u3059\u308b. let r : [ CGFloat ] = [ 0.0 , CGFloat ( sender . value ), 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 ] let g : [ CGFloat ] = [ 0.0 , 0.0 , 1.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 ] let b : [ CGFloat ] = [ 1.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 ] // \u5024\u306e\u8abf\u6574\u3092\u3059\u308b. myColorFilter !. setValue ( CIVector ( values : r , count : 10 ), forKey : \"inputRedCoefficients\" ) myColorFilter !. setValue ( CIVector ( values : g , count : 10 ), forKey : \"inputGreenCoefficients\" ) myColorFilter !. setValue ( CIVector ( values : b , count : 10 ), forKey : \"inputBlueCoefficients\" ) // \u30d5\u30a3\u30eb\u30bf\u30fc\u3067\u51e6\u7406\u3057\u305f\u753b\u50cf\u3092\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8\u3059\u308b. let myOutputImage : CIImage = myColorFilter !. outputImage ! // \u518d\u3073UIView\u51e6\u7406\u6e08\u307f\u753b\u50cf\u3092\u8a2d\u5b9a\u3059\u308b. myImageView . image = UIImage ( CIImage : myOutputImage ) // \u518d\u63cf\u753b\u3092\u304a\u3053\u306a\u3046. myImageView . setNeedsDisplay () } } 3.0\u30684.0\u306e\u5dee\u5206 UIControlEvents \u304c\u3001 UIControl.Event \u306b\u5909\u66f4 internal func onChangeValueMySlider(sender : UISlider) \u306b @objc \u3092\u8ffd\u52a0 2.3\u30683.0\u306e\u5dee\u5206 CGRect,CGPoint\u306e\u521d\u671f\u5316\u65b9\u6cd5\u306e\u5909\u66f4(CGRectMake,CGPointMake\u30e1\u30bd\u30c3\u30c9\u306e\u5ec3\u6b62) UIColor\u306e\u547c\u3073\u51fa\u3057\u65b9\u6cd5\u306e\u5909\u66f4(UIColor.whiteColor() -> UIColor.white) UIImage\u306e\u521d\u671f\u5316\u306e\u5f15\u6570\u306e\u30e9\u30d9\u30eb\u540d\u304c\u5909\u66f4(CIImage -> ciImage) Reference UISlider Class https://developer.apple.com/reference/uikit/uislider","title":"UISlider\u306e\u8868\u793a"},{"location":"1.uikit/021_uislider/#uislider","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 // // ViewController.swift // UIKit021_4.0 // // Created by KimikoWatanabe on 2016/08/13. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { // \u753b\u50cf\u3092\u8a2d\u5b9a\u3059\u308b. private let myInputImage = CIImage ( image : UIImage ( named : \"sakura.jpg\" ) ! ) // ImageView\u3092.\u5b9a\u7fa9\u3059\u308b. private var myImageView : UIImageView ! override func viewDidLoad () { // UIImageView\u3092\u4f5c\u6210\u3059\u308b. myImageView = UIImageView ( frame : self . view . frame ) myImageView . image = UIImage ( ciImage : myInputImage !) self . view . addSubview ( myImageView ) // Slider\u3092\u4f5c\u6210\u3059\u308b. let myGreenSlider = UISlider ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 30 )) myGreenSlider . layer . position = CGPoint ( x : self . view . frame . midX , y : 500 ) myGreenSlider . backgroundColor = UIColor . white myGreenSlider . layer . cornerRadius = 10.0 myGreenSlider . layer . shadowOpacity = 0.5 myGreenSlider . layer . masksToBounds = false // \u6700\u5c0f\u5024\u3068\u6700\u5927\u5024\u3092\u8a2d\u5b9a\u3059\u308b. myGreenSlider . minimumValue = 0 myGreenSlider . maximumValue = 1 // Slider\u306e\u4f4d\u7f6e\u3092\u8a2d\u5b9a\u3059\u308b. myGreenSlider . value = 0.5 // Slider\u306e\u73fe\u5728\u4f4d\u7f6e\u3088\u308a\u53f3\u306eTint\u30ab\u30e9\u30fc\u3092\u5909\u3048\u308b. myGreenSlider . maximumTrackTintColor = UIColor . gray // Slider\u306e\u73fe\u5728\u4f4d\u7f6e\u3088\u308a\u5de6\u306eTint\u30ab\u30e9\u30fc\u3092\u5909\u3048\u308b. myGreenSlider . minimumTrackTintColor = UIColor . black myGreenSlider . addTarget ( self , action : #selector ( ViewController . onChangeValueMySlider ( sender :)), for : UIControl . Event . valueChanged ) self . view . addSubview ( myGreenSlider ) self . view . backgroundColor = UIColor ( red : 0 , green : CGFloat ( myGreenSlider . value ), blue : 0 , alpha : 1 ) } /* Slider\u306e\u5024\u304c\u5909\u308f\u3063\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9 */ @objc internal func onChangeValueMySlider ( sender : UISlider ){ // Slider\u306e\u5024\u306b\u5fdc\u3058\u3066view\u306e\u80cc\u666f\u306egreen\u5024\u3092\u5909\u3048\u308b. self . view . backgroundColor = UIColor ( red : 0 , green : CGFloat ( sender . value ), blue : 0 , alpha : 1 ) // \u30ab\u30e9\u30fc\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u6307\u5b9a\u3057\u3066CIFilter\u3092\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316\u3059\u308b. let myColorFilter = CIFilter ( name : \"CIColorCrossPolynomial\" ) // \u30a4\u30e1\u30fc\u30b8\u3092\u8a2d\u5b9a\u3059\u308b. myColorFilter !. setValue ( myInputImage , forKey : kCIInputImageKey ) // RGB\u306e\u5909\u63db\u5024\u3092\u4f5c\u6210\u3059\u308b. let r : [ CGFloat ] = [ 0.0 , CGFloat ( sender . value ), 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 ] let g : [ CGFloat ] = [ 0.0 , 0.0 , 1.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 ] let b : [ CGFloat ] = [ 1.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 ] // \u5024\u306e\u8abf\u6574\u3092\u3059\u308b. myColorFilter !. setValue ( CIVector ( values : r , count : 10 ), forKey : \"inputRedCoefficients\" ) myColorFilter !. setValue ( CIVector ( values : g , count : 10 ), forKey : \"inputGreenCoefficients\" ) myColorFilter !. setValue ( CIVector ( values : b , count : 10 ), forKey : \"inputBlueCoefficients\" ) // \u30d5\u30a3\u30eb\u30bf\u30fc\u3067\u51e6\u7406\u3057\u305f\u753b\u50cf\u3092\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8\u3059\u308b. let myOutputImage : CIImage = myColorFilter !. outputImage ! // \u518d\u3073UIView\u51e6\u7406\u6e08\u307f\u753b\u50cf\u3092\u8a2d\u5b9a\u3059\u308b. myImageView . image = UIImage ( ciImage : myOutputImage ) // \u518d\u63cf\u753b\u3092\u304a\u3053\u306a\u3046. myImageView . setNeedsDisplay () } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 // // ViewController.swift // UIKit021_3.0 // // Created by KimikoWatanabe on 2016/08/13. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { // \u753b\u50cf\u3092\u8a2d\u5b9a\u3059\u308b. private let myInputImage = CIImage ( image : UIImage ( named : \"sakura.jpg\" ) ! ) // ImageView\u3092.\u5b9a\u7fa9\u3059\u308b. private var myImageView : UIImageView ! override func viewDidLoad () { // UIImageView\u3092\u4f5c\u6210\u3059\u308b. myImageView = UIImageView ( frame : self . view . frame ) myImageView . image = UIImage ( ciImage : myInputImage !) self . view . addSubview ( myImageView ) // Slider\u3092\u4f5c\u6210\u3059\u308b. let myGreenSlider = UISlider ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 30 )) myGreenSlider . layer . position = CGPoint ( x : self . view . frame . midX , y : 500 ) myGreenSlider . backgroundColor = UIColor . white myGreenSlider . layer . cornerRadius = 10.0 myGreenSlider . layer . shadowOpacity = 0.5 myGreenSlider . layer . masksToBounds = false // \u6700\u5c0f\u5024\u3068\u6700\u5927\u5024\u3092\u8a2d\u5b9a\u3059\u308b. myGreenSlider . minimumValue = 0 myGreenSlider . maximumValue = 1 // Slider\u306e\u4f4d\u7f6e\u3092\u8a2d\u5b9a\u3059\u308b. myGreenSlider . value = 0.5 // Slider\u306e\u73fe\u5728\u4f4d\u7f6e\u3088\u308a\u53f3\u306eTint\u30ab\u30e9\u30fc\u3092\u5909\u3048\u308b. myGreenSlider . maximumTrackTintColor = UIColor . gray // Slider\u306e\u73fe\u5728\u4f4d\u7f6e\u3088\u308a\u5de6\u306eTint\u30ab\u30e9\u30fc\u3092\u5909\u3048\u308b. myGreenSlider . minimumTrackTintColor = UIColor . black myGreenSlider . addTarget ( self , action : #selector ( ViewController . onChangeValueMySlider ( sender :)), for : UIControlEvents . valueChanged ) self . view . addSubview ( myGreenSlider ) self . view . backgroundColor = UIColor ( red : 0 , green : CGFloat ( myGreenSlider . value ), blue : 0 , alpha : 1 ) } /* Slider\u306e\u5024\u304c\u5909\u308f\u3063\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9 */ internal func onChangeValueMySlider ( sender : UISlider ){ // Slider\u306e\u5024\u306b\u5fdc\u3058\u3066view\u306e\u80cc\u666f\u306egreen\u5024\u3092\u5909\u3048\u308b. self . view . backgroundColor = UIColor ( red : 0 , green : CGFloat ( sender . value ), blue : 0 , alpha : 1 ) // \u30ab\u30e9\u30fc\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u6307\u5b9a\u3057\u3066CIFilter\u3092\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316\u3059\u308b. let myColorFilter = CIFilter ( name : \"CIColorCrossPolynomial\" ) // \u30a4\u30e1\u30fc\u30b8\u3092\u8a2d\u5b9a\u3059\u308b. myColorFilter !. setValue ( myInputImage , forKey : kCIInputImageKey ) // RGB\u306e\u5909\u63db\u5024\u3092\u4f5c\u6210\u3059\u308b. let r : [ CGFloat ] = [ 0.0 , CGFloat ( sender . value ), 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 ] let g : [ CGFloat ] = [ 0.0 , 0.0 , 1.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 ] let b : [ CGFloat ] = [ 1.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 ] // \u5024\u306e\u8abf\u6574\u3092\u3059\u308b. myColorFilter !. setValue ( CIVector ( values : r , count : 10 ), forKey : \"inputRedCoefficients\" ) myColorFilter !. setValue ( CIVector ( values : g , count : 10 ), forKey : \"inputGreenCoefficients\" ) myColorFilter !. setValue ( CIVector ( values : b , count : 10 ), forKey : \"inputBlueCoefficients\" ) // \u30d5\u30a3\u30eb\u30bf\u30fc\u3067\u51e6\u7406\u3057\u305f\u753b\u50cf\u3092\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8\u3059\u308b. let myOutputImage : CIImage = myColorFilter !. outputImage ! // \u518d\u3073UIView\u51e6\u7406\u6e08\u307f\u753b\u50cf\u3092\u8a2d\u5b9a\u3059\u308b. myImageView . image = UIImage ( ciImage : myOutputImage ) // \u518d\u63cf\u753b\u3092\u304a\u3053\u306a\u3046. myImageView . setNeedsDisplay () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 // // ViewController.swift // UIKit021_2.3 // // Created by KimikoWatanabe on 2016/08/16. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { // \u753b\u50cf\u3092\u8a2d\u5b9a\u3059\u308b. private let myInputImage = CIImage ( image : UIImage ( named : \"sakura.jpg\" ) ! ) // ImageView\u3092.\u5b9a\u7fa9\u3059\u308b. private var myImageView : UIImageView ! override func viewDidLoad () { // UIImageView\u3092\u4f5c\u6210\u3059\u308b. myImageView = UIImageView ( frame : self . view . frame ) myImageView . image = UIImage ( CIImage : myInputImage !) self . view . addSubview ( myImageView ) // Slider\u3092\u4f5c\u6210\u3059\u308b. let myGreenSlider = UISlider ( frame : CGRectMake ( 0 , 0 , 200 , 30 )) myGreenSlider . layer . position = CGPointMake ( self . view . frame . midX , 500 ) myGreenSlider . backgroundColor = UIColor . whiteColor () myGreenSlider . layer . cornerRadius = 10.0 myGreenSlider . layer . shadowOpacity = 0.5 myGreenSlider . layer . masksToBounds = false // \u6700\u5c0f\u5024\u3068\u6700\u5927\u5024\u3092\u8a2d\u5b9a\u3059\u308b. myGreenSlider . minimumValue = 0 myGreenSlider . maximumValue = 1 // Slider\u306e\u4f4d\u7f6e\u3092\u8a2d\u5b9a\u3059\u308b. myGreenSlider . value = 0.5 // Slider\u306e\u73fe\u5728\u4f4d\u7f6e\u3088\u308a\u53f3\u306eTint\u30ab\u30e9\u30fc\u3092\u5909\u3048\u308b. myGreenSlider . maximumTrackTintColor = UIColor . grayColor () // Slider\u306e\u73fe\u5728\u4f4d\u7f6e\u3088\u308a\u5de6\u306eTint\u30ab\u30e9\u30fc\u3092\u5909\u3048\u308b. myGreenSlider . minimumTrackTintColor = UIColor . blackColor () myGreenSlider . addTarget ( self , action : #selector ( ViewController . onChangeValueMySlider ( _ :)), forControlEvents : UIControlEvents . ValueChanged ) self . view . addSubview ( myGreenSlider ) self . view . backgroundColor = UIColor ( red : 0 , green : CGFloat ( myGreenSlider . value ), blue : 0 , alpha : 1 ) } /* Slider\u306e\u5024\u304c\u5909\u308f\u3063\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9 */ internal func onChangeValueMySlider ( sender : UISlider ){ // Slider\u306e\u5024\u306b\u5fdc\u3058\u3066view\u306e\u80cc\u666f\u306egreen\u5024\u3092\u5909\u3048\u308b. self . view . backgroundColor = UIColor ( red : 0 , green : CGFloat ( sender . value ), blue : 0 , alpha : 1 ) // \u30ab\u30e9\u30fc\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u6307\u5b9a\u3057\u3066CIFilter\u3092\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316\u3059\u308b. let myColorFilter = CIFilter ( name : \"CIColorCrossPolynomial\" ) // \u30a4\u30e1\u30fc\u30b8\u3092\u8a2d\u5b9a\u3059\u308b. myColorFilter !. setValue ( myInputImage , forKey : kCIInputImageKey ) // RGB\u306e\u5909\u63db\u5024\u3092\u4f5c\u6210\u3059\u308b. let r : [ CGFloat ] = [ 0.0 , CGFloat ( sender . value ), 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 ] let g : [ CGFloat ] = [ 0.0 , 0.0 , 1.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 ] let b : [ CGFloat ] = [ 1.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 ] // \u5024\u306e\u8abf\u6574\u3092\u3059\u308b. myColorFilter !. setValue ( CIVector ( values : r , count : 10 ), forKey : \"inputRedCoefficients\" ) myColorFilter !. setValue ( CIVector ( values : g , count : 10 ), forKey : \"inputGreenCoefficients\" ) myColorFilter !. setValue ( CIVector ( values : b , count : 10 ), forKey : \"inputBlueCoefficients\" ) // \u30d5\u30a3\u30eb\u30bf\u30fc\u3067\u51e6\u7406\u3057\u305f\u753b\u50cf\u3092\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8\u3059\u308b. let myOutputImage : CIImage = myColorFilter !. outputImage ! // \u518d\u3073UIView\u51e6\u7406\u6e08\u307f\u753b\u50cf\u3092\u8a2d\u5b9a\u3059\u308b. myImageView . image = UIImage ( CIImage : myOutputImage ) // \u518d\u63cf\u753b\u3092\u304a\u3053\u306a\u3046. myImageView . setNeedsDisplay () } }","title":"UISlider\u306e\u8868\u793a"},{"location":"1.uikit/021_uislider/#3040","text":"UIControlEvents \u304c\u3001 UIControl.Event \u306b\u5909\u66f4 internal func onChangeValueMySlider(sender : UISlider) \u306b @objc \u3092\u8ffd\u52a0","title":"3.0\u30684.0\u306e\u5dee\u5206"},{"location":"1.uikit/021_uislider/#2330","text":"CGRect,CGPoint\u306e\u521d\u671f\u5316\u65b9\u6cd5\u306e\u5909\u66f4(CGRectMake,CGPointMake\u30e1\u30bd\u30c3\u30c9\u306e\u5ec3\u6b62) UIColor\u306e\u547c\u3073\u51fa\u3057\u65b9\u6cd5\u306e\u5909\u66f4(UIColor.whiteColor() -> UIColor.white) UIImage\u306e\u521d\u671f\u5316\u306e\u5f15\u6570\u306e\u30e9\u30d9\u30eb\u540d\u304c\u5909\u66f4(CIImage -> ciImage)","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"1.uikit/021_uislider/#reference","text":"UISlider Class https://developer.apple.com/reference/uikit/uislider","title":"Reference"},{"location":"1.uikit/022_uiswitch/","text":"UISwitch\u306e\u8868\u793a Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 // // ViewController.swift // UIKit022_4.0 // // Created by KimikoWatanabe on 2016/08/17. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { private var myLabel : UILabel ! override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u8272\u3092Cyan\u306b\u8a2d\u5b9a\u3059\u308b. self . view . backgroundColor = UIColor . cyan // Swicth\u3092\u4f5c\u6210\u3059\u308b. let mySwicth : UISwitch = UISwitch () mySwicth . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 200 ) // Swicth\u306e\u67a0\u7dda\u3092\u8868\u793a\u3059\u308b. mySwicth . tintColor = UIColor . black // Switch\u3092On\u306b\u8a2d\u5b9a\u3059\u308b. mySwicth . isOn = true // Switch\u306eOn/Off\u5207\u308a\u66ff\u308f\u308a\u306e\u969b\u306b\u3001\u547c\u3070\u308c\u308b\u30a4\u30d9\u30f3\u30c8\u3092\u8a2d\u5b9a\u3059\u308b. mySwicth . addTarget ( self , action : #selector ( ViewController . onClickMySwicth ( sender :)), for : UIControl . Event . valueChanged ) // Switch\u3092View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( mySwicth ) // On/Off\u3092\u8868\u793a\u3059\u308b\u30e9\u30d9\u30eb\u3092\u4f5c\u6210\u3059\u308b. myLabel = UILabel ( frame : CGRect ( x : 0 , y : 0 , width : 150 , height : 150 )) myLabel . backgroundColor = UIColor . orange myLabel . layer . masksToBounds = true myLabel . layer . cornerRadius = 75.0 myLabel . textColor = UIColor . white myLabel . shadowColor = UIColor . gray myLabel . font = UIFont . systemFont ( ofSize : 30.0 ) myLabel . textAlignment = NSTextAlignment . center myLabel . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 200 ) myLabel . text = \"On\" // \u30e9\u30d9\u30eb\u3092view\u306b\u8ffd\u52a0 self . view . addSubview ( myLabel ) } @objc internal func onClickMySwicth ( sender : UISwitch ){ if sender . isOn { myLabel . text = \"On\" myLabel . backgroundColor = UIColor . orange } else { myLabel . text = \"Off\" myLabel . backgroundColor = UIColor . gray } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 // // ViewController.swift // UIKit022_3.0 // // Created by KimikoWatanabe on 2016/08/17. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { private var myLabel : UILabel ! override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u8272\u3092Cyan\u306b\u8a2d\u5b9a\u3059\u308b. self . view . backgroundColor = UIColor . cyan // Swicth\u3092\u4f5c\u6210\u3059\u308b. let mySwicth : UISwitch = UISwitch () mySwicth . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 200 ) // Swicth\u306e\u67a0\u7dda\u3092\u8868\u793a\u3059\u308b. mySwicth . tintColor = UIColor . black // Switch\u3092On\u306b\u8a2d\u5b9a\u3059\u308b. mySwicth . isOn = true // Switch\u306eOn/Off\u5207\u308a\u66ff\u308f\u308a\u306e\u969b\u306b\u3001\u547c\u3070\u308c\u308b\u30a4\u30d9\u30f3\u30c8\u3092\u8a2d\u5b9a\u3059\u308b. mySwicth . addTarget ( self , action : #selector ( ViewController . onClickMySwicth ( sender :)), for : UIControlEvents . valueChanged ) // Switch\u3092View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( mySwicth ) // On/Off\u3092\u8868\u793a\u3059\u308b\u30e9\u30d9\u30eb\u3092\u4f5c\u6210\u3059\u308b. myLabel = UILabel ( frame : CGRect ( x : 0 , y : 0 , width : 150 , height : 150 )) myLabel . backgroundColor = UIColor . orange myLabel . layer . masksToBounds = true myLabel . layer . cornerRadius = 75.0 myLabel . textColor = UIColor . white myLabel . shadowColor = UIColor . gray myLabel . font = UIFont . systemFont ( ofSize : 30.0 ) myLabel . textAlignment = NSTextAlignment . center myLabel . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 200 ) myLabel . text = \"On\" // \u30e9\u30d9\u30eb\u3092view\u306b\u8ffd\u52a0 self . view . addSubview ( myLabel ) } internal func onClickMySwicth ( sender : UISwitch ){ if sender . isOn { myLabel . text = \"On\" myLabel . backgroundColor = UIColor . orange } else { myLabel . text = \"Off\" myLabel . backgroundColor = UIColor . gray } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 // // ViewController.swift // UIKit022_2.3 // // Created by KimikoWatanabe on 2016/08/17. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { private var myLabel : UILabel ! override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u8272\u3092Cyan\u306b\u8a2d\u5b9a\u3059\u308b. self . view . backgroundColor = UIColor . cyanColor () // Swicth\u3092\u4f5c\u6210\u3059\u308b. let mySwicth : UISwitch = UISwitch () mySwicth . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 200 ) // Swicth\u306e\u67a0\u7dda\u3092\u8868\u793a\u3059\u308b. mySwicth . tintColor = UIColor . blackColor () // Switch\u3092On\u306b\u8a2d\u5b9a\u3059\u308b. mySwicth . on = true // Switch\u306eOn/Off\u5207\u308a\u66ff\u308f\u308a\u306e\u969b\u306b\u3001\u547c\u3070\u308c\u308b\u30a4\u30d9\u30f3\u30c8\u3092\u8a2d\u5b9a\u3059\u308b. mySwicth . addTarget ( self , action : #selector ( ViewController . onClickMySwicth ( _ :)), forControlEvents : UIControlEvents . ValueChanged ) // Switch\u3092View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( mySwicth ) // On/Off\u3092\u8868\u793a\u3059\u308b\u30e9\u30d9\u30eb\u3092\u4f5c\u6210\u3059\u308b. myLabel = UILabel ( frame : CGRectMake ( 0 , 0 , 150 , 150 )) myLabel . backgroundColor = UIColor . orangeColor () myLabel . layer . masksToBounds = true myLabel . layer . cornerRadius = 75.0 myLabel . textColor = UIColor . whiteColor () myLabel . shadowColor = UIColor . grayColor () myLabel . font = UIFont . systemFontOfSize ( CGFloat ( 30 )) myLabel . textAlignment = NSTextAlignment . Center myLabel . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 200 ) myLabel . text = \"On\" // \u30e9\u30d9\u30eb\u3092view\u306b\u8ffd\u52a0 self . view . addSubview ( myLabel ) } internal func onClickMySwicth ( sender : UISwitch ){ if sender . on { myLabel . text = \"On\" myLabel . backgroundColor = UIColor . orangeColor () } else { myLabel . text = \"Off\" myLabel . backgroundColor = UIColor . grayColor () } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } 3.0\u30684.0\u306e\u5dee\u5206 UIControlEvents \u3000\u304c UIControl.Event \u306b\u5909\u66f4 internal func onClickMySwicth(sender: UISwitch) \u306b @objc \u3092\u8ffd\u52a0 2.3\u30683.0\u306e\u5dee\u5206 UIColor\u306e\u53c2\u7167\u65b9\u6cd5\u306e\u5909\u66f4(UIColor.cyanColor() -> UIColor.cyan) CGRect\u306e\u521d\u671f\u5316\u65b9\u6cd5\u306e\u5909\u66f4(CGRectMake\u30e1\u30bd\u30c3\u30c9\u306e\u5ec3\u6b62) UISwitch\u306e\u4e00\u90e8\u30d7\u30ed\u30d1\u30c6\u30a3\u540d\u306e\u5909\u66f4(on -> isOn) Reference UISwitch Class https://developer.apple.com/reference/uikit/uiswitch","title":"UISwitch\u306e\u8868\u793a"},{"location":"1.uikit/022_uiswitch/#uiswitch","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 // // ViewController.swift // UIKit022_4.0 // // Created by KimikoWatanabe on 2016/08/17. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { private var myLabel : UILabel ! override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u8272\u3092Cyan\u306b\u8a2d\u5b9a\u3059\u308b. self . view . backgroundColor = UIColor . cyan // Swicth\u3092\u4f5c\u6210\u3059\u308b. let mySwicth : UISwitch = UISwitch () mySwicth . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 200 ) // Swicth\u306e\u67a0\u7dda\u3092\u8868\u793a\u3059\u308b. mySwicth . tintColor = UIColor . black // Switch\u3092On\u306b\u8a2d\u5b9a\u3059\u308b. mySwicth . isOn = true // Switch\u306eOn/Off\u5207\u308a\u66ff\u308f\u308a\u306e\u969b\u306b\u3001\u547c\u3070\u308c\u308b\u30a4\u30d9\u30f3\u30c8\u3092\u8a2d\u5b9a\u3059\u308b. mySwicth . addTarget ( self , action : #selector ( ViewController . onClickMySwicth ( sender :)), for : UIControl . Event . valueChanged ) // Switch\u3092View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( mySwicth ) // On/Off\u3092\u8868\u793a\u3059\u308b\u30e9\u30d9\u30eb\u3092\u4f5c\u6210\u3059\u308b. myLabel = UILabel ( frame : CGRect ( x : 0 , y : 0 , width : 150 , height : 150 )) myLabel . backgroundColor = UIColor . orange myLabel . layer . masksToBounds = true myLabel . layer . cornerRadius = 75.0 myLabel . textColor = UIColor . white myLabel . shadowColor = UIColor . gray myLabel . font = UIFont . systemFont ( ofSize : 30.0 ) myLabel . textAlignment = NSTextAlignment . center myLabel . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 200 ) myLabel . text = \"On\" // \u30e9\u30d9\u30eb\u3092view\u306b\u8ffd\u52a0 self . view . addSubview ( myLabel ) } @objc internal func onClickMySwicth ( sender : UISwitch ){ if sender . isOn { myLabel . text = \"On\" myLabel . backgroundColor = UIColor . orange } else { myLabel . text = \"Off\" myLabel . backgroundColor = UIColor . gray } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 // // ViewController.swift // UIKit022_3.0 // // Created by KimikoWatanabe on 2016/08/17. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { private var myLabel : UILabel ! override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u8272\u3092Cyan\u306b\u8a2d\u5b9a\u3059\u308b. self . view . backgroundColor = UIColor . cyan // Swicth\u3092\u4f5c\u6210\u3059\u308b. let mySwicth : UISwitch = UISwitch () mySwicth . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 200 ) // Swicth\u306e\u67a0\u7dda\u3092\u8868\u793a\u3059\u308b. mySwicth . tintColor = UIColor . black // Switch\u3092On\u306b\u8a2d\u5b9a\u3059\u308b. mySwicth . isOn = true // Switch\u306eOn/Off\u5207\u308a\u66ff\u308f\u308a\u306e\u969b\u306b\u3001\u547c\u3070\u308c\u308b\u30a4\u30d9\u30f3\u30c8\u3092\u8a2d\u5b9a\u3059\u308b. mySwicth . addTarget ( self , action : #selector ( ViewController . onClickMySwicth ( sender :)), for : UIControlEvents . valueChanged ) // Switch\u3092View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( mySwicth ) // On/Off\u3092\u8868\u793a\u3059\u308b\u30e9\u30d9\u30eb\u3092\u4f5c\u6210\u3059\u308b. myLabel = UILabel ( frame : CGRect ( x : 0 , y : 0 , width : 150 , height : 150 )) myLabel . backgroundColor = UIColor . orange myLabel . layer . masksToBounds = true myLabel . layer . cornerRadius = 75.0 myLabel . textColor = UIColor . white myLabel . shadowColor = UIColor . gray myLabel . font = UIFont . systemFont ( ofSize : 30.0 ) myLabel . textAlignment = NSTextAlignment . center myLabel . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 200 ) myLabel . text = \"On\" // \u30e9\u30d9\u30eb\u3092view\u306b\u8ffd\u52a0 self . view . addSubview ( myLabel ) } internal func onClickMySwicth ( sender : UISwitch ){ if sender . isOn { myLabel . text = \"On\" myLabel . backgroundColor = UIColor . orange } else { myLabel . text = \"Off\" myLabel . backgroundColor = UIColor . gray } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 // // ViewController.swift // UIKit022_2.3 // // Created by KimikoWatanabe on 2016/08/17. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { private var myLabel : UILabel ! override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u8272\u3092Cyan\u306b\u8a2d\u5b9a\u3059\u308b. self . view . backgroundColor = UIColor . cyanColor () // Swicth\u3092\u4f5c\u6210\u3059\u308b. let mySwicth : UISwitch = UISwitch () mySwicth . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 200 ) // Swicth\u306e\u67a0\u7dda\u3092\u8868\u793a\u3059\u308b. mySwicth . tintColor = UIColor . blackColor () // Switch\u3092On\u306b\u8a2d\u5b9a\u3059\u308b. mySwicth . on = true // Switch\u306eOn/Off\u5207\u308a\u66ff\u308f\u308a\u306e\u969b\u306b\u3001\u547c\u3070\u308c\u308b\u30a4\u30d9\u30f3\u30c8\u3092\u8a2d\u5b9a\u3059\u308b. mySwicth . addTarget ( self , action : #selector ( ViewController . onClickMySwicth ( _ :)), forControlEvents : UIControlEvents . ValueChanged ) // Switch\u3092View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( mySwicth ) // On/Off\u3092\u8868\u793a\u3059\u308b\u30e9\u30d9\u30eb\u3092\u4f5c\u6210\u3059\u308b. myLabel = UILabel ( frame : CGRectMake ( 0 , 0 , 150 , 150 )) myLabel . backgroundColor = UIColor . orangeColor () myLabel . layer . masksToBounds = true myLabel . layer . cornerRadius = 75.0 myLabel . textColor = UIColor . whiteColor () myLabel . shadowColor = UIColor . grayColor () myLabel . font = UIFont . systemFontOfSize ( CGFloat ( 30 )) myLabel . textAlignment = NSTextAlignment . Center myLabel . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 200 ) myLabel . text = \"On\" // \u30e9\u30d9\u30eb\u3092view\u306b\u8ffd\u52a0 self . view . addSubview ( myLabel ) } internal func onClickMySwicth ( sender : UISwitch ){ if sender . on { myLabel . text = \"On\" myLabel . backgroundColor = UIColor . orangeColor () } else { myLabel . text = \"Off\" myLabel . backgroundColor = UIColor . grayColor () } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } }","title":"UISwitch\u306e\u8868\u793a"},{"location":"1.uikit/022_uiswitch/#3040","text":"UIControlEvents \u3000\u304c UIControl.Event \u306b\u5909\u66f4 internal func onClickMySwicth(sender: UISwitch) \u306b @objc \u3092\u8ffd\u52a0","title":"3.0\u30684.0\u306e\u5dee\u5206"},{"location":"1.uikit/022_uiswitch/#2330","text":"UIColor\u306e\u53c2\u7167\u65b9\u6cd5\u306e\u5909\u66f4(UIColor.cyanColor() -> UIColor.cyan) CGRect\u306e\u521d\u671f\u5316\u65b9\u6cd5\u306e\u5909\u66f4(CGRectMake\u30e1\u30bd\u30c3\u30c9\u306e\u5ec3\u6b62) UISwitch\u306e\u4e00\u90e8\u30d7\u30ed\u30d1\u30c6\u30a3\u540d\u306e\u5909\u66f4(on -> isOn)","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"1.uikit/022_uiswitch/#reference","text":"UISwitch Class https://developer.apple.com/reference/uikit/uiswitch","title":"Reference"},{"location":"1.uikit/023_uidatepicker/","text":"UIDatePicker\u306e\u8868\u793a Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 // // ViewController.swift // UIKit023_4.0 // // Created by KimikoWatanabe on 2016/08/17. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UIPickerViewDelegate { private var myTextField : UITextField ! override func viewDidLoad () { super . viewDidLoad () self . view . backgroundColor = UIColor . white // DatePicker\u3092\u751f\u6210\u3059\u308b. let myDatePicker : UIDatePicker = UIDatePicker () // datePicker\u3092\u8a2d\u5b9a\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u4f4d\u7f6e\u306f\u753b\u9762\u4e0a\u90e8\uff09\u3059\u308b. myDatePicker . frame = CGRect ( x : 0 , y : 50 , width : self . view . frame . width , height : 200 ) myDatePicker . timeZone = NSTimeZone . local myDatePicker . backgroundColor = UIColor . white myDatePicker . layer . cornerRadius = 5.0 myDatePicker . layer . shadowOpacity = 0.5 // \u5024\u304c\u5909\u308f\u3063\u305f\u969b\u306e\u30a4\u30d9\u30f3\u30c8\u3092\u767b\u9332\u3059\u308b. myDatePicker . addTarget ( self , action : #selector ( ViewController . onDidChangeDate ( sender :)), for : . valueChanged ) // DataPicker\u3092View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myDatePicker ) // UITextField\u3092\u4f5c\u6210\u3059\u308b. myTextField = UITextField ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 30 )) myTextField . text = \"\" myTextField . borderStyle = UITextField . BorderStyle . roundedRect myTextField . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : self . view . bounds . height - 100 ); // UITextField\u3092View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myTextField ) } /* DatePicker\u304c\u9078\u3070\u308c\u305f\u969b\u306b\u547c\u3070\u308c\u308b. */ @objc internal func onDidChangeDate ( sender : UIDatePicker ){ // \u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3092\u751f\u6210. let myDateFormatter : DateFormatter = DateFormatter () myDateFormatter . dateFormat = \"yyyy/MM/dd hh:mm\" // \u65e5\u4ed8\u3092\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306b\u5247\u3063\u3066\u53d6\u5f97. let mySelectedDate : NSString = myDateFormatter . string ( from : sender . date ) as NSString myTextField . text = mySelectedDate as String } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 // // ViewController.swift // UIKit023_3.0 // // Created by KimikoWatanabe on 2016/08/17. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UIPickerViewDelegate { private var myTextField : UITextField ! override func viewDidLoad () { super . viewDidLoad () self . view . backgroundColor = UIColor . white // DatePicker\u3092\u751f\u6210\u3059\u308b. let myDatePicker : UIDatePicker = UIDatePicker () // datePicker\u3092\u8a2d\u5b9a\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u4f4d\u7f6e\u306f\u753b\u9762\u4e0a\u90e8\uff09\u3059\u308b. myDatePicker . frame = CGRect ( x : 0 , y : 50 , width : self . view . frame . width , height : 200 ) myDatePicker . timeZone = NSTimeZone . local myDatePicker . backgroundColor = UIColor . white myDatePicker . layer . cornerRadius = 5.0 myDatePicker . layer . shadowOpacity = 0.5 // \u5024\u304c\u5909\u308f\u3063\u305f\u969b\u306e\u30a4\u30d9\u30f3\u30c8\u3092\u767b\u9332\u3059\u308b. myDatePicker . addTarget ( self , action : #selector ( ViewController . onDidChangeDate ( sender :)), for : . valueChanged ) // DataPicker\u3092View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myDatePicker ) // UITextField\u3092\u4f5c\u6210\u3059\u308b. myTextField = UITextField ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 30 )) myTextField . text = \"\" myTextField . borderStyle = UITextBorderStyle . roundedRect myTextField . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : self . view . bounds . height - 100 ); // UITextField\u3092View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myTextField ) } /* DatePicker\u304c\u9078\u3070\u308c\u305f\u969b\u306b\u547c\u3070\u308c\u308b. */ internal func onDidChangeDate ( sender : UIDatePicker ){ // \u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3092\u751f\u6210. let myDateFormatter : DateFormatter = DateFormatter () myDateFormatter . dateFormat = \"yyyy/MM/dd hh:mm\" // \u65e5\u4ed8\u3092\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306b\u5247\u3063\u3066\u53d6\u5f97. let mySelectedDate : NSString = myDateFormatter . string ( from : sender . date ) myTextField . text = mySelectedDate as String } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 // // ViewController.swift // UIKit023_2.3 // // Created by KimikoWatanabe on 2016/08/17. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UIPickerViewDelegate { private var myTextField : UITextField ! override func viewDidLoad () { super . viewDidLoad () self . view . backgroundColor = UIColor . whiteColor () // DatePicker\u3092\u751f\u6210\u3059\u308b. let myDatePicker : UIDatePicker = UIDatePicker () // datePicker\u3092\u8a2d\u5b9a\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u4f4d\u7f6e\u306f\u753b\u9762\u4e0a\u90e8\uff09\u3059\u308b. myDatePicker . frame = CGRectMake ( 0 , 50 , self . view . frame . width , 200 ) myDatePicker . timeZone = NSTimeZone . localTimeZone () myDatePicker . backgroundColor = UIColor . whiteColor () myDatePicker . layer . cornerRadius = 5.0 myDatePicker . layer . shadowOpacity = 0.5 // \u5024\u304c\u5909\u308f\u3063\u305f\u969b\u306e\u30a4\u30d9\u30f3\u30c8\u3092\u767b\u9332\u3059\u308b. myDatePicker . addTarget ( self , action : #selector ( ViewController . onDidChangeDate ( _ :)), forControlEvents : . ValueChanged ) // DataPicker\u3092View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myDatePicker ) // UITextField\u3092\u4f5c\u6210\u3059\u308b. myTextField = UITextField ( frame : CGRectMake ( 0 , 0 , 200 , 30 )) myTextField . text = \"\" myTextField . borderStyle = UITextBorderStyle . RoundedRect myTextField . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : self . view . bounds . height - 100 ); // UITextField\u3092View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myTextField ) } /* DatePicker\u304c\u9078\u3070\u308c\u305f\u969b\u306b\u547c\u3070\u308c\u308b. */ internal func onDidChangeDate ( sender : UIDatePicker ){ // \u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3092\u751f\u6210. let myDateFormatter : NSDateFormatter = NSDateFormatter () myDateFormatter . dateFormat = \"yyyy/MM/dd hh:mm\" // \u65e5\u4ed8\u3092\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306b\u5247\u3063\u3066\u53d6\u5f97. let mySelectedDate : NSString = myDateFormatter . stringFromDate ( sender . date ) myTextField . text = mySelectedDate as String } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } 3.0\u30684.0\u306e\u5dee\u5206 UITextBorderStyle.roundedRect \u304c\u3001 UITextField.BorderStyle.roundedRect \u306b\u5909\u66f4 internal func onDidChangeDate(sender: UIDatePicker) \u306b @objc \u3092\u8ffd\u52a0 myDateFormatter.string(from: sender.date) \u3092\u3001 myDateFormatter.string(from: sender.date) as NSString \u306b\u5909\u66f4 2.3\u30683.0\u306e\u5dee\u5206 NSDateFormatter\u306e\u5ec3\u6b62\u3001DateFormatter\u306b\u5909\u66f4 local\u306eNSTimeZone\u306e\u53d6\u5f97\u65b9\u6cd5\u306e\u5909\u66f4 Reference UIDatePicker Class https://developer.apple.com/reference/uikit/uidatepicker","title":"UIDatePicker\u306e\u8868\u793a"},{"location":"1.uikit/023_uidatepicker/#uidatepicker","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 // // ViewController.swift // UIKit023_4.0 // // Created by KimikoWatanabe on 2016/08/17. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UIPickerViewDelegate { private var myTextField : UITextField ! override func viewDidLoad () { super . viewDidLoad () self . view . backgroundColor = UIColor . white // DatePicker\u3092\u751f\u6210\u3059\u308b. let myDatePicker : UIDatePicker = UIDatePicker () // datePicker\u3092\u8a2d\u5b9a\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u4f4d\u7f6e\u306f\u753b\u9762\u4e0a\u90e8\uff09\u3059\u308b. myDatePicker . frame = CGRect ( x : 0 , y : 50 , width : self . view . frame . width , height : 200 ) myDatePicker . timeZone = NSTimeZone . local myDatePicker . backgroundColor = UIColor . white myDatePicker . layer . cornerRadius = 5.0 myDatePicker . layer . shadowOpacity = 0.5 // \u5024\u304c\u5909\u308f\u3063\u305f\u969b\u306e\u30a4\u30d9\u30f3\u30c8\u3092\u767b\u9332\u3059\u308b. myDatePicker . addTarget ( self , action : #selector ( ViewController . onDidChangeDate ( sender :)), for : . valueChanged ) // DataPicker\u3092View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myDatePicker ) // UITextField\u3092\u4f5c\u6210\u3059\u308b. myTextField = UITextField ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 30 )) myTextField . text = \"\" myTextField . borderStyle = UITextField . BorderStyle . roundedRect myTextField . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : self . view . bounds . height - 100 ); // UITextField\u3092View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myTextField ) } /* DatePicker\u304c\u9078\u3070\u308c\u305f\u969b\u306b\u547c\u3070\u308c\u308b. */ @objc internal func onDidChangeDate ( sender : UIDatePicker ){ // \u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3092\u751f\u6210. let myDateFormatter : DateFormatter = DateFormatter () myDateFormatter . dateFormat = \"yyyy/MM/dd hh:mm\" // \u65e5\u4ed8\u3092\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306b\u5247\u3063\u3066\u53d6\u5f97. let mySelectedDate : NSString = myDateFormatter . string ( from : sender . date ) as NSString myTextField . text = mySelectedDate as String } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 // // ViewController.swift // UIKit023_3.0 // // Created by KimikoWatanabe on 2016/08/17. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UIPickerViewDelegate { private var myTextField : UITextField ! override func viewDidLoad () { super . viewDidLoad () self . view . backgroundColor = UIColor . white // DatePicker\u3092\u751f\u6210\u3059\u308b. let myDatePicker : UIDatePicker = UIDatePicker () // datePicker\u3092\u8a2d\u5b9a\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u4f4d\u7f6e\u306f\u753b\u9762\u4e0a\u90e8\uff09\u3059\u308b. myDatePicker . frame = CGRect ( x : 0 , y : 50 , width : self . view . frame . width , height : 200 ) myDatePicker . timeZone = NSTimeZone . local myDatePicker . backgroundColor = UIColor . white myDatePicker . layer . cornerRadius = 5.0 myDatePicker . layer . shadowOpacity = 0.5 // \u5024\u304c\u5909\u308f\u3063\u305f\u969b\u306e\u30a4\u30d9\u30f3\u30c8\u3092\u767b\u9332\u3059\u308b. myDatePicker . addTarget ( self , action : #selector ( ViewController . onDidChangeDate ( sender :)), for : . valueChanged ) // DataPicker\u3092View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myDatePicker ) // UITextField\u3092\u4f5c\u6210\u3059\u308b. myTextField = UITextField ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 30 )) myTextField . text = \"\" myTextField . borderStyle = UITextBorderStyle . roundedRect myTextField . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : self . view . bounds . height - 100 ); // UITextField\u3092View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myTextField ) } /* DatePicker\u304c\u9078\u3070\u308c\u305f\u969b\u306b\u547c\u3070\u308c\u308b. */ internal func onDidChangeDate ( sender : UIDatePicker ){ // \u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3092\u751f\u6210. let myDateFormatter : DateFormatter = DateFormatter () myDateFormatter . dateFormat = \"yyyy/MM/dd hh:mm\" // \u65e5\u4ed8\u3092\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306b\u5247\u3063\u3066\u53d6\u5f97. let mySelectedDate : NSString = myDateFormatter . string ( from : sender . date ) myTextField . text = mySelectedDate as String } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 // // ViewController.swift // UIKit023_2.3 // // Created by KimikoWatanabe on 2016/08/17. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UIPickerViewDelegate { private var myTextField : UITextField ! override func viewDidLoad () { super . viewDidLoad () self . view . backgroundColor = UIColor . whiteColor () // DatePicker\u3092\u751f\u6210\u3059\u308b. let myDatePicker : UIDatePicker = UIDatePicker () // datePicker\u3092\u8a2d\u5b9a\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u4f4d\u7f6e\u306f\u753b\u9762\u4e0a\u90e8\uff09\u3059\u308b. myDatePicker . frame = CGRectMake ( 0 , 50 , self . view . frame . width , 200 ) myDatePicker . timeZone = NSTimeZone . localTimeZone () myDatePicker . backgroundColor = UIColor . whiteColor () myDatePicker . layer . cornerRadius = 5.0 myDatePicker . layer . shadowOpacity = 0.5 // \u5024\u304c\u5909\u308f\u3063\u305f\u969b\u306e\u30a4\u30d9\u30f3\u30c8\u3092\u767b\u9332\u3059\u308b. myDatePicker . addTarget ( self , action : #selector ( ViewController . onDidChangeDate ( _ :)), forControlEvents : . ValueChanged ) // DataPicker\u3092View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myDatePicker ) // UITextField\u3092\u4f5c\u6210\u3059\u308b. myTextField = UITextField ( frame : CGRectMake ( 0 , 0 , 200 , 30 )) myTextField . text = \"\" myTextField . borderStyle = UITextBorderStyle . RoundedRect myTextField . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : self . view . bounds . height - 100 ); // UITextField\u3092View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myTextField ) } /* DatePicker\u304c\u9078\u3070\u308c\u305f\u969b\u306b\u547c\u3070\u308c\u308b. */ internal func onDidChangeDate ( sender : UIDatePicker ){ // \u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3092\u751f\u6210. let myDateFormatter : NSDateFormatter = NSDateFormatter () myDateFormatter . dateFormat = \"yyyy/MM/dd hh:mm\" // \u65e5\u4ed8\u3092\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306b\u5247\u3063\u3066\u53d6\u5f97. let mySelectedDate : NSString = myDateFormatter . stringFromDate ( sender . date ) myTextField . text = mySelectedDate as String } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } }","title":"UIDatePicker\u306e\u8868\u793a"},{"location":"1.uikit/023_uidatepicker/#3040","text":"UITextBorderStyle.roundedRect \u304c\u3001 UITextField.BorderStyle.roundedRect \u306b\u5909\u66f4 internal func onDidChangeDate(sender: UIDatePicker) \u306b @objc \u3092\u8ffd\u52a0 myDateFormatter.string(from: sender.date) \u3092\u3001 myDateFormatter.string(from: sender.date) as NSString \u306b\u5909\u66f4","title":"3.0\u30684.0\u306e\u5dee\u5206"},{"location":"1.uikit/023_uidatepicker/#2330","text":"NSDateFormatter\u306e\u5ec3\u6b62\u3001DateFormatter\u306b\u5909\u66f4 local\u306eNSTimeZone\u306e\u53d6\u5f97\u65b9\u6cd5\u306e\u5909\u66f4","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"1.uikit/023_uidatepicker/#reference","text":"UIDatePicker Class https://developer.apple.com/reference/uikit/uidatepicker","title":"Reference"},{"location":"1.uikit/024_uiactivityindicator/","text":"UIActivityIndicator\u306e\u8868\u793a Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 // // ViewController.swift // UIKit024_4.0 // // Created by KimikoWatanabe on 2016/08/17. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { private var myActivityIndicator : UIActivityIndicatorView ! private var myButton : UIButton ! override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u8272\u3092\u9ed2\u306b\u8a2d\u5b9a\u3059\u308b. self . view . backgroundColor = UIColor . black // \u30a4\u30f3\u30b8\u30b1\u30fc\u30bf\u3092\u4f5c\u6210\u3059\u308b. myActivityIndicator = UIActivityIndicatorView () myActivityIndicator . frame = CGRect ( x : 0 , y : 0 , width : 50 , height : 50 ) myActivityIndicator . center = self . view . center // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u304c\u505c\u6b62\u3057\u3066\u3044\u308b\u6642\u3082\u30a4\u30f3\u30b8\u30b1\u30fc\u30bf\u3092\u8868\u793a\u3055\u305b\u308b. myActivityIndicator . hidesWhenStopped = false myActivityIndicator . style = UIActivityIndicatorView . Style . white // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u958b\u59cb\u3059\u308b. myActivityIndicator . startAnimating () // \u30a4\u30f3\u30b8\u30b1\u30fc\u30bf\u3092View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myActivityIndicator ) // \u30dc\u30bf\u30f3\u3092\u751f\u6210\u3059\u308b. myButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 60 , height : 60 )) myButton . backgroundColor = UIColor . red myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 30.0 myButton . setTitle ( \"Stop\" , for : . normal ) myButton . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : self . view . bounds . height - 50 ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchUpInside ) // \u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myButton ) } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. */ @objc internal func onClickMyButton ( sender : UIButton ){ if myActivityIndicator . isAnimating { myActivityIndicator . stopAnimating () myButton . setTitle ( \"Start\" , for : . normal ) myButton . backgroundColor = UIColor . blue } else { myActivityIndicator . startAnimating () myButton . setTitle ( \"Stop\" , for : . normal ) myButton . backgroundColor = UIColor . red } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 // // ViewController.swift // UIKit024_3.0 // // Created by KimikoWatanabe on 2016/08/17. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { private var myActivityIndicator : UIActivityIndicatorView ! private var myButton : UIButton ! override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u8272\u3092\u9ed2\u306b\u8a2d\u5b9a\u3059\u308b. self . view . backgroundColor = UIColor . black // \u30a4\u30f3\u30b8\u30b1\u30fc\u30bf\u3092\u4f5c\u6210\u3059\u308b. myActivityIndicator = UIActivityIndicatorView () myActivityIndicator . frame = CGRect ( x : 0 , y : 0 , width : 50 , height : 50 ) myActivityIndicator . center = self . view . center // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u304c\u505c\u6b62\u3057\u3066\u3044\u308b\u6642\u3082\u30a4\u30f3\u30b8\u30b1\u30fc\u30bf\u3092\u8868\u793a\u3055\u305b\u308b. myActivityIndicator . hidesWhenStopped = false myActivityIndicator . activityIndicatorViewStyle = UIActivityIndicatorViewStyle . white // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u958b\u59cb\u3059\u308b. myActivityIndicator . startAnimating () // \u30a4\u30f3\u30b8\u30b1\u30fc\u30bf\u3092View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myActivityIndicator ) // \u30dc\u30bf\u30f3\u3092\u751f\u6210\u3059\u308b. myButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 60 , height : 60 )) myButton . backgroundColor = UIColor . red myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 30.0 myButton . setTitle ( \"Stop\" , for : . normal ) myButton . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : self . view . bounds . height - 50 ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchUpInside ) // \u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myButton ) } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. */ internal func onClickMyButton ( sender : UIButton ){ if myActivityIndicator . isAnimating { myActivityIndicator . stopAnimating () myButton . setTitle ( \"Start\" , for : . normal ) myButton . backgroundColor = UIColor . blue } else { myActivityIndicator . startAnimating () myButton . setTitle ( \"Stop\" , for : . normal ) myButton . backgroundColor = UIColor . red } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 // // ViewController.swift // UIKit024_2.3 // // Created by KimikoWatanabe on 2016/08/17. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { private var myActivityIndicator : UIActivityIndicatorView ! private var myButton : UIButton ! override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u8272\u3092\u9ed2\u306b\u8a2d\u5b9a\u3059\u308b. self . view . backgroundColor = UIColor . blackColor () // \u30a4\u30f3\u30b8\u30b1\u30fc\u30bf\u3092\u4f5c\u6210\u3059\u308b. myActivityIndicator = UIActivityIndicatorView () myActivityIndicator . frame = CGRectMake ( 0 , 0 , 50 , 50 ) myActivityIndicator . center = self . view . center // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u304c\u505c\u6b62\u3057\u3066\u3044\u308b\u6642\u3082\u30a4\u30f3\u30b8\u30b1\u30fc\u30bf\u3092\u8868\u793a\u3055\u305b\u308b. myActivityIndicator . hidesWhenStopped = false myActivityIndicator . activityIndicatorViewStyle = UIActivityIndicatorViewStyle . White // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u958b\u59cb\u3059\u308b. myActivityIndicator . startAnimating () // \u30a4\u30f3\u30b8\u30b1\u30fc\u30bf\u3092View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myActivityIndicator ) // \u30dc\u30bf\u30f3\u3092\u751f\u6210\u3059\u308b. myButton = UIButton ( frame : CGRectMake ( 0 , 0 , 60 , 60 )) myButton . backgroundColor = UIColor . redColor () myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 30.0 myButton . setTitle ( \"Stop\" , forState : . Normal ) myButton . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : self . view . bounds . height - 50 ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : . TouchUpInside ) // \u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myButton ) } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. */ internal func onClickMyButton ( sender : UIButton ){ if myActivityIndicator . isAnimating () { myActivityIndicator . stopAnimating () myButton . setTitle ( \"Start\" , forState : . Normal ) myButton . backgroundColor = UIColor . blueColor () } else { myActivityIndicator . startAnimating () myButton . setTitle ( \"Stop\" , forState : . Normal ) myButton . backgroundColor = UIColor . redColor () } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } 3.0\u30684.0\u306e\u5dee\u5206 activityIndicatorViewStyle \u304c style \u306b\u5909\u66f4 UIActivityIndicatorViewStyle \u304c UIActivityIndicatorView.Style \u306b\u5909\u66f4 internal func onClickMyButton(sender: UIButton) \u306b @objc \u3092\u8ffd\u52a0 2.3\u30683.0\u306e\u5dee\u5206 myActivityIndicator.isAnimating\u304c\u30e1\u30bd\u30c3\u30c9\u304b\u3089\u30d7\u30ed\u30d1\u30c6\u30a3\u306b\u5909\u66f4 Reference UIActivityIndicatorView Class https://developer.apple.com/reference/uikit/uiactivityindicatorview","title":"UIActivityIndicator\u306e\u8868\u793a"},{"location":"1.uikit/024_uiactivityindicator/#uiactivityindicator","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 // // ViewController.swift // UIKit024_4.0 // // Created by KimikoWatanabe on 2016/08/17. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { private var myActivityIndicator : UIActivityIndicatorView ! private var myButton : UIButton ! override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u8272\u3092\u9ed2\u306b\u8a2d\u5b9a\u3059\u308b. self . view . backgroundColor = UIColor . black // \u30a4\u30f3\u30b8\u30b1\u30fc\u30bf\u3092\u4f5c\u6210\u3059\u308b. myActivityIndicator = UIActivityIndicatorView () myActivityIndicator . frame = CGRect ( x : 0 , y : 0 , width : 50 , height : 50 ) myActivityIndicator . center = self . view . center // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u304c\u505c\u6b62\u3057\u3066\u3044\u308b\u6642\u3082\u30a4\u30f3\u30b8\u30b1\u30fc\u30bf\u3092\u8868\u793a\u3055\u305b\u308b. myActivityIndicator . hidesWhenStopped = false myActivityIndicator . style = UIActivityIndicatorView . Style . white // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u958b\u59cb\u3059\u308b. myActivityIndicator . startAnimating () // \u30a4\u30f3\u30b8\u30b1\u30fc\u30bf\u3092View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myActivityIndicator ) // \u30dc\u30bf\u30f3\u3092\u751f\u6210\u3059\u308b. myButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 60 , height : 60 )) myButton . backgroundColor = UIColor . red myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 30.0 myButton . setTitle ( \"Stop\" , for : . normal ) myButton . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : self . view . bounds . height - 50 ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchUpInside ) // \u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myButton ) } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. */ @objc internal func onClickMyButton ( sender : UIButton ){ if myActivityIndicator . isAnimating { myActivityIndicator . stopAnimating () myButton . setTitle ( \"Start\" , for : . normal ) myButton . backgroundColor = UIColor . blue } else { myActivityIndicator . startAnimating () myButton . setTitle ( \"Stop\" , for : . normal ) myButton . backgroundColor = UIColor . red } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 // // ViewController.swift // UIKit024_3.0 // // Created by KimikoWatanabe on 2016/08/17. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { private var myActivityIndicator : UIActivityIndicatorView ! private var myButton : UIButton ! override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u8272\u3092\u9ed2\u306b\u8a2d\u5b9a\u3059\u308b. self . view . backgroundColor = UIColor . black // \u30a4\u30f3\u30b8\u30b1\u30fc\u30bf\u3092\u4f5c\u6210\u3059\u308b. myActivityIndicator = UIActivityIndicatorView () myActivityIndicator . frame = CGRect ( x : 0 , y : 0 , width : 50 , height : 50 ) myActivityIndicator . center = self . view . center // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u304c\u505c\u6b62\u3057\u3066\u3044\u308b\u6642\u3082\u30a4\u30f3\u30b8\u30b1\u30fc\u30bf\u3092\u8868\u793a\u3055\u305b\u308b. myActivityIndicator . hidesWhenStopped = false myActivityIndicator . activityIndicatorViewStyle = UIActivityIndicatorViewStyle . white // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u958b\u59cb\u3059\u308b. myActivityIndicator . startAnimating () // \u30a4\u30f3\u30b8\u30b1\u30fc\u30bf\u3092View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myActivityIndicator ) // \u30dc\u30bf\u30f3\u3092\u751f\u6210\u3059\u308b. myButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 60 , height : 60 )) myButton . backgroundColor = UIColor . red myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 30.0 myButton . setTitle ( \"Stop\" , for : . normal ) myButton . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : self . view . bounds . height - 50 ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchUpInside ) // \u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myButton ) } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. */ internal func onClickMyButton ( sender : UIButton ){ if myActivityIndicator . isAnimating { myActivityIndicator . stopAnimating () myButton . setTitle ( \"Start\" , for : . normal ) myButton . backgroundColor = UIColor . blue } else { myActivityIndicator . startAnimating () myButton . setTitle ( \"Stop\" , for : . normal ) myButton . backgroundColor = UIColor . red } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 // // ViewController.swift // UIKit024_2.3 // // Created by KimikoWatanabe on 2016/08/17. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { private var myActivityIndicator : UIActivityIndicatorView ! private var myButton : UIButton ! override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u8272\u3092\u9ed2\u306b\u8a2d\u5b9a\u3059\u308b. self . view . backgroundColor = UIColor . blackColor () // \u30a4\u30f3\u30b8\u30b1\u30fc\u30bf\u3092\u4f5c\u6210\u3059\u308b. myActivityIndicator = UIActivityIndicatorView () myActivityIndicator . frame = CGRectMake ( 0 , 0 , 50 , 50 ) myActivityIndicator . center = self . view . center // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u304c\u505c\u6b62\u3057\u3066\u3044\u308b\u6642\u3082\u30a4\u30f3\u30b8\u30b1\u30fc\u30bf\u3092\u8868\u793a\u3055\u305b\u308b. myActivityIndicator . hidesWhenStopped = false myActivityIndicator . activityIndicatorViewStyle = UIActivityIndicatorViewStyle . White // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u958b\u59cb\u3059\u308b. myActivityIndicator . startAnimating () // \u30a4\u30f3\u30b8\u30b1\u30fc\u30bf\u3092View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myActivityIndicator ) // \u30dc\u30bf\u30f3\u3092\u751f\u6210\u3059\u308b. myButton = UIButton ( frame : CGRectMake ( 0 , 0 , 60 , 60 )) myButton . backgroundColor = UIColor . redColor () myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 30.0 myButton . setTitle ( \"Stop\" , forState : . Normal ) myButton . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : self . view . bounds . height - 50 ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : . TouchUpInside ) // \u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myButton ) } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. */ internal func onClickMyButton ( sender : UIButton ){ if myActivityIndicator . isAnimating () { myActivityIndicator . stopAnimating () myButton . setTitle ( \"Start\" , forState : . Normal ) myButton . backgroundColor = UIColor . blueColor () } else { myActivityIndicator . startAnimating () myButton . setTitle ( \"Stop\" , forState : . Normal ) myButton . backgroundColor = UIColor . redColor () } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } }","title":"UIActivityIndicator\u306e\u8868\u793a"},{"location":"1.uikit/024_uiactivityindicator/#3040","text":"activityIndicatorViewStyle \u304c style \u306b\u5909\u66f4 UIActivityIndicatorViewStyle \u304c UIActivityIndicatorView.Style \u306b\u5909\u66f4 internal func onClickMyButton(sender: UIButton) \u306b @objc \u3092\u8ffd\u52a0","title":"3.0\u30684.0\u306e\u5dee\u5206"},{"location":"1.uikit/024_uiactivityindicator/#2330","text":"myActivityIndicator.isAnimating\u304c\u30e1\u30bd\u30c3\u30c9\u304b\u3089\u30d7\u30ed\u30d1\u30c6\u30a3\u306b\u5909\u66f4","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"1.uikit/024_uiactivityindicator/#reference","text":"UIActivityIndicatorView Class https://developer.apple.com/reference/uikit/uiactivityindicatorview","title":"Reference"},{"location":"1.uikit/025_uisearchbar/","text":"UISearchBar\u306e\u8868\u793a ```swift\u3000fct_label=\"Swift 4.x\" // // ViewController.swift // UIKit025_4.0 // // Created by KimikoWatanabe on 2016/08/17. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController: UIViewController, UISearchBarDelegate { 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 private var mySearchBar: UISearchBar! private var myLabel : UILabel! override func viewDidLoad() { super.viewDidLoad() // \u80cc\u666f\u3092\u767d\u306b\u8a2d\u5b9a\u3059\u308b. self.view.backgroundColor = UIColor.white // \u691c\u7d22\u30d0\u30fc\u3092\u4f5c\u6210\u3059\u308b. mySearchBar = UISearchBar() mySearchBar.delegate = self mySearchBar.frame = CGRect(x:0, y:0, width:300, height:80) mySearchBar.layer.position = CGPoint(x: self.view.bounds.width/2, y: 100) // \u5f71\u3092\u3064\u3051\u308b. mySearchBar.layer.shadowColor = UIColor.black.cgColor mySearchBar.layer.shadowOpacity = 0.5 mySearchBar.layer.masksToBounds = false // \u30ad\u30e3\u30f3\u30bb\u30eb\u30dc\u30bf\u30f3\u3092\u6709\u52b9\u306b\u3059\u308b. mySearchBar.showsCancelButton = true // \u30d6\u30c3\u30af\u30de\u30fc\u30af\u30dc\u30bf\u30f3\u3092\u7121\u52b9\u306b\u3059\u308b. mySearchBar.showsBookmarkButton = false // \u30d0\u30fc\u30b9\u30bf\u30a4\u30eb\u3092Default\u306b\u8a2d\u5b9a\u3059\u308b. mySearchBar.searchBarStyle = UISearchBar.Style.default // \u30bf\u30a4\u30c8\u30eb\u3092\u8a2d\u5b9a\u3059\u308b. mySearchBar.prompt = \"\u30bf\u30a4\u30c8\u30eb\" // \u8aac\u660e\u6587\u3092\u8a2d\u5b9a\u3059\u308b. mySearchBar.placeholder = \"\u3053\u3053\u306b\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\" // \u30ab\u30fc\u30bd\u30eb\u3001\u30ad\u30e3\u30f3\u30bb\u30eb\u30dc\u30bf\u30f3\u306e\u8272\u3092\u8a2d\u5b9a\u3059\u308b. mySearchBar.tintColor = UIColor.red // \u691c\u7d22\u7d50\u679c\u8868\u793a\u30dc\u30bf\u30f3\u306f\u975e\u8868\u793a\u306b\u3059\u308b. mySearchBar.showsSearchResultsButton = false // \u691c\u7d22\u30d0\u30fc\u3092View\u306b\u8ffd\u52a0\u3059\u308b. self.view.addSubview(mySearchBar) // UITextField\u3092\u4f5c\u6210\u3059\u308b. myLabel = UILabel(frame: CGRect(x:0,y:0,width:200,height:30)) myLabel.center = CGPoint(x: self.view.frame.width/2, y: self.view.frame.height/2) myLabel.text = \"\" myLabel.layer.borderWidth = 1.0 myLabel.layer.borderColor = UIColor.gray.cgColor myLabel.layer.cornerRadius = 10.0 // View\u306b\u8ffd\u52a0\u3059\u308b. self.view.addSubview(myLabel) } /* \u30c6\u30ad\u30b9\u30c8\u304c\u5909\u66f4\u3055\u308c\u308b\u6bce\u306b\u547c\u3070\u308c\u308b */ func searchBar(_ searchBar: UISearchBar, textDidChange searchText: String) { myLabel.text = searchText } /* Cancel\u30dc\u30bf\u30f3\u304c\u62bc\u3055\u308c\u305f\u6642\u306b\u547c\u3070\u308c\u308b */ func searchBarCancelButtonClicked(_ searchBar: UISearchBar) { myLabel.text = \"\" mySearchBar.text = \"\" } /* Search\u30dc\u30bf\u30f3\u304c\u62bc\u3055\u308c\u305f\u6642\u306b\u547c\u3070\u308c\u308b */ func searchBarSearchButtonClicked(_ searchBar: UISearchBar) { myLabel.text = \"Searching\" mySearchBar.text = \"\" self.view.endEditing(true) } } 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 `` ` swift fct_label = \"Swift3.x\" // // ViewController . swift // UIKit025_3 . 0 // // Created by KimikoWatanabe on 2016 / 08 / 17. // Copyright \u00a9 2016 \u5e74 FaBo , Inc . All rights reserved . // import UIKit class ViewController : UIViewController , UISearchBarDelegate { private var mySearchBar : UISearchBar ! private var myLabel : UILabel ! override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u3092\u767d\u306b\u8a2d\u5b9a\u3059\u308b . self . view . backgroundColor = UIColor . white // \u691c\u7d22\u30d0\u30fc\u3092\u4f5c\u6210\u3059\u308b . mySearchBar = UISearchBar () mySearchBar . delegate = self mySearchBar . frame = CGRect ( x : 0 , y : 0 , width : 300 , height : 80 ) mySearchBar . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 100 ) // \u5f71\u3092\u3064\u3051\u308b . mySearchBar . layer . shadowColor = UIColor . black . cgColor mySearchBar . layer . shadowOpacity = 0.5 mySearchBar . layer . masksToBounds = false // \u30ad\u30e3\u30f3\u30bb\u30eb\u30dc\u30bf\u30f3\u3092\u6709\u52b9\u306b\u3059\u308b . mySearchBar . showsCancelButton = true // \u30d6\u30c3\u30af\u30de\u30fc\u30af\u30dc\u30bf\u30f3\u3092\u7121\u52b9\u306b\u3059\u308b . mySearchBar . showsBookmarkButton = false // \u30d0\u30fc\u30b9\u30bf\u30a4\u30eb\u3092 Default\u306b\u8a2d\u5b9a\u3059\u308b . mySearchBar . searchBarStyle = UISearchBarStyle . default // \u30bf\u30a4\u30c8\u30eb\u3092\u8a2d\u5b9a\u3059\u308b . mySearchBar . prompt = \"\u30bf\u30a4\u30c8\u30eb\" // \u8aac\u660e\u6587\u3092\u8a2d\u5b9a\u3059\u308b . mySearchBar . placeholder = \"\u3053\u3053\u306b\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\" // \u30ab\u30fc\u30bd\u30eb\u3001\u30ad\u30e3\u30f3\u30bb\u30eb\u30dc\u30bf\u30f3\u306e\u8272\u3092\u8a2d\u5b9a\u3059\u308b . mySearchBar . tintColor = UIColor . red // \u691c\u7d22\u7d50\u679c\u8868\u793a\u30dc\u30bf\u30f3\u306f\u975e\u8868\u793a\u306b\u3059\u308b . mySearchBar . showsSearchResultsButton = false // \u691c\u7d22\u30d0\u30fc\u3092 View\u306b\u8ffd\u52a0\u3059\u308b . self . view . addSubview ( mySearchBar ) // UITextField\u3092\u4f5c\u6210\u3059\u308b . myLabel = UILabel ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 30 )) myLabel . center = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height / 2 ) myLabel . text = \"\" myLabel . layer . borderWidth = 1.0 myLabel . layer . borderColor = UIColor . gray . cgColor myLabel . layer . cornerRadius = 10.0 // View\u306b\u8ffd\u52a0\u3059\u308b . self . view . addSubview ( myLabel ) } /* \u30c6\u30ad\u30b9\u30c8\u304c\u5909\u66f4\u3055\u308c\u308b\u6bce\u306b\u547c\u3070\u308c\u308b */ func searchBar ( _ searchBar : UISearchBar , textDidChange searchText : String ) { myLabel . text = searchText } /* Cancel\u30dc\u30bf\u30f3\u304c\u62bc\u3055\u308c\u305f\u6642\u306b\u547c\u3070\u308c\u308b */ func searchBarCancelButtonClicked ( _ searchBar : UISearchBar ) { myLabel . text = \"\" mySearchBar . text = \"\" } /* Search\u30dc\u30bf\u30f3\u304c\u62bc\u3055\u308c\u305f\u6642\u306b\u547c\u3070\u308c\u308b */ func searchBarSearchButtonClicked ( _ searchBar : UISearchBar ) { myLabel . text = \"Searching\" mySearchBar . text = \"\" self . view . endEditing ( true ) } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 // // ViewController.swift // UIKit025_2.3 // // Created by KimikoWatanabe on 2016/08/17. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UISearchBarDelegate { private var mySearchBar : UISearchBar ! private var myLabel : UILabel ! override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u3092\u767d\u306b\u8a2d\u5b9a\u3059\u308b. self . view . backgroundColor = UIColor . whiteColor () // \u691c\u7d22\u30d0\u30fc\u3092\u4f5c\u6210\u3059\u308b. mySearchBar = UISearchBar () mySearchBar . delegate = self mySearchBar . frame = CGRectMake ( 0 , 0 , 300 , 80 ) mySearchBar . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 100 ) // \u5f71\u3092\u3064\u3051\u308b. mySearchBar . layer . shadowColor = UIColor . blackColor (). CGColor mySearchBar . layer . shadowOpacity = 0.5 mySearchBar . layer . masksToBounds = false // \u30ad\u30e3\u30f3\u30bb\u30eb\u30dc\u30bf\u30f3\u3092\u6709\u52b9\u306b\u3059\u308b. mySearchBar . showsCancelButton = true // \u30d6\u30c3\u30af\u30de\u30fc\u30af\u30dc\u30bf\u30f3\u3092\u7121\u52b9\u306b\u3059\u308b. mySearchBar . showsBookmarkButton = false // \u30d0\u30fc\u30b9\u30bf\u30a4\u30eb\u3092Default\u306b\u8a2d\u5b9a\u3059\u308b. mySearchBar . searchBarStyle = UISearchBarStyle . Default // \u30bf\u30a4\u30c8\u30eb\u3092\u8a2d\u5b9a\u3059\u308b. mySearchBar . prompt = \"\u30bf\u30a4\u30c8\u30eb\" // \u8aac\u660e\u6587\u3092\u8a2d\u5b9a\u3059\u308b. mySearchBar . placeholder = \"\u3053\u3053\u306b\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\" // \u30ab\u30fc\u30bd\u30eb\u3001\u30ad\u30e3\u30f3\u30bb\u30eb\u30dc\u30bf\u30f3\u306e\u8272\u3092\u8a2d\u5b9a\u3059\u308b. mySearchBar . tintColor = UIColor . redColor () // \u691c\u7d22\u7d50\u679c\u8868\u793a\u30dc\u30bf\u30f3\u306f\u975e\u8868\u793a\u306b\u3059\u308b. mySearchBar . showsSearchResultsButton = false // \u691c\u7d22\u30d0\u30fc\u3092View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( mySearchBar ) // UITextField\u3092\u4f5c\u6210\u3059\u308b. myLabel = UILabel ( frame : CGRectMake ( 0 , 0 , 200 , 30 )) myLabel . center = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height / 2 ) myLabel . text = \"\" myLabel . layer . borderWidth = 1.0 myLabel . layer . borderColor = UIColor . grayColor (). CGColor myLabel . layer . cornerRadius = 10.0 // View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myLabel ) } /* \u30c6\u30ad\u30b9\u30c8\u304c\u5909\u66f4\u3055\u308c\u308b\u6bce\u306b\u547c\u3070\u308c\u308b */ func searchBar ( searchBar : UISearchBar , textDidChange searchText : String ) { myLabel . text = searchText } /* Cancel\u30dc\u30bf\u30f3\u304c\u62bc\u3055\u308c\u305f\u6642\u306b\u547c\u3070\u308c\u308b */ func searchBarCancelButtonClicked ( searchBar : UISearchBar ) { myLabel . text = \"\" mySearchBar . text = \"\" } /* Search\u30dc\u30bf\u30f3\u304c\u62bc\u3055\u308c\u305f\u6642\u306b\u547c\u3070\u308c\u308b */ func searchBarSearchButtonClicked ( searchBar : UISearchBar ) { myLabel . text = \"Searching\" mySearchBar . text = \"\" self . view . endEditing ( true ) } } 3.0\u30684.0\u306e\u5dee\u5206 UISearchBarStyle.default \u304c\u3001 UISearchBar.Style.default \u306b\u5909\u66f4 2.3\u30683.0\u306e\u5dee\u5206 UIColor\u306e\u53c2\u7167\u540d\u304c\u5909\u66f4(UIColor.blackColor() -> UIColor.black) CGRect\u306e\u521d\u671f\u5316\u65b9\u6cd5\u304c\u5909\u66f4(CGRectMake\u30e1\u30bd\u30c3\u30c9\u306e\u5ec3\u6b62) UISearchBarDelegate\u306e\u30e1\u30bd\u30c3\u30c9\u306e\u5f15\u6570\u304c\u5909\u66f4 Reference UISearchBar Class https://developer.apple.com/reference/uikit/uisearchbar","title":"UISearchBar\u306e\u8868\u793a"},{"location":"1.uikit/025_uisearchbar/#uisearchbar","text":"```swift\u3000fct_label=\"Swift 4.x\" // // ViewController.swift // UIKit025_4.0 // // Created by KimikoWatanabe on 2016/08/17. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController: UIViewController, UISearchBarDelegate { 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 private var mySearchBar: UISearchBar! private var myLabel : UILabel! override func viewDidLoad() { super.viewDidLoad() // \u80cc\u666f\u3092\u767d\u306b\u8a2d\u5b9a\u3059\u308b. self.view.backgroundColor = UIColor.white // \u691c\u7d22\u30d0\u30fc\u3092\u4f5c\u6210\u3059\u308b. mySearchBar = UISearchBar() mySearchBar.delegate = self mySearchBar.frame = CGRect(x:0, y:0, width:300, height:80) mySearchBar.layer.position = CGPoint(x: self.view.bounds.width/2, y: 100) // \u5f71\u3092\u3064\u3051\u308b. mySearchBar.layer.shadowColor = UIColor.black.cgColor mySearchBar.layer.shadowOpacity = 0.5 mySearchBar.layer.masksToBounds = false // \u30ad\u30e3\u30f3\u30bb\u30eb\u30dc\u30bf\u30f3\u3092\u6709\u52b9\u306b\u3059\u308b. mySearchBar.showsCancelButton = true // \u30d6\u30c3\u30af\u30de\u30fc\u30af\u30dc\u30bf\u30f3\u3092\u7121\u52b9\u306b\u3059\u308b. mySearchBar.showsBookmarkButton = false // \u30d0\u30fc\u30b9\u30bf\u30a4\u30eb\u3092Default\u306b\u8a2d\u5b9a\u3059\u308b. mySearchBar.searchBarStyle = UISearchBar.Style.default // \u30bf\u30a4\u30c8\u30eb\u3092\u8a2d\u5b9a\u3059\u308b. mySearchBar.prompt = \"\u30bf\u30a4\u30c8\u30eb\" // \u8aac\u660e\u6587\u3092\u8a2d\u5b9a\u3059\u308b. mySearchBar.placeholder = \"\u3053\u3053\u306b\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\" // \u30ab\u30fc\u30bd\u30eb\u3001\u30ad\u30e3\u30f3\u30bb\u30eb\u30dc\u30bf\u30f3\u306e\u8272\u3092\u8a2d\u5b9a\u3059\u308b. mySearchBar.tintColor = UIColor.red // \u691c\u7d22\u7d50\u679c\u8868\u793a\u30dc\u30bf\u30f3\u306f\u975e\u8868\u793a\u306b\u3059\u308b. mySearchBar.showsSearchResultsButton = false // \u691c\u7d22\u30d0\u30fc\u3092View\u306b\u8ffd\u52a0\u3059\u308b. self.view.addSubview(mySearchBar) // UITextField\u3092\u4f5c\u6210\u3059\u308b. myLabel = UILabel(frame: CGRect(x:0,y:0,width:200,height:30)) myLabel.center = CGPoint(x: self.view.frame.width/2, y: self.view.frame.height/2) myLabel.text = \"\" myLabel.layer.borderWidth = 1.0 myLabel.layer.borderColor = UIColor.gray.cgColor myLabel.layer.cornerRadius = 10.0 // View\u306b\u8ffd\u52a0\u3059\u308b. self.view.addSubview(myLabel) } /* \u30c6\u30ad\u30b9\u30c8\u304c\u5909\u66f4\u3055\u308c\u308b\u6bce\u306b\u547c\u3070\u308c\u308b */ func searchBar(_ searchBar: UISearchBar, textDidChange searchText: String) { myLabel.text = searchText } /* Cancel\u30dc\u30bf\u30f3\u304c\u62bc\u3055\u308c\u305f\u6642\u306b\u547c\u3070\u308c\u308b */ func searchBarCancelButtonClicked(_ searchBar: UISearchBar) { myLabel.text = \"\" mySearchBar.text = \"\" } /* Search\u30dc\u30bf\u30f3\u304c\u62bc\u3055\u308c\u305f\u6642\u306b\u547c\u3070\u308c\u308b */ func searchBarSearchButtonClicked(_ searchBar: UISearchBar) { myLabel.text = \"Searching\" mySearchBar.text = \"\" self.view.endEditing(true) } } 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 `` ` swift fct_label = \"Swift3.x\" // // ViewController . swift // UIKit025_3 . 0 // // Created by KimikoWatanabe on 2016 / 08 / 17. // Copyright \u00a9 2016 \u5e74 FaBo , Inc . All rights reserved . // import UIKit class ViewController : UIViewController , UISearchBarDelegate { private var mySearchBar : UISearchBar ! private var myLabel : UILabel ! override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u3092\u767d\u306b\u8a2d\u5b9a\u3059\u308b . self . view . backgroundColor = UIColor . white // \u691c\u7d22\u30d0\u30fc\u3092\u4f5c\u6210\u3059\u308b . mySearchBar = UISearchBar () mySearchBar . delegate = self mySearchBar . frame = CGRect ( x : 0 , y : 0 , width : 300 , height : 80 ) mySearchBar . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 100 ) // \u5f71\u3092\u3064\u3051\u308b . mySearchBar . layer . shadowColor = UIColor . black . cgColor mySearchBar . layer . shadowOpacity = 0.5 mySearchBar . layer . masksToBounds = false // \u30ad\u30e3\u30f3\u30bb\u30eb\u30dc\u30bf\u30f3\u3092\u6709\u52b9\u306b\u3059\u308b . mySearchBar . showsCancelButton = true // \u30d6\u30c3\u30af\u30de\u30fc\u30af\u30dc\u30bf\u30f3\u3092\u7121\u52b9\u306b\u3059\u308b . mySearchBar . showsBookmarkButton = false // \u30d0\u30fc\u30b9\u30bf\u30a4\u30eb\u3092 Default\u306b\u8a2d\u5b9a\u3059\u308b . mySearchBar . searchBarStyle = UISearchBarStyle . default // \u30bf\u30a4\u30c8\u30eb\u3092\u8a2d\u5b9a\u3059\u308b . mySearchBar . prompt = \"\u30bf\u30a4\u30c8\u30eb\" // \u8aac\u660e\u6587\u3092\u8a2d\u5b9a\u3059\u308b . mySearchBar . placeholder = \"\u3053\u3053\u306b\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\" // \u30ab\u30fc\u30bd\u30eb\u3001\u30ad\u30e3\u30f3\u30bb\u30eb\u30dc\u30bf\u30f3\u306e\u8272\u3092\u8a2d\u5b9a\u3059\u308b . mySearchBar . tintColor = UIColor . red // \u691c\u7d22\u7d50\u679c\u8868\u793a\u30dc\u30bf\u30f3\u306f\u975e\u8868\u793a\u306b\u3059\u308b . mySearchBar . showsSearchResultsButton = false // \u691c\u7d22\u30d0\u30fc\u3092 View\u306b\u8ffd\u52a0\u3059\u308b . self . view . addSubview ( mySearchBar ) // UITextField\u3092\u4f5c\u6210\u3059\u308b . myLabel = UILabel ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 30 )) myLabel . center = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height / 2 ) myLabel . text = \"\" myLabel . layer . borderWidth = 1.0 myLabel . layer . borderColor = UIColor . gray . cgColor myLabel . layer . cornerRadius = 10.0 // View\u306b\u8ffd\u52a0\u3059\u308b . self . view . addSubview ( myLabel ) } /* \u30c6\u30ad\u30b9\u30c8\u304c\u5909\u66f4\u3055\u308c\u308b\u6bce\u306b\u547c\u3070\u308c\u308b */ func searchBar ( _ searchBar : UISearchBar , textDidChange searchText : String ) { myLabel . text = searchText } /* Cancel\u30dc\u30bf\u30f3\u304c\u62bc\u3055\u308c\u305f\u6642\u306b\u547c\u3070\u308c\u308b */ func searchBarCancelButtonClicked ( _ searchBar : UISearchBar ) { myLabel . text = \"\" mySearchBar . text = \"\" } /* Search\u30dc\u30bf\u30f3\u304c\u62bc\u3055\u308c\u305f\u6642\u306b\u547c\u3070\u308c\u308b */ func searchBarSearchButtonClicked ( _ searchBar : UISearchBar ) { myLabel . text = \"Searching\" mySearchBar . text = \"\" self . view . endEditing ( true ) } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 // // ViewController.swift // UIKit025_2.3 // // Created by KimikoWatanabe on 2016/08/17. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UISearchBarDelegate { private var mySearchBar : UISearchBar ! private var myLabel : UILabel ! override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u3092\u767d\u306b\u8a2d\u5b9a\u3059\u308b. self . view . backgroundColor = UIColor . whiteColor () // \u691c\u7d22\u30d0\u30fc\u3092\u4f5c\u6210\u3059\u308b. mySearchBar = UISearchBar () mySearchBar . delegate = self mySearchBar . frame = CGRectMake ( 0 , 0 , 300 , 80 ) mySearchBar . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 100 ) // \u5f71\u3092\u3064\u3051\u308b. mySearchBar . layer . shadowColor = UIColor . blackColor (). CGColor mySearchBar . layer . shadowOpacity = 0.5 mySearchBar . layer . masksToBounds = false // \u30ad\u30e3\u30f3\u30bb\u30eb\u30dc\u30bf\u30f3\u3092\u6709\u52b9\u306b\u3059\u308b. mySearchBar . showsCancelButton = true // \u30d6\u30c3\u30af\u30de\u30fc\u30af\u30dc\u30bf\u30f3\u3092\u7121\u52b9\u306b\u3059\u308b. mySearchBar . showsBookmarkButton = false // \u30d0\u30fc\u30b9\u30bf\u30a4\u30eb\u3092Default\u306b\u8a2d\u5b9a\u3059\u308b. mySearchBar . searchBarStyle = UISearchBarStyle . Default // \u30bf\u30a4\u30c8\u30eb\u3092\u8a2d\u5b9a\u3059\u308b. mySearchBar . prompt = \"\u30bf\u30a4\u30c8\u30eb\" // \u8aac\u660e\u6587\u3092\u8a2d\u5b9a\u3059\u308b. mySearchBar . placeholder = \"\u3053\u3053\u306b\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\" // \u30ab\u30fc\u30bd\u30eb\u3001\u30ad\u30e3\u30f3\u30bb\u30eb\u30dc\u30bf\u30f3\u306e\u8272\u3092\u8a2d\u5b9a\u3059\u308b. mySearchBar . tintColor = UIColor . redColor () // \u691c\u7d22\u7d50\u679c\u8868\u793a\u30dc\u30bf\u30f3\u306f\u975e\u8868\u793a\u306b\u3059\u308b. mySearchBar . showsSearchResultsButton = false // \u691c\u7d22\u30d0\u30fc\u3092View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( mySearchBar ) // UITextField\u3092\u4f5c\u6210\u3059\u308b. myLabel = UILabel ( frame : CGRectMake ( 0 , 0 , 200 , 30 )) myLabel . center = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height / 2 ) myLabel . text = \"\" myLabel . layer . borderWidth = 1.0 myLabel . layer . borderColor = UIColor . grayColor (). CGColor myLabel . layer . cornerRadius = 10.0 // View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myLabel ) } /* \u30c6\u30ad\u30b9\u30c8\u304c\u5909\u66f4\u3055\u308c\u308b\u6bce\u306b\u547c\u3070\u308c\u308b */ func searchBar ( searchBar : UISearchBar , textDidChange searchText : String ) { myLabel . text = searchText } /* Cancel\u30dc\u30bf\u30f3\u304c\u62bc\u3055\u308c\u305f\u6642\u306b\u547c\u3070\u308c\u308b */ func searchBarCancelButtonClicked ( searchBar : UISearchBar ) { myLabel . text = \"\" mySearchBar . text = \"\" } /* Search\u30dc\u30bf\u30f3\u304c\u62bc\u3055\u308c\u305f\u6642\u306b\u547c\u3070\u308c\u308b */ func searchBarSearchButtonClicked ( searchBar : UISearchBar ) { myLabel . text = \"Searching\" mySearchBar . text = \"\" self . view . endEditing ( true ) } }","title":"UISearchBar\u306e\u8868\u793a"},{"location":"1.uikit/025_uisearchbar/#3040","text":"UISearchBarStyle.default \u304c\u3001 UISearchBar.Style.default \u306b\u5909\u66f4","title":"3.0\u30684.0\u306e\u5dee\u5206"},{"location":"1.uikit/025_uisearchbar/#2330","text":"UIColor\u306e\u53c2\u7167\u540d\u304c\u5909\u66f4(UIColor.blackColor() -> UIColor.black) CGRect\u306e\u521d\u671f\u5316\u65b9\u6cd5\u304c\u5909\u66f4(CGRectMake\u30e1\u30bd\u30c3\u30c9\u306e\u5ec3\u6b62) UISearchBarDelegate\u306e\u30e1\u30bd\u30c3\u30c9\u306e\u5f15\u6570\u304c\u5909\u66f4","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"1.uikit/025_uisearchbar/#reference","text":"UISearchBar Class https://developer.apple.com/reference/uikit/uisearchbar","title":"Reference"},{"location":"1.uikit/026_uiwindow/","text":"UIWindow\u306e\u8868\u793a Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 // // ViewController.swift // UIKit026_4.0 // // Created by KimikoWatanabe on 2016/08/17. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { private var myWindow : UIWindow ! private var myWindowButton : UIButton ! private var myButton : UIButton ! override func viewDidLoad () { super . viewDidLoad () myWindow = UIWindow () myWindowButton = UIButton () myButton = UIButton () // \u80cc\u666f\u306b\u753b\u50cf\u3092\u8a2d\u5b9a\u3059\u308b. let myImage : UIImage = UIImage ( named : \"oouchi.jpg\" ) ! let myImageView : UIImageView = UIImageView () myImageView . image = myImage // \u753b\u50cf\u306escale\u3092\u8a08\u7b97. let scale = self . view . frame . width / myImage . size . width myImageView . frame = CGRect ( x : 0 , y : 0 , width : myImage . size . width * scale , height : myImage . size . height * scale ) self . view . addSubview ( myImageView ) // \u30dc\u30bf\u30f3\u3092\u751f\u6210\u3059\u308b. myButton . frame = CGRect ( x : 0 , y : 0 , width : 60 , height : 60 ) myButton . backgroundColor = UIColor . red myButton . setTitle ( \"Dialog\" , for : . normal ) myButton . setTitleColor ( UIColor . white , for : . normal ) myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 30.0 myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 100 ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchUpInside ) // \u30dc\u30bf\u30f3\u3092\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myButton ) } /* \u81ea\u4f5cWindow\u3092\u751f\u6210\u3059\u308b */ internal func makeMyWindow (){ // \u80cc\u666f\u3092\u767d\u306b\u8a2d\u5b9a\u3059\u308b. myWindow . backgroundColor = UIColor . white myWindow . frame = CGRect ( x : 0 , y : 0 , width : 200 , height : 250 ) myWindow . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height / 2 ) myWindow . alpha = 0.8 myWindow . layer . cornerRadius = 20 // myWindow\u3092keyWindow\u306b\u3059\u308b. myWindow . makeKey () // window\u3092\u8868\u793a\u3059\u308b. self . myWindow . makeKeyAndVisible () // \u30dc\u30bf\u30f3\u3092\u4f5c\u6210\u3059\u308b. myWindowButton . frame = CGRect ( x : 0 , y : 0 , width : 100 , height : 60 ) myWindowButton . backgroundColor = UIColor . orange myWindowButton . setTitle ( \"Close\" , for : . normal ) myWindowButton . setTitleColor ( UIColor . white , for : . normal ) myWindowButton . layer . masksToBounds = true myWindowButton . layer . cornerRadius = 20.0 myWindowButton . layer . position = CGPoint ( x : self . myWindow . frame . width / 2 , y : self . myWindow . frame . height - 50 ) myWindowButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchUpInside ) self . myWindow . addSubview ( myWindowButton ) // TextView\u3092\u4f5c\u6210\u3059\u308b. let myTextView : UITextView = UITextView ( frame : CGRect ( x : 10 , y : 10 , width : self . myWindow . frame . width - 20 , height : 150 )) myTextView . backgroundColor = UIColor . clear myTextView . text = \"\u5927\u5185\u5bbf\u306f\u3001\u4f1a\u6d25\u57ce\u4e0b\u3068\u4e0b\u91ce\u306e\u56fd\uff08\u65e5\u5149\u4eca\u5e02\uff09\u3092\u7d50\u307632\u91cc\u306e\u533a\u9593\u306e\u4e2d\u3067\u4f1a\u6d25\u304b\u30892\u756a\u76ee\u306e\u5bbf\u99c5\u3068\u3057\u30661640\u5e74\u3054\u308d\u306b\u6574\u5099\u3055\u308c\u305f\u5bbf\u5834\u753a\u3067\u3059\u3002\" myTextView . font = UIFont . systemFont ( ofSize : 15.0 ) myTextView . textColor = UIColor . black myTextView . textAlignment = NSTextAlignment . left myTextView . isEditable = false self . myWindow . addSubview ( myTextView ) } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8 */ @objc internal func onClickMyButton ( sender : UIButton ) { if sender == myWindowButton { myWindow . isHidden = true } else if sender == myButton { makeMyWindow () } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 // // ViewController.swift // UIKit026_3.0 // // Created by KimikoWatanabe on 2016/08/17. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { private var myWindow : UIWindow ! private var myWindowButton : UIButton ! private var myButton : UIButton ! override func viewDidLoad () { super . viewDidLoad () myWindow = UIWindow () myWindowButton = UIButton () myButton = UIButton () // \u80cc\u666f\u306b\u753b\u50cf\u3092\u8a2d\u5b9a\u3059\u308b. let myImage : UIImage = UIImage ( named : \"oouchi.jpg\" ) ! let myImageView : UIImageView = UIImageView () myImageView . image = myImage // \u753b\u50cf\u306escale\u3092\u8a08\u7b97. let scale = self . view . frame . width / myImage . size . width myImageView . frame = CGRect ( x : 0 , y : 0 , width : myImage . size . width * scale , height : myImage . size . height * scale ) self . view . addSubview ( myImageView ) // \u30dc\u30bf\u30f3\u3092\u751f\u6210\u3059\u308b. myButton . frame = CGRect ( x : 0 , y : 0 , width : 60 , height : 60 ) myButton . backgroundColor = UIColor . red myButton . setTitle ( \"Dialog\" , for : . normal ) myButton . setTitleColor ( UIColor . white , for : . normal ) myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 30.0 myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 100 ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchUpInside ) // \u30dc\u30bf\u30f3\u3092\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myButton ) } /* \u81ea\u4f5cWindow\u3092\u751f\u6210\u3059\u308b */ internal func makeMyWindow (){ // \u80cc\u666f\u3092\u767d\u306b\u8a2d\u5b9a\u3059\u308b. myWindow . backgroundColor = UIColor . white myWindow . frame = CGRect ( x : 0 , y : 0 , width : 200 , height : 250 ) myWindow . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height / 2 ) myWindow . alpha = 0.8 myWindow . layer . cornerRadius = 20 // myWindow\u3092keyWindow\u306b\u3059\u308b. myWindow . makeKey () // window\u3092\u8868\u793a\u3059\u308b. self . myWindow . makeKeyAndVisible () // \u30dc\u30bf\u30f3\u3092\u4f5c\u6210\u3059\u308b. myWindowButton . frame = CGRect ( x : 0 , y : 0 , width : 100 , height : 60 ) myWindowButton . backgroundColor = UIColor . orange myWindowButton . setTitle ( \"Close\" , for : . normal ) myWindowButton . setTitleColor ( UIColor . white , for : . normal ) myWindowButton . layer . masksToBounds = true myWindowButton . layer . cornerRadius = 20.0 myWindowButton . layer . position = CGPoint ( x : self . myWindow . frame . width / 2 , y : self . myWindow . frame . height - 50 ) myWindowButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchUpInside ) self . myWindow . addSubview ( myWindowButton ) // TextView\u3092\u4f5c\u6210\u3059\u308b. let myTextView : UITextView = UITextView ( frame : CGRect ( x : 10 , y : 10 , width : self . myWindow . frame . width - 20 , height : 150 )) myTextView . backgroundColor = UIColor . clear myTextView . text = \"\u5927\u5185\u5bbf\u306f\u3001\u4f1a\u6d25\u57ce\u4e0b\u3068\u4e0b\u91ce\u306e\u56fd\uff08\u65e5\u5149\u4eca\u5e02\uff09\u3092\u7d50\u307632\u91cc\u306e\u533a\u9593\u306e\u4e2d\u3067\u4f1a\u6d25\u304b\u30892\u756a\u76ee\u306e\u5bbf\u99c5\u3068\u3057\u30661640\u5e74\u3054\u308d\u306b\u6574\u5099\u3055\u308c\u305f\u5bbf\u5834\u753a\u3067\u3059\u3002\" myTextView . font = UIFont . systemFont ( ofSize : 15.0 ) myTextView . textColor = UIColor . black myTextView . textAlignment = NSTextAlignment . left myTextView . isEditable = false self . myWindow . addSubview ( myTextView ) } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8 */ internal func onClickMyButton ( sender : UIButton ) { if sender == myWindowButton { myWindow . isHidden = true } else if sender == myButton { makeMyWindow () } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 // // ViewController.swift // UIKit026_2.3 // // Created by KimikoWatanabe on 2016/08/17. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { private var myWindow : UIWindow ! private var myWindowButton : UIButton ! private var myButton : UIButton ! override func viewDidLoad () { super . viewDidLoad () myWindow = UIWindow () myWindowButton = UIButton () myButton = UIButton () // \u80cc\u666f\u306b\u753b\u50cf\u3092\u8a2d\u5b9a\u3059\u308b. let myImage : UIImage = UIImage ( named : \"oouchi.jpg\" ) ! let myImageView : UIImageView = UIImageView () myImageView . image = myImage // \u753b\u50cf\u306escale\u3092\u8a08\u7b97. let scale = self . view . frame . width / myImage . size . width myImageView . frame = CGRectMake ( 0 , 0 , myImage . size . width * scale , myImage . size . height * scale ) self . view . addSubview ( myImageView ) // \u30dc\u30bf\u30f3\u3092\u751f\u6210\u3059\u308b. myButton . frame = CGRectMake ( 0 , 0 , 60 , 60 ) myButton . backgroundColor = UIColor . redColor () myButton . setTitle ( \"Dialog\" , forState : . Normal ) myButton . setTitleColor ( UIColor . whiteColor (), forState : . Normal ) myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 30.0 myButton . layer . position = CGPointMake ( self . view . frame . width / 2 , self . view . frame . height - 100 ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : . TouchUpInside ) // \u30dc\u30bf\u30f3\u3092\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myButton ) } /* \u81ea\u4f5cWindow\u3092\u751f\u6210\u3059\u308b */ internal func makeMyWindow (){ // \u80cc\u666f\u3092\u767d\u306b\u8a2d\u5b9a\u3059\u308b. myWindow . backgroundColor = UIColor . whiteColor () myWindow . frame = CGRectMake ( 0 , 0 , 200 , 250 ) myWindow . layer . position = CGPointMake ( self . view . frame . width / 2 , self . view . frame . height / 2 ) myWindow . alpha = 0.8 myWindow . layer . cornerRadius = 20 // myWindow\u3092keyWindow\u306b\u3059\u308b. myWindow . makeKeyWindow () // window\u3092\u8868\u793a\u3059\u308b. self . myWindow . makeKeyAndVisible () // \u30dc\u30bf\u30f3\u3092\u4f5c\u6210\u3059\u308b. myWindowButton . frame = CGRectMake ( 0 , 0 , 100 , 60 ) myWindowButton . backgroundColor = UIColor . orangeColor () myWindowButton . setTitle ( \"Close\" , forState : . Normal ) myWindowButton . setTitleColor ( UIColor . whiteColor (), forState : . Normal ) myWindowButton . layer . masksToBounds = true myWindowButton . layer . cornerRadius = 20.0 myWindowButton . layer . position = CGPointMake ( self . myWindow . frame . width / 2 , self . myWindow . frame . height - 50 ) myWindowButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : . TouchUpInside ) self . myWindow . addSubview ( myWindowButton ) // TextView\u3092\u4f5c\u6210\u3059\u308b. let myTextView : UITextView = UITextView ( frame : CGRectMake ( 10 , 10 , self . myWindow . frame . width - 20 , 150 )) myTextView . backgroundColor = UIColor . clearColor () myTextView . text = \"\u5927\u5185\u5bbf\u306f\u3001\u4f1a\u6d25\u57ce\u4e0b\u3068\u4e0b\u91ce\u306e\u56fd\uff08\u65e5\u5149\u4eca\u5e02\uff09\u3092\u7d50\u307632\u91cc\u306e\u533a\u9593\u306e\u4e2d\u3067\u4f1a\u6d25\u304b\u30892\u756a\u76ee\u306e\u5bbf\u99c5\u3068\u3057\u30661640\u5e74\u3054\u308d\u306b\u6574\u5099\u3055\u308c\u305f\u5bbf\u5834\u753a\u3067\u3059\u3002\" myTextView . font = UIFont . systemFontOfSize ( CGFloat ( 15 )) myTextView . textColor = UIColor . blackColor () myTextView . textAlignment = NSTextAlignment . Left myTextView . editable = false self . myWindow . addSubview ( myTextView ) } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8 */ internal func onClickMyButton ( sender : UIButton ) { if sender == myWindowButton { myWindow . hidden = true } else if sender == myButton { makeMyWindow () } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } 3.0\u30684.0\u306e\u5dee\u5206 internal func onClickMyButton(sender: UIButton) \u306b @objc \u3092\u8ffd\u52a0 2.3\u30683.0\u306e\u5dee\u5206 CGRect,CGPoint\u306e\u521d\u671f\u5316\u65b9\u6cd5\u306e\u5909\u66f4(CGRectMake,CGPointMake\u30e1\u30bd\u30c3\u30c9\u306e\u5ec3\u6b62) UIColor\u306e\u547c\u3073\u51fa\u3057\u65b9\u6cd5\u306e\u5909\u66f4(UIColor.whiteColor() -> UIColor.white) UIWindow\u306e\u4e00\u90e8\u30d7\u30ed\u30d1\u30c6\u30a3\u540d\u306e\u5909\u66f4(hidden->isHidden) Reference UIWindow Class https://developer.apple.com/reference/uikit/uiwindow","title":"UIWindow\u306e\u8868\u793a"},{"location":"1.uikit/026_uiwindow/#uiwindow","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 // // ViewController.swift // UIKit026_4.0 // // Created by KimikoWatanabe on 2016/08/17. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { private var myWindow : UIWindow ! private var myWindowButton : UIButton ! private var myButton : UIButton ! override func viewDidLoad () { super . viewDidLoad () myWindow = UIWindow () myWindowButton = UIButton () myButton = UIButton () // \u80cc\u666f\u306b\u753b\u50cf\u3092\u8a2d\u5b9a\u3059\u308b. let myImage : UIImage = UIImage ( named : \"oouchi.jpg\" ) ! let myImageView : UIImageView = UIImageView () myImageView . image = myImage // \u753b\u50cf\u306escale\u3092\u8a08\u7b97. let scale = self . view . frame . width / myImage . size . width myImageView . frame = CGRect ( x : 0 , y : 0 , width : myImage . size . width * scale , height : myImage . size . height * scale ) self . view . addSubview ( myImageView ) // \u30dc\u30bf\u30f3\u3092\u751f\u6210\u3059\u308b. myButton . frame = CGRect ( x : 0 , y : 0 , width : 60 , height : 60 ) myButton . backgroundColor = UIColor . red myButton . setTitle ( \"Dialog\" , for : . normal ) myButton . setTitleColor ( UIColor . white , for : . normal ) myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 30.0 myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 100 ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchUpInside ) // \u30dc\u30bf\u30f3\u3092\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myButton ) } /* \u81ea\u4f5cWindow\u3092\u751f\u6210\u3059\u308b */ internal func makeMyWindow (){ // \u80cc\u666f\u3092\u767d\u306b\u8a2d\u5b9a\u3059\u308b. myWindow . backgroundColor = UIColor . white myWindow . frame = CGRect ( x : 0 , y : 0 , width : 200 , height : 250 ) myWindow . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height / 2 ) myWindow . alpha = 0.8 myWindow . layer . cornerRadius = 20 // myWindow\u3092keyWindow\u306b\u3059\u308b. myWindow . makeKey () // window\u3092\u8868\u793a\u3059\u308b. self . myWindow . makeKeyAndVisible () // \u30dc\u30bf\u30f3\u3092\u4f5c\u6210\u3059\u308b. myWindowButton . frame = CGRect ( x : 0 , y : 0 , width : 100 , height : 60 ) myWindowButton . backgroundColor = UIColor . orange myWindowButton . setTitle ( \"Close\" , for : . normal ) myWindowButton . setTitleColor ( UIColor . white , for : . normal ) myWindowButton . layer . masksToBounds = true myWindowButton . layer . cornerRadius = 20.0 myWindowButton . layer . position = CGPoint ( x : self . myWindow . frame . width / 2 , y : self . myWindow . frame . height - 50 ) myWindowButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchUpInside ) self . myWindow . addSubview ( myWindowButton ) // TextView\u3092\u4f5c\u6210\u3059\u308b. let myTextView : UITextView = UITextView ( frame : CGRect ( x : 10 , y : 10 , width : self . myWindow . frame . width - 20 , height : 150 )) myTextView . backgroundColor = UIColor . clear myTextView . text = \"\u5927\u5185\u5bbf\u306f\u3001\u4f1a\u6d25\u57ce\u4e0b\u3068\u4e0b\u91ce\u306e\u56fd\uff08\u65e5\u5149\u4eca\u5e02\uff09\u3092\u7d50\u307632\u91cc\u306e\u533a\u9593\u306e\u4e2d\u3067\u4f1a\u6d25\u304b\u30892\u756a\u76ee\u306e\u5bbf\u99c5\u3068\u3057\u30661640\u5e74\u3054\u308d\u306b\u6574\u5099\u3055\u308c\u305f\u5bbf\u5834\u753a\u3067\u3059\u3002\" myTextView . font = UIFont . systemFont ( ofSize : 15.0 ) myTextView . textColor = UIColor . black myTextView . textAlignment = NSTextAlignment . left myTextView . isEditable = false self . myWindow . addSubview ( myTextView ) } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8 */ @objc internal func onClickMyButton ( sender : UIButton ) { if sender == myWindowButton { myWindow . isHidden = true } else if sender == myButton { makeMyWindow () } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 // // ViewController.swift // UIKit026_3.0 // // Created by KimikoWatanabe on 2016/08/17. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { private var myWindow : UIWindow ! private var myWindowButton : UIButton ! private var myButton : UIButton ! override func viewDidLoad () { super . viewDidLoad () myWindow = UIWindow () myWindowButton = UIButton () myButton = UIButton () // \u80cc\u666f\u306b\u753b\u50cf\u3092\u8a2d\u5b9a\u3059\u308b. let myImage : UIImage = UIImage ( named : \"oouchi.jpg\" ) ! let myImageView : UIImageView = UIImageView () myImageView . image = myImage // \u753b\u50cf\u306escale\u3092\u8a08\u7b97. let scale = self . view . frame . width / myImage . size . width myImageView . frame = CGRect ( x : 0 , y : 0 , width : myImage . size . width * scale , height : myImage . size . height * scale ) self . view . addSubview ( myImageView ) // \u30dc\u30bf\u30f3\u3092\u751f\u6210\u3059\u308b. myButton . frame = CGRect ( x : 0 , y : 0 , width : 60 , height : 60 ) myButton . backgroundColor = UIColor . red myButton . setTitle ( \"Dialog\" , for : . normal ) myButton . setTitleColor ( UIColor . white , for : . normal ) myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 30.0 myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 100 ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchUpInside ) // \u30dc\u30bf\u30f3\u3092\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myButton ) } /* \u81ea\u4f5cWindow\u3092\u751f\u6210\u3059\u308b */ internal func makeMyWindow (){ // \u80cc\u666f\u3092\u767d\u306b\u8a2d\u5b9a\u3059\u308b. myWindow . backgroundColor = UIColor . white myWindow . frame = CGRect ( x : 0 , y : 0 , width : 200 , height : 250 ) myWindow . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height / 2 ) myWindow . alpha = 0.8 myWindow . layer . cornerRadius = 20 // myWindow\u3092keyWindow\u306b\u3059\u308b. myWindow . makeKey () // window\u3092\u8868\u793a\u3059\u308b. self . myWindow . makeKeyAndVisible () // \u30dc\u30bf\u30f3\u3092\u4f5c\u6210\u3059\u308b. myWindowButton . frame = CGRect ( x : 0 , y : 0 , width : 100 , height : 60 ) myWindowButton . backgroundColor = UIColor . orange myWindowButton . setTitle ( \"Close\" , for : . normal ) myWindowButton . setTitleColor ( UIColor . white , for : . normal ) myWindowButton . layer . masksToBounds = true myWindowButton . layer . cornerRadius = 20.0 myWindowButton . layer . position = CGPoint ( x : self . myWindow . frame . width / 2 , y : self . myWindow . frame . height - 50 ) myWindowButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchUpInside ) self . myWindow . addSubview ( myWindowButton ) // TextView\u3092\u4f5c\u6210\u3059\u308b. let myTextView : UITextView = UITextView ( frame : CGRect ( x : 10 , y : 10 , width : self . myWindow . frame . width - 20 , height : 150 )) myTextView . backgroundColor = UIColor . clear myTextView . text = \"\u5927\u5185\u5bbf\u306f\u3001\u4f1a\u6d25\u57ce\u4e0b\u3068\u4e0b\u91ce\u306e\u56fd\uff08\u65e5\u5149\u4eca\u5e02\uff09\u3092\u7d50\u307632\u91cc\u306e\u533a\u9593\u306e\u4e2d\u3067\u4f1a\u6d25\u304b\u30892\u756a\u76ee\u306e\u5bbf\u99c5\u3068\u3057\u30661640\u5e74\u3054\u308d\u306b\u6574\u5099\u3055\u308c\u305f\u5bbf\u5834\u753a\u3067\u3059\u3002\" myTextView . font = UIFont . systemFont ( ofSize : 15.0 ) myTextView . textColor = UIColor . black myTextView . textAlignment = NSTextAlignment . left myTextView . isEditable = false self . myWindow . addSubview ( myTextView ) } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8 */ internal func onClickMyButton ( sender : UIButton ) { if sender == myWindowButton { myWindow . isHidden = true } else if sender == myButton { makeMyWindow () } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 // // ViewController.swift // UIKit026_2.3 // // Created by KimikoWatanabe on 2016/08/17. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { private var myWindow : UIWindow ! private var myWindowButton : UIButton ! private var myButton : UIButton ! override func viewDidLoad () { super . viewDidLoad () myWindow = UIWindow () myWindowButton = UIButton () myButton = UIButton () // \u80cc\u666f\u306b\u753b\u50cf\u3092\u8a2d\u5b9a\u3059\u308b. let myImage : UIImage = UIImage ( named : \"oouchi.jpg\" ) ! let myImageView : UIImageView = UIImageView () myImageView . image = myImage // \u753b\u50cf\u306escale\u3092\u8a08\u7b97. let scale = self . view . frame . width / myImage . size . width myImageView . frame = CGRectMake ( 0 , 0 , myImage . size . width * scale , myImage . size . height * scale ) self . view . addSubview ( myImageView ) // \u30dc\u30bf\u30f3\u3092\u751f\u6210\u3059\u308b. myButton . frame = CGRectMake ( 0 , 0 , 60 , 60 ) myButton . backgroundColor = UIColor . redColor () myButton . setTitle ( \"Dialog\" , forState : . Normal ) myButton . setTitleColor ( UIColor . whiteColor (), forState : . Normal ) myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 30.0 myButton . layer . position = CGPointMake ( self . view . frame . width / 2 , self . view . frame . height - 100 ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : . TouchUpInside ) // \u30dc\u30bf\u30f3\u3092\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myButton ) } /* \u81ea\u4f5cWindow\u3092\u751f\u6210\u3059\u308b */ internal func makeMyWindow (){ // \u80cc\u666f\u3092\u767d\u306b\u8a2d\u5b9a\u3059\u308b. myWindow . backgroundColor = UIColor . whiteColor () myWindow . frame = CGRectMake ( 0 , 0 , 200 , 250 ) myWindow . layer . position = CGPointMake ( self . view . frame . width / 2 , self . view . frame . height / 2 ) myWindow . alpha = 0.8 myWindow . layer . cornerRadius = 20 // myWindow\u3092keyWindow\u306b\u3059\u308b. myWindow . makeKeyWindow () // window\u3092\u8868\u793a\u3059\u308b. self . myWindow . makeKeyAndVisible () // \u30dc\u30bf\u30f3\u3092\u4f5c\u6210\u3059\u308b. myWindowButton . frame = CGRectMake ( 0 , 0 , 100 , 60 ) myWindowButton . backgroundColor = UIColor . orangeColor () myWindowButton . setTitle ( \"Close\" , forState : . Normal ) myWindowButton . setTitleColor ( UIColor . whiteColor (), forState : . Normal ) myWindowButton . layer . masksToBounds = true myWindowButton . layer . cornerRadius = 20.0 myWindowButton . layer . position = CGPointMake ( self . myWindow . frame . width / 2 , self . myWindow . frame . height - 50 ) myWindowButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : . TouchUpInside ) self . myWindow . addSubview ( myWindowButton ) // TextView\u3092\u4f5c\u6210\u3059\u308b. let myTextView : UITextView = UITextView ( frame : CGRectMake ( 10 , 10 , self . myWindow . frame . width - 20 , 150 )) myTextView . backgroundColor = UIColor . clearColor () myTextView . text = \"\u5927\u5185\u5bbf\u306f\u3001\u4f1a\u6d25\u57ce\u4e0b\u3068\u4e0b\u91ce\u306e\u56fd\uff08\u65e5\u5149\u4eca\u5e02\uff09\u3092\u7d50\u307632\u91cc\u306e\u533a\u9593\u306e\u4e2d\u3067\u4f1a\u6d25\u304b\u30892\u756a\u76ee\u306e\u5bbf\u99c5\u3068\u3057\u30661640\u5e74\u3054\u308d\u306b\u6574\u5099\u3055\u308c\u305f\u5bbf\u5834\u753a\u3067\u3059\u3002\" myTextView . font = UIFont . systemFontOfSize ( CGFloat ( 15 )) myTextView . textColor = UIColor . blackColor () myTextView . textAlignment = NSTextAlignment . Left myTextView . editable = false self . myWindow . addSubview ( myTextView ) } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8 */ internal func onClickMyButton ( sender : UIButton ) { if sender == myWindowButton { myWindow . hidden = true } else if sender == myButton { makeMyWindow () } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } }","title":"UIWindow\u306e\u8868\u793a"},{"location":"1.uikit/026_uiwindow/#3040","text":"internal func onClickMyButton(sender: UIButton) \u306b @objc \u3092\u8ffd\u52a0","title":"3.0\u30684.0\u306e\u5dee\u5206"},{"location":"1.uikit/026_uiwindow/#2330","text":"CGRect,CGPoint\u306e\u521d\u671f\u5316\u65b9\u6cd5\u306e\u5909\u66f4(CGRectMake,CGPointMake\u30e1\u30bd\u30c3\u30c9\u306e\u5ec3\u6b62) UIColor\u306e\u547c\u3073\u51fa\u3057\u65b9\u6cd5\u306e\u5909\u66f4(UIColor.whiteColor() -> UIColor.white) UIWindow\u306e\u4e00\u90e8\u30d7\u30ed\u30d1\u30c6\u30a3\u540d\u306e\u5909\u66f4(hidden->isHidden)","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"1.uikit/026_uiwindow/#reference","text":"UIWindow Class https://developer.apple.com/reference/uikit/uiwindow","title":"Reference"},{"location":"1.uikit/027_uitoolbar/","text":"UIToolBar\u306e\u8868\u793a Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 // // ViewController.swift // UIKit027_4.0 // // Created by KimikoWatanabe on 2016/08/13. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UIToolbarDelegate { private var myToolbar : UIToolbar ! override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u3092\u9752\u8272\u306b\u5909\u66f4\u3059\u308b. self . view . backgroundColor = UIColor . cyan // \u30c4\u30fc\u30eb\u30d0\u30fc\u306e\u30b5\u30a4\u30ba\u3092\u6c7a\u3081\u308b. myToolbar = UIToolbar ( frame : CGRect ( x : 0 , y : self . view . bounds . size . height - 44 , width : self . view . bounds . size . width , height : 40.0 )) // \u30c4\u30fc\u30eb\u30d0\u30fc\u306e\u4f4d\u7f6e\u3092\u6c7a\u3081\u308b. myToolbar . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : self . view . bounds . height - 20.0 ) // \u30c4\u30fc\u30eb\u30d0\u30fc\u306e\u8272\u3092\u6c7a\u3081\u308b. myToolbar . barStyle = . blackTranslucent myToolbar . tintColor = UIColor . white myToolbar . backgroundColor = UIColor . black // \u30dc\u30bf\u30f3\uff11\u3092\u751f\u6210\u3059\u308b. let myUIBarButtonGreen : UIBarButtonItem = UIBarButtonItem ( title : \"Green\" , style :. plain , target : self , action : #selector ( ViewController . onClickBarButton ( sender :))) myUIBarButtonGreen . tag = 1 // \u30dc\u30bf\u30f3\uff12\u3092\u751f\u6210\u3059\u308b. let myUIBarButtonBlue : UIBarButtonItem = UIBarButtonItem ( title : \"Blue\" , style :. plain , target : self , action : #selector ( ViewController . onClickBarButton ( sender :))) myUIBarButtonBlue . tag = 2 // \u30dc\u30bf\u30f33\u3092\u751f\u6210\u3059\u308b. let myUIBarButtonRed : UIBarButtonItem = UIBarButtonItem ( title : \"Red\" , style :. plain , target : self , action : #selector ( ViewController . onClickBarButton ( sender :))) myUIBarButtonRed . tag = 3 // \u30dc\u30bf\u30f3\u3092\u30c4\u30fc\u30eb\u30d0\u30fc\u306b\u5165\u308c\u308b. myToolbar . items = [ myUIBarButtonGreen , myUIBarButtonBlue , myUIBarButtonRed ] // \u30c4\u30fc\u30eb\u30d0\u30fc\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myToolbar ) } /* UIBarButtonItem\u304c\u62bc\u3055\u308c\u305f\u969b\u306b\u547c\u3070\u308c\u308b. */ @objc internal func onClickBarButton ( sender : UIBarButtonItem ) { switch sender . tag { case 1 : self . view . backgroundColor = UIColor . green case 2 : self . view . backgroundColor = UIColor . blue case 3 : self . view . backgroundColor = UIColor . red default : print ( \"ERROR!!\" ) } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 // // ViewController.swift // UIKit027_3.0 // // Created by KimikoWatanabe on 2016/08/13. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UIToolbarDelegate { private var myToolbar : UIToolbar ! override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u3092\u9752\u8272\u306b\u5909\u66f4\u3059\u308b. self . view . backgroundColor = UIColor . cyan // \u30c4\u30fc\u30eb\u30d0\u30fc\u306e\u30b5\u30a4\u30ba\u3092\u6c7a\u3081\u308b. myToolbar = UIToolbar ( frame : CGRect ( x : 0 , y : self . view . bounds . size . height - 44 , width : self . view . bounds . size . width , height : 40.0 )) // \u30c4\u30fc\u30eb\u30d0\u30fc\u306e\u4f4d\u7f6e\u3092\u6c7a\u3081\u308b. myToolbar . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : self . view . bounds . height - 20.0 ) // \u30c4\u30fc\u30eb\u30d0\u30fc\u306e\u8272\u3092\u6c7a\u3081\u308b. myToolbar . barStyle = . blackTranslucent myToolbar . tintColor = UIColor . white myToolbar . backgroundColor = UIColor . black // \u30dc\u30bf\u30f3\uff11\u3092\u751f\u6210\u3059\u308b. let myUIBarButtonGreen : UIBarButtonItem = UIBarButtonItem ( title : \"Green\" , style :. plain , target : self , action : #selector ( ViewController . onClickBarButton ( sender :))) myUIBarButtonGreen . tag = 1 // \u30dc\u30bf\u30f3\uff12\u3092\u751f\u6210\u3059\u308b. let myUIBarButtonBlue : UIBarButtonItem = UIBarButtonItem ( title : \"Blue\" , style :. plain , target : self , action : #selector ( ViewController . onClickBarButton ( sender :))) myUIBarButtonBlue . tag = 2 // \u30dc\u30bf\u30f33\u3092\u751f\u6210\u3059\u308b. let myUIBarButtonRed : UIBarButtonItem = UIBarButtonItem ( title : \"Red\" , style :. plain , target : self , action : #selector ( ViewController . onClickBarButton ( sender :))) myUIBarButtonRed . tag = 3 // \u30dc\u30bf\u30f3\u3092\u30c4\u30fc\u30eb\u30d0\u30fc\u306b\u5165\u308c\u308b. myToolbar . items = [ myUIBarButtonGreen , myUIBarButtonBlue , myUIBarButtonRed ] // \u30c4\u30fc\u30eb\u30d0\u30fc\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myToolbar ) } /* UIBarButtonItem\u304c\u62bc\u3055\u308c\u305f\u969b\u306b\u547c\u3070\u308c\u308b. */ internal func onClickBarButton ( sender : UIBarButtonItem ) { switch sender . tag { case 1 : self . view . backgroundColor = UIColor . green case 2 : self . view . backgroundColor = UIColor . blue case 3 : self . view . backgroundColor = UIColor . red default : print ( \"ERROR!!\" ) } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 // // ViewController.swift // UIKit027_2.3 // // Created by KimikoWatanabe on 2016/08/16. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UIToolbarDelegate { private var myToolbar : UIToolbar ! override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u3092\u9752\u8272\u306b\u5909\u66f4\u3059\u308b. self . view . backgroundColor = UIColor . cyanColor () // \u30c4\u30fc\u30eb\u30d0\u30fc\u306e\u30b5\u30a4\u30ba\u3092\u6c7a\u3081\u308b. myToolbar = UIToolbar ( frame : CGRectMake ( 0 , self . view . bounds . size . height - 44 , self . view . bounds . size . width , 40.0 )) // \u30c4\u30fc\u30eb\u30d0\u30fc\u306e\u4f4d\u7f6e\u3092\u6c7a\u3081\u308b. myToolbar . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : self . view . bounds . height - 20.0 ) // \u30c4\u30fc\u30eb\u30d0\u30fc\u306e\u8272\u3092\u6c7a\u3081\u308b. myToolbar . barStyle = . BlackTranslucent myToolbar . tintColor = UIColor . whiteColor () myToolbar . backgroundColor = UIColor . blackColor () // \u30dc\u30bf\u30f3\uff11\u3092\u751f\u6210\u3059\u308b. let myUIBarButtonGreen : UIBarButtonItem = UIBarButtonItem ( title : \"Green\" , style :. Plain , target : self , action : #selector ( ViewController . onClickBarButton ( _ :))) myUIBarButtonGreen . tag = 1 // \u30dc\u30bf\u30f3\uff12\u3092\u751f\u6210\u3059\u308b. let myUIBarButtonBlue : UIBarButtonItem = UIBarButtonItem ( title : \"Blue\" , style :. Plain , target : self , action : #selector ( ViewController . onClickBarButton ( _ :))) myUIBarButtonBlue . tag = 2 // \u30dc\u30bf\u30f33\u3092\u751f\u6210\u3059\u308b. let myUIBarButtonRed : UIBarButtonItem = UIBarButtonItem ( title : \"Red\" , style :. Plain , target : self , action : #selector ( ViewController . onClickBarButton ( _ :))) myUIBarButtonRed . tag = 3 // \u30dc\u30bf\u30f3\u3092\u30c4\u30fc\u30eb\u30d0\u30fc\u306b\u5165\u308c\u308b. myToolbar . items = [ myUIBarButtonGreen , myUIBarButtonBlue , myUIBarButtonRed ] // \u30c4\u30fc\u30eb\u30d0\u30fc\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myToolbar ) } /* UIBarButtonItem\u304c\u62bc\u3055\u308c\u305f\u969b\u306b\u547c\u3070\u308c\u308b. */ internal func onClickBarButton ( sender : UIBarButtonItem ) { switch sender . tag { case 1 : self . view . backgroundColor = UIColor . greenColor () case 2 : self . view . backgroundColor = UIColor . blueColor () case 3 : self . view . backgroundColor = UIColor . redColor () default : print ( \"ERROR!!\" ) } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } 3.0\u30684.0\u306e\u5dee\u5206 internal func onClickBarButton(sender: UIBarButtonItem) \u306b @objc \u3092\u8ffd\u52a0 2.3\u30683.0\u306e\u5dee\u5206 UIColor\u306e\u53c2\u7167\u65b9\u6cd5\u304c\u5909\u66f4(UIColor.grayColor()->UIColor.gray) CGRect,CGPoint\u306e\u521d\u671f\u5316\u65b9\u6cd5\u306e\u5909\u66f4(CGRectMake,CGPointMake\u306e\u5ec3\u6b62) Reference UIToolBar Class https://developer.apple.com/reference/uikit/uitoolbar","title":"UIToolBar\u306e\u8868\u793a"},{"location":"1.uikit/027_uitoolbar/#uitoolbar","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 // // ViewController.swift // UIKit027_4.0 // // Created by KimikoWatanabe on 2016/08/13. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UIToolbarDelegate { private var myToolbar : UIToolbar ! override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u3092\u9752\u8272\u306b\u5909\u66f4\u3059\u308b. self . view . backgroundColor = UIColor . cyan // \u30c4\u30fc\u30eb\u30d0\u30fc\u306e\u30b5\u30a4\u30ba\u3092\u6c7a\u3081\u308b. myToolbar = UIToolbar ( frame : CGRect ( x : 0 , y : self . view . bounds . size . height - 44 , width : self . view . bounds . size . width , height : 40.0 )) // \u30c4\u30fc\u30eb\u30d0\u30fc\u306e\u4f4d\u7f6e\u3092\u6c7a\u3081\u308b. myToolbar . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : self . view . bounds . height - 20.0 ) // \u30c4\u30fc\u30eb\u30d0\u30fc\u306e\u8272\u3092\u6c7a\u3081\u308b. myToolbar . barStyle = . blackTranslucent myToolbar . tintColor = UIColor . white myToolbar . backgroundColor = UIColor . black // \u30dc\u30bf\u30f3\uff11\u3092\u751f\u6210\u3059\u308b. let myUIBarButtonGreen : UIBarButtonItem = UIBarButtonItem ( title : \"Green\" , style :. plain , target : self , action : #selector ( ViewController . onClickBarButton ( sender :))) myUIBarButtonGreen . tag = 1 // \u30dc\u30bf\u30f3\uff12\u3092\u751f\u6210\u3059\u308b. let myUIBarButtonBlue : UIBarButtonItem = UIBarButtonItem ( title : \"Blue\" , style :. plain , target : self , action : #selector ( ViewController . onClickBarButton ( sender :))) myUIBarButtonBlue . tag = 2 // \u30dc\u30bf\u30f33\u3092\u751f\u6210\u3059\u308b. let myUIBarButtonRed : UIBarButtonItem = UIBarButtonItem ( title : \"Red\" , style :. plain , target : self , action : #selector ( ViewController . onClickBarButton ( sender :))) myUIBarButtonRed . tag = 3 // \u30dc\u30bf\u30f3\u3092\u30c4\u30fc\u30eb\u30d0\u30fc\u306b\u5165\u308c\u308b. myToolbar . items = [ myUIBarButtonGreen , myUIBarButtonBlue , myUIBarButtonRed ] // \u30c4\u30fc\u30eb\u30d0\u30fc\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myToolbar ) } /* UIBarButtonItem\u304c\u62bc\u3055\u308c\u305f\u969b\u306b\u547c\u3070\u308c\u308b. */ @objc internal func onClickBarButton ( sender : UIBarButtonItem ) { switch sender . tag { case 1 : self . view . backgroundColor = UIColor . green case 2 : self . view . backgroundColor = UIColor . blue case 3 : self . view . backgroundColor = UIColor . red default : print ( \"ERROR!!\" ) } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 // // ViewController.swift // UIKit027_3.0 // // Created by KimikoWatanabe on 2016/08/13. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UIToolbarDelegate { private var myToolbar : UIToolbar ! override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u3092\u9752\u8272\u306b\u5909\u66f4\u3059\u308b. self . view . backgroundColor = UIColor . cyan // \u30c4\u30fc\u30eb\u30d0\u30fc\u306e\u30b5\u30a4\u30ba\u3092\u6c7a\u3081\u308b. myToolbar = UIToolbar ( frame : CGRect ( x : 0 , y : self . view . bounds . size . height - 44 , width : self . view . bounds . size . width , height : 40.0 )) // \u30c4\u30fc\u30eb\u30d0\u30fc\u306e\u4f4d\u7f6e\u3092\u6c7a\u3081\u308b. myToolbar . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : self . view . bounds . height - 20.0 ) // \u30c4\u30fc\u30eb\u30d0\u30fc\u306e\u8272\u3092\u6c7a\u3081\u308b. myToolbar . barStyle = . blackTranslucent myToolbar . tintColor = UIColor . white myToolbar . backgroundColor = UIColor . black // \u30dc\u30bf\u30f3\uff11\u3092\u751f\u6210\u3059\u308b. let myUIBarButtonGreen : UIBarButtonItem = UIBarButtonItem ( title : \"Green\" , style :. plain , target : self , action : #selector ( ViewController . onClickBarButton ( sender :))) myUIBarButtonGreen . tag = 1 // \u30dc\u30bf\u30f3\uff12\u3092\u751f\u6210\u3059\u308b. let myUIBarButtonBlue : UIBarButtonItem = UIBarButtonItem ( title : \"Blue\" , style :. plain , target : self , action : #selector ( ViewController . onClickBarButton ( sender :))) myUIBarButtonBlue . tag = 2 // \u30dc\u30bf\u30f33\u3092\u751f\u6210\u3059\u308b. let myUIBarButtonRed : UIBarButtonItem = UIBarButtonItem ( title : \"Red\" , style :. plain , target : self , action : #selector ( ViewController . onClickBarButton ( sender :))) myUIBarButtonRed . tag = 3 // \u30dc\u30bf\u30f3\u3092\u30c4\u30fc\u30eb\u30d0\u30fc\u306b\u5165\u308c\u308b. myToolbar . items = [ myUIBarButtonGreen , myUIBarButtonBlue , myUIBarButtonRed ] // \u30c4\u30fc\u30eb\u30d0\u30fc\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myToolbar ) } /* UIBarButtonItem\u304c\u62bc\u3055\u308c\u305f\u969b\u306b\u547c\u3070\u308c\u308b. */ internal func onClickBarButton ( sender : UIBarButtonItem ) { switch sender . tag { case 1 : self . view . backgroundColor = UIColor . green case 2 : self . view . backgroundColor = UIColor . blue case 3 : self . view . backgroundColor = UIColor . red default : print ( \"ERROR!!\" ) } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 // // ViewController.swift // UIKit027_2.3 // // Created by KimikoWatanabe on 2016/08/16. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UIToolbarDelegate { private var myToolbar : UIToolbar ! override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u3092\u9752\u8272\u306b\u5909\u66f4\u3059\u308b. self . view . backgroundColor = UIColor . cyanColor () // \u30c4\u30fc\u30eb\u30d0\u30fc\u306e\u30b5\u30a4\u30ba\u3092\u6c7a\u3081\u308b. myToolbar = UIToolbar ( frame : CGRectMake ( 0 , self . view . bounds . size . height - 44 , self . view . bounds . size . width , 40.0 )) // \u30c4\u30fc\u30eb\u30d0\u30fc\u306e\u4f4d\u7f6e\u3092\u6c7a\u3081\u308b. myToolbar . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : self . view . bounds . height - 20.0 ) // \u30c4\u30fc\u30eb\u30d0\u30fc\u306e\u8272\u3092\u6c7a\u3081\u308b. myToolbar . barStyle = . BlackTranslucent myToolbar . tintColor = UIColor . whiteColor () myToolbar . backgroundColor = UIColor . blackColor () // \u30dc\u30bf\u30f3\uff11\u3092\u751f\u6210\u3059\u308b. let myUIBarButtonGreen : UIBarButtonItem = UIBarButtonItem ( title : \"Green\" , style :. Plain , target : self , action : #selector ( ViewController . onClickBarButton ( _ :))) myUIBarButtonGreen . tag = 1 // \u30dc\u30bf\u30f3\uff12\u3092\u751f\u6210\u3059\u308b. let myUIBarButtonBlue : UIBarButtonItem = UIBarButtonItem ( title : \"Blue\" , style :. Plain , target : self , action : #selector ( ViewController . onClickBarButton ( _ :))) myUIBarButtonBlue . tag = 2 // \u30dc\u30bf\u30f33\u3092\u751f\u6210\u3059\u308b. let myUIBarButtonRed : UIBarButtonItem = UIBarButtonItem ( title : \"Red\" , style :. Plain , target : self , action : #selector ( ViewController . onClickBarButton ( _ :))) myUIBarButtonRed . tag = 3 // \u30dc\u30bf\u30f3\u3092\u30c4\u30fc\u30eb\u30d0\u30fc\u306b\u5165\u308c\u308b. myToolbar . items = [ myUIBarButtonGreen , myUIBarButtonBlue , myUIBarButtonRed ] // \u30c4\u30fc\u30eb\u30d0\u30fc\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myToolbar ) } /* UIBarButtonItem\u304c\u62bc\u3055\u308c\u305f\u969b\u306b\u547c\u3070\u308c\u308b. */ internal func onClickBarButton ( sender : UIBarButtonItem ) { switch sender . tag { case 1 : self . view . backgroundColor = UIColor . greenColor () case 2 : self . view . backgroundColor = UIColor . blueColor () case 3 : self . view . backgroundColor = UIColor . redColor () default : print ( \"ERROR!!\" ) } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } }","title":"UIToolBar\u306e\u8868\u793a"},{"location":"1.uikit/027_uitoolbar/#3040","text":"internal func onClickBarButton(sender: UIBarButtonItem) \u306b @objc \u3092\u8ffd\u52a0","title":"3.0\u30684.0\u306e\u5dee\u5206"},{"location":"1.uikit/027_uitoolbar/#2330","text":"UIColor\u306e\u53c2\u7167\u65b9\u6cd5\u304c\u5909\u66f4(UIColor.grayColor()->UIColor.gray) CGRect,CGPoint\u306e\u521d\u671f\u5316\u65b9\u6cd5\u306e\u5909\u66f4(CGRectMake,CGPointMake\u306e\u5ec3\u6b62)","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"1.uikit/027_uitoolbar/#reference","text":"UIToolBar Class https://developer.apple.com/reference/uikit/uitoolbar","title":"Reference"},{"location":"1.uikit/028_uiprogressview/","text":"UIProgressView\u3067\u9032\u6357\u306e\u5177\u5408\u306e\u78ba\u8a8d Swift 4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 // // ViewController.swift // UIKit028_3.0 // // Created by KimikoWatanabe on 2016/08/13. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u8272\u3092\u9ed2\u8272\u306b\u3059\u308b. self . view . backgroundColor = UIColor . black // ProgressView\u3092\u4f5c\u6210\u3059\u308b. let myProgressView : UIProgressView = UIProgressView ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 10 )) myProgressView . progressTintColor = UIColor . green myProgressView . trackTintColor = UIColor . white // \u5ea7\u6a19\u3092\u8a2d\u5b9a\u3059\u308b. myProgressView . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : 200 ) // \u30d0\u30fc\u306e\u9ad8\u3055\u3092\u8a2d\u5b9a\u3059\u308b(\u6a2a\u306b1.0\u500d,\u7e26\u306b2.0\u500d). myProgressView . transform = CGAffineTransform ( scaleX : 1.0 , y : 2.0 ) // \u9032\u6357\u5177\u5408\u3092\u8a2d\u5b9a\u3059\u308b(0.0~1.0). myProgressView . progress = 0.3 // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u4ed8\u3051\u308b. myProgressView . setProgress ( 1.0 , animated : true ) // View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myProgressView ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 // // ViewController.swift // UIKit028_2.3 // // Created by KimikoWatanabe on 2016/08/16. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u8272\u3092\u9ed2\u8272\u306b\u3059\u308b. self . view . backgroundColor = UIColor . blackColor () // ProgressView\u3092\u4f5c\u6210\u3059\u308b. let myProgressView : UIProgressView = UIProgressView ( frame : CGRectMake ( 0 , 0 , 200 , 10 )) myProgressView . progressTintColor = UIColor . greenColor () myProgressView . trackTintColor = UIColor . whiteColor () // \u5ea7\u6a19\u3092\u8a2d\u5b9a\u3059\u308b. myProgressView . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : 200 ) // \u30d0\u30fc\u306e\u9ad8\u3055\u3092\u8a2d\u5b9a\u3059\u308b(\u6a2a\u306b1.0\u500d,\u7e26\u306b2.0\u500d). myProgressView . transform = CGAffineTransformMakeScale ( 1.0 , 2.0 ) // \u9032\u6357\u5177\u5408\u3092\u8a2d\u5b9a\u3059\u308b(0.0~1.0). myProgressView . progress = 0.3 // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u4ed8\u3051\u308b. myProgressView . setProgress ( 1.0 , animated : true ) // View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myProgressView ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } 2.3\u30683.0\u306e\u5dee\u5206 CGPoint\u306e\u521d\u671f\u5316\u306e\u5909\u66f4(CGPointMake\u306e\u5ec3\u6b62) CGAffineTransform\u306e\u521d\u671f\u5316\u65b9\u6cd5\u306e\u5909\u66f4(CGAffineTransformMakeScale\u306e\u5ec3\u6b62) Reference UIProgressView https://developer.apple.com/reference/uikit/uiprogressview","title":"UIProgressView\u3067\u9032\u6357\u306e\u5177\u5408\u306e\u78ba\u8a8d"},{"location":"1.uikit/028_uiprogressview/#uiprogressview","text":"Swift 4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 // // ViewController.swift // UIKit028_3.0 // // Created by KimikoWatanabe on 2016/08/13. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u8272\u3092\u9ed2\u8272\u306b\u3059\u308b. self . view . backgroundColor = UIColor . black // ProgressView\u3092\u4f5c\u6210\u3059\u308b. let myProgressView : UIProgressView = UIProgressView ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 10 )) myProgressView . progressTintColor = UIColor . green myProgressView . trackTintColor = UIColor . white // \u5ea7\u6a19\u3092\u8a2d\u5b9a\u3059\u308b. myProgressView . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : 200 ) // \u30d0\u30fc\u306e\u9ad8\u3055\u3092\u8a2d\u5b9a\u3059\u308b(\u6a2a\u306b1.0\u500d,\u7e26\u306b2.0\u500d). myProgressView . transform = CGAffineTransform ( scaleX : 1.0 , y : 2.0 ) // \u9032\u6357\u5177\u5408\u3092\u8a2d\u5b9a\u3059\u308b(0.0~1.0). myProgressView . progress = 0.3 // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u4ed8\u3051\u308b. myProgressView . setProgress ( 1.0 , animated : true ) // View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myProgressView ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 // // ViewController.swift // UIKit028_2.3 // // Created by KimikoWatanabe on 2016/08/16. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u8272\u3092\u9ed2\u8272\u306b\u3059\u308b. self . view . backgroundColor = UIColor . blackColor () // ProgressView\u3092\u4f5c\u6210\u3059\u308b. let myProgressView : UIProgressView = UIProgressView ( frame : CGRectMake ( 0 , 0 , 200 , 10 )) myProgressView . progressTintColor = UIColor . greenColor () myProgressView . trackTintColor = UIColor . whiteColor () // \u5ea7\u6a19\u3092\u8a2d\u5b9a\u3059\u308b. myProgressView . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : 200 ) // \u30d0\u30fc\u306e\u9ad8\u3055\u3092\u8a2d\u5b9a\u3059\u308b(\u6a2a\u306b1.0\u500d,\u7e26\u306b2.0\u500d). myProgressView . transform = CGAffineTransformMakeScale ( 1.0 , 2.0 ) // \u9032\u6357\u5177\u5408\u3092\u8a2d\u5b9a\u3059\u308b(0.0~1.0). myProgressView . progress = 0.3 // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u4ed8\u3051\u308b. myProgressView . setProgress ( 1.0 , animated : true ) // View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myProgressView ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } }","title":"UIProgressView\u3067\u9032\u6357\u306e\u5177\u5408\u306e\u78ba\u8a8d"},{"location":"1.uikit/028_uiprogressview/#2330","text":"CGPoint\u306e\u521d\u671f\u5316\u306e\u5909\u66f4(CGPointMake\u306e\u5ec3\u6b62) CGAffineTransform\u306e\u521d\u671f\u5316\u65b9\u6cd5\u306e\u5909\u66f4(CGAffineTransformMakeScale\u306e\u5ec3\u6b62)","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"1.uikit/028_uiprogressview/#reference","text":"UIProgressView https://developer.apple.com/reference/uikit/uiprogressview","title":"Reference"},{"location":"1.uikit/029_uisegmentedcontrol/","text":"UISegmentedControl\u306e\u8868\u793a Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 // // ViewController.swift // UIKit029_4.0 // // Created by KimikoWatanabe on 2016/08/17. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { private let mySegLabel : UILabel = UILabel ( frame : CGRect ( x : 0 , y : 0 , width : 150 , height : 150 )) override func viewDidLoad () { super . viewDidLoad () // \u8868\u793a\u3059\u308b\u914d\u5217\u3092\u4f5c\u6210\u3059\u308b. let myArray : NSArray = [ \"Red\" , \"Blue\" , \"Green\" ] // SegmentedControl\u3092\u4f5c\u6210\u3059\u308b. let mySegcon : UISegmentedControl = UISegmentedControl ( items : myArray as [ AnyObject ]) mySegcon . center = CGPoint ( x : self . view . frame . width / 2 , y : 400 ) mySegcon . backgroundColor = UIColor . gray mySegcon . tintColor = UIColor . white // \u30a4\u30d9\u30f3\u30c8\u3092\u8ffd\u52a0\u3059\u308b. mySegcon . addTarget ( self , action : #selector ( ViewController . segconChanged ( segcon :)), for : UIControl . Event . valueChanged ) // View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( mySegcon ) // Label\u3092\u4f5c\u6210\u3059\u308b. mySegLabel . backgroundColor = UIColor . white mySegLabel . layer . masksToBounds = true mySegLabel . layer . cornerRadius = 75.0 mySegLabel . textColor = UIColor . white mySegLabel . shadowColor = UIColor . gray mySegLabel . font = UIFont . systemFont ( ofSize : 30.0 ) mySegLabel . textAlignment = NSTextAlignment . center mySegLabel . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 200 ) // View\u306e\u80cc\u666f\u8272\u3092Cyan\u306b\u3059\u308b. self . view . backgroundColor = UIColor . cyan // View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( mySegLabel ); } /* SwgmentedControl\u306e\u5024\u304c\u5909\u308f\u3063\u305f\u3068\u304d\u306b\u547c\u3073\u51fa\u3055\u308c\u308b. */ @objc internal func segconChanged ( segcon : UISegmentedControl ){ switch segcon . selectedSegmentIndex { case 0 : mySegLabel . backgroundColor = UIColor . red case 1 : mySegLabel . backgroundColor = UIColor . blue case 2 : mySegLabel . backgroundColor = UIColor . green default : print ( \"Error\" ) } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 // // ViewController.swift // UIKit029_3.0 // // Created by KimikoWatanabe on 2016/08/17. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { private let mySegLabel : UILabel = UILabel ( frame : CGRect ( x : 0 , y : 0 , width : 150 , height : 150 )) override func viewDidLoad () { super . viewDidLoad () // \u8868\u793a\u3059\u308b\u914d\u5217\u3092\u4f5c\u6210\u3059\u308b. let myArray : NSArray = [ \"Red\" , \"Blue\" , \"Green\" ] // SegmentedControl\u3092\u4f5c\u6210\u3059\u308b. let mySegcon : UISegmentedControl = UISegmentedControl ( items : myArray as [ AnyObject ]) mySegcon . center = CGPoint ( x : self . view . frame . width / 2 , y : 400 ) mySegcon . backgroundColor = UIColor . gray mySegcon . tintColor = UIColor . white // \u30a4\u30d9\u30f3\u30c8\u3092\u8ffd\u52a0\u3059\u308b. mySegcon . addTarget ( self , action : #selector ( ViewController . segconChanged ( segcon :)), for : UIControlEvents . valueChanged ) // View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( mySegcon ) // Label\u3092\u4f5c\u6210\u3059\u308b. mySegLabel . backgroundColor = UIColor . white mySegLabel . layer . masksToBounds = true mySegLabel . layer . cornerRadius = 75.0 mySegLabel . textColor = UIColor . white mySegLabel . shadowColor = UIColor . gray mySegLabel . font = UIFont . systemFont ( ofSize : 30.0 ) mySegLabel . textAlignment = NSTextAlignment . center mySegLabel . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 200 ) // View\u306e\u80cc\u666f\u8272\u3092Cyan\u306b\u3059\u308b. self . view . backgroundColor = UIColor . cyan // View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( mySegLabel ); } /* SwgmentedControl\u306e\u5024\u304c\u5909\u308f\u3063\u305f\u3068\u304d\u306b\u547c\u3073\u51fa\u3055\u308c\u308b. */ internal func segconChanged ( segcon : UISegmentedControl ){ switch segcon . selectedSegmentIndex { case 0 : mySegLabel . backgroundColor = UIColor . red case 1 : mySegLabel . backgroundColor = UIColor . blue case 2 : mySegLabel . backgroundColor = UIColor . green default : print ( \"Error\" ) } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 // // ViewController.swift // UIKit029_2.3 // // Created by KimikoWatanabe on 2016/08/17. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { private let mySegLabel : UILabel = UILabel ( frame : CGRectMake ( 0 , 0 , 150 , 150 )) override func viewDidLoad () { super . viewDidLoad () // \u8868\u793a\u3059\u308b\u914d\u5217\u3092\u4f5c\u6210\u3059\u308b. let myArray : NSArray = [ \"Red\" , \"Blue\" , \"Green\" ] // SegmentedControl\u3092\u4f5c\u6210\u3059\u308b. let mySegcon : UISegmentedControl = UISegmentedControl ( items : myArray as [ AnyObject ]) mySegcon . center = CGPoint ( x : self . view . frame . width / 2 , y : 400 ) mySegcon . backgroundColor = UIColor . grayColor () mySegcon . tintColor = UIColor . whiteColor () // \u30a4\u30d9\u30f3\u30c8\u3092\u8ffd\u52a0\u3059\u308b. mySegcon . addTarget ( self , action : #selector ( ViewController . segconChanged ( _ :)), forControlEvents : UIControlEvents . ValueChanged ) // View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( mySegcon ) // Label\u3092\u4f5c\u6210\u3059\u308b. mySegLabel . backgroundColor = UIColor . whiteColor () mySegLabel . layer . masksToBounds = true mySegLabel . layer . cornerRadius = 75.0 mySegLabel . textColor = UIColor . whiteColor () mySegLabel . shadowColor = UIColor . grayColor () mySegLabel . font = UIFont . systemFontOfSize ( CGFloat ( 30 )) mySegLabel . textAlignment = NSTextAlignment . Center mySegLabel . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 200 ) // View\u306e\u80cc\u666f\u8272\u3092Cyan\u306b\u3059\u308b. self . view . backgroundColor = UIColor . cyanColor () // View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( mySegLabel ); } /* SwgmentedControl\u306e\u5024\u304c\u5909\u308f\u3063\u305f\u3068\u304d\u306b\u547c\u3073\u51fa\u3055\u308c\u308b. */ internal func segconChanged ( segcon : UISegmentedControl ){ switch segcon . selectedSegmentIndex { case 0 : mySegLabel . backgroundColor = UIColor . redColor () case 1 : mySegLabel . backgroundColor = UIColor . blueColor () case 2 : mySegLabel . backgroundColor = UIColor . greenColor () default : print ( \"Error\" ) } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } 3.0\u30684.0\u306e\u5dee\u5206 UIControlEvents.valueChanged \u304c\u3001 UIControl.Event.valueChanged \u306b\u5909\u66f4 internal func segconChanged(segcon: UISegmentedControl) \u306b @objc \u3092\u8ffd\u52a0 2.3\u30683.0\u306e\u5dee\u5206 UIColor\u306e\u53c2\u7167\u65b9\u6cd5\u304c\u5909\u66f4(UIColor.grayColor()->UIColor.gray) CGPoint\u306e\u521d\u671f\u5316\u65b9\u6cd5\u306e\u5909\u66f4(CGPointMake\u306e\u5ec3\u6b62) Reference UISegmentedControl Class https://developer.apple.com/reference/uikit/uisegmentedcontrol","title":"UISegmentedControl\u306e\u8868\u793a"},{"location":"1.uikit/029_uisegmentedcontrol/#uisegmentedcontrol","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 // // ViewController.swift // UIKit029_4.0 // // Created by KimikoWatanabe on 2016/08/17. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { private let mySegLabel : UILabel = UILabel ( frame : CGRect ( x : 0 , y : 0 , width : 150 , height : 150 )) override func viewDidLoad () { super . viewDidLoad () // \u8868\u793a\u3059\u308b\u914d\u5217\u3092\u4f5c\u6210\u3059\u308b. let myArray : NSArray = [ \"Red\" , \"Blue\" , \"Green\" ] // SegmentedControl\u3092\u4f5c\u6210\u3059\u308b. let mySegcon : UISegmentedControl = UISegmentedControl ( items : myArray as [ AnyObject ]) mySegcon . center = CGPoint ( x : self . view . frame . width / 2 , y : 400 ) mySegcon . backgroundColor = UIColor . gray mySegcon . tintColor = UIColor . white // \u30a4\u30d9\u30f3\u30c8\u3092\u8ffd\u52a0\u3059\u308b. mySegcon . addTarget ( self , action : #selector ( ViewController . segconChanged ( segcon :)), for : UIControl . Event . valueChanged ) // View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( mySegcon ) // Label\u3092\u4f5c\u6210\u3059\u308b. mySegLabel . backgroundColor = UIColor . white mySegLabel . layer . masksToBounds = true mySegLabel . layer . cornerRadius = 75.0 mySegLabel . textColor = UIColor . white mySegLabel . shadowColor = UIColor . gray mySegLabel . font = UIFont . systemFont ( ofSize : 30.0 ) mySegLabel . textAlignment = NSTextAlignment . center mySegLabel . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 200 ) // View\u306e\u80cc\u666f\u8272\u3092Cyan\u306b\u3059\u308b. self . view . backgroundColor = UIColor . cyan // View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( mySegLabel ); } /* SwgmentedControl\u306e\u5024\u304c\u5909\u308f\u3063\u305f\u3068\u304d\u306b\u547c\u3073\u51fa\u3055\u308c\u308b. */ @objc internal func segconChanged ( segcon : UISegmentedControl ){ switch segcon . selectedSegmentIndex { case 0 : mySegLabel . backgroundColor = UIColor . red case 1 : mySegLabel . backgroundColor = UIColor . blue case 2 : mySegLabel . backgroundColor = UIColor . green default : print ( \"Error\" ) } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 // // ViewController.swift // UIKit029_3.0 // // Created by KimikoWatanabe on 2016/08/17. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { private let mySegLabel : UILabel = UILabel ( frame : CGRect ( x : 0 , y : 0 , width : 150 , height : 150 )) override func viewDidLoad () { super . viewDidLoad () // \u8868\u793a\u3059\u308b\u914d\u5217\u3092\u4f5c\u6210\u3059\u308b. let myArray : NSArray = [ \"Red\" , \"Blue\" , \"Green\" ] // SegmentedControl\u3092\u4f5c\u6210\u3059\u308b. let mySegcon : UISegmentedControl = UISegmentedControl ( items : myArray as [ AnyObject ]) mySegcon . center = CGPoint ( x : self . view . frame . width / 2 , y : 400 ) mySegcon . backgroundColor = UIColor . gray mySegcon . tintColor = UIColor . white // \u30a4\u30d9\u30f3\u30c8\u3092\u8ffd\u52a0\u3059\u308b. mySegcon . addTarget ( self , action : #selector ( ViewController . segconChanged ( segcon :)), for : UIControlEvents . valueChanged ) // View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( mySegcon ) // Label\u3092\u4f5c\u6210\u3059\u308b. mySegLabel . backgroundColor = UIColor . white mySegLabel . layer . masksToBounds = true mySegLabel . layer . cornerRadius = 75.0 mySegLabel . textColor = UIColor . white mySegLabel . shadowColor = UIColor . gray mySegLabel . font = UIFont . systemFont ( ofSize : 30.0 ) mySegLabel . textAlignment = NSTextAlignment . center mySegLabel . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 200 ) // View\u306e\u80cc\u666f\u8272\u3092Cyan\u306b\u3059\u308b. self . view . backgroundColor = UIColor . cyan // View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( mySegLabel ); } /* SwgmentedControl\u306e\u5024\u304c\u5909\u308f\u3063\u305f\u3068\u304d\u306b\u547c\u3073\u51fa\u3055\u308c\u308b. */ internal func segconChanged ( segcon : UISegmentedControl ){ switch segcon . selectedSegmentIndex { case 0 : mySegLabel . backgroundColor = UIColor . red case 1 : mySegLabel . backgroundColor = UIColor . blue case 2 : mySegLabel . backgroundColor = UIColor . green default : print ( \"Error\" ) } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 // // ViewController.swift // UIKit029_2.3 // // Created by KimikoWatanabe on 2016/08/17. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { private let mySegLabel : UILabel = UILabel ( frame : CGRectMake ( 0 , 0 , 150 , 150 )) override func viewDidLoad () { super . viewDidLoad () // \u8868\u793a\u3059\u308b\u914d\u5217\u3092\u4f5c\u6210\u3059\u308b. let myArray : NSArray = [ \"Red\" , \"Blue\" , \"Green\" ] // SegmentedControl\u3092\u4f5c\u6210\u3059\u308b. let mySegcon : UISegmentedControl = UISegmentedControl ( items : myArray as [ AnyObject ]) mySegcon . center = CGPoint ( x : self . view . frame . width / 2 , y : 400 ) mySegcon . backgroundColor = UIColor . grayColor () mySegcon . tintColor = UIColor . whiteColor () // \u30a4\u30d9\u30f3\u30c8\u3092\u8ffd\u52a0\u3059\u308b. mySegcon . addTarget ( self , action : #selector ( ViewController . segconChanged ( _ :)), forControlEvents : UIControlEvents . ValueChanged ) // View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( mySegcon ) // Label\u3092\u4f5c\u6210\u3059\u308b. mySegLabel . backgroundColor = UIColor . whiteColor () mySegLabel . layer . masksToBounds = true mySegLabel . layer . cornerRadius = 75.0 mySegLabel . textColor = UIColor . whiteColor () mySegLabel . shadowColor = UIColor . grayColor () mySegLabel . font = UIFont . systemFontOfSize ( CGFloat ( 30 )) mySegLabel . textAlignment = NSTextAlignment . Center mySegLabel . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 200 ) // View\u306e\u80cc\u666f\u8272\u3092Cyan\u306b\u3059\u308b. self . view . backgroundColor = UIColor . cyanColor () // View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( mySegLabel ); } /* SwgmentedControl\u306e\u5024\u304c\u5909\u308f\u3063\u305f\u3068\u304d\u306b\u547c\u3073\u51fa\u3055\u308c\u308b. */ internal func segconChanged ( segcon : UISegmentedControl ){ switch segcon . selectedSegmentIndex { case 0 : mySegLabel . backgroundColor = UIColor . redColor () case 1 : mySegLabel . backgroundColor = UIColor . blueColor () case 2 : mySegLabel . backgroundColor = UIColor . greenColor () default : print ( \"Error\" ) } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } }","title":"UISegmentedControl\u306e\u8868\u793a"},{"location":"1.uikit/029_uisegmentedcontrol/#3040","text":"UIControlEvents.valueChanged \u304c\u3001 UIControl.Event.valueChanged \u306b\u5909\u66f4 internal func segconChanged(segcon: UISegmentedControl) \u306b @objc \u3092\u8ffd\u52a0","title":"3.0\u30684.0\u306e\u5dee\u5206"},{"location":"1.uikit/029_uisegmentedcontrol/#2330","text":"UIColor\u306e\u53c2\u7167\u65b9\u6cd5\u304c\u5909\u66f4(UIColor.grayColor()->UIColor.gray) CGPoint\u306e\u521d\u671f\u5316\u65b9\u6cd5\u306e\u5909\u66f4(CGPointMake\u306e\u5ec3\u6b62)","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"1.uikit/029_uisegmentedcontrol/#reference","text":"UISegmentedControl Class https://developer.apple.com/reference/uikit/uisegmentedcontrol","title":"Reference"},{"location":"1.uikit/030_uistepper/","text":"UIStepper\u306e\u8868\u793a Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 // // ViewController.swift // UIKit030_4.0 // // Created by KimikoWatanabe on 2016/08/17. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { private let myStepLabel : UILabel = UILabel ( frame : CGRect ( x : 0 , y : 0 , width : 150 , height : 150 )) override func viewDidLoad () { super . viewDidLoad () // Stepper\u306e\u4f5c\u6210\u3059\u308b. let myStepper : UIStepper = UIStepper () myStepper . center = CGPoint ( x : self . view . frame . width / 2 , y : 400 ) myStepper . backgroundColor = UIColor . gray myStepper . tintColor = UIColor . white myStepper . addTarget ( self , action : #selector ( ViewController . stepperOneChanged ( stepper :)), for : UIControl . Event . valueChanged ) // \u6700\u5c0f\u5024, \u6700\u5927\u5024, \u898f\u5b9a\u5024\u306e\u8a2d\u5b9a\u3092\u3059\u308b. myStepper . minimumValue = 0 myStepper . maximumValue = 100 myStepper . value = 50 // \u30dc\u30bf\u30f3\u3092\u62bc\u3057\u305f\u969b\u306b\u52d5\u304f\u5024\u306e.\u3092\u8a2d\u5b9a\u3059\u308b. myStepper . stepValue = 10 // View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myStepper ) // Label\u3092\u4f5c\u6210\u3059\u308b. myStepLabel . backgroundColor = UIColor . blue myStepLabel . layer . masksToBounds = true myStepLabel . layer . cornerRadius = 75.0 myStepLabel . textColor = UIColor . white myStepLabel . shadowColor = UIColor . gray myStepLabel . font = UIFont . systemFont ( ofSize : 30.0 ) myStepLabel . textAlignment = NSTextAlignment . center myStepLabel . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 200 ) myStepLabel . text = \" \\( myStepper . value ) \" // View\u306e\u80cc\u666f\u8272\u3092\u9752\u306b\u3059\u308b. self . view . backgroundColor = UIColor . cyan // view\u306bLabel\u3092\u8ffd\u52a0. self . view . addSubview ( myStepLabel ) } /* Stepper\u306e\u5024\u304c\u5909\u308f\u3063\u305f\u3068\u304d\u306b\u547c\u3073\u51fa\u3055\u308c\u308b. */ @objc internal func stepperOneChanged ( stepper : UIStepper ){ myStepLabel . text = \" \\( stepper . value ) \" } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 // // ViewController.swift // UIKit030_3.0 // // Created by KimikoWatanabe on 2016/08/17. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { private let myStepLabel : UILabel = UILabel ( frame : CGRect ( x : 0 , y : 0 , width : 150 , height : 150 )) override func viewDidLoad () { super . viewDidLoad () // Stepper\u306e\u4f5c\u6210\u3059\u308b. let myStepper : UIStepper = UIStepper () myStepper . center = CGPoint ( x : self . view . frame . width / 2 , y : 400 ) myStepper . backgroundColor = UIColor . gray myStepper . tintColor = UIColor . white myStepper . addTarget ( self , action : #selector ( ViewController . stepperOneChanged ( stepper :)), for : UIControlEvents . valueChanged ) // \u6700\u5c0f\u5024, \u6700\u5927\u5024, \u898f\u5b9a\u5024\u306e\u8a2d\u5b9a\u3092\u3059\u308b. myStepper . minimumValue = 0 myStepper . maximumValue = 100 myStepper . value = 50 // \u30dc\u30bf\u30f3\u3092\u62bc\u3057\u305f\u969b\u306b\u52d5\u304f\u5024\u306e.\u3092\u8a2d\u5b9a\u3059\u308b. myStepper . stepValue = 10 // View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myStepper ) // Label\u3092\u4f5c\u6210\u3059\u308b. myStepLabel . backgroundColor = UIColor . blue myStepLabel . layer . masksToBounds = true myStepLabel . layer . cornerRadius = 75.0 myStepLabel . textColor = UIColor . white myStepLabel . shadowColor = UIColor . gray myStepLabel . font = UIFont . systemFont ( ofSize : 30.0 ) myStepLabel . textAlignment = NSTextAlignment . center myStepLabel . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 200 ) myStepLabel . text = \" \\( myStepper . value ) \" // View\u306e\u80cc\u666f\u8272\u3092\u9752\u306b\u3059\u308b. self . view . backgroundColor = UIColor . cyan // view\u306bLabel\u3092\u8ffd\u52a0. self . view . addSubview ( myStepLabel ) } /* Stepper\u306e\u5024\u304c\u5909\u308f\u3063\u305f\u3068\u304d\u306b\u547c\u3073\u51fa\u3055\u308c\u308b. */ internal func stepperOneChanged ( stepper : UIStepper ){ myStepLabel . text = \" \\( stepper . value ) \" } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 // // ViewController.swift // UIKit030_2.3 // // Created by KimikoWatanabe on 2016/08/17. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { private let myStepLabel : UILabel = UILabel ( frame : CGRectMake ( 0 , 0 , 150 , 150 )) override func viewDidLoad () { super . viewDidLoad () // Stepper\u306e\u4f5c\u6210\u3059\u308b. let myStepper : UIStepper = UIStepper () myStepper . center = CGPointMake ( self . view . frame . width / 2 , 400 ) myStepper . backgroundColor = UIColor . grayColor () myStepper . tintColor = UIColor . whiteColor () myStepper . addTarget ( self , action : #selector ( ViewController . stepperOneChanged ( _ :)), forControlEvents : UIControlEvents . ValueChanged ) // \u6700\u5c0f\u5024, \u6700\u5927\u5024, \u898f\u5b9a\u5024\u306e\u8a2d\u5b9a\u3092\u3059\u308b. myStepper . minimumValue = 0 myStepper . maximumValue = 100 myStepper . value = 50 // \u30dc\u30bf\u30f3\u3092\u62bc\u3057\u305f\u969b\u306b\u52d5\u304f\u5024\u306e.\u3092\u8a2d\u5b9a\u3059\u308b. myStepper . stepValue = 10 // View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myStepper ) // Label\u3092\u4f5c\u6210\u3059\u308b. myStepLabel . backgroundColor = UIColor . blueColor () myStepLabel . layer . masksToBounds = true myStepLabel . layer . cornerRadius = 75.0 myStepLabel . textColor = UIColor . whiteColor () myStepLabel . shadowColor = UIColor . grayColor () myStepLabel . font = UIFont . systemFontOfSize ( CGFloat ( 30 )) myStepLabel . textAlignment = NSTextAlignment . Center myStepLabel . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 200 ) myStepLabel . text = \" \\( myStepper . value ) \" // View\u306e\u80cc\u666f\u8272\u3092\u9752\u306b\u3059\u308b. self . view . backgroundColor = UIColor . cyanColor () // view\u306bLabel\u3092\u8ffd\u52a0. self . view . addSubview ( myStepLabel ) } /* Stepper\u306e\u5024\u304c\u5909\u308f\u3063\u305f\u3068\u304d\u306b\u547c\u3073\u51fa\u3055\u308c\u308b. */ internal func stepperOneChanged ( stepper : UIStepper ){ myStepLabel . text = \" \\( stepper . value ) \" } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } 3.0\u30684.0\u306e\u5dee\u5206 UIControlEvents.valueChanged \u304c\u3001 UIControl.Event.valueChanged \u306b\u5909\u66f4 internal func stepperOneChanged(stepper: UIStepper) \u306b @objc \u3092\u8ffd\u52a0 2.3\u30683.0\u306e\u5dee\u5206 UIColor\u306e\u53c2\u7167\u65b9\u6cd5\u304c\u5909\u66f4(UIColor.grayColor()->UIColor.gray) CGRect,CGPoint\u306e\u521d\u671f\u5316\u65b9\u6cd5\u306e\u5909\u66f4(CGRectMake,CGPointMake\u306e\u5ec3\u6b62) Reference UIStepper Class https://developer.apple.com/reference/uikit/uistepper","title":"UIStepper\u306e\u8868\u793a"},{"location":"1.uikit/030_uistepper/#uistepper","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 // // ViewController.swift // UIKit030_4.0 // // Created by KimikoWatanabe on 2016/08/17. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { private let myStepLabel : UILabel = UILabel ( frame : CGRect ( x : 0 , y : 0 , width : 150 , height : 150 )) override func viewDidLoad () { super . viewDidLoad () // Stepper\u306e\u4f5c\u6210\u3059\u308b. let myStepper : UIStepper = UIStepper () myStepper . center = CGPoint ( x : self . view . frame . width / 2 , y : 400 ) myStepper . backgroundColor = UIColor . gray myStepper . tintColor = UIColor . white myStepper . addTarget ( self , action : #selector ( ViewController . stepperOneChanged ( stepper :)), for : UIControl . Event . valueChanged ) // \u6700\u5c0f\u5024, \u6700\u5927\u5024, \u898f\u5b9a\u5024\u306e\u8a2d\u5b9a\u3092\u3059\u308b. myStepper . minimumValue = 0 myStepper . maximumValue = 100 myStepper . value = 50 // \u30dc\u30bf\u30f3\u3092\u62bc\u3057\u305f\u969b\u306b\u52d5\u304f\u5024\u306e.\u3092\u8a2d\u5b9a\u3059\u308b. myStepper . stepValue = 10 // View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myStepper ) // Label\u3092\u4f5c\u6210\u3059\u308b. myStepLabel . backgroundColor = UIColor . blue myStepLabel . layer . masksToBounds = true myStepLabel . layer . cornerRadius = 75.0 myStepLabel . textColor = UIColor . white myStepLabel . shadowColor = UIColor . gray myStepLabel . font = UIFont . systemFont ( ofSize : 30.0 ) myStepLabel . textAlignment = NSTextAlignment . center myStepLabel . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 200 ) myStepLabel . text = \" \\( myStepper . value ) \" // View\u306e\u80cc\u666f\u8272\u3092\u9752\u306b\u3059\u308b. self . view . backgroundColor = UIColor . cyan // view\u306bLabel\u3092\u8ffd\u52a0. self . view . addSubview ( myStepLabel ) } /* Stepper\u306e\u5024\u304c\u5909\u308f\u3063\u305f\u3068\u304d\u306b\u547c\u3073\u51fa\u3055\u308c\u308b. */ @objc internal func stepperOneChanged ( stepper : UIStepper ){ myStepLabel . text = \" \\( stepper . value ) \" } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 // // ViewController.swift // UIKit030_3.0 // // Created by KimikoWatanabe on 2016/08/17. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { private let myStepLabel : UILabel = UILabel ( frame : CGRect ( x : 0 , y : 0 , width : 150 , height : 150 )) override func viewDidLoad () { super . viewDidLoad () // Stepper\u306e\u4f5c\u6210\u3059\u308b. let myStepper : UIStepper = UIStepper () myStepper . center = CGPoint ( x : self . view . frame . width / 2 , y : 400 ) myStepper . backgroundColor = UIColor . gray myStepper . tintColor = UIColor . white myStepper . addTarget ( self , action : #selector ( ViewController . stepperOneChanged ( stepper :)), for : UIControlEvents . valueChanged ) // \u6700\u5c0f\u5024, \u6700\u5927\u5024, \u898f\u5b9a\u5024\u306e\u8a2d\u5b9a\u3092\u3059\u308b. myStepper . minimumValue = 0 myStepper . maximumValue = 100 myStepper . value = 50 // \u30dc\u30bf\u30f3\u3092\u62bc\u3057\u305f\u969b\u306b\u52d5\u304f\u5024\u306e.\u3092\u8a2d\u5b9a\u3059\u308b. myStepper . stepValue = 10 // View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myStepper ) // Label\u3092\u4f5c\u6210\u3059\u308b. myStepLabel . backgroundColor = UIColor . blue myStepLabel . layer . masksToBounds = true myStepLabel . layer . cornerRadius = 75.0 myStepLabel . textColor = UIColor . white myStepLabel . shadowColor = UIColor . gray myStepLabel . font = UIFont . systemFont ( ofSize : 30.0 ) myStepLabel . textAlignment = NSTextAlignment . center myStepLabel . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 200 ) myStepLabel . text = \" \\( myStepper . value ) \" // View\u306e\u80cc\u666f\u8272\u3092\u9752\u306b\u3059\u308b. self . view . backgroundColor = UIColor . cyan // view\u306bLabel\u3092\u8ffd\u52a0. self . view . addSubview ( myStepLabel ) } /* Stepper\u306e\u5024\u304c\u5909\u308f\u3063\u305f\u3068\u304d\u306b\u547c\u3073\u51fa\u3055\u308c\u308b. */ internal func stepperOneChanged ( stepper : UIStepper ){ myStepLabel . text = \" \\( stepper . value ) \" } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 // // ViewController.swift // UIKit030_2.3 // // Created by KimikoWatanabe on 2016/08/17. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { private let myStepLabel : UILabel = UILabel ( frame : CGRectMake ( 0 , 0 , 150 , 150 )) override func viewDidLoad () { super . viewDidLoad () // Stepper\u306e\u4f5c\u6210\u3059\u308b. let myStepper : UIStepper = UIStepper () myStepper . center = CGPointMake ( self . view . frame . width / 2 , 400 ) myStepper . backgroundColor = UIColor . grayColor () myStepper . tintColor = UIColor . whiteColor () myStepper . addTarget ( self , action : #selector ( ViewController . stepperOneChanged ( _ :)), forControlEvents : UIControlEvents . ValueChanged ) // \u6700\u5c0f\u5024, \u6700\u5927\u5024, \u898f\u5b9a\u5024\u306e\u8a2d\u5b9a\u3092\u3059\u308b. myStepper . minimumValue = 0 myStepper . maximumValue = 100 myStepper . value = 50 // \u30dc\u30bf\u30f3\u3092\u62bc\u3057\u305f\u969b\u306b\u52d5\u304f\u5024\u306e.\u3092\u8a2d\u5b9a\u3059\u308b. myStepper . stepValue = 10 // View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myStepper ) // Label\u3092\u4f5c\u6210\u3059\u308b. myStepLabel . backgroundColor = UIColor . blueColor () myStepLabel . layer . masksToBounds = true myStepLabel . layer . cornerRadius = 75.0 myStepLabel . textColor = UIColor . whiteColor () myStepLabel . shadowColor = UIColor . grayColor () myStepLabel . font = UIFont . systemFontOfSize ( CGFloat ( 30 )) myStepLabel . textAlignment = NSTextAlignment . Center myStepLabel . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 200 ) myStepLabel . text = \" \\( myStepper . value ) \" // View\u306e\u80cc\u666f\u8272\u3092\u9752\u306b\u3059\u308b. self . view . backgroundColor = UIColor . cyanColor () // view\u306bLabel\u3092\u8ffd\u52a0. self . view . addSubview ( myStepLabel ) } /* Stepper\u306e\u5024\u304c\u5909\u308f\u3063\u305f\u3068\u304d\u306b\u547c\u3073\u51fa\u3055\u308c\u308b. */ internal func stepperOneChanged ( stepper : UIStepper ){ myStepLabel . text = \" \\( stepper . value ) \" } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } }","title":"UIStepper\u306e\u8868\u793a"},{"location":"1.uikit/030_uistepper/#3040","text":"UIControlEvents.valueChanged \u304c\u3001 UIControl.Event.valueChanged \u306b\u5909\u66f4 internal func stepperOneChanged(stepper: UIStepper) \u306b @objc \u3092\u8ffd\u52a0","title":"3.0\u30684.0\u306e\u5dee\u5206"},{"location":"1.uikit/030_uistepper/#2330","text":"UIColor\u306e\u53c2\u7167\u65b9\u6cd5\u304c\u5909\u66f4(UIColor.grayColor()->UIColor.gray) CGRect,CGPoint\u306e\u521d\u671f\u5316\u65b9\u6cd5\u306e\u5909\u66f4(CGRectMake,CGPointMake\u306e\u5ec3\u6b62)","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"1.uikit/030_uistepper/#reference","text":"UIStepper Class https://developer.apple.com/reference/uikit/uistepper","title":"Reference"},{"location":"1.uikit/031_uinavigationitem/","text":"UINavigationItem\u3067UINavigationBar\u3092\u8a2d\u5b9a AppDelegate.swift Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 // // AppDelegate.swift // UIKit031_4.0 // // Created by KimikoWatanabe on 2016/08/18. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit @UIApplicationMain class AppDelegate : UIResponder , UIApplicationDelegate { var window : UIWindow ? func application ( _ application : UIApplication , didFinishLaunchingWithOptions launchOptions : [ UIApplication . LaunchOptionsKey : Any ]? = nil ) -> Bool { // ViewController\u3092\u751f\u6210\u3059\u308b. let myFirstViewController : FirstViewController = FirstViewController () // Navication Controller\u3092\u751f\u6210\u3059\u308b. let myNavigationController : UINavigationController = UINavigationController ( rootViewController : myFirstViewController ) // UIWindow\u3092\u751f\u6210\u3059\u308b. self . window = UIWindow ( frame : UIScreen . main . bounds ) // rootViewController\u306bNatigationController\u3092\u8a2d\u5b9a\u3059\u308b. self . window ?. rootViewController = myNavigationController self . window ?. makeKeyAndVisible () return true } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 // // AppDelegate.swift // UIKit031_3.0 // // Created by KimikoWatanabe on 2016/08/18. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit @UIApplicationMain class AppDelegate : UIResponder , UIApplicationDelegate { var window : UIWindow ? func application ( _ application : UIApplication , didFinishLaunchingWithOptions launchOptions : [ NSObject : AnyObject ]?) -> Bool { // ViewController\u3092\u751f\u6210\u3059\u308b. let myFirstViewController : FirstViewController = FirstViewController () // Navication Controller\u3092\u751f\u6210\u3059\u308b. let myNavigationController : UINavigationController = UINavigationController ( rootViewController : myFirstViewController ) // UIWindow\u3092\u751f\u6210\u3059\u308b. self . window = UIWindow ( frame : UIScreen . main . bounds ) // rootViewController\u306bNatigationController\u3092\u8a2d\u5b9a\u3059\u308b. self . window ?. rootViewController = myNavigationController self . window ?. makeKeyAndVisible () return true } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 // // AppDelegate.swift // UIKit031_2.3 // // Created by KimikoWatanabe on 2016/08/18. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit @UIApplicationMain class AppDelegate : UIResponder , UIApplicationDelegate { var window : UIWindow ? func application ( application : UIApplication , didFinishLaunchingWithOptions launchOptions : [ NSObject : AnyObject ]?) -> Bool { // ViewController\u3092\u751f\u6210\u3059\u308b. let myFirstViewController : FirstViewController = FirstViewController () // Navication Controller\u3092\u751f\u6210\u3059\u308b. let myNavigationController : UINavigationController = UINavigationController ( rootViewController : myFirstViewController ) // UIWindow\u3092\u751f\u6210\u3059\u308b. self . window = UIWindow ( frame : UIScreen . mainScreen (). bounds ) // rootViewController\u306bNatigationController\u3092\u8a2d\u5b9a\u3059\u308b. self . window ?. rootViewController = myNavigationController self . window ?. makeKeyAndVisible () return true } } FirstViewController.swift Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 // // ViewController.swift // UIKit031_4.0 // // Created by KimikoWatanabe on 2016/08/18. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class FirstViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // View\u306e\u80cc\u666f\u8272\u3092\u5b9a\u7fa9\u3059\u308b. self . view . backgroundColor = UIColor . cyan // \u30dc\u30bf\u30f3\u3092\u751f\u6210\u3059\u308b. let myButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 100 , height : 50 )) myButton . backgroundColor = UIColor . orange myButton . layer . masksToBounds = true myButton . setTitle ( \"\u30dc\u30bf\u30f3\" , for : . normal ) myButton . layer . cornerRadius = 20.0 myButton . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 200 ) myButton . addTarget ( self , action : #selector ( FirstViewController . onClickMyButton ( sender :)), for : . touchUpInside ) // \u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myButton ); // BarButtonItem\u3092\u4f5c\u6210\u3059\u308b. let myBarButton_1 = UIBarButtonItem ( barButtonSystemItem : UIBarButtonItem . SystemItem . camera , target : self , action : #selector ( FirstViewController . onClickMyButton ( sender :))) let myBarButton_2 = UIBarButtonItem ( barButtonSystemItem : UIBarButtonItem . SystemItem . add , target : self , action : #selector ( FirstViewController . onClickMyButton ( sender :))) let myBarButton_3 = UIBarButtonItem ( barButtonSystemItem : UIBarButtonItem . SystemItem . done , target : self , action : #selector ( FirstViewController . onClickMyButton ( sender :))) // Bar\u306e\u53f3\u306b\u914d\u7f6e\u3059\u308b\u30dc\u30bf\u30f3\u3092\u914d\u5217\u306b\u683c\u7d0d\u3059\u308b. let myRightButtons : NSArray = [ myBarButton_1 , myBarButton_2 ] // NavigationBar\u306e\u8868\u793a\u3059\u308b. self . navigationController ?. setNavigationBarHidden ( false , animated : false ) // \u30bf\u30a4\u30c8\u30eb\u3092\u8a2d\u5b9a\u3059\u308b. self . navigationItem . title = \"Title\" // \u30d7\u30ed\u30f3\u30d7\u30c8\u3092\u8a2d\u5b9a\u3059\u308b. self . navigationItem . prompt = \"Prompt\" // Bar\u306e\u53f3\u5074\u306b\u8907\u6570\u914d\u7f6e\u3059\u308b. self . navigationItem . setRightBarButtonItems ( myRightButtons as ? [ UIBarButtonItem ], animated : true ) // Bar\u306e\u5de6\u5074\u306b\u914d\u7f6e\u3059\u308b. self . navigationItem . setLeftBarButton ( myBarButton_3 , animated : true ) } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8 */ @objc internal func onClickMyButton ( sender : UIButton ){ print ( \"onClickMyButton:\" ) let secondViewController = SecondViewController () self . navigationController ?. pushViewController ( secondViewController , animated : true ) } /* BarButton\u30a4\u30d9\u30f3\u30c8 */ internal func onClickMyBarButton ( sender : UIButton ){ print ( \"onClickMyBarButton:\" ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 // // ViewController.swift // UIKit031_3.0 // // Created by KimikoWatanabe on 2016/08/18. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class FirstViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // View\u306e\u80cc\u666f\u8272\u3092\u5b9a\u7fa9\u3059\u308b. self . view . backgroundColor = UIColor . cyan // \u30dc\u30bf\u30f3\u3092\u751f\u6210\u3059\u308b. let myButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 100 , height : 50 )) myButton . backgroundColor = UIColor . orange myButton . layer . masksToBounds = true myButton . setTitle ( \"\u30dc\u30bf\u30f3\" , for : . normal ) myButton . layer . cornerRadius = 20.0 myButton . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 200 ) myButton . addTarget ( self , action : #selector ( FirstViewController . onClickMyButton ( sender :)), for : . touchUpInside ) // \u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myButton ); // BarButtonItem\u3092\u4f5c\u6210\u3059\u308b. let myBarButton_1 = UIBarButtonItem ( barButtonSystemItem : UIBarButtonSystemItem . camera , target : self , action : #selector ( FirstViewController . onClickMyButton ( sender :))) let myBarButton_2 = UIBarButtonItem ( barButtonSystemItem : UIBarButtonSystemItem . add , target : self , action : #selector ( FirstViewController . onClickMyButton ( sender :))) let myBarButton_3 = UIBarButtonItem ( barButtonSystemItem : UIBarButtonSystemItem . done , target : self , action : #selector ( FirstViewController . onClickMyButton ( sender :))) // Bar\u306e\u53f3\u306b\u914d\u7f6e\u3059\u308b\u30dc\u30bf\u30f3\u3092\u914d\u5217\u306b\u683c\u7d0d\u3059\u308b. let myRightButtons : NSArray = [ myBarButton_1 , myBarButton_2 ] // NavigationBar\u306e\u8868\u793a\u3059\u308b. self . navigationController ?. setNavigationBarHidden ( false , animated : false ) // \u30bf\u30a4\u30c8\u30eb\u3092\u8a2d\u5b9a\u3059\u308b. self . navigationItem . title = \"Title\" // \u30d7\u30ed\u30f3\u30d7\u30c8\u3092\u8a2d\u5b9a\u3059\u308b. self . navigationItem . prompt = \"Prompt\" // Bar\u306e\u53f3\u5074\u306b\u8907\u6570\u914d\u7f6e\u3059\u308b. self . navigationItem . setRightBarButtonItems ( myRightButtons as ? [ UIBarButtonItem ], animated : true ) // Bar\u306e\u5de6\u5074\u306b\u914d\u7f6e\u3059\u308b. self . navigationItem . setLeftBarButton ( myBarButton_3 , animated : true ) } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8 */ internal func onClickMyButton ( sender : UIButton ){ print ( \"onClickMyButton:\" ) let secondViewController = SecondViewController () self . navigationController ?. pushViewController ( secondViewController , animated : true ) } /* BarButton\u30a4\u30d9\u30f3\u30c8 */ internal func onClickMyBarButton ( sender : UIButton ){ print ( \"onClickMyBarButton:\" ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 // // ViewController.swift // UIKit031_2.3 // // Created by KimikoWatanabe on 2016/08/18. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class FirstViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // View\u306e\u80cc\u666f\u8272\u3092\u5b9a\u7fa9\u3059\u308b. self . view . backgroundColor = UIColor . cyanColor () // \u30dc\u30bf\u30f3\u3092\u751f\u6210\u3059\u308b. let myButton = UIButton ( frame : CGRectMake ( 0 , 0 , 100 , 50 )) myButton . backgroundColor = UIColor . orangeColor () myButton . layer . masksToBounds = true myButton . setTitle ( \"\u30dc\u30bf\u30f3\" , forState : . Normal ) myButton . layer . cornerRadius = 20.0 myButton . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 200 ) myButton . addTarget ( self , action : #selector ( FirstViewController . onClickMyButton ( _ :)), forControlEvents : . TouchUpInside ) // \u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myButton ); // BarButtonItem\u3092\u4f5c\u6210\u3059\u308b. let myBarButton_1 = UIBarButtonItem ( barButtonSystemItem : UIBarButtonSystemItem . Camera , target : self , action : #selector ( FirstViewController . onClickMyBarButton ( _ :))) let myBarButton_2 = UIBarButtonItem ( barButtonSystemItem : UIBarButtonSystemItem . Add , target : self , action : #selector ( FirstViewController . onClickMyBarButton ( _ :))) let myBarButton_3 = UIBarButtonItem ( barButtonSystemItem : UIBarButtonSystemItem . Done , target : self , action : #selector ( FirstViewController . onClickMyBarButton ( _ :))) // Bar\u306e\u53f3\u306b\u914d\u7f6e\u3059\u308b\u30dc\u30bf\u30f3\u3092\u914d\u5217\u306b\u683c\u7d0d\u3059\u308b. let myRightButtons : NSArray = [ myBarButton_1 , myBarButton_2 ] // NavigationBar\u3092\u53d6\u5f97\u3059\u308b. self . navigationController ?. navigationBar // NavigationBar\u306e\u8868\u793a\u3059\u308b. self . navigationController ?. setNavigationBarHidden ( false , animated : false ) // NavigationItem\u306e\u53d6\u5f97\u3059\u308b. self . navigationItem // \u30bf\u30a4\u30c8\u30eb\u3092\u8a2d\u5b9a\u3059\u308b. self . navigationItem . title = \"Title\" // \u30d7\u30ed\u30f3\u30d7\u30c8\u3092\u8a2d\u5b9a\u3059\u308b. self . navigationItem . prompt = \"Prompt\" // Bar\u306e\u53f3\u5074\u306b\u8907\u6570\u914d\u7f6e\u3059\u308b. self . navigationItem . setRightBarButtonItems ( myRightButtons as ? [ UIBarButtonItem ], animated : true ) // Bar\u306e\u5de6\u5074\u306b\u914d\u7f6e\u3059\u308b. self . navigationItem . setLeftBarButtonItem ( myBarButton_3 , animated : true ) } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8 */ internal func onClickMyButton ( sender : UIButton ){ print ( \"onClickMyButton:\" ) let secondViewController = SecondViewController () self . navigationController ?. pushViewController ( secondViewController , animated : true ) } /* BarButton\u30a4\u30d9\u30f3\u30c8 */ internal func onClickMyBarButton ( sender : UIButton ){ print ( \"onClickMyBarButton:\" ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } } SecoundViewController.swift Swift 4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 // // SecoundViewController.swift // UIKit031_4.0 // // Created by KimikoWatanabe on 2016/08/18. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class SecondViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // Controller\u306e\u30bf\u30a4\u30c8\u30eb\u3092\u8a2d\u5b9a\u3059\u308b. self . title = \"My 2nd View\" // View\u306e\u80cc\u666f\u8272\u3092\u5b9a\u7fa9\u3059\u308b. self . view . backgroundColor = UIColor . green } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 // // SecoundViewController.swift // UIKit031_2.3 // // Created by KimikoWatanabe on 2016/08/18. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class SecondViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // Controller\u306e\u30bf\u30a4\u30c8\u30eb\u3092\u8a2d\u5b9a\u3059\u308b. self . title = \"My 2nd View\" // View\u306e\u80cc\u666f\u8272\u3092\u5b9a\u7fa9\u3059\u308b. self . view . backgroundColor = UIColor . greenColor () } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } } 3.0\u30684.0\u306e\u5dee\u5206 func application(_ application: UIApplication, didFinishLaunchingWithOptions launchOptions: [NSObject : AnyObject]?) -> Bool \u304c\u3001 func application(_ application: UIApplication, didFinishLaunchingWithOptions launchOptions: [UIApplication.LaunchOptionsKey : Any]? = nil) -> Bool \u306b\u5909\u66f4 internal func onClickMyButton(sender: UIButton)\u306b@objc\u3092\u8ffd\u52a0 UIBarButtonSystemItem.camera \u304c UIBarButtonItem.SystemItem.camera \u306b\u5909\u66f4 UIBarButtonSystemItem.add \u304c UIBarButtonItem.SystemItem.add \u306b\u5909\u66f4 UIBarButtonSystemItem.done \u304c UIBarButtonItem.SystemItem.done \u306b\u5909\u66f4 2.3\u30683.0\u306e\u5dee\u5206 UIColor\u306e\u53c2\u7167\u65b9\u6cd5\u304c\u5909\u66f4(UIColor.grayColor()->UIColor.gray) CGRect,CGPoint\u306e\u521d\u671f\u5316\u65b9\u6cd5\u306e\u5909\u66f4(CGRectMake,CGPointMake\u306e\u5ec3\u6b62) UIScreen.mainScreen().bounds \u304c UIScreen.main.bounds \u306b\u5909\u66f4 sender\u306e\u8a18\u8ff0\u65b9\u6cd5\u306e\u5909\u66f4( .onClickMyBarButton(_:) -> .onClickMyButton(sender:) ) Reference UINavigationItem Class https://developer.apple.com/reference/uikit/uinavigationitem","title":"UINavigationItem\u3067UINavigationBar\u3092\u8a2d\u5b9a"},{"location":"1.uikit/031_uinavigationitem/#uinavigationitemuinavigationbar","text":"","title":"UINavigationItem\u3067UINavigationBar\u3092\u8a2d\u5b9a"},{"location":"1.uikit/031_uinavigationitem/#appdelegateswift","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 // // AppDelegate.swift // UIKit031_4.0 // // Created by KimikoWatanabe on 2016/08/18. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit @UIApplicationMain class AppDelegate : UIResponder , UIApplicationDelegate { var window : UIWindow ? func application ( _ application : UIApplication , didFinishLaunchingWithOptions launchOptions : [ UIApplication . LaunchOptionsKey : Any ]? = nil ) -> Bool { // ViewController\u3092\u751f\u6210\u3059\u308b. let myFirstViewController : FirstViewController = FirstViewController () // Navication Controller\u3092\u751f\u6210\u3059\u308b. let myNavigationController : UINavigationController = UINavigationController ( rootViewController : myFirstViewController ) // UIWindow\u3092\u751f\u6210\u3059\u308b. self . window = UIWindow ( frame : UIScreen . main . bounds ) // rootViewController\u306bNatigationController\u3092\u8a2d\u5b9a\u3059\u308b. self . window ?. rootViewController = myNavigationController self . window ?. makeKeyAndVisible () return true } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 // // AppDelegate.swift // UIKit031_3.0 // // Created by KimikoWatanabe on 2016/08/18. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit @UIApplicationMain class AppDelegate : UIResponder , UIApplicationDelegate { var window : UIWindow ? func application ( _ application : UIApplication , didFinishLaunchingWithOptions launchOptions : [ NSObject : AnyObject ]?) -> Bool { // ViewController\u3092\u751f\u6210\u3059\u308b. let myFirstViewController : FirstViewController = FirstViewController () // Navication Controller\u3092\u751f\u6210\u3059\u308b. let myNavigationController : UINavigationController = UINavigationController ( rootViewController : myFirstViewController ) // UIWindow\u3092\u751f\u6210\u3059\u308b. self . window = UIWindow ( frame : UIScreen . main . bounds ) // rootViewController\u306bNatigationController\u3092\u8a2d\u5b9a\u3059\u308b. self . window ?. rootViewController = myNavigationController self . window ?. makeKeyAndVisible () return true } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 // // AppDelegate.swift // UIKit031_2.3 // // Created by KimikoWatanabe on 2016/08/18. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit @UIApplicationMain class AppDelegate : UIResponder , UIApplicationDelegate { var window : UIWindow ? func application ( application : UIApplication , didFinishLaunchingWithOptions launchOptions : [ NSObject : AnyObject ]?) -> Bool { // ViewController\u3092\u751f\u6210\u3059\u308b. let myFirstViewController : FirstViewController = FirstViewController () // Navication Controller\u3092\u751f\u6210\u3059\u308b. let myNavigationController : UINavigationController = UINavigationController ( rootViewController : myFirstViewController ) // UIWindow\u3092\u751f\u6210\u3059\u308b. self . window = UIWindow ( frame : UIScreen . mainScreen (). bounds ) // rootViewController\u306bNatigationController\u3092\u8a2d\u5b9a\u3059\u308b. self . window ?. rootViewController = myNavigationController self . window ?. makeKeyAndVisible () return true } }","title":"AppDelegate.swift"},{"location":"1.uikit/031_uinavigationitem/#firstviewcontrollerswift","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 // // ViewController.swift // UIKit031_4.0 // // Created by KimikoWatanabe on 2016/08/18. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class FirstViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // View\u306e\u80cc\u666f\u8272\u3092\u5b9a\u7fa9\u3059\u308b. self . view . backgroundColor = UIColor . cyan // \u30dc\u30bf\u30f3\u3092\u751f\u6210\u3059\u308b. let myButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 100 , height : 50 )) myButton . backgroundColor = UIColor . orange myButton . layer . masksToBounds = true myButton . setTitle ( \"\u30dc\u30bf\u30f3\" , for : . normal ) myButton . layer . cornerRadius = 20.0 myButton . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 200 ) myButton . addTarget ( self , action : #selector ( FirstViewController . onClickMyButton ( sender :)), for : . touchUpInside ) // \u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myButton ); // BarButtonItem\u3092\u4f5c\u6210\u3059\u308b. let myBarButton_1 = UIBarButtonItem ( barButtonSystemItem : UIBarButtonItem . SystemItem . camera , target : self , action : #selector ( FirstViewController . onClickMyButton ( sender :))) let myBarButton_2 = UIBarButtonItem ( barButtonSystemItem : UIBarButtonItem . SystemItem . add , target : self , action : #selector ( FirstViewController . onClickMyButton ( sender :))) let myBarButton_3 = UIBarButtonItem ( barButtonSystemItem : UIBarButtonItem . SystemItem . done , target : self , action : #selector ( FirstViewController . onClickMyButton ( sender :))) // Bar\u306e\u53f3\u306b\u914d\u7f6e\u3059\u308b\u30dc\u30bf\u30f3\u3092\u914d\u5217\u306b\u683c\u7d0d\u3059\u308b. let myRightButtons : NSArray = [ myBarButton_1 , myBarButton_2 ] // NavigationBar\u306e\u8868\u793a\u3059\u308b. self . navigationController ?. setNavigationBarHidden ( false , animated : false ) // \u30bf\u30a4\u30c8\u30eb\u3092\u8a2d\u5b9a\u3059\u308b. self . navigationItem . title = \"Title\" // \u30d7\u30ed\u30f3\u30d7\u30c8\u3092\u8a2d\u5b9a\u3059\u308b. self . navigationItem . prompt = \"Prompt\" // Bar\u306e\u53f3\u5074\u306b\u8907\u6570\u914d\u7f6e\u3059\u308b. self . navigationItem . setRightBarButtonItems ( myRightButtons as ? [ UIBarButtonItem ], animated : true ) // Bar\u306e\u5de6\u5074\u306b\u914d\u7f6e\u3059\u308b. self . navigationItem . setLeftBarButton ( myBarButton_3 , animated : true ) } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8 */ @objc internal func onClickMyButton ( sender : UIButton ){ print ( \"onClickMyButton:\" ) let secondViewController = SecondViewController () self . navigationController ?. pushViewController ( secondViewController , animated : true ) } /* BarButton\u30a4\u30d9\u30f3\u30c8 */ internal func onClickMyBarButton ( sender : UIButton ){ print ( \"onClickMyBarButton:\" ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 // // ViewController.swift // UIKit031_3.0 // // Created by KimikoWatanabe on 2016/08/18. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class FirstViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // View\u306e\u80cc\u666f\u8272\u3092\u5b9a\u7fa9\u3059\u308b. self . view . backgroundColor = UIColor . cyan // \u30dc\u30bf\u30f3\u3092\u751f\u6210\u3059\u308b. let myButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 100 , height : 50 )) myButton . backgroundColor = UIColor . orange myButton . layer . masksToBounds = true myButton . setTitle ( \"\u30dc\u30bf\u30f3\" , for : . normal ) myButton . layer . cornerRadius = 20.0 myButton . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 200 ) myButton . addTarget ( self , action : #selector ( FirstViewController . onClickMyButton ( sender :)), for : . touchUpInside ) // \u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myButton ); // BarButtonItem\u3092\u4f5c\u6210\u3059\u308b. let myBarButton_1 = UIBarButtonItem ( barButtonSystemItem : UIBarButtonSystemItem . camera , target : self , action : #selector ( FirstViewController . onClickMyButton ( sender :))) let myBarButton_2 = UIBarButtonItem ( barButtonSystemItem : UIBarButtonSystemItem . add , target : self , action : #selector ( FirstViewController . onClickMyButton ( sender :))) let myBarButton_3 = UIBarButtonItem ( barButtonSystemItem : UIBarButtonSystemItem . done , target : self , action : #selector ( FirstViewController . onClickMyButton ( sender :))) // Bar\u306e\u53f3\u306b\u914d\u7f6e\u3059\u308b\u30dc\u30bf\u30f3\u3092\u914d\u5217\u306b\u683c\u7d0d\u3059\u308b. let myRightButtons : NSArray = [ myBarButton_1 , myBarButton_2 ] // NavigationBar\u306e\u8868\u793a\u3059\u308b. self . navigationController ?. setNavigationBarHidden ( false , animated : false ) // \u30bf\u30a4\u30c8\u30eb\u3092\u8a2d\u5b9a\u3059\u308b. self . navigationItem . title = \"Title\" // \u30d7\u30ed\u30f3\u30d7\u30c8\u3092\u8a2d\u5b9a\u3059\u308b. self . navigationItem . prompt = \"Prompt\" // Bar\u306e\u53f3\u5074\u306b\u8907\u6570\u914d\u7f6e\u3059\u308b. self . navigationItem . setRightBarButtonItems ( myRightButtons as ? [ UIBarButtonItem ], animated : true ) // Bar\u306e\u5de6\u5074\u306b\u914d\u7f6e\u3059\u308b. self . navigationItem . setLeftBarButton ( myBarButton_3 , animated : true ) } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8 */ internal func onClickMyButton ( sender : UIButton ){ print ( \"onClickMyButton:\" ) let secondViewController = SecondViewController () self . navigationController ?. pushViewController ( secondViewController , animated : true ) } /* BarButton\u30a4\u30d9\u30f3\u30c8 */ internal func onClickMyBarButton ( sender : UIButton ){ print ( \"onClickMyBarButton:\" ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 // // ViewController.swift // UIKit031_2.3 // // Created by KimikoWatanabe on 2016/08/18. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class FirstViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // View\u306e\u80cc\u666f\u8272\u3092\u5b9a\u7fa9\u3059\u308b. self . view . backgroundColor = UIColor . cyanColor () // \u30dc\u30bf\u30f3\u3092\u751f\u6210\u3059\u308b. let myButton = UIButton ( frame : CGRectMake ( 0 , 0 , 100 , 50 )) myButton . backgroundColor = UIColor . orangeColor () myButton . layer . masksToBounds = true myButton . setTitle ( \"\u30dc\u30bf\u30f3\" , forState : . Normal ) myButton . layer . cornerRadius = 20.0 myButton . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 200 ) myButton . addTarget ( self , action : #selector ( FirstViewController . onClickMyButton ( _ :)), forControlEvents : . TouchUpInside ) // \u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myButton ); // BarButtonItem\u3092\u4f5c\u6210\u3059\u308b. let myBarButton_1 = UIBarButtonItem ( barButtonSystemItem : UIBarButtonSystemItem . Camera , target : self , action : #selector ( FirstViewController . onClickMyBarButton ( _ :))) let myBarButton_2 = UIBarButtonItem ( barButtonSystemItem : UIBarButtonSystemItem . Add , target : self , action : #selector ( FirstViewController . onClickMyBarButton ( _ :))) let myBarButton_3 = UIBarButtonItem ( barButtonSystemItem : UIBarButtonSystemItem . Done , target : self , action : #selector ( FirstViewController . onClickMyBarButton ( _ :))) // Bar\u306e\u53f3\u306b\u914d\u7f6e\u3059\u308b\u30dc\u30bf\u30f3\u3092\u914d\u5217\u306b\u683c\u7d0d\u3059\u308b. let myRightButtons : NSArray = [ myBarButton_1 , myBarButton_2 ] // NavigationBar\u3092\u53d6\u5f97\u3059\u308b. self . navigationController ?. navigationBar // NavigationBar\u306e\u8868\u793a\u3059\u308b. self . navigationController ?. setNavigationBarHidden ( false , animated : false ) // NavigationItem\u306e\u53d6\u5f97\u3059\u308b. self . navigationItem // \u30bf\u30a4\u30c8\u30eb\u3092\u8a2d\u5b9a\u3059\u308b. self . navigationItem . title = \"Title\" // \u30d7\u30ed\u30f3\u30d7\u30c8\u3092\u8a2d\u5b9a\u3059\u308b. self . navigationItem . prompt = \"Prompt\" // Bar\u306e\u53f3\u5074\u306b\u8907\u6570\u914d\u7f6e\u3059\u308b. self . navigationItem . setRightBarButtonItems ( myRightButtons as ? [ UIBarButtonItem ], animated : true ) // Bar\u306e\u5de6\u5074\u306b\u914d\u7f6e\u3059\u308b. self . navigationItem . setLeftBarButtonItem ( myBarButton_3 , animated : true ) } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8 */ internal func onClickMyButton ( sender : UIButton ){ print ( \"onClickMyButton:\" ) let secondViewController = SecondViewController () self . navigationController ?. pushViewController ( secondViewController , animated : true ) } /* BarButton\u30a4\u30d9\u30f3\u30c8 */ internal func onClickMyBarButton ( sender : UIButton ){ print ( \"onClickMyBarButton:\" ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } }","title":"FirstViewController.swift"},{"location":"1.uikit/031_uinavigationitem/#secoundviewcontrollerswift","text":"Swift 4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 // // SecoundViewController.swift // UIKit031_4.0 // // Created by KimikoWatanabe on 2016/08/18. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class SecondViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // Controller\u306e\u30bf\u30a4\u30c8\u30eb\u3092\u8a2d\u5b9a\u3059\u308b. self . title = \"My 2nd View\" // View\u306e\u80cc\u666f\u8272\u3092\u5b9a\u7fa9\u3059\u308b. self . view . backgroundColor = UIColor . green } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 // // SecoundViewController.swift // UIKit031_2.3 // // Created by KimikoWatanabe on 2016/08/18. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class SecondViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // Controller\u306e\u30bf\u30a4\u30c8\u30eb\u3092\u8a2d\u5b9a\u3059\u308b. self . title = \"My 2nd View\" // View\u306e\u80cc\u666f\u8272\u3092\u5b9a\u7fa9\u3059\u308b. self . view . backgroundColor = UIColor . greenColor () } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } }","title":"SecoundViewController.swift"},{"location":"1.uikit/031_uinavigationitem/#3040","text":"func application(_ application: UIApplication, didFinishLaunchingWithOptions launchOptions: [NSObject : AnyObject]?) -> Bool \u304c\u3001 func application(_ application: UIApplication, didFinishLaunchingWithOptions launchOptions: [UIApplication.LaunchOptionsKey : Any]? = nil) -> Bool \u306b\u5909\u66f4 internal func onClickMyButton(sender: UIButton)\u306b@objc\u3092\u8ffd\u52a0 UIBarButtonSystemItem.camera \u304c UIBarButtonItem.SystemItem.camera \u306b\u5909\u66f4 UIBarButtonSystemItem.add \u304c UIBarButtonItem.SystemItem.add \u306b\u5909\u66f4 UIBarButtonSystemItem.done \u304c UIBarButtonItem.SystemItem.done \u306b\u5909\u66f4","title":"3.0\u30684.0\u306e\u5dee\u5206"},{"location":"1.uikit/031_uinavigationitem/#2330","text":"UIColor\u306e\u53c2\u7167\u65b9\u6cd5\u304c\u5909\u66f4(UIColor.grayColor()->UIColor.gray) CGRect,CGPoint\u306e\u521d\u671f\u5316\u65b9\u6cd5\u306e\u5909\u66f4(CGRectMake,CGPointMake\u306e\u5ec3\u6b62) UIScreen.mainScreen().bounds \u304c UIScreen.main.bounds \u306b\u5909\u66f4 sender\u306e\u8a18\u8ff0\u65b9\u6cd5\u306e\u5909\u66f4( .onClickMyBarButton(_:) -> .onClickMyButton(sender:) )","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"1.uikit/031_uinavigationitem/#reference","text":"UINavigationItem Class https://developer.apple.com/reference/uikit/uinavigationitem","title":"Reference"},{"location":"1.uikit/032_uialertController/","text":"UIAlertController\u3067ActionSheet\u8868\u793a Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 // // ViewController.swift // UIKit032_4.0 // // Created by KimikoWatanabe on 2016/08/18. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidAppear ( _ animated : Bool ) { // \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u751f\u6210\u3000style\u306fActionSheet. let myAlert = UIAlertController ( title : \"\u30bf\u30a4\u30c8\u30eb\" , message : \"message\" , preferredStyle : UIAlertController . Style . actionSheet ) // \u30a2\u30af\u30b7\u30e7\u30f3\u3092\u751f\u6210. let myAction_1 = UIAlertAction ( title : \"Hello\" , style : UIAlertAction . Style . default , handler : { ( action : UIAlertAction !) in print ( \"Hello\" ) }) let myAction_2 = UIAlertAction ( title : \"yes\" , style : UIAlertAction . Style . destructive , handler : { ( action : UIAlertAction !) in print ( \"yes\" ) }) let myAction_3 = UIAlertAction ( title : \"no\" , style : UIAlertAction . Style . cancel , handler : { ( action : UIAlertAction !) in print ( \"no\" ) }) // \u30a2\u30af\u30b7\u30e7\u30f3\u3092\u8ffd\u52a0. myAlert . addAction ( myAction_1 ) myAlert . addAction ( myAction_2 ) myAlert . addAction ( myAction_3 ) self . present ( myAlert , animated : true , completion : nil ) } override func viewDidLoad () { super . viewDidLoad () } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 // // ViewController.swift // UIKit032_3.0 // // Created by KimikoWatanabe on 2016/08/18. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidAppear ( _ animated : Bool ) { // \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u751f\u6210\u3000style\u306fActionSheet. let myAlert = UIAlertController ( title : \"\u30bf\u30a4\u30c8\u30eb\" , message : \"message\" , preferredStyle : UIAlertControllerStyle . actionSheet ) // \u30a2\u30af\u30b7\u30e7\u30f3\u3092\u751f\u6210. let myAction_1 = UIAlertAction ( title : \"Hello\" , style : UIAlertActionStyle . default , handler : { ( action : UIAlertAction !) in print ( \"Hello\" ) }) let myAction_2 = UIAlertAction ( title : \"yes\" , style : UIAlertActionStyle . destructive , handler : { ( action : UIAlertAction !) in print ( \"yes\" ) }) let myAction_3 = UIAlertAction ( title : \"no\" , style : UIAlertActionStyle . cancel , handler : { ( action : UIAlertAction !) in print ( \"no\" ) }) // \u30a2\u30af\u30b7\u30e7\u30f3\u3092\u8ffd\u52a0. myAlert . addAction ( myAction_1 ) myAlert . addAction ( myAction_2 ) myAlert . addAction ( myAction_3 ) self . present ( myAlert , animated : true , completion : nil ) } override func viewDidLoad () { super . viewDidLoad () } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 // // ViewController.swift // UIKit032_2.3 // // Created by KimikoWatanabe on 2016/08/18. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidAppear ( animated : Bool ) { // \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u751f\u6210\u3000style\u306fActionSheet. let myAlert = UIAlertController ( title : \"\u30bf\u30a4\u30c8\u30eb\" , message : \"message\" , preferredStyle : UIAlertControllerStyle . ActionSheet ) // \u30a2\u30af\u30b7\u30e7\u30f3\u3092\u751f\u6210. let myAction_1 = UIAlertAction ( title : \"Hello\" , style : UIAlertActionStyle . Default , handler : { ( action : UIAlertAction !) in print ( \"Hello\" ) }) let myAction_2 = UIAlertAction ( title : \"yes\" , style : UIAlertActionStyle . Destructive , handler : { ( action : UIAlertAction !) in print ( \"yes\" ) }) let myAction_3 = UIAlertAction ( title : \"no\" , style : UIAlertActionStyle . Cancel , handler : { ( action : UIAlertAction !) in print ( \"no\" ) }) // \u30a2\u30af\u30b7\u30e7\u30f3\u3092\u8ffd\u52a0. myAlert . addAction ( myAction_1 ) myAlert . addAction ( myAction_2 ) myAlert . addAction ( myAction_3 ) self . presentViewController ( myAlert , animated : true , completion : nil ) } override func viewDidLoad () { super . viewDidLoad () } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } 3.x\u30684.x\u306e\u5dee\u5206 UIAlertActionStyle \u304c UIAlertController.Style \u306b\u5909\u66f4 2.3\u30683.0\u306e\u5dee\u5206 UIAlertActionStyle\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u540d\u306e\u5909\u66f4 self.presentViewController \u304c self.present(myAlert, animated: true, completion: nil) \u306b\u5909\u66f4 Reference UIAlertController Class https://developer.apple.com/reference/uikit/uialertcontroller","title":"UIAlertController\u3067ActionSheet\u8868\u793a"},{"location":"1.uikit/032_uialertController/#uialertcontrolleractionsheet","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 // // ViewController.swift // UIKit032_4.0 // // Created by KimikoWatanabe on 2016/08/18. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidAppear ( _ animated : Bool ) { // \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u751f\u6210\u3000style\u306fActionSheet. let myAlert = UIAlertController ( title : \"\u30bf\u30a4\u30c8\u30eb\" , message : \"message\" , preferredStyle : UIAlertController . Style . actionSheet ) // \u30a2\u30af\u30b7\u30e7\u30f3\u3092\u751f\u6210. let myAction_1 = UIAlertAction ( title : \"Hello\" , style : UIAlertAction . Style . default , handler : { ( action : UIAlertAction !) in print ( \"Hello\" ) }) let myAction_2 = UIAlertAction ( title : \"yes\" , style : UIAlertAction . Style . destructive , handler : { ( action : UIAlertAction !) in print ( \"yes\" ) }) let myAction_3 = UIAlertAction ( title : \"no\" , style : UIAlertAction . Style . cancel , handler : { ( action : UIAlertAction !) in print ( \"no\" ) }) // \u30a2\u30af\u30b7\u30e7\u30f3\u3092\u8ffd\u52a0. myAlert . addAction ( myAction_1 ) myAlert . addAction ( myAction_2 ) myAlert . addAction ( myAction_3 ) self . present ( myAlert , animated : true , completion : nil ) } override func viewDidLoad () { super . viewDidLoad () } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 // // ViewController.swift // UIKit032_3.0 // // Created by KimikoWatanabe on 2016/08/18. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidAppear ( _ animated : Bool ) { // \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u751f\u6210\u3000style\u306fActionSheet. let myAlert = UIAlertController ( title : \"\u30bf\u30a4\u30c8\u30eb\" , message : \"message\" , preferredStyle : UIAlertControllerStyle . actionSheet ) // \u30a2\u30af\u30b7\u30e7\u30f3\u3092\u751f\u6210. let myAction_1 = UIAlertAction ( title : \"Hello\" , style : UIAlertActionStyle . default , handler : { ( action : UIAlertAction !) in print ( \"Hello\" ) }) let myAction_2 = UIAlertAction ( title : \"yes\" , style : UIAlertActionStyle . destructive , handler : { ( action : UIAlertAction !) in print ( \"yes\" ) }) let myAction_3 = UIAlertAction ( title : \"no\" , style : UIAlertActionStyle . cancel , handler : { ( action : UIAlertAction !) in print ( \"no\" ) }) // \u30a2\u30af\u30b7\u30e7\u30f3\u3092\u8ffd\u52a0. myAlert . addAction ( myAction_1 ) myAlert . addAction ( myAction_2 ) myAlert . addAction ( myAction_3 ) self . present ( myAlert , animated : true , completion : nil ) } override func viewDidLoad () { super . viewDidLoad () } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 // // ViewController.swift // UIKit032_2.3 // // Created by KimikoWatanabe on 2016/08/18. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidAppear ( animated : Bool ) { // \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u751f\u6210\u3000style\u306fActionSheet. let myAlert = UIAlertController ( title : \"\u30bf\u30a4\u30c8\u30eb\" , message : \"message\" , preferredStyle : UIAlertControllerStyle . ActionSheet ) // \u30a2\u30af\u30b7\u30e7\u30f3\u3092\u751f\u6210. let myAction_1 = UIAlertAction ( title : \"Hello\" , style : UIAlertActionStyle . Default , handler : { ( action : UIAlertAction !) in print ( \"Hello\" ) }) let myAction_2 = UIAlertAction ( title : \"yes\" , style : UIAlertActionStyle . Destructive , handler : { ( action : UIAlertAction !) in print ( \"yes\" ) }) let myAction_3 = UIAlertAction ( title : \"no\" , style : UIAlertActionStyle . Cancel , handler : { ( action : UIAlertAction !) in print ( \"no\" ) }) // \u30a2\u30af\u30b7\u30e7\u30f3\u3092\u8ffd\u52a0. myAlert . addAction ( myAction_1 ) myAlert . addAction ( myAction_2 ) myAlert . addAction ( myAction_3 ) self . presentViewController ( myAlert , animated : true , completion : nil ) } override func viewDidLoad () { super . viewDidLoad () } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } }","title":"UIAlertController\u3067ActionSheet\u8868\u793a"},{"location":"1.uikit/032_uialertController/#3x4x","text":"UIAlertActionStyle \u304c UIAlertController.Style \u306b\u5909\u66f4","title":"3.x\u30684.x\u306e\u5dee\u5206"},{"location":"1.uikit/032_uialertController/#2330","text":"UIAlertActionStyle\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u540d\u306e\u5909\u66f4 self.presentViewController \u304c self.present(myAlert, animated: true, completion: nil) \u306b\u5909\u66f4","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"1.uikit/032_uialertController/#reference","text":"UIAlertController Class https://developer.apple.com/reference/uikit/uialertcontroller","title":"Reference"},{"location":"1.uikit/033_uimenucontroller/","text":"UIMenuController\u306bMenuItem\u3092\u8ffd\u52a0 Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 // // ViewController.swift // UIKit033_4.0 // // Created by KimikoWatanabe on 2016/08/18. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UITextFieldDelegate { override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u3092\u9752\u8272\u306b\u8a2d\u5b9a. self . view . backgroundColor = UIColor . cyan // TextField\u4f5c\u6210. let myTextField : UITextField = UITextField ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 30 )) myTextField . text = \"Hello Swift!\" myTextField . delegate = self myTextField . borderStyle = UITextField . BorderStyle . roundedRect myTextField . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : 100 ) // TextField\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( myTextField ) // MenuController\u751f\u6210. let myMenuController : UIMenuController = UIMenuController . shared // MenuController\u3092\u8868\u793a. myMenuController . isMenuVisible = true // \u77e2\u5370\u306e\u5411\u304d\u3092\u4e0b\u306b\u8a2d\u5b9a. myMenuController . arrowDirection = UIMenuController . ArrowDirection . down // rect\u3001view\u3092\u8a2d\u5b9a. myMenuController . setTargetRect ( CGRect . zero , in : self . view ) // MenuItem\u751f\u6210. let myMenuItem_1 : UIMenuItem = UIMenuItem ( title : \"Menu1\" , action : #selector ( ViewController . onMenu1 ( sender :))) let myMenuItem_2 : UIMenuItem = UIMenuItem ( title : \"Menu2\" , action : #selector ( ViewController . onMenu2 ( sender :))) let myMenuItem_3 : UIMenuItem = UIMenuItem ( title : \"Menu3\" , action : #selector ( ViewController . onMenu3 ( sender :))) // MenuItem\u3092\u914d\u5217\u306b\u683c\u7d0d. let myMenuItems : NSArray = [ myMenuItem_1 , myMenuItem_2 , myMenuItem_3 ] // MenuController\u306bMenuItem\u3092\u8ffd\u52a0. myMenuController . menuItems = myMenuItems as ? [ UIMenuItem ] } /* UITextField\u304c\u7de8\u96c6\u958b\u59cb\u3055\u308c\u305f\u76f4\u5f8c\u306b\u547c\u3070\u308c\u308b. */ func textFieldDidBeginEditing ( _ textField : UITextField ) { print ( \"textFieldDidBeginEditing:\" + textField . text !) } /* UITextField\u304c\u7de8\u96c6\u7d42\u4e86\u3059\u308b\u76f4\u524d\u306b\u547c\u3070\u308c\u308b. */ func textFieldShouldEndEditing ( _ textField : UITextField ) -> Bool { print ( \"textFieldShouldEndEditing:\" + textField . text !) return true } /* \u4f5c\u6210\u3057\u305fMenuItem\u304c\u8868\u793a\u3055\u308c\u308b\u3088\u3046\u306b\u3059\u308b. */ override func canPerformAction ( _ action : Selector , withSender sender : Any ?) -> Bool { if action == #selector ( ViewController . onMenu1 ( sender :)) || action == #selector ( ViewController . onMenu2 ( sender :)) || action == #selector ( ViewController . onMenu3 ( sender :)) { return true } return false } /* \u4f5c\u6210\u3057\u305fMenuItem\u304c\u62bc\u3055\u308c\u305f\u969b\u306b\u547c\u3073\u51fa\u3055\u308c\u308b. */ @objc internal func onMenu1 ( sender : UIMenuItem ) { print ( \"onMenu1\" ) } @objc internal func onMenu2 ( sender : UIMenuItem ) { print ( \"onMenu2\" ) } @objc internal func onMenu3 ( sender : UIMenuItem ) { print ( \"onMenu3\" ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 // // ViewController.swift // UIKit033_3.0 // // Created by KimikoWatanabe on 2016/08/18. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UITextFieldDelegate { override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u3092\u9752\u8272\u306b\u8a2d\u5b9a. self . view . backgroundColor = UIColor . cyan // TextField\u4f5c\u6210. let myTextField : UITextField = UITextField ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 30 )) myTextField . text = \"Hello Swift!\" myTextField . delegate = self myTextField . borderStyle = UITextBorderStyle . roundedRect myTextField . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : 100 ) // TextField\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( myTextField ) // MenuController\u751f\u6210. let myMenuController : UIMenuController = UIMenuController . shared // MenuController\u3092\u8868\u793a. myMenuController . isMenuVisible = true // \u77e2\u5370\u306e\u5411\u304d\u3092\u4e0b\u306b\u8a2d\u5b9a. myMenuController . arrowDirection = UIMenuControllerArrowDirection . down // rect\u3001view\u3092\u8a2d\u5b9a. myMenuController . setTargetRect ( CGRect . zero , in : self . view ) // MenuItem\u751f\u6210. let myMenuItem_1 : UIMenuItem = UIMenuItem ( title : \"Menu1\" , action : #selector ( ViewController . onMenu1 ( sender :))) let myMenuItem_2 : UIMenuItem = UIMenuItem ( title : \"Menu2\" , action : #selector ( ViewController . onMenu2 ( sender :))) let myMenuItem_3 : UIMenuItem = UIMenuItem ( title : \"Menu3\" , action : #selector ( ViewController . onMenu3 ( sender :))) // MenuItem\u3092\u914d\u5217\u306b\u683c\u7d0d. let myMenuItems : NSArray = [ myMenuItem_1 , myMenuItem_2 , myMenuItem_3 ] // MenuController\u306bMenuItem\u3092\u8ffd\u52a0. myMenuController . menuItems = myMenuItems as ? [ UIMenuItem ] } /* UITextField\u304c\u7de8\u96c6\u958b\u59cb\u3055\u308c\u305f\u76f4\u5f8c\u306b\u547c\u3070\u308c\u308b. */ func textFieldDidBeginEditing ( _ textField : UITextField ) { print ( \"textFieldDidBeginEditing:\" + textField . text !) } /* UITextField\u304c\u7de8\u96c6\u7d42\u4e86\u3059\u308b\u76f4\u524d\u306b\u547c\u3070\u308c\u308b. */ func textFieldShouldEndEditing ( _ textField : UITextField ) -> Bool { print ( \"textFieldShouldEndEditing:\" + textField . text !) return true } /* \u4f5c\u6210\u3057\u305fMenuItem\u304c\u8868\u793a\u3055\u308c\u308b\u3088\u3046\u306b\u3059\u308b. */ override func canPerformAction ( _ action : Selector , withSender sender : AnyObject !) -> Bool { if action == #selector ( ViewController . onMenu1 ( sender :)) || action == #selector ( ViewController . onMenu2 ( sender :)) || action == #selector ( ViewController . onMenu3 ( sender :)) { return true } return false } /* \u4f5c\u6210\u3057\u305fMenuItem\u304c\u62bc\u3055\u308c\u305f\u969b\u306b\u547c\u3073\u51fa\u3055\u308c\u308b. */ internal func onMenu1 ( sender : UIMenuItem ) { print ( \"onMenu1\" ) } internal func onMenu2 ( sender : UIMenuItem ) { print ( \"onMenu2\" ) } internal func onMenu3 ( sender : UIMenuItem ) { print ( \"onMenu3\" ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 // // ViewController.swift // UIKit033_2.3 // // Created by KimikoWatanabe on 2016/08/18. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UITextFieldDelegate { override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u3092\u9752\u8272\u306b\u8a2d\u5b9a. self . view . backgroundColor = UIColor . cyanColor () // TextField\u4f5c\u6210. let myTextField : UITextField = UITextField ( frame : CGRectMake ( 0 , 0 , 200 , 30 )) myTextField . text = \"Hello Swift!\" myTextField . delegate = self myTextField . borderStyle = UITextBorderStyle . RoundedRect myTextField . layer . position = CGPointMake ( self . view . frame . width / 2 , 100 ) // TextField\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( myTextField ) // MenuController\u751f\u6210. let myMenuController : UIMenuController = UIMenuController . sharedMenuController () // MenuController\u3092\u8868\u793a. myMenuController . menuVisible = true // \u77e2\u5370\u306e\u5411\u304d\u3092\u4e0b\u306b\u8a2d\u5b9a. myMenuController . arrowDirection = UIMenuControllerArrowDirection . Down // rect\u3001view\u3092\u8a2d\u5b9a. myMenuController . setTargetRect ( CGRectZero , inView : self . view ) // MenuItem\u751f\u6210. let myMenuItem_1 : UIMenuItem = UIMenuItem ( title : \"Menu1\" , action : #selector ( ViewController . onMenu1 ( _ :))) let myMenuItem_2 : UIMenuItem = UIMenuItem ( title : \"Menu2\" , action : #selector ( ViewController . onMenu2 ( _ :))) let myMenuItem_3 : UIMenuItem = UIMenuItem ( title : \"Menu3\" , action : #selector ( ViewController . onMenu3 ( _ :))) // MenuItem\u3092\u914d\u5217\u306b\u683c\u7d0d. let myMenuItems : NSArray = [ myMenuItem_1 , myMenuItem_2 , myMenuItem_3 ] // MenuController\u306bMenuItem\u3092\u8ffd\u52a0. myMenuController . menuItems = myMenuItems as ? [ UIMenuItem ] } /* UITextField\u304c\u7de8\u96c6\u958b\u59cb\u3055\u308c\u305f\u76f4\u5f8c\u306b\u547c\u3070\u308c\u308b. */ func textFieldDidBeginEditing ( textField : UITextField ) { print ( \"textFieldDidBeginEditing:\" + textField . text !) } /* UITextField\u304c\u7de8\u96c6\u7d42\u4e86\u3059\u308b\u76f4\u524d\u306b\u547c\u3070\u308c\u308b. */ func textFieldShouldEndEditing ( textField : UITextField ) -> Bool { print ( \"textFieldShouldEndEditing:\" + textField . text !) return true } /* \u4f5c\u6210\u3057\u305fMenuItem\u304c\u8868\u793a\u3055\u308c\u308b\u3088\u3046\u306b\u3059\u308b. */ override func canPerformAction ( action : Selector , withSender sender : AnyObject !) -> Bool { if action == #selector ( ViewController . onMenu1 ( _ :)) || action == #selector ( ViewController . onMenu2 ( _ :)) || action == #selector ( ViewController . onMenu3 ( _ :)) { return true } return false } /* \u4f5c\u6210\u3057\u305fMenuItem\u304c\u62bc\u3055\u308c\u305f\u969b\u306b\u547c\u3073\u51fa\u3055\u308c\u308b. */ internal func onMenu1 ( sender : UIMenuItem ) { print ( \"onMenu1\" ) } internal func onMenu2 ( sender : UIMenuItem ) { print ( \"onMenu2\" ) } internal func onMenu3 ( sender : UIMenuItem ) { print ( \"onMenu3\" ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } 3.x\u30684.x\u306e\u5dee\u5206 UITextBorderStyle \u304c UITextField.BorderStyle \u306b\u5909\u66f4 UIMenuControllerArrowDirection \u304c UIMenuController.ArrowDirection \u306b\u5909\u66f4 internal func onMenu \u306e 1~3 \u306b @objc \u3092\u8ffd\u52a0 2.3\u30683.0\u306e\u5dee\u5206 UIColor\u306e\u53c2\u7167\u65b9\u6cd5\u304c\u5909\u66f4(UIColor.grayColor()->UIColor.gray) CGRect,CGPoint\u306e\u521d\u671f\u5316\u65b9\u6cd5\u306e\u5909\u66f4(CGRectMake,CGPointMake\u306e\u5ec3\u6b62) UIMenuController\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u540d\u3001\u30e1\u30bd\u30c3\u30c9\u540d\u304c\u4e00\u90e8\u5909\u66f4( sharedMenuController() -> shared ) UITextFieldDelegate\u306e\u30c7\u30ea\u30b2\u30fc\u30c8\u30e1\u30bd\u30c3\u30c9\u306e\u5f15\u6570\u304c\u5909\u5316 CGRectZero \u304c CGRect.zero \u306b\u5909\u66f4 Reference UIMenuController Class https://developer.apple.com/reference/uikit/uimenucontroller UIMenuItem Class https://developer.apple.com/reference/uikit/uimenuitem","title":"UIMenuController\u306bMenuItem\u3092\u8ffd\u52a0"},{"location":"1.uikit/033_uimenucontroller/#uimenucontrollermenuitem","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 // // ViewController.swift // UIKit033_4.0 // // Created by KimikoWatanabe on 2016/08/18. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UITextFieldDelegate { override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u3092\u9752\u8272\u306b\u8a2d\u5b9a. self . view . backgroundColor = UIColor . cyan // TextField\u4f5c\u6210. let myTextField : UITextField = UITextField ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 30 )) myTextField . text = \"Hello Swift!\" myTextField . delegate = self myTextField . borderStyle = UITextField . BorderStyle . roundedRect myTextField . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : 100 ) // TextField\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( myTextField ) // MenuController\u751f\u6210. let myMenuController : UIMenuController = UIMenuController . shared // MenuController\u3092\u8868\u793a. myMenuController . isMenuVisible = true // \u77e2\u5370\u306e\u5411\u304d\u3092\u4e0b\u306b\u8a2d\u5b9a. myMenuController . arrowDirection = UIMenuController . ArrowDirection . down // rect\u3001view\u3092\u8a2d\u5b9a. myMenuController . setTargetRect ( CGRect . zero , in : self . view ) // MenuItem\u751f\u6210. let myMenuItem_1 : UIMenuItem = UIMenuItem ( title : \"Menu1\" , action : #selector ( ViewController . onMenu1 ( sender :))) let myMenuItem_2 : UIMenuItem = UIMenuItem ( title : \"Menu2\" , action : #selector ( ViewController . onMenu2 ( sender :))) let myMenuItem_3 : UIMenuItem = UIMenuItem ( title : \"Menu3\" , action : #selector ( ViewController . onMenu3 ( sender :))) // MenuItem\u3092\u914d\u5217\u306b\u683c\u7d0d. let myMenuItems : NSArray = [ myMenuItem_1 , myMenuItem_2 , myMenuItem_3 ] // MenuController\u306bMenuItem\u3092\u8ffd\u52a0. myMenuController . menuItems = myMenuItems as ? [ UIMenuItem ] } /* UITextField\u304c\u7de8\u96c6\u958b\u59cb\u3055\u308c\u305f\u76f4\u5f8c\u306b\u547c\u3070\u308c\u308b. */ func textFieldDidBeginEditing ( _ textField : UITextField ) { print ( \"textFieldDidBeginEditing:\" + textField . text !) } /* UITextField\u304c\u7de8\u96c6\u7d42\u4e86\u3059\u308b\u76f4\u524d\u306b\u547c\u3070\u308c\u308b. */ func textFieldShouldEndEditing ( _ textField : UITextField ) -> Bool { print ( \"textFieldShouldEndEditing:\" + textField . text !) return true } /* \u4f5c\u6210\u3057\u305fMenuItem\u304c\u8868\u793a\u3055\u308c\u308b\u3088\u3046\u306b\u3059\u308b. */ override func canPerformAction ( _ action : Selector , withSender sender : Any ?) -> Bool { if action == #selector ( ViewController . onMenu1 ( sender :)) || action == #selector ( ViewController . onMenu2 ( sender :)) || action == #selector ( ViewController . onMenu3 ( sender :)) { return true } return false } /* \u4f5c\u6210\u3057\u305fMenuItem\u304c\u62bc\u3055\u308c\u305f\u969b\u306b\u547c\u3073\u51fa\u3055\u308c\u308b. */ @objc internal func onMenu1 ( sender : UIMenuItem ) { print ( \"onMenu1\" ) } @objc internal func onMenu2 ( sender : UIMenuItem ) { print ( \"onMenu2\" ) } @objc internal func onMenu3 ( sender : UIMenuItem ) { print ( \"onMenu3\" ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 // // ViewController.swift // UIKit033_3.0 // // Created by KimikoWatanabe on 2016/08/18. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UITextFieldDelegate { override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u3092\u9752\u8272\u306b\u8a2d\u5b9a. self . view . backgroundColor = UIColor . cyan // TextField\u4f5c\u6210. let myTextField : UITextField = UITextField ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 30 )) myTextField . text = \"Hello Swift!\" myTextField . delegate = self myTextField . borderStyle = UITextBorderStyle . roundedRect myTextField . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : 100 ) // TextField\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( myTextField ) // MenuController\u751f\u6210. let myMenuController : UIMenuController = UIMenuController . shared // MenuController\u3092\u8868\u793a. myMenuController . isMenuVisible = true // \u77e2\u5370\u306e\u5411\u304d\u3092\u4e0b\u306b\u8a2d\u5b9a. myMenuController . arrowDirection = UIMenuControllerArrowDirection . down // rect\u3001view\u3092\u8a2d\u5b9a. myMenuController . setTargetRect ( CGRect . zero , in : self . view ) // MenuItem\u751f\u6210. let myMenuItem_1 : UIMenuItem = UIMenuItem ( title : \"Menu1\" , action : #selector ( ViewController . onMenu1 ( sender :))) let myMenuItem_2 : UIMenuItem = UIMenuItem ( title : \"Menu2\" , action : #selector ( ViewController . onMenu2 ( sender :))) let myMenuItem_3 : UIMenuItem = UIMenuItem ( title : \"Menu3\" , action : #selector ( ViewController . onMenu3 ( sender :))) // MenuItem\u3092\u914d\u5217\u306b\u683c\u7d0d. let myMenuItems : NSArray = [ myMenuItem_1 , myMenuItem_2 , myMenuItem_3 ] // MenuController\u306bMenuItem\u3092\u8ffd\u52a0. myMenuController . menuItems = myMenuItems as ? [ UIMenuItem ] } /* UITextField\u304c\u7de8\u96c6\u958b\u59cb\u3055\u308c\u305f\u76f4\u5f8c\u306b\u547c\u3070\u308c\u308b. */ func textFieldDidBeginEditing ( _ textField : UITextField ) { print ( \"textFieldDidBeginEditing:\" + textField . text !) } /* UITextField\u304c\u7de8\u96c6\u7d42\u4e86\u3059\u308b\u76f4\u524d\u306b\u547c\u3070\u308c\u308b. */ func textFieldShouldEndEditing ( _ textField : UITextField ) -> Bool { print ( \"textFieldShouldEndEditing:\" + textField . text !) return true } /* \u4f5c\u6210\u3057\u305fMenuItem\u304c\u8868\u793a\u3055\u308c\u308b\u3088\u3046\u306b\u3059\u308b. */ override func canPerformAction ( _ action : Selector , withSender sender : AnyObject !) -> Bool { if action == #selector ( ViewController . onMenu1 ( sender :)) || action == #selector ( ViewController . onMenu2 ( sender :)) || action == #selector ( ViewController . onMenu3 ( sender :)) { return true } return false } /* \u4f5c\u6210\u3057\u305fMenuItem\u304c\u62bc\u3055\u308c\u305f\u969b\u306b\u547c\u3073\u51fa\u3055\u308c\u308b. */ internal func onMenu1 ( sender : UIMenuItem ) { print ( \"onMenu1\" ) } internal func onMenu2 ( sender : UIMenuItem ) { print ( \"onMenu2\" ) } internal func onMenu3 ( sender : UIMenuItem ) { print ( \"onMenu3\" ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 // // ViewController.swift // UIKit033_2.3 // // Created by KimikoWatanabe on 2016/08/18. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UITextFieldDelegate { override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u3092\u9752\u8272\u306b\u8a2d\u5b9a. self . view . backgroundColor = UIColor . cyanColor () // TextField\u4f5c\u6210. let myTextField : UITextField = UITextField ( frame : CGRectMake ( 0 , 0 , 200 , 30 )) myTextField . text = \"Hello Swift!\" myTextField . delegate = self myTextField . borderStyle = UITextBorderStyle . RoundedRect myTextField . layer . position = CGPointMake ( self . view . frame . width / 2 , 100 ) // TextField\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( myTextField ) // MenuController\u751f\u6210. let myMenuController : UIMenuController = UIMenuController . sharedMenuController () // MenuController\u3092\u8868\u793a. myMenuController . menuVisible = true // \u77e2\u5370\u306e\u5411\u304d\u3092\u4e0b\u306b\u8a2d\u5b9a. myMenuController . arrowDirection = UIMenuControllerArrowDirection . Down // rect\u3001view\u3092\u8a2d\u5b9a. myMenuController . setTargetRect ( CGRectZero , inView : self . view ) // MenuItem\u751f\u6210. let myMenuItem_1 : UIMenuItem = UIMenuItem ( title : \"Menu1\" , action : #selector ( ViewController . onMenu1 ( _ :))) let myMenuItem_2 : UIMenuItem = UIMenuItem ( title : \"Menu2\" , action : #selector ( ViewController . onMenu2 ( _ :))) let myMenuItem_3 : UIMenuItem = UIMenuItem ( title : \"Menu3\" , action : #selector ( ViewController . onMenu3 ( _ :))) // MenuItem\u3092\u914d\u5217\u306b\u683c\u7d0d. let myMenuItems : NSArray = [ myMenuItem_1 , myMenuItem_2 , myMenuItem_3 ] // MenuController\u306bMenuItem\u3092\u8ffd\u52a0. myMenuController . menuItems = myMenuItems as ? [ UIMenuItem ] } /* UITextField\u304c\u7de8\u96c6\u958b\u59cb\u3055\u308c\u305f\u76f4\u5f8c\u306b\u547c\u3070\u308c\u308b. */ func textFieldDidBeginEditing ( textField : UITextField ) { print ( \"textFieldDidBeginEditing:\" + textField . text !) } /* UITextField\u304c\u7de8\u96c6\u7d42\u4e86\u3059\u308b\u76f4\u524d\u306b\u547c\u3070\u308c\u308b. */ func textFieldShouldEndEditing ( textField : UITextField ) -> Bool { print ( \"textFieldShouldEndEditing:\" + textField . text !) return true } /* \u4f5c\u6210\u3057\u305fMenuItem\u304c\u8868\u793a\u3055\u308c\u308b\u3088\u3046\u306b\u3059\u308b. */ override func canPerformAction ( action : Selector , withSender sender : AnyObject !) -> Bool { if action == #selector ( ViewController . onMenu1 ( _ :)) || action == #selector ( ViewController . onMenu2 ( _ :)) || action == #selector ( ViewController . onMenu3 ( _ :)) { return true } return false } /* \u4f5c\u6210\u3057\u305fMenuItem\u304c\u62bc\u3055\u308c\u305f\u969b\u306b\u547c\u3073\u51fa\u3055\u308c\u308b. */ internal func onMenu1 ( sender : UIMenuItem ) { print ( \"onMenu1\" ) } internal func onMenu2 ( sender : UIMenuItem ) { print ( \"onMenu2\" ) } internal func onMenu3 ( sender : UIMenuItem ) { print ( \"onMenu3\" ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } }","title":"UIMenuController\u306bMenuItem\u3092\u8ffd\u52a0"},{"location":"1.uikit/033_uimenucontroller/#3x4x","text":"UITextBorderStyle \u304c UITextField.BorderStyle \u306b\u5909\u66f4 UIMenuControllerArrowDirection \u304c UIMenuController.ArrowDirection \u306b\u5909\u66f4 internal func onMenu \u306e 1~3 \u306b @objc \u3092\u8ffd\u52a0","title":"3.x\u30684.x\u306e\u5dee\u5206"},{"location":"1.uikit/033_uimenucontroller/#2330","text":"UIColor\u306e\u53c2\u7167\u65b9\u6cd5\u304c\u5909\u66f4(UIColor.grayColor()->UIColor.gray) CGRect,CGPoint\u306e\u521d\u671f\u5316\u65b9\u6cd5\u306e\u5909\u66f4(CGRectMake,CGPointMake\u306e\u5ec3\u6b62) UIMenuController\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u540d\u3001\u30e1\u30bd\u30c3\u30c9\u540d\u304c\u4e00\u90e8\u5909\u66f4( sharedMenuController() -> shared ) UITextFieldDelegate\u306e\u30c7\u30ea\u30b2\u30fc\u30c8\u30e1\u30bd\u30c3\u30c9\u306e\u5f15\u6570\u304c\u5909\u5316 CGRectZero \u304c CGRect.zero \u306b\u5909\u66f4","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"1.uikit/033_uimenucontroller/#reference","text":"UIMenuController Class https://developer.apple.com/reference/uikit/uimenucontroller UIMenuItem Class https://developer.apple.com/reference/uikit/uimenuitem","title":"Reference"},{"location":"1.uikit/034_uimotioneffect/","text":"UIView\u306bUIMotionEffect\u3092\u8ffd\u52a0 Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 // // ViewController.swift // UIKit034_4.0 // // Created by KimikoWatanabe on 2016/08/18. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () self . view . backgroundColor = UIColor . cyan // UIView\u3092\u4f5c\u6210. let myBox = UIView ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 200 )) myBox . backgroundColor = UIColor . black myBox . layer . masksToBounds = true myBox . layer . cornerRadius = 20.0 myBox . layer . position = self . view . center myBox . layer . zPosition = 1 self . view . addSubview ( myBox ) // Label\u3092\u4f5c\u6210. let myLabel = UILabel ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 200 )) myLabel . backgroundColor = UIColor . gray myLabel . layer . masksToBounds = true myLabel . layer . cornerRadius = 20.0 myLabel . text = \"Hello Swift!!\" myLabel . textColor = UIColor . white myLabel . shadowColor = UIColor . gray myLabel . textAlignment = NSTextAlignment . center myLabel . layer . position = self . view . center myLabel . layer . zPosition = 2 self . view . addSubview ( myLabel ) //\u7aef\u672b\u306e\uff58\u8ef8\u65b9\u5411\u306e\u50be\u304d\u306b\u5fdc\u3058\u3066myBox\u306e\u4f4d\u7f6e\u3092\u5909\u3048\u308b\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u4f5c\u6210. let xAxis1 = UIInterpolatingMotionEffect ( keyPath : \"center.x\" , type : UIInterpolatingMotionEffect . EffectType . tiltAlongHorizontalAxis ) xAxis1 . minimumRelativeValue = - 100.0 xAxis1 . maximumRelativeValue = 100.0 //\u7aef\u672b\u306ey\u8ef8\u65b9\u5411\u306e\u50be\u304d\u306b\u5fdc\u3058\u3066myBox\u306e\u4f4d\u7f6e\u3092\u5909\u3048\u308b\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u4f5c\u6210. let yAxis1 = UIInterpolatingMotionEffect ( keyPath : \"center.y\" , type : UIInterpolatingMotionEffect . EffectType . tiltAlongVerticalAxis ) yAxis1 . minimumRelativeValue = - 100.0 yAxis1 . maximumRelativeValue = 100.0 //\u30e2\u30fc\u30b7\u30e7\u30f3\u30a8\u30d5\u30a7\u30af\u30c8\u306e\u30b0\u30eb\u30fc\u30d7\u3092\u4f5c\u6210. let group1 = UIMotionEffectGroup () group1 . motionEffects = [ xAxis1 , yAxis1 ] //\u7aef\u672b\u306e\uff58\u8ef8\u65b9\u5411\u306e\u50be\u304d\u306b\u5fdc\u3058\u3066myLabel\u306e\u4f4d\u7f6e\u3092\u5909\u3048\u308b\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u4f5c\u6210. let xAxis = UIInterpolatingMotionEffect ( keyPath : \"center.x\" , type : UIInterpolatingMotionEffect . EffectType . tiltAlongHorizontalAxis ) xAxis . minimumRelativeValue = - 50.0 xAxis . maximumRelativeValue = 50.0 //\u7aef\u672b\u306ey\u8ef8\u65b9\u5411\u306e\u50be\u304d\u306b\u5fdc\u3058\u3066myLabel\u306e\u4f4d\u7f6e\u3092\u5909\u3048\u308b\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u4f5c\u6210. let yAxis = UIInterpolatingMotionEffect ( keyPath : \"center.y\" , type : UIInterpolatingMotionEffect . EffectType . tiltAlongVerticalAxis ) yAxis . minimumRelativeValue = - 50.0 yAxis . maximumRelativeValue = 50.0 //\u30e2\u30fc\u30b7\u30e7\u30f3\u30a8\u30d5\u30a7\u30af\u30c8\u306e\u30b0\u30eb\u30fc\u30d7\u3092\u4f5c\u6210. let group = UIMotionEffectGroup () group . motionEffects = [ xAxis , yAxis ] //myLabel\u306b\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u9069\u7528\u3055\u305b\u308b. myBox . addMotionEffect ( group ) myLabel . addMotionEffect ( group1 ) } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 // // ViewController.swift // UIKit034_3.0 // // Created by KimikoWatanabe on 2016/08/18. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () self . view . backgroundColor = UIColor . cyan // UIView\u3092\u4f5c\u6210. let myBox = UIView ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 200 )) myBox . backgroundColor = UIColor . black myBox . layer . masksToBounds = true myBox . layer . cornerRadius = 20.0 myBox . layer . position = self . view . center myBox . layer . zPosition = 1 self . view . addSubview ( myBox ) // Label\u3092\u4f5c\u6210. let myLabel = UILabel ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 200 )) myLabel . backgroundColor = UIColor . gray myLabel . layer . masksToBounds = true myLabel . layer . cornerRadius = 20.0 myLabel . text = \"Hello Swift!!\" myLabel . textColor = UIColor . white myLabel . shadowColor = UIColor . gray myLabel . textAlignment = NSTextAlignment . center myLabel . layer . position = self . view . center myLabel . layer . zPosition = 2 self . view . addSubview ( myLabel ) //\u7aef\u672b\u306e\uff58\u8ef8\u65b9\u5411\u306e\u50be\u304d\u306b\u5fdc\u3058\u3066myBox\u306e\u4f4d\u7f6e\u3092\u5909\u3048\u308b\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u4f5c\u6210. let xAxis1 = UIInterpolatingMotionEffect ( keyPath : \"center.x\" , type : UIInterpolatingMotionEffectType . tiltAlongHorizontalAxis ) xAxis1 . minimumRelativeValue = - 100.0 xAxis1 . maximumRelativeValue = 100.0 //\u7aef\u672b\u306ey\u8ef8\u65b9\u5411\u306e\u50be\u304d\u306b\u5fdc\u3058\u3066myBox\u306e\u4f4d\u7f6e\u3092\u5909\u3048\u308b\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u4f5c\u6210. let yAxis1 = UIInterpolatingMotionEffect ( keyPath : \"center.y\" , type : UIInterpolatingMotionEffectType . tiltAlongVerticalAxis ) yAxis1 . minimumRelativeValue = - 100.0 yAxis1 . maximumRelativeValue = 100.0 //\u30e2\u30fc\u30b7\u30e7\u30f3\u30a8\u30d5\u30a7\u30af\u30c8\u306e\u30b0\u30eb\u30fc\u30d7\u3092\u4f5c\u6210. let group1 = UIMotionEffectGroup () group1 . motionEffects = [ xAxis1 , yAxis1 ] //\u7aef\u672b\u306e\uff58\u8ef8\u65b9\u5411\u306e\u50be\u304d\u306b\u5fdc\u3058\u3066myLabel\u306e\u4f4d\u7f6e\u3092\u5909\u3048\u308b\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u4f5c\u6210. let xAxis = UIInterpolatingMotionEffect ( keyPath : \"center.x\" , type : UIInterpolatingMotionEffectType . tiltAlongHorizontalAxis ) xAxis . minimumRelativeValue = - 50.0 xAxis . maximumRelativeValue = 50.0 //\u7aef\u672b\u306ey\u8ef8\u65b9\u5411\u306e\u50be\u304d\u306b\u5fdc\u3058\u3066myLabel\u306e\u4f4d\u7f6e\u3092\u5909\u3048\u308b\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u4f5c\u6210. let yAxis = UIInterpolatingMotionEffect ( keyPath : \"center.y\" , type : UIInterpolatingMotionEffectType . tiltAlongVerticalAxis ) yAxis . minimumRelativeValue = - 50.0 yAxis . maximumRelativeValue = 50.0 //\u30e2\u30fc\u30b7\u30e7\u30f3\u30a8\u30d5\u30a7\u30af\u30c8\u306e\u30b0\u30eb\u30fc\u30d7\u3092\u4f5c\u6210. let group = UIMotionEffectGroup () group . motionEffects = [ xAxis , yAxis ] //myLabel\u306b\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u9069\u7528\u3055\u305b\u308b. myBox . addMotionEffect ( group ) myLabel . addMotionEffect ( group1 ) } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 // // ViewController.swift // UIKit034_2.3 // // Created by KimikoWatanabe on 2016/08/18. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () self . view . backgroundColor = UIColor . cyanColor () // UIView\u3092\u4f5c\u6210. let myBox = UIView ( frame : CGRectMake ( 0 , 0 , 200 , 200 )) myBox . backgroundColor = UIColor . blackColor () myBox . layer . masksToBounds = true myBox . layer . cornerRadius = 20.0 myBox . layer . position = self . view . center myBox . layer . zPosition = 1 self . view . addSubview ( myBox ) // Label\u3092\u4f5c\u6210. let myLabel = UILabel ( frame : CGRectMake ( 0 , 0 , 200 , 200 )) myLabel . backgroundColor = UIColor . grayColor () myLabel . layer . masksToBounds = true myLabel . layer . cornerRadius = 20.0 myLabel . text = \"Hello Swift!!\" myLabel . textColor = UIColor . whiteColor () myLabel . shadowColor = UIColor . grayColor () myLabel . textAlignment = NSTextAlignment . Center myLabel . layer . position = self . view . center myLabel . layer . zPosition = 2 self . view . addSubview ( myLabel ) //\u7aef\u672b\u306e\uff58\u8ef8\u65b9\u5411\u306e\u50be\u304d\u306b\u5fdc\u3058\u3066myBox\u306e\u4f4d\u7f6e\u3092\u5909\u3048\u308b\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u4f5c\u6210. let xAxis1 = UIInterpolatingMotionEffect ( keyPath : \"center.x\" , type : UIInterpolatingMotionEffectType . TiltAlongHorizontalAxis ) xAxis1 . minimumRelativeValue = - 100.0 xAxis1 . maximumRelativeValue = 100.0 //\u7aef\u672b\u306ey\u8ef8\u65b9\u5411\u306e\u50be\u304d\u306b\u5fdc\u3058\u3066myBox\u306e\u4f4d\u7f6e\u3092\u5909\u3048\u308b\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u4f5c\u6210. let yAxis1 = UIInterpolatingMotionEffect ( keyPath : \"center.y\" , type : UIInterpolatingMotionEffectType . TiltAlongVerticalAxis ) yAxis1 . minimumRelativeValue = - 100.0 yAxis1 . maximumRelativeValue = 100.0 //\u30e2\u30fc\u30b7\u30e7\u30f3\u30a8\u30d5\u30a7\u30af\u30c8\u306e\u30b0\u30eb\u30fc\u30d7\u3092\u4f5c\u6210. let group1 = UIMotionEffectGroup () group1 . motionEffects = [ xAxis1 , yAxis1 ] //\u7aef\u672b\u306e\uff58\u8ef8\u65b9\u5411\u306e\u50be\u304d\u306b\u5fdc\u3058\u3066myLabel\u306e\u4f4d\u7f6e\u3092\u5909\u3048\u308b\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u4f5c\u6210. let xAxis = UIInterpolatingMotionEffect ( keyPath : \"center.x\" , type : UIInterpolatingMotionEffectType . TiltAlongHorizontalAxis ) xAxis . minimumRelativeValue = - 50.0 xAxis . maximumRelativeValue = 50.0 //\u7aef\u672b\u306ey\u8ef8\u65b9\u5411\u306e\u50be\u304d\u306b\u5fdc\u3058\u3066myLabel\u306e\u4f4d\u7f6e\u3092\u5909\u3048\u308b\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u4f5c\u6210. let yAxis = UIInterpolatingMotionEffect ( keyPath : \"center.y\" , type : UIInterpolatingMotionEffectType . TiltAlongVerticalAxis ) yAxis . minimumRelativeValue = - 50.0 yAxis . maximumRelativeValue = 50.0 //\u30e2\u30fc\u30b7\u30e7\u30f3\u30a8\u30d5\u30a7\u30af\u30c8\u306e\u30b0\u30eb\u30fc\u30d7\u3092\u4f5c\u6210. let group = UIMotionEffectGroup () group . motionEffects = [ xAxis , yAxis ] //myLabel\u306b\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u9069\u7528\u3055\u305b\u308b. myBox . addMotionEffect ( group ) myLabel . addMotionEffect ( group1 ) } } 3.x\u30684.x\u306e\u5dee\u5206 UIInterpolatingMotionEffectType \u304c UIInterpolatingMotionEffect.EffectType \u306b\u5909\u66f4 2.3\u30683.0\u306e\u5dee\u5206 UIColor\u306e\u53c2\u7167\u65b9\u6cd5\u304c\u5909\u66f4(UIColor.grayColor()->UIColor.gray) CGRect,CGPoint\u306e\u521d\u671f\u5316\u65b9\u6cd5\u306e\u5909\u66f4(CGRectMake,CGPointMake\u306e\u5ec3\u6b62) Reference UIInterpolatingMotionEffect Class https://developer.apple.com/reference/uikit/uiinterpolatingmotioneffect UIMotionEffectGroup Class https://developer.apple.com/reference/uikit/uimotioneffectgroup","title":"UIView\u306bUIMotionEffect\u3092\u8ffd\u52a0"},{"location":"1.uikit/034_uimotioneffect/#uiviewuimotioneffect","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 // // ViewController.swift // UIKit034_4.0 // // Created by KimikoWatanabe on 2016/08/18. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () self . view . backgroundColor = UIColor . cyan // UIView\u3092\u4f5c\u6210. let myBox = UIView ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 200 )) myBox . backgroundColor = UIColor . black myBox . layer . masksToBounds = true myBox . layer . cornerRadius = 20.0 myBox . layer . position = self . view . center myBox . layer . zPosition = 1 self . view . addSubview ( myBox ) // Label\u3092\u4f5c\u6210. let myLabel = UILabel ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 200 )) myLabel . backgroundColor = UIColor . gray myLabel . layer . masksToBounds = true myLabel . layer . cornerRadius = 20.0 myLabel . text = \"Hello Swift!!\" myLabel . textColor = UIColor . white myLabel . shadowColor = UIColor . gray myLabel . textAlignment = NSTextAlignment . center myLabel . layer . position = self . view . center myLabel . layer . zPosition = 2 self . view . addSubview ( myLabel ) //\u7aef\u672b\u306e\uff58\u8ef8\u65b9\u5411\u306e\u50be\u304d\u306b\u5fdc\u3058\u3066myBox\u306e\u4f4d\u7f6e\u3092\u5909\u3048\u308b\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u4f5c\u6210. let xAxis1 = UIInterpolatingMotionEffect ( keyPath : \"center.x\" , type : UIInterpolatingMotionEffect . EffectType . tiltAlongHorizontalAxis ) xAxis1 . minimumRelativeValue = - 100.0 xAxis1 . maximumRelativeValue = 100.0 //\u7aef\u672b\u306ey\u8ef8\u65b9\u5411\u306e\u50be\u304d\u306b\u5fdc\u3058\u3066myBox\u306e\u4f4d\u7f6e\u3092\u5909\u3048\u308b\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u4f5c\u6210. let yAxis1 = UIInterpolatingMotionEffect ( keyPath : \"center.y\" , type : UIInterpolatingMotionEffect . EffectType . tiltAlongVerticalAxis ) yAxis1 . minimumRelativeValue = - 100.0 yAxis1 . maximumRelativeValue = 100.0 //\u30e2\u30fc\u30b7\u30e7\u30f3\u30a8\u30d5\u30a7\u30af\u30c8\u306e\u30b0\u30eb\u30fc\u30d7\u3092\u4f5c\u6210. let group1 = UIMotionEffectGroup () group1 . motionEffects = [ xAxis1 , yAxis1 ] //\u7aef\u672b\u306e\uff58\u8ef8\u65b9\u5411\u306e\u50be\u304d\u306b\u5fdc\u3058\u3066myLabel\u306e\u4f4d\u7f6e\u3092\u5909\u3048\u308b\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u4f5c\u6210. let xAxis = UIInterpolatingMotionEffect ( keyPath : \"center.x\" , type : UIInterpolatingMotionEffect . EffectType . tiltAlongHorizontalAxis ) xAxis . minimumRelativeValue = - 50.0 xAxis . maximumRelativeValue = 50.0 //\u7aef\u672b\u306ey\u8ef8\u65b9\u5411\u306e\u50be\u304d\u306b\u5fdc\u3058\u3066myLabel\u306e\u4f4d\u7f6e\u3092\u5909\u3048\u308b\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u4f5c\u6210. let yAxis = UIInterpolatingMotionEffect ( keyPath : \"center.y\" , type : UIInterpolatingMotionEffect . EffectType . tiltAlongVerticalAxis ) yAxis . minimumRelativeValue = - 50.0 yAxis . maximumRelativeValue = 50.0 //\u30e2\u30fc\u30b7\u30e7\u30f3\u30a8\u30d5\u30a7\u30af\u30c8\u306e\u30b0\u30eb\u30fc\u30d7\u3092\u4f5c\u6210. let group = UIMotionEffectGroup () group . motionEffects = [ xAxis , yAxis ] //myLabel\u306b\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u9069\u7528\u3055\u305b\u308b. myBox . addMotionEffect ( group ) myLabel . addMotionEffect ( group1 ) } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 // // ViewController.swift // UIKit034_3.0 // // Created by KimikoWatanabe on 2016/08/18. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () self . view . backgroundColor = UIColor . cyan // UIView\u3092\u4f5c\u6210. let myBox = UIView ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 200 )) myBox . backgroundColor = UIColor . black myBox . layer . masksToBounds = true myBox . layer . cornerRadius = 20.0 myBox . layer . position = self . view . center myBox . layer . zPosition = 1 self . view . addSubview ( myBox ) // Label\u3092\u4f5c\u6210. let myLabel = UILabel ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 200 )) myLabel . backgroundColor = UIColor . gray myLabel . layer . masksToBounds = true myLabel . layer . cornerRadius = 20.0 myLabel . text = \"Hello Swift!!\" myLabel . textColor = UIColor . white myLabel . shadowColor = UIColor . gray myLabel . textAlignment = NSTextAlignment . center myLabel . layer . position = self . view . center myLabel . layer . zPosition = 2 self . view . addSubview ( myLabel ) //\u7aef\u672b\u306e\uff58\u8ef8\u65b9\u5411\u306e\u50be\u304d\u306b\u5fdc\u3058\u3066myBox\u306e\u4f4d\u7f6e\u3092\u5909\u3048\u308b\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u4f5c\u6210. let xAxis1 = UIInterpolatingMotionEffect ( keyPath : \"center.x\" , type : UIInterpolatingMotionEffectType . tiltAlongHorizontalAxis ) xAxis1 . minimumRelativeValue = - 100.0 xAxis1 . maximumRelativeValue = 100.0 //\u7aef\u672b\u306ey\u8ef8\u65b9\u5411\u306e\u50be\u304d\u306b\u5fdc\u3058\u3066myBox\u306e\u4f4d\u7f6e\u3092\u5909\u3048\u308b\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u4f5c\u6210. let yAxis1 = UIInterpolatingMotionEffect ( keyPath : \"center.y\" , type : UIInterpolatingMotionEffectType . tiltAlongVerticalAxis ) yAxis1 . minimumRelativeValue = - 100.0 yAxis1 . maximumRelativeValue = 100.0 //\u30e2\u30fc\u30b7\u30e7\u30f3\u30a8\u30d5\u30a7\u30af\u30c8\u306e\u30b0\u30eb\u30fc\u30d7\u3092\u4f5c\u6210. let group1 = UIMotionEffectGroup () group1 . motionEffects = [ xAxis1 , yAxis1 ] //\u7aef\u672b\u306e\uff58\u8ef8\u65b9\u5411\u306e\u50be\u304d\u306b\u5fdc\u3058\u3066myLabel\u306e\u4f4d\u7f6e\u3092\u5909\u3048\u308b\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u4f5c\u6210. let xAxis = UIInterpolatingMotionEffect ( keyPath : \"center.x\" , type : UIInterpolatingMotionEffectType . tiltAlongHorizontalAxis ) xAxis . minimumRelativeValue = - 50.0 xAxis . maximumRelativeValue = 50.0 //\u7aef\u672b\u306ey\u8ef8\u65b9\u5411\u306e\u50be\u304d\u306b\u5fdc\u3058\u3066myLabel\u306e\u4f4d\u7f6e\u3092\u5909\u3048\u308b\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u4f5c\u6210. let yAxis = UIInterpolatingMotionEffect ( keyPath : \"center.y\" , type : UIInterpolatingMotionEffectType . tiltAlongVerticalAxis ) yAxis . minimumRelativeValue = - 50.0 yAxis . maximumRelativeValue = 50.0 //\u30e2\u30fc\u30b7\u30e7\u30f3\u30a8\u30d5\u30a7\u30af\u30c8\u306e\u30b0\u30eb\u30fc\u30d7\u3092\u4f5c\u6210. let group = UIMotionEffectGroup () group . motionEffects = [ xAxis , yAxis ] //myLabel\u306b\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u9069\u7528\u3055\u305b\u308b. myBox . addMotionEffect ( group ) myLabel . addMotionEffect ( group1 ) } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 // // ViewController.swift // UIKit034_2.3 // // Created by KimikoWatanabe on 2016/08/18. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () self . view . backgroundColor = UIColor . cyanColor () // UIView\u3092\u4f5c\u6210. let myBox = UIView ( frame : CGRectMake ( 0 , 0 , 200 , 200 )) myBox . backgroundColor = UIColor . blackColor () myBox . layer . masksToBounds = true myBox . layer . cornerRadius = 20.0 myBox . layer . position = self . view . center myBox . layer . zPosition = 1 self . view . addSubview ( myBox ) // Label\u3092\u4f5c\u6210. let myLabel = UILabel ( frame : CGRectMake ( 0 , 0 , 200 , 200 )) myLabel . backgroundColor = UIColor . grayColor () myLabel . layer . masksToBounds = true myLabel . layer . cornerRadius = 20.0 myLabel . text = \"Hello Swift!!\" myLabel . textColor = UIColor . whiteColor () myLabel . shadowColor = UIColor . grayColor () myLabel . textAlignment = NSTextAlignment . Center myLabel . layer . position = self . view . center myLabel . layer . zPosition = 2 self . view . addSubview ( myLabel ) //\u7aef\u672b\u306e\uff58\u8ef8\u65b9\u5411\u306e\u50be\u304d\u306b\u5fdc\u3058\u3066myBox\u306e\u4f4d\u7f6e\u3092\u5909\u3048\u308b\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u4f5c\u6210. let xAxis1 = UIInterpolatingMotionEffect ( keyPath : \"center.x\" , type : UIInterpolatingMotionEffectType . TiltAlongHorizontalAxis ) xAxis1 . minimumRelativeValue = - 100.0 xAxis1 . maximumRelativeValue = 100.0 //\u7aef\u672b\u306ey\u8ef8\u65b9\u5411\u306e\u50be\u304d\u306b\u5fdc\u3058\u3066myBox\u306e\u4f4d\u7f6e\u3092\u5909\u3048\u308b\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u4f5c\u6210. let yAxis1 = UIInterpolatingMotionEffect ( keyPath : \"center.y\" , type : UIInterpolatingMotionEffectType . TiltAlongVerticalAxis ) yAxis1 . minimumRelativeValue = - 100.0 yAxis1 . maximumRelativeValue = 100.0 //\u30e2\u30fc\u30b7\u30e7\u30f3\u30a8\u30d5\u30a7\u30af\u30c8\u306e\u30b0\u30eb\u30fc\u30d7\u3092\u4f5c\u6210. let group1 = UIMotionEffectGroup () group1 . motionEffects = [ xAxis1 , yAxis1 ] //\u7aef\u672b\u306e\uff58\u8ef8\u65b9\u5411\u306e\u50be\u304d\u306b\u5fdc\u3058\u3066myLabel\u306e\u4f4d\u7f6e\u3092\u5909\u3048\u308b\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u4f5c\u6210. let xAxis = UIInterpolatingMotionEffect ( keyPath : \"center.x\" , type : UIInterpolatingMotionEffectType . TiltAlongHorizontalAxis ) xAxis . minimumRelativeValue = - 50.0 xAxis . maximumRelativeValue = 50.0 //\u7aef\u672b\u306ey\u8ef8\u65b9\u5411\u306e\u50be\u304d\u306b\u5fdc\u3058\u3066myLabel\u306e\u4f4d\u7f6e\u3092\u5909\u3048\u308b\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u4f5c\u6210. let yAxis = UIInterpolatingMotionEffect ( keyPath : \"center.y\" , type : UIInterpolatingMotionEffectType . TiltAlongVerticalAxis ) yAxis . minimumRelativeValue = - 50.0 yAxis . maximumRelativeValue = 50.0 //\u30e2\u30fc\u30b7\u30e7\u30f3\u30a8\u30d5\u30a7\u30af\u30c8\u306e\u30b0\u30eb\u30fc\u30d7\u3092\u4f5c\u6210. let group = UIMotionEffectGroup () group . motionEffects = [ xAxis , yAxis ] //myLabel\u306b\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u9069\u7528\u3055\u305b\u308b. myBox . addMotionEffect ( group ) myLabel . addMotionEffect ( group1 ) } }","title":"UIView\u306bUIMotionEffect\u3092\u8ffd\u52a0"},{"location":"1.uikit/034_uimotioneffect/#3x4x","text":"UIInterpolatingMotionEffectType \u304c UIInterpolatingMotionEffect.EffectType \u306b\u5909\u66f4","title":"3.x\u30684.x\u306e\u5dee\u5206"},{"location":"1.uikit/034_uimotioneffect/#2330","text":"UIColor\u306e\u53c2\u7167\u65b9\u6cd5\u304c\u5909\u66f4(UIColor.grayColor()->UIColor.gray) CGRect,CGPoint\u306e\u521d\u671f\u5316\u65b9\u6cd5\u306e\u5909\u66f4(CGRectMake,CGPointMake\u306e\u5ec3\u6b62)","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"1.uikit/034_uimotioneffect/#reference","text":"UIInterpolatingMotionEffect Class https://developer.apple.com/reference/uikit/uiinterpolatingmotioneffect UIMotionEffectGroup Class https://developer.apple.com/reference/uikit/uimotioneffectgroup","title":"Reference"},{"location":"1.uikit/035_blureffect/","text":"UIView\u306bBlur\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u9069\u7528\u3055\u305b\u308b Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 // // ViewController.swift // UIKit035_4.0 // // Created by KimikoWatanabe on 2016/08/18. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { private var effectView : UIVisualEffectView ! private var mySegcon : UISegmentedControl ! override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u753b\u50cf\u3092\u751f\u6210. let image = UIImage ( named : \"ci005\" ) let imageView = UIImageView ( frame : self . view . bounds ) imageView . image = image self . view . addSubview ( imageView ) // SegmentedControl\u3092\u751f\u6210. mySegcon = UISegmentedControl ( items : [ \"Dark\" , \"ExtraLight\" , \"Light\" ]) mySegcon . center = CGPoint ( x : self . view . center . x , y : self . view . bounds . maxY - 50 ) mySegcon . backgroundColor = UIColor . gray mySegcon . tintColor = UIColor . white mySegcon . addTarget ( self , action : #selector ( ViewController . onClickMySegmentedControl ( sender :)), for : UIControl . Event . valueChanged ) self . view . addSubview ( mySegcon ) } /* \u30a8\u30d5\u30a7\u30af\u30c8\u3092\u9069\u7528\u3059\u308b. */ internal func addVirtualEffectView ( effect : UIBlurEffect !){ if effectView != nil { effectView . removeFromSuperview () } // Blur\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u9069\u7528\u3059\u308bEffectView\u3092\u4f5c\u6210. effectView = UIVisualEffectView ( effect : effect ) effectView . frame = CGRect ( x : 0 , y : 0 , width : 200 , height : 400 ) effectView . layer . position = CGPoint ( x : mySegcon . bounds . midX , y : - ( effectView . frame . midY + 20 ) ) effectView . layer . masksToBounds = true effectView . layer . cornerRadius = 20.0 mySegcon . addSubview ( effectView ) } /* SegmentedControl\u306e\u5024\u304c\u5909\u308f\u3063\u305f\u6642\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ @objc internal func onClickMySegmentedControl ( sender : UISegmentedControl ){ var effect : UIBlurEffect ! switch sender . selectedSegmentIndex { case 0 : // Light\u306aBlur\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u4f5c\u308b. effect = UIBlurEffect ( style : UIBlurEffect . Style . dark ) case 1 : // Dark\u306aBlur\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u4f5c\u308b. effect = UIBlurEffect ( style : UIBlurEffect . Style . light ) case 2 : // ExtraLight\u306aBlur\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u4f5c\u308b. effect = UIBlurEffect ( style : UIBlurEffect . Style . extraLight ) default : print ( \"Error\" ) } self . addVirtualEffectView ( effect : effect ) } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 // // ViewController.swift // UIKit035_3.0 // // Created by KimikoWatanabe on 2016/08/18. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { private var effectView : UIVisualEffectView ! private var mySegcon : UISegmentedControl ! override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u753b\u50cf\u3092\u751f\u6210. let image = UIImage ( named : \"ci005\" ) let imageView = UIImageView ( frame : self . view . bounds ) imageView . image = image self . view . addSubview ( imageView ) // SegmentedControl\u3092\u751f\u6210. mySegcon = UISegmentedControl ( items : [ \"Dark\" , \"ExtraLight\" , \"Light\" ]) mySegcon . center = CGPoint ( x : self . view . center . x , y : self . view . bounds . maxY - 50 ) mySegcon . backgroundColor = UIColor . gray mySegcon . tintColor = UIColor . white mySegcon . addTarget ( self , action : #selector ( ViewController . onClickMySegmentedControl ( sender :)), for : UIControlEvents . valueChanged ) self . view . addSubview ( mySegcon ) } /* \u30a8\u30d5\u30a7\u30af\u30c8\u3092\u9069\u7528\u3059\u308b. */ internal func addVirtualEffectView ( effect : UIBlurEffect !){ if effectView != nil { effectView . removeFromSuperview () } // Blur\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u9069\u7528\u3059\u308bEffectView\u3092\u4f5c\u6210. effectView = UIVisualEffectView ( effect : effect ) effectView . frame = CGRect ( x : 0 , y : 0 , width : 200 , height : 400 ) effectView . layer . position = CGPoint ( x : mySegcon . bounds . midX , y : - ( effectView . frame . midY + 20 ) ) effectView . layer . masksToBounds = true effectView . layer . cornerRadius = 20.0 mySegcon . addSubview ( effectView ) } /* SegmentedControl\u306e\u5024\u304c\u5909\u308f\u3063\u305f\u6642\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ internal func onClickMySegmentedControl ( sender : UISegmentedControl ){ var effect : UIBlurEffect ! switch sender . selectedSegmentIndex { case 0 : // Light\u306aBlur\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u4f5c\u308b. effect = UIBlurEffect ( style : UIBlurEffectStyle . dark ) case 1 : // Dark\u306aBlur\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u4f5c\u308b. effect = UIBlurEffect ( style : UIBlurEffectStyle . light ) case 2 : // ExtraLight\u306aBlur\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u4f5c\u308b. effect = UIBlurEffect ( style : UIBlurEffectStyle . extraLight ) default : print ( \"Error\" ) } self . addVirtualEffectView ( effect : effect ) } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 // // ViewController.swift // UIKit035_2.3 // // Created by KimikoWatanabe on 2016/08/18. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { private var effectView : UIVisualEffectView ! private var mySegcon : UISegmentedControl ! override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u753b\u50cf\u3092\u751f\u6210. let image = UIImage ( named : \"ci005\" ) let imageView = UIImageView ( frame : self . view . bounds ) imageView . image = image self . view . addSubview ( imageView ) // SegmentedControl\u3092\u751f\u6210. mySegcon = UISegmentedControl ( items : [ \"Dark\" , \"ExtraLight\" , \"Light\" ]) mySegcon . center = CGPointMake ( self . view . center . x , self . view . bounds . maxY - 50 ) mySegcon . backgroundColor = UIColor . grayColor () mySegcon . tintColor = UIColor . whiteColor () mySegcon . addTarget ( self , action : #selector ( ViewController . onClickMySegmentedControl ( _ :)), forControlEvents : UIControlEvents . ValueChanged ) self . view . addSubview ( mySegcon ) } /* \u30a8\u30d5\u30a7\u30af\u30c8\u3092\u9069\u7528\u3059\u308b. */ internal func addVirtualEffectView ( effect : UIBlurEffect !){ if effectView != nil { effectView . removeFromSuperview () } // Blur\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u9069\u7528\u3059\u308bEffectView\u3092\u4f5c\u6210. effectView = UIVisualEffectView ( effect : effect ) effectView . frame = CGRectMake ( 0 , 0 , 200 , 400 ) effectView . layer . position = CGPointMake ( mySegcon . bounds . midX , - ( effectView . frame . midY + 20 ) ) effectView . layer . masksToBounds = true effectView . layer . cornerRadius = 20.0 mySegcon . addSubview ( effectView ) } /* SegmentedControl\u306e\u5024\u304c\u5909\u308f\u3063\u305f\u6642\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ internal func onClickMySegmentedControl ( sender : UISegmentedControl ){ var effect : UIBlurEffect ! switch sender . selectedSegmentIndex { case 0 : // Light\u306aBlur\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u4f5c\u308b. effect = UIBlurEffect ( style : UIBlurEffectStyle . Dark ) case 1 : // Dark\u306aBlur\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u4f5c\u308b. effect = UIBlurEffect ( style : UIBlurEffectStyle . Light ) case 2 : // ExtraLight\u306aBlur\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u4f5c\u308b. effect = UIBlurEffect ( style : UIBlurEffectStyle . ExtraLight ) default : print ( \"Error\" ) } self . addVirtualEffectView ( effect ) } } 3.x\u30684.x\u306e\u5dee\u5206 UIControlEvents \u304c UIControl.Event \u306b\u5909\u66f4 internal func addVirtualEffectView(effect : UIBlurEffect!) \u306b @objc \u3092\u8ffd\u52a0 UIBlurEffectStyle \u304c UIBlurEffect.Style \u306b\u5909\u66f4 2.3\u30683.0\u306e\u5dee\u5206 UIColor\u306e\u53c2\u7167\u65b9\u6cd5\u304c\u5909\u66f4(UIColor.grayColor()->UIColor.gray) CGRect,CGPoint\u306e\u521d\u671f\u5316\u65b9\u6cd5\u306e\u5909\u66f4(CGRectMake,CGPointMake\u306e\u5ec3\u6b62) Reference UIVisualEffectView Class https://developer.apple.com/reference/uikit/uivisualeffectview UISegmentedControl Class https://developer.apple.com/reference/uikit/uisegmentedcontrol UIBlurEffect Class https://developer.apple.com/reference/uikit/uiblureffect UIVisualEffectView Class https://developer.apple.com/reference/uikit/uivisualeffectview","title":"UIView\u306bBlur\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u9069\u7528\u3055\u305b\u308b"},{"location":"1.uikit/035_blureffect/#uiviewblur","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 // // ViewController.swift // UIKit035_4.0 // // Created by KimikoWatanabe on 2016/08/18. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { private var effectView : UIVisualEffectView ! private var mySegcon : UISegmentedControl ! override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u753b\u50cf\u3092\u751f\u6210. let image = UIImage ( named : \"ci005\" ) let imageView = UIImageView ( frame : self . view . bounds ) imageView . image = image self . view . addSubview ( imageView ) // SegmentedControl\u3092\u751f\u6210. mySegcon = UISegmentedControl ( items : [ \"Dark\" , \"ExtraLight\" , \"Light\" ]) mySegcon . center = CGPoint ( x : self . view . center . x , y : self . view . bounds . maxY - 50 ) mySegcon . backgroundColor = UIColor . gray mySegcon . tintColor = UIColor . white mySegcon . addTarget ( self , action : #selector ( ViewController . onClickMySegmentedControl ( sender :)), for : UIControl . Event . valueChanged ) self . view . addSubview ( mySegcon ) } /* \u30a8\u30d5\u30a7\u30af\u30c8\u3092\u9069\u7528\u3059\u308b. */ internal func addVirtualEffectView ( effect : UIBlurEffect !){ if effectView != nil { effectView . removeFromSuperview () } // Blur\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u9069\u7528\u3059\u308bEffectView\u3092\u4f5c\u6210. effectView = UIVisualEffectView ( effect : effect ) effectView . frame = CGRect ( x : 0 , y : 0 , width : 200 , height : 400 ) effectView . layer . position = CGPoint ( x : mySegcon . bounds . midX , y : - ( effectView . frame . midY + 20 ) ) effectView . layer . masksToBounds = true effectView . layer . cornerRadius = 20.0 mySegcon . addSubview ( effectView ) } /* SegmentedControl\u306e\u5024\u304c\u5909\u308f\u3063\u305f\u6642\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ @objc internal func onClickMySegmentedControl ( sender : UISegmentedControl ){ var effect : UIBlurEffect ! switch sender . selectedSegmentIndex { case 0 : // Light\u306aBlur\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u4f5c\u308b. effect = UIBlurEffect ( style : UIBlurEffect . Style . dark ) case 1 : // Dark\u306aBlur\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u4f5c\u308b. effect = UIBlurEffect ( style : UIBlurEffect . Style . light ) case 2 : // ExtraLight\u306aBlur\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u4f5c\u308b. effect = UIBlurEffect ( style : UIBlurEffect . Style . extraLight ) default : print ( \"Error\" ) } self . addVirtualEffectView ( effect : effect ) } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 // // ViewController.swift // UIKit035_3.0 // // Created by KimikoWatanabe on 2016/08/18. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { private var effectView : UIVisualEffectView ! private var mySegcon : UISegmentedControl ! override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u753b\u50cf\u3092\u751f\u6210. let image = UIImage ( named : \"ci005\" ) let imageView = UIImageView ( frame : self . view . bounds ) imageView . image = image self . view . addSubview ( imageView ) // SegmentedControl\u3092\u751f\u6210. mySegcon = UISegmentedControl ( items : [ \"Dark\" , \"ExtraLight\" , \"Light\" ]) mySegcon . center = CGPoint ( x : self . view . center . x , y : self . view . bounds . maxY - 50 ) mySegcon . backgroundColor = UIColor . gray mySegcon . tintColor = UIColor . white mySegcon . addTarget ( self , action : #selector ( ViewController . onClickMySegmentedControl ( sender :)), for : UIControlEvents . valueChanged ) self . view . addSubview ( mySegcon ) } /* \u30a8\u30d5\u30a7\u30af\u30c8\u3092\u9069\u7528\u3059\u308b. */ internal func addVirtualEffectView ( effect : UIBlurEffect !){ if effectView != nil { effectView . removeFromSuperview () } // Blur\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u9069\u7528\u3059\u308bEffectView\u3092\u4f5c\u6210. effectView = UIVisualEffectView ( effect : effect ) effectView . frame = CGRect ( x : 0 , y : 0 , width : 200 , height : 400 ) effectView . layer . position = CGPoint ( x : mySegcon . bounds . midX , y : - ( effectView . frame . midY + 20 ) ) effectView . layer . masksToBounds = true effectView . layer . cornerRadius = 20.0 mySegcon . addSubview ( effectView ) } /* SegmentedControl\u306e\u5024\u304c\u5909\u308f\u3063\u305f\u6642\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ internal func onClickMySegmentedControl ( sender : UISegmentedControl ){ var effect : UIBlurEffect ! switch sender . selectedSegmentIndex { case 0 : // Light\u306aBlur\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u4f5c\u308b. effect = UIBlurEffect ( style : UIBlurEffectStyle . dark ) case 1 : // Dark\u306aBlur\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u4f5c\u308b. effect = UIBlurEffect ( style : UIBlurEffectStyle . light ) case 2 : // ExtraLight\u306aBlur\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u4f5c\u308b. effect = UIBlurEffect ( style : UIBlurEffectStyle . extraLight ) default : print ( \"Error\" ) } self . addVirtualEffectView ( effect : effect ) } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 // // ViewController.swift // UIKit035_2.3 // // Created by KimikoWatanabe on 2016/08/18. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { private var effectView : UIVisualEffectView ! private var mySegcon : UISegmentedControl ! override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u753b\u50cf\u3092\u751f\u6210. let image = UIImage ( named : \"ci005\" ) let imageView = UIImageView ( frame : self . view . bounds ) imageView . image = image self . view . addSubview ( imageView ) // SegmentedControl\u3092\u751f\u6210. mySegcon = UISegmentedControl ( items : [ \"Dark\" , \"ExtraLight\" , \"Light\" ]) mySegcon . center = CGPointMake ( self . view . center . x , self . view . bounds . maxY - 50 ) mySegcon . backgroundColor = UIColor . grayColor () mySegcon . tintColor = UIColor . whiteColor () mySegcon . addTarget ( self , action : #selector ( ViewController . onClickMySegmentedControl ( _ :)), forControlEvents : UIControlEvents . ValueChanged ) self . view . addSubview ( mySegcon ) } /* \u30a8\u30d5\u30a7\u30af\u30c8\u3092\u9069\u7528\u3059\u308b. */ internal func addVirtualEffectView ( effect : UIBlurEffect !){ if effectView != nil { effectView . removeFromSuperview () } // Blur\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u9069\u7528\u3059\u308bEffectView\u3092\u4f5c\u6210. effectView = UIVisualEffectView ( effect : effect ) effectView . frame = CGRectMake ( 0 , 0 , 200 , 400 ) effectView . layer . position = CGPointMake ( mySegcon . bounds . midX , - ( effectView . frame . midY + 20 ) ) effectView . layer . masksToBounds = true effectView . layer . cornerRadius = 20.0 mySegcon . addSubview ( effectView ) } /* SegmentedControl\u306e\u5024\u304c\u5909\u308f\u3063\u305f\u6642\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ internal func onClickMySegmentedControl ( sender : UISegmentedControl ){ var effect : UIBlurEffect ! switch sender . selectedSegmentIndex { case 0 : // Light\u306aBlur\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u4f5c\u308b. effect = UIBlurEffect ( style : UIBlurEffectStyle . Dark ) case 1 : // Dark\u306aBlur\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u4f5c\u308b. effect = UIBlurEffect ( style : UIBlurEffectStyle . Light ) case 2 : // ExtraLight\u306aBlur\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u4f5c\u308b. effect = UIBlurEffect ( style : UIBlurEffectStyle . ExtraLight ) default : print ( \"Error\" ) } self . addVirtualEffectView ( effect ) } }","title":"UIView\u306bBlur\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u9069\u7528\u3055\u305b\u308b"},{"location":"1.uikit/035_blureffect/#3x4x","text":"UIControlEvents \u304c UIControl.Event \u306b\u5909\u66f4 internal func addVirtualEffectView(effect : UIBlurEffect!) \u306b @objc \u3092\u8ffd\u52a0 UIBlurEffectStyle \u304c UIBlurEffect.Style \u306b\u5909\u66f4","title":"3.x\u30684.x\u306e\u5dee\u5206"},{"location":"1.uikit/035_blureffect/#2330","text":"UIColor\u306e\u53c2\u7167\u65b9\u6cd5\u304c\u5909\u66f4(UIColor.grayColor()->UIColor.gray) CGRect,CGPoint\u306e\u521d\u671f\u5316\u65b9\u6cd5\u306e\u5909\u66f4(CGRectMake,CGPointMake\u306e\u5ec3\u6b62)","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"1.uikit/035_blureffect/#reference","text":"UIVisualEffectView Class https://developer.apple.com/reference/uikit/uivisualeffectview UISegmentedControl Class https://developer.apple.com/reference/uikit/uisegmentedcontrol UIBlurEffect Class https://developer.apple.com/reference/uikit/uiblureffect UIVisualEffectView Class https://developer.apple.com/reference/uikit/uivisualeffectview","title":"Reference"},{"location":"1.uikit/036_uiviewtransition/","text":"UIView\u306b\u30c8\u30e9\u30f3\u30b8\u30b7\u30e7\u30f3\u3092\u3064\u3051\u308b Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 // // ViewController.swift // UIKit036_4.0 // // Created by KimikoWatanabe on 2016/08/18. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { private var myView : UIView ! private var myButton : UIButton ! // View\u5207\u308a\u66ff\u3048\u7528\u30d5\u30e9\u30b0. var viewFlag = true override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u3092\u9752\u8272\u306b\u8a2d\u5b9a. self . view . backgroundColor = UIColor . cyan // myView\u3092\u751f\u6210. myView = UIView ( frame : self . view . frame ) myView . backgroundColor = UIColor . orange myView . isHidden = true myView . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height / 2 ) // \u30dc\u30bf\u30f3\u3092\u751f\u6210. myButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 100 , height : 50 )) myButton . backgroundColor = UIColor . red myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 20.0 myButton . setTitle ( \"Transition\" , for : . normal ) myButton . setTitleColor ( UIColor . white , for : . normal ) myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height / 2 ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchUpInside ) // self.view\u306bmyView\u3092\u8ffd\u52a0. self . view . addSubview ( myView ) // self.view\u306b\u30dc\u30bf\u30f3\u3092\u8ffd\u52a0. self . view . addSubview ( myButton ) } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8 */ @objc internal func onClickMyButton ( sender : UIButton ) { // \u30d5\u30e9\u30b0\u304ctrue. if viewFlag { // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u51e6\u7406. // \u3069\u306eview\u304b\u3089transition\u3059\u308b\u304b. UIView . transition ( from : self . view , // transition\u5148\u306eview. to : myView , // \u79d2\u6570(1\u79d2). duration : 1.0 , // transition\u3092\u8a2d\u5b9a. options : UIView . AnimationOptions . transitionCurlUp , // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u5b8c\u4e86\u6642\u306e\u51e6\u7406. completion : { ( Bool ) -> Void in print ( \"self.view -> myView\" ) // myView\u3092\u8868\u793a. self . myView . isHidden = false // myView\u306b\u30dc\u30bf\u30f3\u3092\u8ffd\u52a0. self . myView . addSubview ( self . myButton ) }) // \u30d5\u30e9\u30b0\u3092\u6298\u308b. viewFlag = false } else { UIView . transition ( from : myView , to : self . view , duration : 1.0 , options : UIView . AnimationOptions . transitionFlipFromLeft , completion : { ( Bool ) -> Void in print ( \"myView -> self.view\" ) // self.view\u306b\u30dc\u30bf\u30f3\u3092\u8ffd\u52a0. self . view . addSubview ( self . myButton ) }) // \u30d5\u30e9\u30b0\u3092\u7acb\u3066\u308b. viewFlag = true } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 // // ViewController.swift // UIKit036_3.0 // // Created by KimikoWatanabe on 2016/08/18. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { private var myView : UIView ! private var myButton : UIButton ! // View\u5207\u308a\u66ff\u3048\u7528\u30d5\u30e9\u30b0. var viewFlag = true override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u3092\u9752\u8272\u306b\u8a2d\u5b9a. self . view . backgroundColor = UIColor . cyan // myView\u3092\u751f\u6210. myView = UIView ( frame : self . view . frame ) myView . backgroundColor = UIColor . orange myView . isHidden = true myView . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height / 2 ) // \u30dc\u30bf\u30f3\u3092\u751f\u6210. myButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 100 , height : 50 )) myButton . backgroundColor = UIColor . red myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 20.0 myButton . setTitle ( \"Transition\" , for : . normal ) myButton . setTitleColor ( UIColor . white , for : . normal ) myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height / 2 ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchUpInside ) // self.view\u306bmyView\u3092\u8ffd\u52a0. self . view . addSubview ( myView ) // self.view\u306b\u30dc\u30bf\u30f3\u3092\u8ffd\u52a0. self . view . addSubview ( myButton ) } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8 */ internal func onClickMyButton ( sender : UIButton ) { // \u30d5\u30e9\u30b0\u304ctrue. if viewFlag { // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u51e6\u7406. // \u3069\u306eview\u304b\u3089transition\u3059\u308b\u304b. UIView . transition ( from : self . view , // transition\u5148\u306eview. to : myView , // \u79d2\u6570(1\u79d2). duration : 1.0 , // transition\u3092\u8a2d\u5b9a. options : UIViewAnimationOptions . transitionCurlUp , // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u5b8c\u4e86\u6642\u306e\u51e6\u7406. completion : { ( Bool ) -> Void in print ( \"self.view -> myView\" ) // myView\u3092\u8868\u793a. self . myView . isHidden = false // myView\u306b\u30dc\u30bf\u30f3\u3092\u8ffd\u52a0. self . myView . addSubview ( self . myButton ) }) // \u30d5\u30e9\u30b0\u3092\u6298\u308b. viewFlag = false } else { UIView . transition ( from : myView , to : self . view , duration : 1.0 , options : UIViewAnimationOptions . transitionFlipFromLeft , completion : { ( Bool ) -> Void in print ( \"myView -> self.view\" ) // self.view\u306b\u30dc\u30bf\u30f3\u3092\u8ffd\u52a0. self . view . addSubview ( self . myButton ) }) // \u30d5\u30e9\u30b0\u3092\u7acb\u3066\u308b. viewFlag = true } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 // // ViewController.swift // UIKit036_2.3 // // Created by KimikoWatanabe on 2016/08/18. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { private var myView : UIView ! private var myButton : UIButton ! // View\u5207\u308a\u66ff\u3048\u7528\u30d5\u30e9\u30b0. var viewFlag = true override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u3092\u9752\u8272\u306b\u8a2d\u5b9a. self . view . backgroundColor = UIColor . cyanColor () // myView\u3092\u751f\u6210. myView = UIView ( frame : self . view . frame ) myView . backgroundColor = UIColor . orangeColor () myView . hidden = true myView . layer . position = CGPointMake ( self . view . frame . width / 2 , self . view . frame . height / 2 ) // \u30dc\u30bf\u30f3\u3092\u751f\u6210. myButton = UIButton ( frame : CGRectMake ( 0 , 0 , 100 , 50 )) myButton . backgroundColor = UIColor . redColor () myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 20.0 myButton . setTitle ( \"Transition\" , forState : . Normal ) myButton . setTitleColor ( UIColor . whiteColor (), forState : . Normal ) myButton . layer . position = CGPointMake ( self . view . frame . width / 2 , self . view . frame . height / 2 ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : . TouchUpInside ) // self.view\u306bmyView\u3092\u8ffd\u52a0. self . view . addSubview ( myView ) // self.view\u306b\u30dc\u30bf\u30f3\u3092\u8ffd\u52a0. self . view . addSubview ( myButton ) } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8 */ internal func onClickMyButton ( sender : UIButton ) { // \u30d5\u30e9\u30b0\u304ctrue. if viewFlag { // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u51e6\u7406. // \u3069\u306eview\u304b\u3089transition\u3059\u308b\u304b. UIView . transitionFromView ( self . view , // transition\u5148\u306eview. toView : myView , // \u79d2\u6570(1\u79d2). duration : 1.0 , // transition\u3092\u8a2d\u5b9a. options : UIViewAnimationOptions . TransitionCurlUp , // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u5b8c\u4e86\u6642\u306e\u51e6\u7406. completion : { ( Bool ) -> Void in print ( \"self.view -> myView\" ) // myView\u3092\u8868\u793a. self . myView . hidden = false // myView\u306b\u30dc\u30bf\u30f3\u3092\u8ffd\u52a0. self . myView . addSubview ( self . myButton ) }) // \u30d5\u30e9\u30b0\u3092\u6298\u308b. viewFlag = false } else { UIView . transitionFromView ( myView , toView : self . view , duration : 1.0 , options : UIViewAnimationOptions . TransitionFlipFromLeft , completion : { ( Bool ) -> Void in print ( \"myView -> self.view\" ) // self.view\u306b\u30dc\u30bf\u30f3\u3092\u8ffd\u52a0. self . view . addSubview ( self . myButton ) }) // \u30d5\u30e9\u30b0\u3092\u7acb\u3066\u308b. viewFlag = true } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } 3.x\u30684.x\u306e\u5dee\u5206 internal func onClickMyButton(sender: UIButton) \u306b @objc \u3092\u8ffd\u52a0 UIViewAnimationOptions \u304c UIView.AnimationOptions \u306b\u5909\u66f4 2.3\u30683.0\u306e\u5dee\u5206 UIColor\u306e\u53c2\u7167\u65b9\u6cd5\u304c\u5909\u66f4(UIColor.grayColor()->UIColor.gray) CGRect,CGPoint\u306e\u521d\u671f\u5316\u65b9\u6cd5\u306e\u5909\u66f4(CGRectMake,CGPointMake\u306e\u5ec3\u6b62) UIView.transition\u306b\u30e9\u30d9\u30eb\u304c\u8ffd\u52a0. Reference UIView Class https://developer.apple.com/reference/uikit/uiview","title":"UIView\u306b\u30c8\u30e9\u30f3\u30b8\u30b7\u30e7\u30f3\u3092\u3064\u3051\u308b"},{"location":"1.uikit/036_uiviewtransition/#uiview","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 // // ViewController.swift // UIKit036_4.0 // // Created by KimikoWatanabe on 2016/08/18. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { private var myView : UIView ! private var myButton : UIButton ! // View\u5207\u308a\u66ff\u3048\u7528\u30d5\u30e9\u30b0. var viewFlag = true override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u3092\u9752\u8272\u306b\u8a2d\u5b9a. self . view . backgroundColor = UIColor . cyan // myView\u3092\u751f\u6210. myView = UIView ( frame : self . view . frame ) myView . backgroundColor = UIColor . orange myView . isHidden = true myView . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height / 2 ) // \u30dc\u30bf\u30f3\u3092\u751f\u6210. myButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 100 , height : 50 )) myButton . backgroundColor = UIColor . red myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 20.0 myButton . setTitle ( \"Transition\" , for : . normal ) myButton . setTitleColor ( UIColor . white , for : . normal ) myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height / 2 ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchUpInside ) // self.view\u306bmyView\u3092\u8ffd\u52a0. self . view . addSubview ( myView ) // self.view\u306b\u30dc\u30bf\u30f3\u3092\u8ffd\u52a0. self . view . addSubview ( myButton ) } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8 */ @objc internal func onClickMyButton ( sender : UIButton ) { // \u30d5\u30e9\u30b0\u304ctrue. if viewFlag { // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u51e6\u7406. // \u3069\u306eview\u304b\u3089transition\u3059\u308b\u304b. UIView . transition ( from : self . view , // transition\u5148\u306eview. to : myView , // \u79d2\u6570(1\u79d2). duration : 1.0 , // transition\u3092\u8a2d\u5b9a. options : UIView . AnimationOptions . transitionCurlUp , // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u5b8c\u4e86\u6642\u306e\u51e6\u7406. completion : { ( Bool ) -> Void in print ( \"self.view -> myView\" ) // myView\u3092\u8868\u793a. self . myView . isHidden = false // myView\u306b\u30dc\u30bf\u30f3\u3092\u8ffd\u52a0. self . myView . addSubview ( self . myButton ) }) // \u30d5\u30e9\u30b0\u3092\u6298\u308b. viewFlag = false } else { UIView . transition ( from : myView , to : self . view , duration : 1.0 , options : UIView . AnimationOptions . transitionFlipFromLeft , completion : { ( Bool ) -> Void in print ( \"myView -> self.view\" ) // self.view\u306b\u30dc\u30bf\u30f3\u3092\u8ffd\u52a0. self . view . addSubview ( self . myButton ) }) // \u30d5\u30e9\u30b0\u3092\u7acb\u3066\u308b. viewFlag = true } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 // // ViewController.swift // UIKit036_3.0 // // Created by KimikoWatanabe on 2016/08/18. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { private var myView : UIView ! private var myButton : UIButton ! // View\u5207\u308a\u66ff\u3048\u7528\u30d5\u30e9\u30b0. var viewFlag = true override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u3092\u9752\u8272\u306b\u8a2d\u5b9a. self . view . backgroundColor = UIColor . cyan // myView\u3092\u751f\u6210. myView = UIView ( frame : self . view . frame ) myView . backgroundColor = UIColor . orange myView . isHidden = true myView . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height / 2 ) // \u30dc\u30bf\u30f3\u3092\u751f\u6210. myButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 100 , height : 50 )) myButton . backgroundColor = UIColor . red myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 20.0 myButton . setTitle ( \"Transition\" , for : . normal ) myButton . setTitleColor ( UIColor . white , for : . normal ) myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height / 2 ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchUpInside ) // self.view\u306bmyView\u3092\u8ffd\u52a0. self . view . addSubview ( myView ) // self.view\u306b\u30dc\u30bf\u30f3\u3092\u8ffd\u52a0. self . view . addSubview ( myButton ) } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8 */ internal func onClickMyButton ( sender : UIButton ) { // \u30d5\u30e9\u30b0\u304ctrue. if viewFlag { // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u51e6\u7406. // \u3069\u306eview\u304b\u3089transition\u3059\u308b\u304b. UIView . transition ( from : self . view , // transition\u5148\u306eview. to : myView , // \u79d2\u6570(1\u79d2). duration : 1.0 , // transition\u3092\u8a2d\u5b9a. options : UIViewAnimationOptions . transitionCurlUp , // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u5b8c\u4e86\u6642\u306e\u51e6\u7406. completion : { ( Bool ) -> Void in print ( \"self.view -> myView\" ) // myView\u3092\u8868\u793a. self . myView . isHidden = false // myView\u306b\u30dc\u30bf\u30f3\u3092\u8ffd\u52a0. self . myView . addSubview ( self . myButton ) }) // \u30d5\u30e9\u30b0\u3092\u6298\u308b. viewFlag = false } else { UIView . transition ( from : myView , to : self . view , duration : 1.0 , options : UIViewAnimationOptions . transitionFlipFromLeft , completion : { ( Bool ) -> Void in print ( \"myView -> self.view\" ) // self.view\u306b\u30dc\u30bf\u30f3\u3092\u8ffd\u52a0. self . view . addSubview ( self . myButton ) }) // \u30d5\u30e9\u30b0\u3092\u7acb\u3066\u308b. viewFlag = true } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 // // ViewController.swift // UIKit036_2.3 // // Created by KimikoWatanabe on 2016/08/18. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { private var myView : UIView ! private var myButton : UIButton ! // View\u5207\u308a\u66ff\u3048\u7528\u30d5\u30e9\u30b0. var viewFlag = true override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u3092\u9752\u8272\u306b\u8a2d\u5b9a. self . view . backgroundColor = UIColor . cyanColor () // myView\u3092\u751f\u6210. myView = UIView ( frame : self . view . frame ) myView . backgroundColor = UIColor . orangeColor () myView . hidden = true myView . layer . position = CGPointMake ( self . view . frame . width / 2 , self . view . frame . height / 2 ) // \u30dc\u30bf\u30f3\u3092\u751f\u6210. myButton = UIButton ( frame : CGRectMake ( 0 , 0 , 100 , 50 )) myButton . backgroundColor = UIColor . redColor () myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 20.0 myButton . setTitle ( \"Transition\" , forState : . Normal ) myButton . setTitleColor ( UIColor . whiteColor (), forState : . Normal ) myButton . layer . position = CGPointMake ( self . view . frame . width / 2 , self . view . frame . height / 2 ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : . TouchUpInside ) // self.view\u306bmyView\u3092\u8ffd\u52a0. self . view . addSubview ( myView ) // self.view\u306b\u30dc\u30bf\u30f3\u3092\u8ffd\u52a0. self . view . addSubview ( myButton ) } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8 */ internal func onClickMyButton ( sender : UIButton ) { // \u30d5\u30e9\u30b0\u304ctrue. if viewFlag { // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u51e6\u7406. // \u3069\u306eview\u304b\u3089transition\u3059\u308b\u304b. UIView . transitionFromView ( self . view , // transition\u5148\u306eview. toView : myView , // \u79d2\u6570(1\u79d2). duration : 1.0 , // transition\u3092\u8a2d\u5b9a. options : UIViewAnimationOptions . TransitionCurlUp , // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u5b8c\u4e86\u6642\u306e\u51e6\u7406. completion : { ( Bool ) -> Void in print ( \"self.view -> myView\" ) // myView\u3092\u8868\u793a. self . myView . hidden = false // myView\u306b\u30dc\u30bf\u30f3\u3092\u8ffd\u52a0. self . myView . addSubview ( self . myButton ) }) // \u30d5\u30e9\u30b0\u3092\u6298\u308b. viewFlag = false } else { UIView . transitionFromView ( myView , toView : self . view , duration : 1.0 , options : UIViewAnimationOptions . TransitionFlipFromLeft , completion : { ( Bool ) -> Void in print ( \"myView -> self.view\" ) // self.view\u306b\u30dc\u30bf\u30f3\u3092\u8ffd\u52a0. self . view . addSubview ( self . myButton ) }) // \u30d5\u30e9\u30b0\u3092\u7acb\u3066\u308b. viewFlag = true } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } }","title":"UIView\u306b\u30c8\u30e9\u30f3\u30b8\u30b7\u30e7\u30f3\u3092\u3064\u3051\u308b"},{"location":"1.uikit/036_uiviewtransition/#3x4x","text":"internal func onClickMyButton(sender: UIButton) \u306b @objc \u3092\u8ffd\u52a0 UIViewAnimationOptions \u304c UIView.AnimationOptions \u306b\u5909\u66f4","title":"3.x\u30684.x\u306e\u5dee\u5206"},{"location":"1.uikit/036_uiviewtransition/#2330","text":"UIColor\u306e\u53c2\u7167\u65b9\u6cd5\u304c\u5909\u66f4(UIColor.grayColor()->UIColor.gray) CGRect,CGPoint\u306e\u521d\u671f\u5316\u65b9\u6cd5\u306e\u5909\u66f4(CGRectMake,CGPointMake\u306e\u5ec3\u6b62) UIView.transition\u306b\u30e9\u30d9\u30eb\u304c\u8ffd\u52a0.","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"1.uikit/036_uiviewtransition/#reference","text":"UIView Class https://developer.apple.com/reference/uikit/uiview","title":"Reference"},{"location":"1.uikit/037_touchevent/","text":"\u30bf\u30c3\u30c1\u30a4\u30d9\u30f3\u30c8\u306e\u6709\u52b9/\u7121\u52b9\u3092\u5207\u308a\u66ff\u3048\u308b Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 // // ViewController.swift // UIKit037_4.0 // // Created by KimikoWatanabe on 2016/08/18. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { private var cnt : Float = 0 private var myLabel : UILabel ! private var ButtonCnt : Int = 0 private var TimerMergin : Float = 0 private var ignoreBegineTime : Float = 0 override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u3092\u9752\u8272\u306b\u8a2d\u5b9a. self . view . backgroundColor = UIColor . cyan // UIButton\u3092\u4f5c\u308b. let myButton : UIButton = UIButton () myButton . frame = CGRect ( x : 0 , y : 0 , width : 200 , height : 50 ) myButton . layer . cornerRadius = 20.0 myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : 400 ) myButton . backgroundColor = UIColor . red myButton . setTitle ( \"\u6709\u52b9/\u7121\u52b9\" , for : . normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchUpInside ) self . view . addSubview ( myButton ) // \u30bf\u30a4\u30de\u30fc\u7528\u30e9\u30d9\u30eb\u3092\u4f5c\u308b. myLabel = UILabel ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 50 )) myLabel . backgroundColor = UIColor . orange myLabel . layer . masksToBounds = true myLabel . layer . cornerRadius = 20.0 myLabel . text = \"Time: \\( Int ( cnt )) \" myLabel . textColor = UIColor . white myLabel . shadowColor = UIColor . gray myLabel . textAlignment = NSTextAlignment . center myLabel . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 200 ) self . view . addSubview ( myLabel ) self . view . backgroundColor = UIColor . cyan } //NSTimerInterval\u3067\u6307\u5b9a\u3055\u308c\u305f\u79d2\u6570\u6bce\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30e1\u30bd\u30c3\u30c9. @objc internal func onUpdate ( timer : Timer ){ cnt += 0.1 //\u6841\u6570\u3092\u6307\u5b9a\u3057\u3066\u6587\u5b57\u5217\u3092\u4f5c\u308b. let str = \"Time: \\( Int ( cnt )) \" myLabel . text = str // \u73fe\u5728\u306e\u30bf\u30a4\u30de\u30fc\u6642\u9593\u304b\u3089\u7121\u52b9\u304c\u59cb\u307e\u3063\u305f\u6642\u9593\u306e\u5dee. TimerMergin = cnt - ignoreBegineTime // \u30bf\u30c3\u30c1\u30a4\u30d9\u30f3\u30c8\u304c\u7121\u52b9\u306e\u3068\u304d. if UIApplication . shared . isIgnoringInteractionEvents { // \u7121\u52b9\u306b\u306a\u3063\u3066\u304b\u30895\u79d2\u7d4c\u3063\u305f\u6642. if Int ( TimerMergin ) == 5 { print ( \"\u30bf\u30c3\u30c1\u30a4\u30d9\u30f3\u30c8\u304c\u7121\u52b9\u3067\u3059\" ) self . view . backgroundColor = UIColor . cyan // \u30bf\u30c3\u30c1\u30a4\u30d9\u30f3\u30c8\u3092\u6709\u52b9\u306b\u3059\u308b. UIApplication . shared . endIgnoringInteractionEvents () print ( \"\u30bf\u30c3\u30c1\u30a4\u30d9\u30f3\u30c8\u3092\u6709\u52b9\u306b\u3057\u307e\u3057\u305f\" ) } } } @objc internal func onClickMyButton ( sender : UIButton ) { // \u30dc\u30bf\u30f3\u3092\u62bc\u3057\u305f\u56de\u6570. ButtonCnt += 1 // \u30bf\u30c3\u30c1\u30a4\u30d9\u30f3\u30c8\u304c\u6709\u52b9\u306e\u3068\u304d. if UIApplication . shared . isIgnoringInteractionEvents == false { print ( \"\u30bf\u30c3\u30c1\u30a4\u30d9\u30f3\u30c8\u304c\u6709\u52b9\u3067\u3059\" ) self . view . backgroundColor = UIColor . green // \u30bf\u30c3\u30c1\u30a4\u30d9\u30f3\u30c8\u3092\u7121\u52b9\u306b\u3059\u308b. UIApplication . shared . beginIgnoringInteractionEvents () // \u7121\u52b9\u304c\u59cb\u307e\u3063\u305f\u6642\u9593\u3092\u53d6\u5f97. ignoreBegineTime = cnt print ( \"\u30bf\u30c3\u30c1\u30a4\u30d9\u30f3\u30c8\u3092\u7121\u52b9\u306b\u3057\u307e\u3057\u305f\" ) print ( \"5\u79d2\u5f8c\u306b\u6709\u52b9\u306b\u306a\u308a\u307e\u3059\" ) // \u6700\u521d\u306b\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u305f\u3068\u304d\u3060\u3051\u30bf\u30a4\u30de\u30fc\u3092\u4f5c\u308b. if ButtonCnt == 1 { // \u30bf\u30a4\u30de\u30fc\u3092\u4f5c\u308b. // \u66f4\u65b0\u306e\u30a4\u30f3\u30bf\u30fc\u30d0\u30eb(0.1\u79d2). Timer . scheduledTimer ( timeInterval : 0.1 , // \u305d\u306e\u30af\u30e9\u30b9\u306e\u30e1\u30bd\u30c3\u30c9\u304b. target : self , // \u30e1\u30bd\u30c3\u30c9. selector : #selector ( ViewController . onUpdate ( timer :)), userInfo : nil , // \u4f55\u56de\u3082\u547c\u3073\u51fa\u3059\u304b\u3069\u3046\u304b. repeats : true ) } } } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 // // ViewController.swift // UIKit037_3.0 // // Created by KimikoWatanabe on 2016/08/18. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { private var cnt : Float = 0 private var myLabel : UILabel ! private var ButtonCnt : Int = 0 private var TimerMergin : Float = 0 private var ignoreBegineTime : Float = 0 override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u3092\u9752\u8272\u306b\u8a2d\u5b9a. self . view . backgroundColor = UIColor . cyan // UIButton\u3092\u4f5c\u308b. let myButton : UIButton = UIButton () myButton . frame = CGRect ( x : 0 , y : 0 , width : 200 , height : 50 ) myButton . layer . cornerRadius = 20.0 myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : 400 ) myButton . backgroundColor = UIColor . red myButton . setTitle ( \"\u6709\u52b9/\u7121\u52b9\" , for : . normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchUpInside ) self . view . addSubview ( myButton ) // \u30bf\u30a4\u30de\u30fc\u7528\u30e9\u30d9\u30eb\u3092\u4f5c\u308b. myLabel = UILabel ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 50 )) myLabel . backgroundColor = UIColor . orange myLabel . layer . masksToBounds = true myLabel . layer . cornerRadius = 20.0 myLabel . text = \"Time: \\( Int ( cnt )) \" myLabel . textColor = UIColor . white myLabel . shadowColor = UIColor . gray myLabel . textAlignment = NSTextAlignment . center myLabel . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 200 ) self . view . addSubview ( myLabel ) self . view . backgroundColor = UIColor . cyan } //NSTimerInterval\u3067\u6307\u5b9a\u3055\u308c\u305f\u79d2\u6570\u6bce\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30e1\u30bd\u30c3\u30c9. internal func onUpdate ( timer : Timer ){ cnt += 0.1 //\u6841\u6570\u3092\u6307\u5b9a\u3057\u3066\u6587\u5b57\u5217\u3092\u4f5c\u308b. let str = \"Time: \\( Int ( cnt )) \" myLabel . text = str // \u73fe\u5728\u306e\u30bf\u30a4\u30de\u30fc\u6642\u9593\u304b\u3089\u7121\u52b9\u304c\u59cb\u307e\u3063\u305f\u6642\u9593\u306e\u5dee. TimerMergin = cnt - ignoreBegineTime // \u30bf\u30c3\u30c1\u30a4\u30d9\u30f3\u30c8\u304c\u7121\u52b9\u306e\u3068\u304d. if UIApplication . shared . isIgnoringInteractionEvents { // \u7121\u52b9\u306b\u306a\u3063\u3066\u304b\u30895\u79d2\u7d4c\u3063\u305f\u6642. if Int ( TimerMergin ) == 5 { print ( \"\u30bf\u30c3\u30c1\u30a4\u30d9\u30f3\u30c8\u304c\u7121\u52b9\u3067\u3059\" ) self . view . backgroundColor = UIColor . cyan // \u30bf\u30c3\u30c1\u30a4\u30d9\u30f3\u30c8\u3092\u6709\u52b9\u306b\u3059\u308b. UIApplication . shared . endIgnoringInteractionEvents () print ( \"\u30bf\u30c3\u30c1\u30a4\u30d9\u30f3\u30c8\u3092\u6709\u52b9\u306b\u3057\u307e\u3057\u305f\" ) } } } internal func onClickMyButton ( sender : UIButton ) { // \u30dc\u30bf\u30f3\u3092\u62bc\u3057\u305f\u56de\u6570. ButtonCnt += 1 // \u30bf\u30c3\u30c1\u30a4\u30d9\u30f3\u30c8\u304c\u6709\u52b9\u306e\u3068\u304d. if UIApplication . shared . isIgnoringInteractionEvents == false { print ( \"\u30bf\u30c3\u30c1\u30a4\u30d9\u30f3\u30c8\u304c\u6709\u52b9\u3067\u3059\" ) self . view . backgroundColor = UIColor . green // \u30bf\u30c3\u30c1\u30a4\u30d9\u30f3\u30c8\u3092\u7121\u52b9\u306b\u3059\u308b. UIApplication . shared . beginIgnoringInteractionEvents () // \u7121\u52b9\u304c\u59cb\u307e\u3063\u305f\u6642\u9593\u3092\u53d6\u5f97. ignoreBegineTime = cnt print ( \"\u30bf\u30c3\u30c1\u30a4\u30d9\u30f3\u30c8\u3092\u7121\u52b9\u306b\u3057\u307e\u3057\u305f\" ) print ( \"5\u79d2\u5f8c\u306b\u6709\u52b9\u306b\u306a\u308a\u307e\u3059\" ) // \u6700\u521d\u306b\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u305f\u3068\u304d\u3060\u3051\u30bf\u30a4\u30de\u30fc\u3092\u4f5c\u308b. if ButtonCnt == 1 { // \u30bf\u30a4\u30de\u30fc\u3092\u4f5c\u308b. // \u66f4\u65b0\u306e\u30a4\u30f3\u30bf\u30fc\u30d0\u30eb(0.1\u79d2). Timer . scheduledTimer ( timeInterval : 0.1 , // \u305d\u306e\u30af\u30e9\u30b9\u306e\u30e1\u30bd\u30c3\u30c9\u304b. target : self , // \u30e1\u30bd\u30c3\u30c9. selector : #selector ( ViewController . onUpdate ( timer :)), userInfo : nil , // \u4f55\u56de\u3082\u547c\u3073\u51fa\u3059\u304b\u3069\u3046\u304b. repeats : true ) } } } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 // // ViewController.swift // UIKit037_2.3 // // Created by KimikoWatanabe on 2016/08/18. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { private var cnt : Float = 0 private var myLabel : UILabel ! private var ButtonCnt : Int = 0 private var TimerMergin : Float = 0 private var ignoreBegineTime : Float = 0 override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u3092\u9752\u8272\u306b\u8a2d\u5b9a. self . view . backgroundColor = UIColor . cyanColor () // UIButton\u3092\u4f5c\u308b. let myButton : UIButton = UIButton () myButton . frame = CGRectMake ( 0 , 0 , 200 , 50 ) myButton . layer . cornerRadius = 20.0 myButton . layer . position = CGPointMake ( self . view . frame . width / 2 , 400 ) myButton . backgroundColor = UIColor . redColor () myButton . setTitle ( \"\u6709\u52b9/\u7121\u52b9\" , forState : . Normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : . TouchUpInside ) // \u30bf\u30a4\u30de\u30fc\u7528\u30e9\u30d9\u30eb\u3092\u4f5c\u308b. myLabel = UILabel ( frame : CGRectMake ( 0 , 0 , 200 , 50 )) myLabel . backgroundColor = UIColor . orangeColor () myLabel . layer . masksToBounds = true myLabel . layer . cornerRadius = 20.0 myLabel . text = \"Time: \\( Int ( cnt )) \" myLabel . textColor = UIColor . whiteColor () myLabel . shadowColor = UIColor . grayColor () myLabel . textAlignment = NSTextAlignment . Center myLabel . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 200 ) self . view . backgroundColor = UIColor . cyanColor () // view\u306b\u30e9\u30d9\u30eb\u3068\u30dc\u30bf\u30f3\u3092\u8ffd\u52a0. self . view . addSubview ( myLabel ) self . view . addSubview ( myButton ) } //NSTimerInterval\u3067\u6307\u5b9a\u3055\u308c\u305f\u79d2\u6570\u6bce\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30e1\u30bd\u30c3\u30c9. internal func onUpdate ( timer : NSTimer ){ cnt += 0.1 //\u6841\u6570\u3092\u6307\u5b9a\u3057\u3066\u6587\u5b57\u5217\u3092\u4f5c\u308b. let str = \"Time: \\( Int ( cnt )) \" myLabel . text = str // \u73fe\u5728\u306e\u30bf\u30a4\u30de\u30fc\u6642\u9593\u304b\u3089\u7121\u52b9\u304c\u59cb\u307e\u3063\u305f\u6642\u9593\u306e\u5dee. TimerMergin = cnt - ignoreBegineTime // \u30bf\u30c3\u30c1\u30a4\u30d9\u30f3\u30c8\u304c\u7121\u52b9\u306e\u3068\u304d. if UIApplication . sharedApplication (). isIgnoringInteractionEvents () { // \u7121\u52b9\u306b\u306a\u3063\u3066\u304b\u30895\u79d2\u7d4c\u3063\u305f\u6642. if Int ( TimerMergin ) == 5 { print ( \"\u30bf\u30c3\u30c1\u30a4\u30d9\u30f3\u30c8\u304c\u7121\u52b9\u3067\u3059\" ) self . view . backgroundColor = UIColor . cyanColor () // \u30bf\u30c3\u30c1\u30a4\u30d9\u30f3\u30c8\u3092\u6709\u52b9\u306b\u3059\u308b. UIApplication . sharedApplication (). endIgnoringInteractionEvents () print ( \"\u30bf\u30c3\u30c1\u30a4\u30d9\u30f3\u30c8\u3092\u6709\u52b9\u306b\u3057\u307e\u3057\u305f\" ) } } } internal func onClickMyButton ( sender : UIButton ) { // \u30dc\u30bf\u30f3\u3092\u62bc\u3057\u305f\u56de\u6570. ButtonCnt += 1 // \u30bf\u30c3\u30c1\u30a4\u30d9\u30f3\u30c8\u304c\u6709\u52b9\u306e\u3068\u304d. if UIApplication . sharedApplication (). isIgnoringInteractionEvents () == false { print ( \"\u30bf\u30c3\u30c1\u30a4\u30d9\u30f3\u30c8\u304c\u6709\u52b9\u3067\u3059\" ) self . view . backgroundColor = UIColor . greenColor () // \u30bf\u30c3\u30c1\u30a4\u30d9\u30f3\u30c8\u3092\u7121\u52b9\u306b\u3059\u308b. UIApplication . sharedApplication (). beginIgnoringInteractionEvents () // \u7121\u52b9\u304c\u59cb\u307e\u3063\u305f\u6642\u9593\u3092\u53d6\u5f97. ignoreBegineTime = cnt print ( \"\u30bf\u30c3\u30c1\u30a4\u30d9\u30f3\u30c8\u3092\u7121\u52b9\u306b\u3057\u307e\u3057\u305f\" ) print ( \"5\u79d2\u5f8c\u306b\u6709\u52b9\u306b\u306a\u308a\u307e\u3059\" ) // \u6700\u521d\u306b\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u305f\u3068\u304d\u3060\u3051\u30bf\u30a4\u30de\u30fc\u3092\u4f5c\u308b. if ButtonCnt == 1 { // \u30bf\u30a4\u30de\u30fc\u3092\u4f5c\u308b. // \u66f4\u65b0\u306e\u30a4\u30f3\u30bf\u30fc\u30d0\u30eb(0.1\u79d2). NSTimer . scheduledTimerWithTimeInterval ( 0.1 , // \u305d\u306e\u30af\u30e9\u30b9\u306e\u30e1\u30bd\u30c3\u30c9\u304b. target : self , // \u30e1\u30bd\u30c3\u30c9. selector : #selector ( ViewController . onUpdate ( _ :)), userInfo : nil , // \u4f55\u56de\u3082\u547c\u3073\u51fa\u3059\u304b\u3069\u3046\u304b. repeats : true ) } } } } 3.x\u30684.x\u306e\u5dee\u5206 onUpdate \u3001 onClickMyButton \u306b @objc \u3092\u8ffd\u52a0 2.3\u30683.0\u306e\u5dee\u5206 UIColor\u306e\u53c2\u7167\u65b9\u6cd5\u304c\u5909\u66f4(UIColor.grayColor()->UIColor.gray) CGRect,CGPoint\u306e\u521d\u671f\u5316\u65b9\u6cd5\u306e\u5909\u66f4(CGRectMake,CGPointMake\u306e\u5ec3\u6b62) UIApplication.sharedApplication() \u304c UIApplication.shared \u307e\u305f\u3001UIApplication.shared\u306e\u5404\u30e1\u30bd\u30c3\u30c9\u3002\u30d7\u30ed\u30d1\u30c6\u30a3\u306e\u540d\u524d\u304c\u5909\u66f4 NSTimer\u306e\u5ec3\u6b62\u3001Timer\u3078\u5909\u66f4. Reference Timer Class https://developer.apple.com/reference/foundation/timer beginIgnoringInteractionEvents Tasks https://developer.apple.com/reference/uikit/uiapplication/1623047-beginignoringinteractionevents","title":"\u30bf\u30c3\u30c1\u30a4\u30d9\u30f3\u30c8\u306e\u6709\u52b9/\u7121\u52b9\u3092\u5207\u308a\u66ff\u3048\u308b"},{"location":"1.uikit/037_touchevent/#_1","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 // // ViewController.swift // UIKit037_4.0 // // Created by KimikoWatanabe on 2016/08/18. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { private var cnt : Float = 0 private var myLabel : UILabel ! private var ButtonCnt : Int = 0 private var TimerMergin : Float = 0 private var ignoreBegineTime : Float = 0 override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u3092\u9752\u8272\u306b\u8a2d\u5b9a. self . view . backgroundColor = UIColor . cyan // UIButton\u3092\u4f5c\u308b. let myButton : UIButton = UIButton () myButton . frame = CGRect ( x : 0 , y : 0 , width : 200 , height : 50 ) myButton . layer . cornerRadius = 20.0 myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : 400 ) myButton . backgroundColor = UIColor . red myButton . setTitle ( \"\u6709\u52b9/\u7121\u52b9\" , for : . normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchUpInside ) self . view . addSubview ( myButton ) // \u30bf\u30a4\u30de\u30fc\u7528\u30e9\u30d9\u30eb\u3092\u4f5c\u308b. myLabel = UILabel ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 50 )) myLabel . backgroundColor = UIColor . orange myLabel . layer . masksToBounds = true myLabel . layer . cornerRadius = 20.0 myLabel . text = \"Time: \\( Int ( cnt )) \" myLabel . textColor = UIColor . white myLabel . shadowColor = UIColor . gray myLabel . textAlignment = NSTextAlignment . center myLabel . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 200 ) self . view . addSubview ( myLabel ) self . view . backgroundColor = UIColor . cyan } //NSTimerInterval\u3067\u6307\u5b9a\u3055\u308c\u305f\u79d2\u6570\u6bce\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30e1\u30bd\u30c3\u30c9. @objc internal func onUpdate ( timer : Timer ){ cnt += 0.1 //\u6841\u6570\u3092\u6307\u5b9a\u3057\u3066\u6587\u5b57\u5217\u3092\u4f5c\u308b. let str = \"Time: \\( Int ( cnt )) \" myLabel . text = str // \u73fe\u5728\u306e\u30bf\u30a4\u30de\u30fc\u6642\u9593\u304b\u3089\u7121\u52b9\u304c\u59cb\u307e\u3063\u305f\u6642\u9593\u306e\u5dee. TimerMergin = cnt - ignoreBegineTime // \u30bf\u30c3\u30c1\u30a4\u30d9\u30f3\u30c8\u304c\u7121\u52b9\u306e\u3068\u304d. if UIApplication . shared . isIgnoringInteractionEvents { // \u7121\u52b9\u306b\u306a\u3063\u3066\u304b\u30895\u79d2\u7d4c\u3063\u305f\u6642. if Int ( TimerMergin ) == 5 { print ( \"\u30bf\u30c3\u30c1\u30a4\u30d9\u30f3\u30c8\u304c\u7121\u52b9\u3067\u3059\" ) self . view . backgroundColor = UIColor . cyan // \u30bf\u30c3\u30c1\u30a4\u30d9\u30f3\u30c8\u3092\u6709\u52b9\u306b\u3059\u308b. UIApplication . shared . endIgnoringInteractionEvents () print ( \"\u30bf\u30c3\u30c1\u30a4\u30d9\u30f3\u30c8\u3092\u6709\u52b9\u306b\u3057\u307e\u3057\u305f\" ) } } } @objc internal func onClickMyButton ( sender : UIButton ) { // \u30dc\u30bf\u30f3\u3092\u62bc\u3057\u305f\u56de\u6570. ButtonCnt += 1 // \u30bf\u30c3\u30c1\u30a4\u30d9\u30f3\u30c8\u304c\u6709\u52b9\u306e\u3068\u304d. if UIApplication . shared . isIgnoringInteractionEvents == false { print ( \"\u30bf\u30c3\u30c1\u30a4\u30d9\u30f3\u30c8\u304c\u6709\u52b9\u3067\u3059\" ) self . view . backgroundColor = UIColor . green // \u30bf\u30c3\u30c1\u30a4\u30d9\u30f3\u30c8\u3092\u7121\u52b9\u306b\u3059\u308b. UIApplication . shared . beginIgnoringInteractionEvents () // \u7121\u52b9\u304c\u59cb\u307e\u3063\u305f\u6642\u9593\u3092\u53d6\u5f97. ignoreBegineTime = cnt print ( \"\u30bf\u30c3\u30c1\u30a4\u30d9\u30f3\u30c8\u3092\u7121\u52b9\u306b\u3057\u307e\u3057\u305f\" ) print ( \"5\u79d2\u5f8c\u306b\u6709\u52b9\u306b\u306a\u308a\u307e\u3059\" ) // \u6700\u521d\u306b\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u305f\u3068\u304d\u3060\u3051\u30bf\u30a4\u30de\u30fc\u3092\u4f5c\u308b. if ButtonCnt == 1 { // \u30bf\u30a4\u30de\u30fc\u3092\u4f5c\u308b. // \u66f4\u65b0\u306e\u30a4\u30f3\u30bf\u30fc\u30d0\u30eb(0.1\u79d2). Timer . scheduledTimer ( timeInterval : 0.1 , // \u305d\u306e\u30af\u30e9\u30b9\u306e\u30e1\u30bd\u30c3\u30c9\u304b. target : self , // \u30e1\u30bd\u30c3\u30c9. selector : #selector ( ViewController . onUpdate ( timer :)), userInfo : nil , // \u4f55\u56de\u3082\u547c\u3073\u51fa\u3059\u304b\u3069\u3046\u304b. repeats : true ) } } } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 // // ViewController.swift // UIKit037_3.0 // // Created by KimikoWatanabe on 2016/08/18. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { private var cnt : Float = 0 private var myLabel : UILabel ! private var ButtonCnt : Int = 0 private var TimerMergin : Float = 0 private var ignoreBegineTime : Float = 0 override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u3092\u9752\u8272\u306b\u8a2d\u5b9a. self . view . backgroundColor = UIColor . cyan // UIButton\u3092\u4f5c\u308b. let myButton : UIButton = UIButton () myButton . frame = CGRect ( x : 0 , y : 0 , width : 200 , height : 50 ) myButton . layer . cornerRadius = 20.0 myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : 400 ) myButton . backgroundColor = UIColor . red myButton . setTitle ( \"\u6709\u52b9/\u7121\u52b9\" , for : . normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchUpInside ) self . view . addSubview ( myButton ) // \u30bf\u30a4\u30de\u30fc\u7528\u30e9\u30d9\u30eb\u3092\u4f5c\u308b. myLabel = UILabel ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 50 )) myLabel . backgroundColor = UIColor . orange myLabel . layer . masksToBounds = true myLabel . layer . cornerRadius = 20.0 myLabel . text = \"Time: \\( Int ( cnt )) \" myLabel . textColor = UIColor . white myLabel . shadowColor = UIColor . gray myLabel . textAlignment = NSTextAlignment . center myLabel . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 200 ) self . view . addSubview ( myLabel ) self . view . backgroundColor = UIColor . cyan } //NSTimerInterval\u3067\u6307\u5b9a\u3055\u308c\u305f\u79d2\u6570\u6bce\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30e1\u30bd\u30c3\u30c9. internal func onUpdate ( timer : Timer ){ cnt += 0.1 //\u6841\u6570\u3092\u6307\u5b9a\u3057\u3066\u6587\u5b57\u5217\u3092\u4f5c\u308b. let str = \"Time: \\( Int ( cnt )) \" myLabel . text = str // \u73fe\u5728\u306e\u30bf\u30a4\u30de\u30fc\u6642\u9593\u304b\u3089\u7121\u52b9\u304c\u59cb\u307e\u3063\u305f\u6642\u9593\u306e\u5dee. TimerMergin = cnt - ignoreBegineTime // \u30bf\u30c3\u30c1\u30a4\u30d9\u30f3\u30c8\u304c\u7121\u52b9\u306e\u3068\u304d. if UIApplication . shared . isIgnoringInteractionEvents { // \u7121\u52b9\u306b\u306a\u3063\u3066\u304b\u30895\u79d2\u7d4c\u3063\u305f\u6642. if Int ( TimerMergin ) == 5 { print ( \"\u30bf\u30c3\u30c1\u30a4\u30d9\u30f3\u30c8\u304c\u7121\u52b9\u3067\u3059\" ) self . view . backgroundColor = UIColor . cyan // \u30bf\u30c3\u30c1\u30a4\u30d9\u30f3\u30c8\u3092\u6709\u52b9\u306b\u3059\u308b. UIApplication . shared . endIgnoringInteractionEvents () print ( \"\u30bf\u30c3\u30c1\u30a4\u30d9\u30f3\u30c8\u3092\u6709\u52b9\u306b\u3057\u307e\u3057\u305f\" ) } } } internal func onClickMyButton ( sender : UIButton ) { // \u30dc\u30bf\u30f3\u3092\u62bc\u3057\u305f\u56de\u6570. ButtonCnt += 1 // \u30bf\u30c3\u30c1\u30a4\u30d9\u30f3\u30c8\u304c\u6709\u52b9\u306e\u3068\u304d. if UIApplication . shared . isIgnoringInteractionEvents == false { print ( \"\u30bf\u30c3\u30c1\u30a4\u30d9\u30f3\u30c8\u304c\u6709\u52b9\u3067\u3059\" ) self . view . backgroundColor = UIColor . green // \u30bf\u30c3\u30c1\u30a4\u30d9\u30f3\u30c8\u3092\u7121\u52b9\u306b\u3059\u308b. UIApplication . shared . beginIgnoringInteractionEvents () // \u7121\u52b9\u304c\u59cb\u307e\u3063\u305f\u6642\u9593\u3092\u53d6\u5f97. ignoreBegineTime = cnt print ( \"\u30bf\u30c3\u30c1\u30a4\u30d9\u30f3\u30c8\u3092\u7121\u52b9\u306b\u3057\u307e\u3057\u305f\" ) print ( \"5\u79d2\u5f8c\u306b\u6709\u52b9\u306b\u306a\u308a\u307e\u3059\" ) // \u6700\u521d\u306b\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u305f\u3068\u304d\u3060\u3051\u30bf\u30a4\u30de\u30fc\u3092\u4f5c\u308b. if ButtonCnt == 1 { // \u30bf\u30a4\u30de\u30fc\u3092\u4f5c\u308b. // \u66f4\u65b0\u306e\u30a4\u30f3\u30bf\u30fc\u30d0\u30eb(0.1\u79d2). Timer . scheduledTimer ( timeInterval : 0.1 , // \u305d\u306e\u30af\u30e9\u30b9\u306e\u30e1\u30bd\u30c3\u30c9\u304b. target : self , // \u30e1\u30bd\u30c3\u30c9. selector : #selector ( ViewController . onUpdate ( timer :)), userInfo : nil , // \u4f55\u56de\u3082\u547c\u3073\u51fa\u3059\u304b\u3069\u3046\u304b. repeats : true ) } } } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 // // ViewController.swift // UIKit037_2.3 // // Created by KimikoWatanabe on 2016/08/18. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { private var cnt : Float = 0 private var myLabel : UILabel ! private var ButtonCnt : Int = 0 private var TimerMergin : Float = 0 private var ignoreBegineTime : Float = 0 override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u3092\u9752\u8272\u306b\u8a2d\u5b9a. self . view . backgroundColor = UIColor . cyanColor () // UIButton\u3092\u4f5c\u308b. let myButton : UIButton = UIButton () myButton . frame = CGRectMake ( 0 , 0 , 200 , 50 ) myButton . layer . cornerRadius = 20.0 myButton . layer . position = CGPointMake ( self . view . frame . width / 2 , 400 ) myButton . backgroundColor = UIColor . redColor () myButton . setTitle ( \"\u6709\u52b9/\u7121\u52b9\" , forState : . Normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : . TouchUpInside ) // \u30bf\u30a4\u30de\u30fc\u7528\u30e9\u30d9\u30eb\u3092\u4f5c\u308b. myLabel = UILabel ( frame : CGRectMake ( 0 , 0 , 200 , 50 )) myLabel . backgroundColor = UIColor . orangeColor () myLabel . layer . masksToBounds = true myLabel . layer . cornerRadius = 20.0 myLabel . text = \"Time: \\( Int ( cnt )) \" myLabel . textColor = UIColor . whiteColor () myLabel . shadowColor = UIColor . grayColor () myLabel . textAlignment = NSTextAlignment . Center myLabel . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 200 ) self . view . backgroundColor = UIColor . cyanColor () // view\u306b\u30e9\u30d9\u30eb\u3068\u30dc\u30bf\u30f3\u3092\u8ffd\u52a0. self . view . addSubview ( myLabel ) self . view . addSubview ( myButton ) } //NSTimerInterval\u3067\u6307\u5b9a\u3055\u308c\u305f\u79d2\u6570\u6bce\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30e1\u30bd\u30c3\u30c9. internal func onUpdate ( timer : NSTimer ){ cnt += 0.1 //\u6841\u6570\u3092\u6307\u5b9a\u3057\u3066\u6587\u5b57\u5217\u3092\u4f5c\u308b. let str = \"Time: \\( Int ( cnt )) \" myLabel . text = str // \u73fe\u5728\u306e\u30bf\u30a4\u30de\u30fc\u6642\u9593\u304b\u3089\u7121\u52b9\u304c\u59cb\u307e\u3063\u305f\u6642\u9593\u306e\u5dee. TimerMergin = cnt - ignoreBegineTime // \u30bf\u30c3\u30c1\u30a4\u30d9\u30f3\u30c8\u304c\u7121\u52b9\u306e\u3068\u304d. if UIApplication . sharedApplication (). isIgnoringInteractionEvents () { // \u7121\u52b9\u306b\u306a\u3063\u3066\u304b\u30895\u79d2\u7d4c\u3063\u305f\u6642. if Int ( TimerMergin ) == 5 { print ( \"\u30bf\u30c3\u30c1\u30a4\u30d9\u30f3\u30c8\u304c\u7121\u52b9\u3067\u3059\" ) self . view . backgroundColor = UIColor . cyanColor () // \u30bf\u30c3\u30c1\u30a4\u30d9\u30f3\u30c8\u3092\u6709\u52b9\u306b\u3059\u308b. UIApplication . sharedApplication (). endIgnoringInteractionEvents () print ( \"\u30bf\u30c3\u30c1\u30a4\u30d9\u30f3\u30c8\u3092\u6709\u52b9\u306b\u3057\u307e\u3057\u305f\" ) } } } internal func onClickMyButton ( sender : UIButton ) { // \u30dc\u30bf\u30f3\u3092\u62bc\u3057\u305f\u56de\u6570. ButtonCnt += 1 // \u30bf\u30c3\u30c1\u30a4\u30d9\u30f3\u30c8\u304c\u6709\u52b9\u306e\u3068\u304d. if UIApplication . sharedApplication (). isIgnoringInteractionEvents () == false { print ( \"\u30bf\u30c3\u30c1\u30a4\u30d9\u30f3\u30c8\u304c\u6709\u52b9\u3067\u3059\" ) self . view . backgroundColor = UIColor . greenColor () // \u30bf\u30c3\u30c1\u30a4\u30d9\u30f3\u30c8\u3092\u7121\u52b9\u306b\u3059\u308b. UIApplication . sharedApplication (). beginIgnoringInteractionEvents () // \u7121\u52b9\u304c\u59cb\u307e\u3063\u305f\u6642\u9593\u3092\u53d6\u5f97. ignoreBegineTime = cnt print ( \"\u30bf\u30c3\u30c1\u30a4\u30d9\u30f3\u30c8\u3092\u7121\u52b9\u306b\u3057\u307e\u3057\u305f\" ) print ( \"5\u79d2\u5f8c\u306b\u6709\u52b9\u306b\u306a\u308a\u307e\u3059\" ) // \u6700\u521d\u306b\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u305f\u3068\u304d\u3060\u3051\u30bf\u30a4\u30de\u30fc\u3092\u4f5c\u308b. if ButtonCnt == 1 { // \u30bf\u30a4\u30de\u30fc\u3092\u4f5c\u308b. // \u66f4\u65b0\u306e\u30a4\u30f3\u30bf\u30fc\u30d0\u30eb(0.1\u79d2). NSTimer . scheduledTimerWithTimeInterval ( 0.1 , // \u305d\u306e\u30af\u30e9\u30b9\u306e\u30e1\u30bd\u30c3\u30c9\u304b. target : self , // \u30e1\u30bd\u30c3\u30c9. selector : #selector ( ViewController . onUpdate ( _ :)), userInfo : nil , // \u4f55\u56de\u3082\u547c\u3073\u51fa\u3059\u304b\u3069\u3046\u304b. repeats : true ) } } } }","title":"\u30bf\u30c3\u30c1\u30a4\u30d9\u30f3\u30c8\u306e\u6709\u52b9/\u7121\u52b9\u3092\u5207\u308a\u66ff\u3048\u308b"},{"location":"1.uikit/037_touchevent/#3x4x","text":"onUpdate \u3001 onClickMyButton \u306b @objc \u3092\u8ffd\u52a0","title":"3.x\u30684.x\u306e\u5dee\u5206"},{"location":"1.uikit/037_touchevent/#2330","text":"UIColor\u306e\u53c2\u7167\u65b9\u6cd5\u304c\u5909\u66f4(UIColor.grayColor()->UIColor.gray) CGRect,CGPoint\u306e\u521d\u671f\u5316\u65b9\u6cd5\u306e\u5909\u66f4(CGRectMake,CGPointMake\u306e\u5ec3\u6b62) UIApplication.sharedApplication() \u304c UIApplication.shared \u307e\u305f\u3001UIApplication.shared\u306e\u5404\u30e1\u30bd\u30c3\u30c9\u3002\u30d7\u30ed\u30d1\u30c6\u30a3\u306e\u540d\u524d\u304c\u5909\u66f4 NSTimer\u306e\u5ec3\u6b62\u3001Timer\u3078\u5909\u66f4.","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"1.uikit/037_touchevent/#reference","text":"Timer Class https://developer.apple.com/reference/foundation/timer beginIgnoringInteractionEvents Tasks https://developer.apple.com/reference/uikit/uiapplication/1623047-beginignoringinteractionevents","title":"Reference"},{"location":"1.uikit/038_uitextfield/","text":"UITextField\u306b\u6587\u5b57\u6570\u5236\u9650\u3092\u8a2d\u3051\u308b Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 // // ViewController.swift // UIKit038_4.0 // // Created by KimikoWatanabe on 2016/08/18. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UITextFieldDelegate { override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u3092\u7dd1\u8272\u306b\u8a2d\u5b9a. self . view . backgroundColor = UIColor . green // UITextField\u3092\u751f\u6210. let myTextField : UITextField = UITextField ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 30 )) // \u6700\u521d\u306b\u8868\u793a\u3059\u308b\u6587\u5b57. myTextField . text = \"Hi\" // Delegate\u3092\u8a2d\u5b9a. myTextField . delegate = self // \u67a0\u306e\u7dda\u3092\u8868\u793a. myTextField . borderStyle = UITextField . BorderStyle . roundedRect // UITextField\u306e\u8868\u793a\u3059\u308b\u4f4d\u7f6e. myTextField . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 100 ) // TextView\u3092view\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myTextField ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } /* \u30c6\u30ad\u30b9\u30c8\u304c\u7de8\u96c6\u3055\u308c\u305f\u969b\u306b\u547c\u3070\u308c\u308b. */ func textField ( _ textField : UITextField , shouldChangeCharactersIn range : NSRange , replacementString string : String ) -> Bool { // \u6587\u5b57\u6570\u6700\u5927\u3092\u6c7a\u3081\u308b. let maxLength : Int = 6 // \u5165\u529b\u6e08\u307f\u306e\u6587\u5b57\u3068\u5165\u529b\u3055\u308c\u305f\u6587\u5b57\u3092\u5408\u308f\u305b\u3066\u53d6\u5f97. let str = textField . text ! + string // \u6587\u5b57\u6570\u304cmaxLength\u4ee5\u4e0b\u306a\u3089true\u3092\u8fd4\u3059. if str . characters . count < maxLength { return true } print ( \"6\u6587\u5b57\u3092\u8d85\u3048\u3066\u3044\u307e\u3059\" ) return false } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 // // ViewController.swift // UIKit038_3.0 // // Created by KimikoWatanabe on 2016/08/18. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UITextFieldDelegate { override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u3092\u7dd1\u8272\u306b\u8a2d\u5b9a. self . view . backgroundColor = UIColor . green // UITextField\u3092\u751f\u6210. let myTextField : UITextField = UITextField ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 30 )) // \u6700\u521d\u306b\u8868\u793a\u3059\u308b\u6587\u5b57. myTextField . text = \"Hi\" // Delegate\u3092\u8a2d\u5b9a. myTextField . delegate = self // \u67a0\u306e\u7dda\u3092\u8868\u793a. myTextField . borderStyle = UITextBorderStyle . roundedRect // UITextField\u306e\u8868\u793a\u3059\u308b\u4f4d\u7f6e. myTextField . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 100 ) // TextView\u3092view\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myTextField ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } /* \u30c6\u30ad\u30b9\u30c8\u304c\u7de8\u96c6\u3055\u308c\u305f\u969b\u306b\u547c\u3070\u308c\u308b. */ func textField ( _ textField : UITextField , shouldChangeCharactersIn range : NSRange , replacementString string : String ) -> Bool { // \u6587\u5b57\u6570\u6700\u5927\u3092\u6c7a\u3081\u308b. let maxLength : Int = 6 // \u5165\u529b\u6e08\u307f\u306e\u6587\u5b57\u3068\u5165\u529b\u3055\u308c\u305f\u6587\u5b57\u3092\u5408\u308f\u305b\u3066\u53d6\u5f97. let str = textField . text ! + string // \u6587\u5b57\u6570\u304cmaxLength\u4ee5\u4e0b\u306a\u3089true\u3092\u8fd4\u3059. if str . characters . count < maxLength { return true } print ( \"6\u6587\u5b57\u3092\u8d85\u3048\u3066\u3044\u307e\u3059\" ) return false } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 // // ViewController.swift // UIKit038_2.3 // // Created by KimikoWatanabe on 2016/08/18. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UITextFieldDelegate { override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u3092\u7dd1\u8272\u306b\u8a2d\u5b9a. self . view . backgroundColor = UIColor . greenColor () // UITextField\u3092\u751f\u6210. let myTextField : UITextField = UITextField ( frame : CGRectMake ( 0 , 0 , 200 , 30 )) // \u6700\u521d\u306b\u8868\u793a\u3059\u308b\u6587\u5b57. myTextField . text = \"Hi\" // Delegate\u3092\u8a2d\u5b9a. myTextField . delegate = self // \u67a0\u306e\u7dda\u3092\u8868\u793a. myTextField . borderStyle = UITextBorderStyle . RoundedRect // UITextField\u306e\u8868\u793a\u3059\u308b\u4f4d\u7f6e. myTextField . layer . position = CGPointMake ( self . view . bounds . width / 2 , 100 ) // TextView\u3092view\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myTextField ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } /* \u30c6\u30ad\u30b9\u30c8\u304c\u7de8\u96c6\u3055\u308c\u305f\u969b\u306b\u547c\u3070\u308c\u308b. */ func textField ( textField : UITextField , shouldChangeCharactersInRange range : NSRange , replacementString string : String ) -> Bool { // \u6587\u5b57\u6570\u6700\u5927\u3092\u6c7a\u3081\u308b. let maxLength : Int = 6 // \u5165\u529b\u6e08\u307f\u306e\u6587\u5b57\u3068\u5165\u529b\u3055\u308c\u305f\u6587\u5b57\u3092\u5408\u308f\u305b\u3066\u53d6\u5f97. let str = textField . text ! + string // \u6587\u5b57\u6570\u304cmaxLength\u4ee5\u4e0b\u306a\u3089true\u3092\u8fd4\u3059. if str . characters . count < maxLength { return true } print ( \"6\u6587\u5b57\u3092\u8d85\u3048\u3066\u3044\u307e\u3059\" ) return false } } 3.x\u30684.x\u306e\u5dee\u5206 UITextBorderStyle \u304c UITextField.BorderStyle \u306b\u5909\u66f4 characters \u306f\u975e\u63a8\u5968 2.3\u30683.0\u306e\u5dee\u5206 UIColor\u306e\u53c2\u7167\u65b9\u6cd5\u304c\u5909\u66f4(UIColor.grayColor()->UIColor.gray) CGRect,CGPoint\u306e\u521d\u671f\u5316\u65b9\u6cd5\u306e\u5909\u66f4(CGRectMake,CGPointMake\u306e\u5ec3\u6b62) UITextFieldDelegate\u306e\u30c7\u30ea\u30b2\u30fc\u30c8\u30e1\u30bd\u30c3\u30c9\u306e\u5f15\u6570\u304c\u5909\u66f4 UITextBorderStyle\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u540d\u304c\u4e00\u90e8\u5909\u66f4(RoundedRect->roundedRect) Reference shouldChangeCharactersIn Tasks https://developer.apple.com/reference/uikit/uitextfielddelegate/1619599-textfield","title":"UITextField\u306b\u6587\u5b57\u6570\u5236\u9650\u3092\u8a2d\u3051\u308b"},{"location":"1.uikit/038_uitextfield/#uitextfield","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 // // ViewController.swift // UIKit038_4.0 // // Created by KimikoWatanabe on 2016/08/18. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UITextFieldDelegate { override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u3092\u7dd1\u8272\u306b\u8a2d\u5b9a. self . view . backgroundColor = UIColor . green // UITextField\u3092\u751f\u6210. let myTextField : UITextField = UITextField ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 30 )) // \u6700\u521d\u306b\u8868\u793a\u3059\u308b\u6587\u5b57. myTextField . text = \"Hi\" // Delegate\u3092\u8a2d\u5b9a. myTextField . delegate = self // \u67a0\u306e\u7dda\u3092\u8868\u793a. myTextField . borderStyle = UITextField . BorderStyle . roundedRect // UITextField\u306e\u8868\u793a\u3059\u308b\u4f4d\u7f6e. myTextField . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 100 ) // TextView\u3092view\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myTextField ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } /* \u30c6\u30ad\u30b9\u30c8\u304c\u7de8\u96c6\u3055\u308c\u305f\u969b\u306b\u547c\u3070\u308c\u308b. */ func textField ( _ textField : UITextField , shouldChangeCharactersIn range : NSRange , replacementString string : String ) -> Bool { // \u6587\u5b57\u6570\u6700\u5927\u3092\u6c7a\u3081\u308b. let maxLength : Int = 6 // \u5165\u529b\u6e08\u307f\u306e\u6587\u5b57\u3068\u5165\u529b\u3055\u308c\u305f\u6587\u5b57\u3092\u5408\u308f\u305b\u3066\u53d6\u5f97. let str = textField . text ! + string // \u6587\u5b57\u6570\u304cmaxLength\u4ee5\u4e0b\u306a\u3089true\u3092\u8fd4\u3059. if str . characters . count < maxLength { return true } print ( \"6\u6587\u5b57\u3092\u8d85\u3048\u3066\u3044\u307e\u3059\" ) return false } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 // // ViewController.swift // UIKit038_3.0 // // Created by KimikoWatanabe on 2016/08/18. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UITextFieldDelegate { override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u3092\u7dd1\u8272\u306b\u8a2d\u5b9a. self . view . backgroundColor = UIColor . green // UITextField\u3092\u751f\u6210. let myTextField : UITextField = UITextField ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 30 )) // \u6700\u521d\u306b\u8868\u793a\u3059\u308b\u6587\u5b57. myTextField . text = \"Hi\" // Delegate\u3092\u8a2d\u5b9a. myTextField . delegate = self // \u67a0\u306e\u7dda\u3092\u8868\u793a. myTextField . borderStyle = UITextBorderStyle . roundedRect // UITextField\u306e\u8868\u793a\u3059\u308b\u4f4d\u7f6e. myTextField . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 100 ) // TextView\u3092view\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myTextField ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } /* \u30c6\u30ad\u30b9\u30c8\u304c\u7de8\u96c6\u3055\u308c\u305f\u969b\u306b\u547c\u3070\u308c\u308b. */ func textField ( _ textField : UITextField , shouldChangeCharactersIn range : NSRange , replacementString string : String ) -> Bool { // \u6587\u5b57\u6570\u6700\u5927\u3092\u6c7a\u3081\u308b. let maxLength : Int = 6 // \u5165\u529b\u6e08\u307f\u306e\u6587\u5b57\u3068\u5165\u529b\u3055\u308c\u305f\u6587\u5b57\u3092\u5408\u308f\u305b\u3066\u53d6\u5f97. let str = textField . text ! + string // \u6587\u5b57\u6570\u304cmaxLength\u4ee5\u4e0b\u306a\u3089true\u3092\u8fd4\u3059. if str . characters . count < maxLength { return true } print ( \"6\u6587\u5b57\u3092\u8d85\u3048\u3066\u3044\u307e\u3059\" ) return false } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 // // ViewController.swift // UIKit038_2.3 // // Created by KimikoWatanabe on 2016/08/18. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UITextFieldDelegate { override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u3092\u7dd1\u8272\u306b\u8a2d\u5b9a. self . view . backgroundColor = UIColor . greenColor () // UITextField\u3092\u751f\u6210. let myTextField : UITextField = UITextField ( frame : CGRectMake ( 0 , 0 , 200 , 30 )) // \u6700\u521d\u306b\u8868\u793a\u3059\u308b\u6587\u5b57. myTextField . text = \"Hi\" // Delegate\u3092\u8a2d\u5b9a. myTextField . delegate = self // \u67a0\u306e\u7dda\u3092\u8868\u793a. myTextField . borderStyle = UITextBorderStyle . RoundedRect // UITextField\u306e\u8868\u793a\u3059\u308b\u4f4d\u7f6e. myTextField . layer . position = CGPointMake ( self . view . bounds . width / 2 , 100 ) // TextView\u3092view\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myTextField ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } /* \u30c6\u30ad\u30b9\u30c8\u304c\u7de8\u96c6\u3055\u308c\u305f\u969b\u306b\u547c\u3070\u308c\u308b. */ func textField ( textField : UITextField , shouldChangeCharactersInRange range : NSRange , replacementString string : String ) -> Bool { // \u6587\u5b57\u6570\u6700\u5927\u3092\u6c7a\u3081\u308b. let maxLength : Int = 6 // \u5165\u529b\u6e08\u307f\u306e\u6587\u5b57\u3068\u5165\u529b\u3055\u308c\u305f\u6587\u5b57\u3092\u5408\u308f\u305b\u3066\u53d6\u5f97. let str = textField . text ! + string // \u6587\u5b57\u6570\u304cmaxLength\u4ee5\u4e0b\u306a\u3089true\u3092\u8fd4\u3059. if str . characters . count < maxLength { return true } print ( \"6\u6587\u5b57\u3092\u8d85\u3048\u3066\u3044\u307e\u3059\" ) return false } }","title":"UITextField\u306b\u6587\u5b57\u6570\u5236\u9650\u3092\u8a2d\u3051\u308b"},{"location":"1.uikit/038_uitextfield/#3x4x","text":"UITextBorderStyle \u304c UITextField.BorderStyle \u306b\u5909\u66f4 characters \u306f\u975e\u63a8\u5968","title":"3.x\u30684.x\u306e\u5dee\u5206"},{"location":"1.uikit/038_uitextfield/#2330","text":"UIColor\u306e\u53c2\u7167\u65b9\u6cd5\u304c\u5909\u66f4(UIColor.grayColor()->UIColor.gray) CGRect,CGPoint\u306e\u521d\u671f\u5316\u65b9\u6cd5\u306e\u5909\u66f4(CGRectMake,CGPointMake\u306e\u5ec3\u6b62) UITextFieldDelegate\u306e\u30c7\u30ea\u30b2\u30fc\u30c8\u30e1\u30bd\u30c3\u30c9\u306e\u5f15\u6570\u304c\u5909\u66f4 UITextBorderStyle\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u540d\u304c\u4e00\u90e8\u5909\u66f4(RoundedRect->roundedRect)","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"1.uikit/038_uitextfield/#reference","text":"shouldChangeCharactersIn Tasks https://developer.apple.com/reference/uikit/uitextfielddelegate/1619599-textfield","title":"Reference"},{"location":"1.uikit/039_uitextfield/","text":"UITextField\u306e\u5165\u529b\u3092\u30d1\u30b9\u30ef\u30fc\u30c9\u5f62\u5f0f\u306b\u3059\u308b Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 // // ViewController.swift // UIKit039_4.0 // // Created by KimikoWatanabe on 2016/08/18. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UITextFieldDelegate { override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u3092\u30aa\u30ec\u30f3\u30b8\u8272\u306b\u8a2d\u5b9a. self . view . backgroundColor = UIColor . orange // UITextField\u3092\u751f\u6210. let myTextField : UITextField = UITextField ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 30 )) // Delegate\u3092\u8a2d\u5b9a. myTextField . delegate = self // \u67a0\u306e\u7dda\u3092\u8868\u793a. myTextField . borderStyle = UITextField . BorderStyle . roundedRect // UITextField\u306e\u8868\u793a\u3059\u308b\u4f4d\u7f6e. myTextField . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 100 ) // \u5165\u529b\u3055\u308c\u305f\u6587\u5b57\u3092\u975e\u8868\u793a\u30e2\u30fc\u30c9\u306b\u3059\u308b. myTextField . isSecureTextEntry = true // TextView\u3092view\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myTextField ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 // // ViewController.swift // UIKit039_3.0 // // Created by KimikoWatanabe on 2016/08/18. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UITextFieldDelegate { override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u3092\u30aa\u30ec\u30f3\u30b8\u8272\u306b\u8a2d\u5b9a. self . view . backgroundColor = UIColor . orange // UITextField\u3092\u751f\u6210. let myTextField : UITextField = UITextField ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 30 )) // Delegate\u3092\u8a2d\u5b9a. myTextField . delegate = self // \u67a0\u306e\u7dda\u3092\u8868\u793a. myTextField . borderStyle = UITextBorderStyle . roundedRect // UITextField\u306e\u8868\u793a\u3059\u308b\u4f4d\u7f6e. myTextField . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 100 ) // \u5165\u529b\u3055\u308c\u305f\u6587\u5b57\u3092\u975e\u8868\u793a\u30e2\u30fc\u30c9\u306b\u3059\u308b. myTextField . isSecureTextEntry = true // TextView\u3092view\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myTextField ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 // // ViewController.swift // UIKit039_2.3 // // Created by KimikoWatanabe on 2016/08/18. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UITextFieldDelegate { override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u3092\u30aa\u30ec\u30f3\u30b8\u8272\u306b\u8a2d\u5b9a. self . view . backgroundColor = UIColor . orangeColor () // UITextField\u3092\u751f\u6210. let myTextField : UITextField = UITextField ( frame : CGRectMake ( 0 , 0 , 200 , 30 )) // Delegate\u3092\u8a2d\u5b9a. myTextField . delegate = self // \u67a0\u306e\u7dda\u3092\u8868\u793a. myTextField . borderStyle = UITextBorderStyle . RoundedRect // UITextField\u306e\u8868\u793a\u3059\u308b\u4f4d\u7f6e. myTextField . layer . position = CGPointMake ( self . view . bounds . width / 2 , 100 ) // \u5165\u529b\u3055\u308c\u305f\u6587\u5b57\u3092\u975e\u8868\u793a\u30e2\u30fc\u30c9\u306b\u3059\u308b. myTextField . secureTextEntry = true // TextView\u3092view\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myTextField ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } 3.x\u30684.x\u306e\u5dee\u5206 UITextBorderStyle \u304c UITextField.BorderStyle \u306b\u5909\u66f4 2.3\u30683.0\u306e\u5dee\u5206 UIColor\u306e\u53c2\u7167\u65b9\u6cd5\u304c\u5909\u66f4(UIColor.grayColor()->UIColor.gray) CGRect,CGPoint\u306e\u521d\u671f\u5316\u65b9\u6cd5\u306e\u5909\u66f4(CGRectMake,CGPointMake\u306e\u5ec3\u6b62) UITextField\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u540d\u304c\u4e00\u90e8\u5909\u66f4(secureTextEntry->isSecureTextEntry) Reference UITextField Class https://developer.apple.com/reference/uikit/uitextfield","title":"UITextField\u306e\u5165\u529b\u3092\u30d1\u30b9\u30ef\u30fc\u30c9\u5f62\u5f0f\u306b\u3059\u308b"},{"location":"1.uikit/039_uitextfield/#uitextfield","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 // // ViewController.swift // UIKit039_4.0 // // Created by KimikoWatanabe on 2016/08/18. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UITextFieldDelegate { override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u3092\u30aa\u30ec\u30f3\u30b8\u8272\u306b\u8a2d\u5b9a. self . view . backgroundColor = UIColor . orange // UITextField\u3092\u751f\u6210. let myTextField : UITextField = UITextField ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 30 )) // Delegate\u3092\u8a2d\u5b9a. myTextField . delegate = self // \u67a0\u306e\u7dda\u3092\u8868\u793a. myTextField . borderStyle = UITextField . BorderStyle . roundedRect // UITextField\u306e\u8868\u793a\u3059\u308b\u4f4d\u7f6e. myTextField . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 100 ) // \u5165\u529b\u3055\u308c\u305f\u6587\u5b57\u3092\u975e\u8868\u793a\u30e2\u30fc\u30c9\u306b\u3059\u308b. myTextField . isSecureTextEntry = true // TextView\u3092view\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myTextField ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 // // ViewController.swift // UIKit039_3.0 // // Created by KimikoWatanabe on 2016/08/18. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UITextFieldDelegate { override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u3092\u30aa\u30ec\u30f3\u30b8\u8272\u306b\u8a2d\u5b9a. self . view . backgroundColor = UIColor . orange // UITextField\u3092\u751f\u6210. let myTextField : UITextField = UITextField ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 30 )) // Delegate\u3092\u8a2d\u5b9a. myTextField . delegate = self // \u67a0\u306e\u7dda\u3092\u8868\u793a. myTextField . borderStyle = UITextBorderStyle . roundedRect // UITextField\u306e\u8868\u793a\u3059\u308b\u4f4d\u7f6e. myTextField . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 100 ) // \u5165\u529b\u3055\u308c\u305f\u6587\u5b57\u3092\u975e\u8868\u793a\u30e2\u30fc\u30c9\u306b\u3059\u308b. myTextField . isSecureTextEntry = true // TextView\u3092view\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myTextField ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 // // ViewController.swift // UIKit039_2.3 // // Created by KimikoWatanabe on 2016/08/18. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UITextFieldDelegate { override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u3092\u30aa\u30ec\u30f3\u30b8\u8272\u306b\u8a2d\u5b9a. self . view . backgroundColor = UIColor . orangeColor () // UITextField\u3092\u751f\u6210. let myTextField : UITextField = UITextField ( frame : CGRectMake ( 0 , 0 , 200 , 30 )) // Delegate\u3092\u8a2d\u5b9a. myTextField . delegate = self // \u67a0\u306e\u7dda\u3092\u8868\u793a. myTextField . borderStyle = UITextBorderStyle . RoundedRect // UITextField\u306e\u8868\u793a\u3059\u308b\u4f4d\u7f6e. myTextField . layer . position = CGPointMake ( self . view . bounds . width / 2 , 100 ) // \u5165\u529b\u3055\u308c\u305f\u6587\u5b57\u3092\u975e\u8868\u793a\u30e2\u30fc\u30c9\u306b\u3059\u308b. myTextField . secureTextEntry = true // TextView\u3092view\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myTextField ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } }","title":"UITextField\u306e\u5165\u529b\u3092\u30d1\u30b9\u30ef\u30fc\u30c9\u5f62\u5f0f\u306b\u3059\u308b"},{"location":"1.uikit/039_uitextfield/#3x4x","text":"UITextBorderStyle \u304c UITextField.BorderStyle \u306b\u5909\u66f4","title":"3.x\u30684.x\u306e\u5dee\u5206"},{"location":"1.uikit/039_uitextfield/#2330","text":"UIColor\u306e\u53c2\u7167\u65b9\u6cd5\u304c\u5909\u66f4(UIColor.grayColor()->UIColor.gray) CGRect,CGPoint\u306e\u521d\u671f\u5316\u65b9\u6cd5\u306e\u5909\u66f4(CGRectMake,CGPointMake\u306e\u5ec3\u6b62) UITextField\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u540d\u304c\u4e00\u90e8\u5909\u66f4(secureTextEntry->isSecureTextEntry)","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"1.uikit/039_uitextfield/#reference","text":"UITextField Class https://developer.apple.com/reference/uikit/uitextfield","title":"Reference"},{"location":"1.uikit/040_gesturerecognizer/","text":"GestureRecognizer\u306e\u30a4\u30d9\u30f3\u30c8\u53d6\u5f97 Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 // // ViewController.swift // UIKit040_4.0 // // Created by KimikoWatanabe on 2016/08/18. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { private var tapLabel : UILabel ! private var pinchGestureLabel : UILabel ! private var swipeLabel : UILabel ! private var longPressLabel : UILabel ! private var panLabel : UILabel ! private var rotateLabel : UILabel ! private var edgeLabel : UILabel ! override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u3092\u8d64\u8272\u306b. self . view . backgroundColor = UIColor . white // \u30bf\u30c3\u30d7\u3092\u8a8d\u8b58. let myTap = UITapGestureRecognizer ( target : self , action : #selector ( ViewController . tapGesture ( sender :))) // \u30d4\u30f3\u30c1\u3092\u8a8d\u8b58. let myPinchGesture = UIPinchGestureRecognizer ( target : self , action : #selector ( ViewController . pinchGesture ( sender :))) // \u30b9\u30ef\u30a4\u30d7\u8a8d\u8b58. let mySwipe = UISwipeGestureRecognizer ( target : self , action : #selector ( ViewController . swipeGesture ( sender :))) // \u30b9\u30ef\u30a4\u30d7\u8a8d\u8b58-2\u672c\u6307\u3067\u30b9\u30ef\u30a4\u30d7. mySwipe . numberOfTouchesRequired = 2 // \u9577\u62bc\u3057\u3092\u8a8d\u8b58. let myLongPressGesture = UILongPressGestureRecognizer ( target : self , action : #selector ( ViewController . longPressGesture ( sender :))) // \u9577\u62bc\u3057-\u6700\u4f4e2\u79d2\u9593\u306f\u9577\u62bc\u3057\u3059\u308b. myLongPressGesture . minimumPressDuration = 2.0 // \u9577\u62bc\u3057-\u6307\u306e\u30ba\u30ec\u306f15px\u307e\u3067. myLongPressGesture . allowableMovement = 150 // \u30d1\u30f3\u8a8d\u8b58. let myPan = UIPanGestureRecognizer ( target : self , action : #selector ( ViewController . panGesture ( sender :))) // \u30d1\u30f3\u8a8d\u8b58-3\u672c\u6307\u3067\u30d1\u30f3. myPan . minimumNumberOfTouches = 3 // \u56de\u8ee2\u3092\u8a8d\u8b58. let myRotate = UIRotationGestureRecognizer ( target : self , action : #selector ( ViewController . rotateGesture ( sender :))) // \u30a8\u30c3\u30b8\u3092\u8a8d\u8b58. let mySEdghePan = UIScreenEdgePanGestureRecognizer ( target : self , action : #selector ( ViewController . edgeGesture ( sender :))) // \u30a8\u30c3\u30b8\u3092\u8a8d\u8b58-\u6700\u4f4e\u63073\u672c\u3067\u53cd\u5fdc. mySEdghePan . minimumNumberOfTouches = 4 // \u30a8\u30c3\u30b8\u3092\u8a8d\u8b58-\u5de6\u5074. mySEdghePan . edges = UIRectEdge . left // View\u306b\u8ffd\u52a0. self . view . addGestureRecognizer ( myTap ) self . view . addGestureRecognizer ( myPinchGesture ) self . view . addGestureRecognizer ( mySwipe ) self . view . addGestureRecognizer ( myLongPressGesture ) self . view . addGestureRecognizer ( myPan ) self . view . addGestureRecognizer ( myRotate ) self . view . addGestureRecognizer ( mySEdghePan ) let centerOfX = self . view . bounds . width / 2 // Label\u3092\u4f5c\u6210. tapLabel = makeMyLabel ( title : \"Tap\" , color : UIColor . red , myX : centerOfX - 50 , myY : 100 ) pinchGestureLabel = makeMyLabel ( title : \"Pinch\" , color : UIColor . green , myX : centerOfX + 50 , myY : 100 ) swipeLabel = makeMyLabel ( title : \"Swipe\" , color : UIColor . blue , myX : centerOfX - 50 , myY : 190 ) longPressLabel = makeMyLabel ( title : \"Long\" , color : UIColor . orange , myX : centerOfX + 50 , myY : 190 ) panLabel = makeMyLabel ( title : \"Pan\" , color : UIColor . black , myX : centerOfX - 50 , myY : 280 ) rotateLabel = makeMyLabel ( title : \"Rotate\" , color : UIColor . cyan , myX : centerOfX + 50 , myY : 280 ) edgeLabel = makeMyLabel ( title : \"Edge\" , color : UIColor . purple , myX : centerOfX - 50 , myY : 370 ) // View\u306b\u8cbc\u4ed8\u3051\u308b. self . view . addSubview ( tapLabel ) self . view . addSubview ( pinchGestureLabel ) self . view . addSubview ( swipeLabel ) self . view . addSubview ( longPressLabel ) self . view . addSubview ( panLabel ) self . view . addSubview ( rotateLabel ) self . view . addSubview ( edgeLabel ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } /* \u30bf\u30c3\u30d7\u30a4\u30d9\u30f3\u30c8. */ @objc internal func tapGesture ( sender : UITapGestureRecognizer ){ tapLabel . text = \" \\( sender . numberOfTouches ) \" } /* \u30d4\u30f3\u30c1\u30a4\u30d9\u30f3\u30c8\u306e\u5b9f\u88c5. */ @objc internal func pinchGesture ( sender : UIPinchGestureRecognizer ){ let firstPoint = sender . scale let secondPoint = sender . velocity pinchGestureLabel . text = \" \\( Double ( Int ( firstPoint * 100 )) / 100 ) \\n \\( Double ( Int ( secondPoint * 100 )) / 100 ) \" } /* \u30b9\u30ef\u30a4\u30d7\u30a4\u30d9\u30f3\u30c8 */ @objc internal func swipeGesture ( sender : UISwipeGestureRecognizer ){ let touches = sender . numberOfTouches swipeLabel . text = \" \\( touches ) \" } /* \u9577\u62bc\u3057\u30a4\u30d9\u30f3\u30c8. */ @objc internal func longPressGesture ( sender : UILongPressGestureRecognizer ){ // \u6307\u304c\u96e2\u308c\u305f\u3053\u3068\u3092\u691c\u77e5 if ( sender . state == UIGestureRecognizer . State . ended ){ longPressLabel . text = \"On\" } } /* \u30d1\u30f3. */ @objc internal func panGesture ( sender : UIPanGestureRecognizer ){ panLabel . text = \" \\( sender . numberOfTouches ) \" } /* \u56de\u8ee2. */ @objc internal func rotateGesture ( sender : UIRotationGestureRecognizer ){ let firstPoint = sender . rotation let secondPoint = sender . velocity rotateLabel . text = \" \\( Double ( Int ( firstPoint * 100 )) / 100 ) \\n \\( Double ( Int ( secondPoint * 100 )) / 100 ) \" } /* \u30a8\u30c3\u30b8. */ @objc internal func edgeGesture ( sender : UIScreenEdgePanGestureRecognizer ){ let touches = sender . numberOfTouches swipeLabel . text = \" \\( touches ) \" } internal func makeMyLabel ( title : NSString , color : UIColor , myX : CGFloat , myY : CGFloat ) -> UILabel { let myLabel : UILabel = UILabel () myLabel . frame = CGRect ( x : 0 , y : 0 , width : 80 , height : 80 ) myLabel . backgroundColor = color myLabel . textColor = UIColor . white myLabel . layer . masksToBounds = true myLabel . text = title as String myLabel . textAlignment = NSTextAlignment . center myLabel . layer . cornerRadius = 40.0 myLabel . layer . position = CGPoint ( x : myX , y : myY ) myLabel . numberOfLines = 2 return myLabel } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 // // ViewController.swift // UIKit040_3.0 // // Created by KimikoWatanabe on 2016/08/18. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { private var tapLabel : UILabel ! private var pinchGestureLabel : UILabel ! private var swipeLabel : UILabel ! private var longPressLabel : UILabel ! private var panLabel : UILabel ! private var rotateLabel : UILabel ! private var edgeLabel : UILabel ! override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u3092\u8d64\u8272\u306b. self . view . backgroundColor = UIColor . white // \u30bf\u30c3\u30d7\u3092\u8a8d\u8b58. let myTap = UITapGestureRecognizer ( target : self , action : #selector ( ViewController . tapGesture ( sender :))) // \u30d4\u30f3\u30c1\u3092\u8a8d\u8b58. let myPinchGesture = UIPinchGestureRecognizer ( target : self , action : #selector ( ViewController . pinchGesture ( sender :))) // \u30b9\u30ef\u30a4\u30d7\u8a8d\u8b58. let mySwipe = UISwipeGestureRecognizer ( target : self , action : #selector ( ViewController . swipeGesture ( sender :))) // \u30b9\u30ef\u30a4\u30d7\u8a8d\u8b58-2\u672c\u6307\u3067\u30b9\u30ef\u30a4\u30d7. mySwipe . numberOfTouchesRequired = 2 // \u9577\u62bc\u3057\u3092\u8a8d\u8b58. let myLongPressGesture = UILongPressGestureRecognizer ( target : self , action : #selector ( ViewController . longPressGesture ( sender :))) // \u9577\u62bc\u3057-\u6700\u4f4e2\u79d2\u9593\u306f\u9577\u62bc\u3057\u3059\u308b. myLongPressGesture . minimumPressDuration = 2.0 // \u9577\u62bc\u3057-\u6307\u306e\u30ba\u30ec\u306f15px\u307e\u3067. myLongPressGesture . allowableMovement = 150 // \u30d1\u30f3\u8a8d\u8b58. let myPan = UIPanGestureRecognizer ( target : self , action : #selector ( ViewController . panGesture ( sender :))) // \u30d1\u30f3\u8a8d\u8b58-3\u672c\u6307\u3067\u30d1\u30f3. myPan . minimumNumberOfTouches = 3 // \u56de\u8ee2\u3092\u8a8d\u8b58. let myRotate = UIRotationGestureRecognizer ( target : self , action : #selector ( ViewController . rotateGesture ( sender :))) // \u30a8\u30c3\u30b8\u3092\u8a8d\u8b58. let mySEdghePan = UIScreenEdgePanGestureRecognizer ( target : self , action : #selector ( ViewController . edgeGesture ( sender :))) // \u30a8\u30c3\u30b8\u3092\u8a8d\u8b58-\u6700\u4f4e\u63073\u672c\u3067\u53cd\u5fdc. mySEdghePan . minimumNumberOfTouches = 4 // \u30a8\u30c3\u30b8\u3092\u8a8d\u8b58-\u5de6\u5074. mySEdghePan . edges = UIRectEdge . left // View\u306b\u8ffd\u52a0. self . view . addGestureRecognizer ( myTap ) self . view . addGestureRecognizer ( myPinchGesture ) self . view . addGestureRecognizer ( mySwipe ) self . view . addGestureRecognizer ( myLongPressGesture ) self . view . addGestureRecognizer ( myPan ) self . view . addGestureRecognizer ( myRotate ) self . view . addGestureRecognizer ( mySEdghePan ) let centerOfX = self . view . bounds . width / 2 // Label\u3092\u4f5c\u6210. tapLabel = makeMyLabel ( title : \"Tap\" , color : UIColor . red , myX : centerOfX - 50 , myY : 100 ) pinchGestureLabel = makeMyLabel ( title : \"Pinch\" , color : UIColor . green , myX : centerOfX + 50 , myY : 100 ) swipeLabel = makeMyLabel ( title : \"Swipe\" , color : UIColor . blue , myX : centerOfX - 50 , myY : 190 ) longPressLabel = makeMyLabel ( title : \"Long\" , color : UIColor . orange , myX : centerOfX + 50 , myY : 190 ) panLabel = makeMyLabel ( title : \"Pan\" , color : UIColor . black , myX : centerOfX - 50 , myY : 280 ) rotateLabel = makeMyLabel ( title : \"Rotate\" , color : UIColor . cyan , myX : centerOfX + 50 , myY : 280 ) edgeLabel = makeMyLabel ( title : \"Edge\" , color : UIColor . purple , myX : centerOfX - 50 , myY : 370 ) // View\u306b\u8cbc\u4ed8\u3051\u308b. self . view . addSubview ( tapLabel ) self . view . addSubview ( pinchGestureLabel ) self . view . addSubview ( swipeLabel ) self . view . addSubview ( longPressLabel ) self . view . addSubview ( panLabel ) self . view . addSubview ( rotateLabel ) self . view . addSubview ( edgeLabel ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } /* \u30bf\u30c3\u30d7\u30a4\u30d9\u30f3\u30c8. */ internal func tapGesture ( sender : UITapGestureRecognizer ){ tapLabel . text = \" \\( sender . numberOfTouches ) \" } /* \u30d4\u30f3\u30c1\u30a4\u30d9\u30f3\u30c8\u306e\u5b9f\u88c5. */ internal func pinchGesture ( sender : UIPinchGestureRecognizer ){ let firstPoint = sender . scale let secondPoint = sender . velocity pinchGestureLabel . text = \" \\( Double ( Int ( firstPoint * 100 )) / 100 ) \\n \\( Double ( Int ( secondPoint * 100 )) / 100 ) \" } /* \u30b9\u30ef\u30a4\u30d7\u30a4\u30d9\u30f3\u30c8 */ internal func swipeGesture ( sender : UISwipeGestureRecognizer ){ let touches = sender . numberOfTouches swipeLabel . text = \" \\( touches ) \" } /* \u9577\u62bc\u3057\u30a4\u30d9\u30f3\u30c8. */ internal func longPressGesture ( sender : UILongPressGestureRecognizer ){ // \u6307\u304c\u96e2\u308c\u305f\u3053\u3068\u3092\u691c\u77e5 if ( sender . state == UIGestureRecognizerState . ended ){ longPressLabel . text = \"On\" } } /* \u30d1\u30f3. */ internal func panGesture ( sender : UIPanGestureRecognizer ){ panLabel . text = \" \\( sender . numberOfTouches ) \" } /* \u56de\u8ee2. */ internal func rotateGesture ( sender : UIRotationGestureRecognizer ){ let firstPoint = sender . rotation let secondPoint = sender . velocity rotateLabel . text = \" \\( Double ( Int ( firstPoint * 100 )) / 100 ) \\n \\( Double ( Int ( secondPoint * 100 )) / 100 ) \" } /* \u30a8\u30c3\u30b8. */ internal func edgeGesture ( sender : UIScreenEdgePanGestureRecognizer ){ let touches = sender . numberOfTouches swipeLabel . text = \" \\( touches ) \" } internal func makeMyLabel ( title : NSString , color : UIColor , myX : CGFloat , myY : CGFloat ) -> UILabel { let myLabel : UILabel = UILabel () myLabel . frame = CGRect ( x : 0 , y : 0 , width : 80 , height : 80 ) myLabel . backgroundColor = color myLabel . textColor = UIColor . white myLabel . layer . masksToBounds = true myLabel . text = title as String myLabel . textAlignment = NSTextAlignment . center myLabel . layer . cornerRadius = 40.0 myLabel . layer . position = CGPoint ( x : myX , y : myY ) myLabel . numberOfLines = 2 return myLabel } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 // // ViewController.swift // UIKit040_2.3 // // Created by KimikoWatanabe on 2016/08/18. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { private var tapLabel : UILabel ! private var pinchGestureLabel : UILabel ! private var swipeLabel : UILabel ! private var longPressLabel : UILabel ! private var panLabel : UILabel ! private var rotateLabel : UILabel ! private var edgeLabel : UILabel ! override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u3092\u8d64\u8272\u306b. self . view . backgroundColor = UIColor . whiteColor () // \u30bf\u30c3\u30d7\u3092\u8a8d\u8b58. let myTap = UITapGestureRecognizer ( target : self , action : #selector ( ViewController . tapGesture ( _ :))) // \u30d4\u30f3\u30c1\u3092\u8a8d\u8b58. let myPinchGesture = UIPinchGestureRecognizer ( target : self , action : #selector ( ViewController . pinchGesture ( _ :))) // \u30b9\u30ef\u30a4\u30d7\u8a8d\u8b58. let mySwipe = UISwipeGestureRecognizer ( target : self , action : #selector ( ViewController . swipeGesture ( _ :))) // \u30b9\u30ef\u30a4\u30d7\u8a8d\u8b58-2\u672c\u6307\u3067\u30b9\u30ef\u30a4\u30d7. mySwipe . numberOfTouchesRequired = 2 // \u9577\u62bc\u3057\u3092\u8a8d\u8b58. let myLongPressGesture = UILongPressGestureRecognizer ( target : self , action : #selector ( ViewController . longPressGesture ( _ :))) // \u9577\u62bc\u3057-\u6700\u4f4e2\u79d2\u9593\u306f\u9577\u62bc\u3057\u3059\u308b. myLongPressGesture . minimumPressDuration = 2.0 // \u9577\u62bc\u3057-\u6307\u306e\u30ba\u30ec\u306f15px\u307e\u3067. myLongPressGesture . allowableMovement = 150 // \u30d1\u30f3\u8a8d\u8b58. let myPan = UIPanGestureRecognizer ( target : self , action : #selector ( ViewController . panGesture ( _ :))) // \u30d1\u30f3\u8a8d\u8b58-3\u672c\u6307\u3067\u30d1\u30f3. myPan . minimumNumberOfTouches = 3 // \u56de\u8ee2\u3092\u8a8d\u8b58. let myRotate = UIRotationGestureRecognizer ( target : self , action : #selector ( ViewController . rotateGesture ( _ :))) // \u30a8\u30c3\u30b8\u3092\u8a8d\u8b58. let mySEdghePan = UIScreenEdgePanGestureRecognizer ( target : self , action : #selector ( ViewController . edgeGesture ( _ :))) // \u30a8\u30c3\u30b8\u3092\u8a8d\u8b58-\u6700\u4f4e\u63073\u672c\u3067\u53cd\u5fdc. mySEdghePan . minimumNumberOfTouches = 4 // \u30a8\u30c3\u30b8\u3092\u8a8d\u8b58-\u5de6\u5074. mySEdghePan . edges = UIRectEdge . Left // View\u306b\u8ffd\u52a0. self . view . addGestureRecognizer ( myTap ) self . view . addGestureRecognizer ( myPinchGesture ) self . view . addGestureRecognizer ( mySwipe ) self . view . addGestureRecognizer ( myLongPressGesture ) self . view . addGestureRecognizer ( myPan ) self . view . addGestureRecognizer ( myRotate ) self . view . addGestureRecognizer ( mySEdghePan ) let centerOfX = self . view . bounds . width / 2 // Label\u3092\u4f5c\u6210. tapLabel = makeMyLabel ( \"Tap\" , color : UIColor . redColor (), myX : centerOfX - 50 , myY : 100 ) pinchGestureLabel = makeMyLabel ( \"Pinch\" , color : UIColor . greenColor (), myX : centerOfX + 50 , myY : 100 ) swipeLabel = makeMyLabel ( \"Swipe\" , color : UIColor . blueColor (), myX : centerOfX - 50 , myY : 190 ) longPressLabel = makeMyLabel ( \"Long\" , color : UIColor . orangeColor (), myX : centerOfX + 50 , myY : 190 ) panLabel = makeMyLabel ( \"Pan\" , color : UIColor . blackColor (), myX : centerOfX - 50 , myY : 280 ) rotateLabel = makeMyLabel ( \"Rotate\" , color : UIColor . cyanColor (), myX : centerOfX + 50 , myY : 280 ) edgeLabel = makeMyLabel ( \"Edge\" , color : UIColor . purpleColor (), myX : centerOfX - 50 , myY : 370 ) // View\u306b\u8cbc\u4ed8\u3051\u308b. self . view . addSubview ( tapLabel ) self . view . addSubview ( pinchGestureLabel ) self . view . addSubview ( swipeLabel ) self . view . addSubview ( longPressLabel ) self . view . addSubview ( panLabel ) self . view . addSubview ( rotateLabel ) self . view . addSubview ( edgeLabel ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } /* \u30bf\u30c3\u30d7\u30a4\u30d9\u30f3\u30c8. */ internal func tapGesture ( sender : UITapGestureRecognizer ){ tapLabel . text = \" \\( sender . numberOfTouches ()) \" } /* \u30d4\u30f3\u30c1\u30a4\u30d9\u30f3\u30c8\u306e\u5b9f\u88c5. */ internal func pinchGesture ( sender : UIPinchGestureRecognizer ){ let firstPoint = sender . scale let secondPoint = sender . velocity pinchGestureLabel . text = \" \\( Double ( Int ( firstPoint * 100 )) / 100 ) \\n \\( Double ( Int ( secondPoint * 100 )) / 100 ) \" } /* \u30b9\u30ef\u30a4\u30d7\u30a4\u30d9\u30f3\u30c8 */ internal func swipeGesture ( sender : UISwipeGestureRecognizer ){ let touches = sender . numberOfTouches () swipeLabel . text = \" \\( touches ) \" } /* \u9577\u62bc\u3057\u30a4\u30d9\u30f3\u30c8. */ internal func longPressGesture ( sender : UILongPressGestureRecognizer ){ // \u6307\u304c\u96e2\u308c\u305f\u3053\u3068\u3092\u691c\u77e5 if ( sender . state == UIGestureRecognizerState . Ended ){ longPressLabel . text = \"On\" } } /* \u30d1\u30f3. */ internal func panGesture ( sender : UIPanGestureRecognizer ){ panLabel . text = \" \\( sender . numberOfTouches ()) \" } /* \u56de\u8ee2. */ internal func rotateGesture ( sender : UIRotationGestureRecognizer ){ let firstPoint = sender . rotation let secondPoint = sender . velocity rotateLabel . text = \" \\( Double ( Int ( firstPoint * 100 )) / 100 ) \\n \\( Double ( Int ( secondPoint * 100 )) / 100 ) \" } /* \u30a8\u30c3\u30b8. */ internal func edgeGesture ( sender : UIScreenEdgePanGestureRecognizer ){ let touches = sender . numberOfTouches () swipeLabel . text = \" \\( touches ) \" } internal func makeMyLabel ( title : NSString , color : UIColor , myX : CGFloat , myY : CGFloat ) -> UILabel { let myLabel : UILabel = UILabel () myLabel . frame = CGRectMake ( 0 , 0 , 80 , 80 ) myLabel . backgroundColor = color myLabel . textColor = UIColor . whiteColor () myLabel . layer . masksToBounds = true myLabel . text = title as String myLabel . textAlignment = NSTextAlignment . Center myLabel . layer . cornerRadius = 40.0 myLabel . layer . position = CGPoint ( x : myX , y : myY ) myLabel . numberOfLines = 2 return myLabel } } 3.x\u30684.x\u306e\u5dee\u5206 UIGestureRecognizerState \u304c UIGestureRecognizer.State \u306b\u5909\u66f4 tapGesture \u3001 pinchGesture \u3001 swipeGesture \u3001 longPressGesture \u3001 panGesture \u3001 rotateGesture \u3001 edgeGesture \u306b @objc \u3092\u8ffd\u52a0 2.3\u30683.0\u306e\u5dee\u5206 UIColor\u306e\u53c2\u7167\u65b9\u6cd5\u304c\u5909\u66f4(UIColor.grayColor()->UIColor.gray) CGRect,CGPoint\u306e\u521d\u671f\u5316\u65b9\u6cd5\u306e\u5909\u66f4(CGRectMake,CGPointMake\u306e\u5ec3\u6b62) selector\u306e\u6307\u5b9a\u65b9\u6cd5\u306e\u5909\u66f4(ViewController.tapGesture(_:)->ViewController.tapGesture(sender:)) UISwipeGestureRecognizer\u306e\u4e00\u90e8\u95a2\u6570\u304c\u30d7\u30ed\u30d1\u30c6\u30a3\u306b\u5909\u66f4(numberOfTouches()->numberOfTouches) Reference UISwipeGestureRecognizer Class https://developer.apple.com/reference/uikit/uiswipegesturerecognizer","title":"GestureRecognizer\u306e\u30a4\u30d9\u30f3\u30c8\u53d6\u5f97"},{"location":"1.uikit/040_gesturerecognizer/#gesturerecognizer","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 // // ViewController.swift // UIKit040_4.0 // // Created by KimikoWatanabe on 2016/08/18. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { private var tapLabel : UILabel ! private var pinchGestureLabel : UILabel ! private var swipeLabel : UILabel ! private var longPressLabel : UILabel ! private var panLabel : UILabel ! private var rotateLabel : UILabel ! private var edgeLabel : UILabel ! override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u3092\u8d64\u8272\u306b. self . view . backgroundColor = UIColor . white // \u30bf\u30c3\u30d7\u3092\u8a8d\u8b58. let myTap = UITapGestureRecognizer ( target : self , action : #selector ( ViewController . tapGesture ( sender :))) // \u30d4\u30f3\u30c1\u3092\u8a8d\u8b58. let myPinchGesture = UIPinchGestureRecognizer ( target : self , action : #selector ( ViewController . pinchGesture ( sender :))) // \u30b9\u30ef\u30a4\u30d7\u8a8d\u8b58. let mySwipe = UISwipeGestureRecognizer ( target : self , action : #selector ( ViewController . swipeGesture ( sender :))) // \u30b9\u30ef\u30a4\u30d7\u8a8d\u8b58-2\u672c\u6307\u3067\u30b9\u30ef\u30a4\u30d7. mySwipe . numberOfTouchesRequired = 2 // \u9577\u62bc\u3057\u3092\u8a8d\u8b58. let myLongPressGesture = UILongPressGestureRecognizer ( target : self , action : #selector ( ViewController . longPressGesture ( sender :))) // \u9577\u62bc\u3057-\u6700\u4f4e2\u79d2\u9593\u306f\u9577\u62bc\u3057\u3059\u308b. myLongPressGesture . minimumPressDuration = 2.0 // \u9577\u62bc\u3057-\u6307\u306e\u30ba\u30ec\u306f15px\u307e\u3067. myLongPressGesture . allowableMovement = 150 // \u30d1\u30f3\u8a8d\u8b58. let myPan = UIPanGestureRecognizer ( target : self , action : #selector ( ViewController . panGesture ( sender :))) // \u30d1\u30f3\u8a8d\u8b58-3\u672c\u6307\u3067\u30d1\u30f3. myPan . minimumNumberOfTouches = 3 // \u56de\u8ee2\u3092\u8a8d\u8b58. let myRotate = UIRotationGestureRecognizer ( target : self , action : #selector ( ViewController . rotateGesture ( sender :))) // \u30a8\u30c3\u30b8\u3092\u8a8d\u8b58. let mySEdghePan = UIScreenEdgePanGestureRecognizer ( target : self , action : #selector ( ViewController . edgeGesture ( sender :))) // \u30a8\u30c3\u30b8\u3092\u8a8d\u8b58-\u6700\u4f4e\u63073\u672c\u3067\u53cd\u5fdc. mySEdghePan . minimumNumberOfTouches = 4 // \u30a8\u30c3\u30b8\u3092\u8a8d\u8b58-\u5de6\u5074. mySEdghePan . edges = UIRectEdge . left // View\u306b\u8ffd\u52a0. self . view . addGestureRecognizer ( myTap ) self . view . addGestureRecognizer ( myPinchGesture ) self . view . addGestureRecognizer ( mySwipe ) self . view . addGestureRecognizer ( myLongPressGesture ) self . view . addGestureRecognizer ( myPan ) self . view . addGestureRecognizer ( myRotate ) self . view . addGestureRecognizer ( mySEdghePan ) let centerOfX = self . view . bounds . width / 2 // Label\u3092\u4f5c\u6210. tapLabel = makeMyLabel ( title : \"Tap\" , color : UIColor . red , myX : centerOfX - 50 , myY : 100 ) pinchGestureLabel = makeMyLabel ( title : \"Pinch\" , color : UIColor . green , myX : centerOfX + 50 , myY : 100 ) swipeLabel = makeMyLabel ( title : \"Swipe\" , color : UIColor . blue , myX : centerOfX - 50 , myY : 190 ) longPressLabel = makeMyLabel ( title : \"Long\" , color : UIColor . orange , myX : centerOfX + 50 , myY : 190 ) panLabel = makeMyLabel ( title : \"Pan\" , color : UIColor . black , myX : centerOfX - 50 , myY : 280 ) rotateLabel = makeMyLabel ( title : \"Rotate\" , color : UIColor . cyan , myX : centerOfX + 50 , myY : 280 ) edgeLabel = makeMyLabel ( title : \"Edge\" , color : UIColor . purple , myX : centerOfX - 50 , myY : 370 ) // View\u306b\u8cbc\u4ed8\u3051\u308b. self . view . addSubview ( tapLabel ) self . view . addSubview ( pinchGestureLabel ) self . view . addSubview ( swipeLabel ) self . view . addSubview ( longPressLabel ) self . view . addSubview ( panLabel ) self . view . addSubview ( rotateLabel ) self . view . addSubview ( edgeLabel ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } /* \u30bf\u30c3\u30d7\u30a4\u30d9\u30f3\u30c8. */ @objc internal func tapGesture ( sender : UITapGestureRecognizer ){ tapLabel . text = \" \\( sender . numberOfTouches ) \" } /* \u30d4\u30f3\u30c1\u30a4\u30d9\u30f3\u30c8\u306e\u5b9f\u88c5. */ @objc internal func pinchGesture ( sender : UIPinchGestureRecognizer ){ let firstPoint = sender . scale let secondPoint = sender . velocity pinchGestureLabel . text = \" \\( Double ( Int ( firstPoint * 100 )) / 100 ) \\n \\( Double ( Int ( secondPoint * 100 )) / 100 ) \" } /* \u30b9\u30ef\u30a4\u30d7\u30a4\u30d9\u30f3\u30c8 */ @objc internal func swipeGesture ( sender : UISwipeGestureRecognizer ){ let touches = sender . numberOfTouches swipeLabel . text = \" \\( touches ) \" } /* \u9577\u62bc\u3057\u30a4\u30d9\u30f3\u30c8. */ @objc internal func longPressGesture ( sender : UILongPressGestureRecognizer ){ // \u6307\u304c\u96e2\u308c\u305f\u3053\u3068\u3092\u691c\u77e5 if ( sender . state == UIGestureRecognizer . State . ended ){ longPressLabel . text = \"On\" } } /* \u30d1\u30f3. */ @objc internal func panGesture ( sender : UIPanGestureRecognizer ){ panLabel . text = \" \\( sender . numberOfTouches ) \" } /* \u56de\u8ee2. */ @objc internal func rotateGesture ( sender : UIRotationGestureRecognizer ){ let firstPoint = sender . rotation let secondPoint = sender . velocity rotateLabel . text = \" \\( Double ( Int ( firstPoint * 100 )) / 100 ) \\n \\( Double ( Int ( secondPoint * 100 )) / 100 ) \" } /* \u30a8\u30c3\u30b8. */ @objc internal func edgeGesture ( sender : UIScreenEdgePanGestureRecognizer ){ let touches = sender . numberOfTouches swipeLabel . text = \" \\( touches ) \" } internal func makeMyLabel ( title : NSString , color : UIColor , myX : CGFloat , myY : CGFloat ) -> UILabel { let myLabel : UILabel = UILabel () myLabel . frame = CGRect ( x : 0 , y : 0 , width : 80 , height : 80 ) myLabel . backgroundColor = color myLabel . textColor = UIColor . white myLabel . layer . masksToBounds = true myLabel . text = title as String myLabel . textAlignment = NSTextAlignment . center myLabel . layer . cornerRadius = 40.0 myLabel . layer . position = CGPoint ( x : myX , y : myY ) myLabel . numberOfLines = 2 return myLabel } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 // // ViewController.swift // UIKit040_3.0 // // Created by KimikoWatanabe on 2016/08/18. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { private var tapLabel : UILabel ! private var pinchGestureLabel : UILabel ! private var swipeLabel : UILabel ! private var longPressLabel : UILabel ! private var panLabel : UILabel ! private var rotateLabel : UILabel ! private var edgeLabel : UILabel ! override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u3092\u8d64\u8272\u306b. self . view . backgroundColor = UIColor . white // \u30bf\u30c3\u30d7\u3092\u8a8d\u8b58. let myTap = UITapGestureRecognizer ( target : self , action : #selector ( ViewController . tapGesture ( sender :))) // \u30d4\u30f3\u30c1\u3092\u8a8d\u8b58. let myPinchGesture = UIPinchGestureRecognizer ( target : self , action : #selector ( ViewController . pinchGesture ( sender :))) // \u30b9\u30ef\u30a4\u30d7\u8a8d\u8b58. let mySwipe = UISwipeGestureRecognizer ( target : self , action : #selector ( ViewController . swipeGesture ( sender :))) // \u30b9\u30ef\u30a4\u30d7\u8a8d\u8b58-2\u672c\u6307\u3067\u30b9\u30ef\u30a4\u30d7. mySwipe . numberOfTouchesRequired = 2 // \u9577\u62bc\u3057\u3092\u8a8d\u8b58. let myLongPressGesture = UILongPressGestureRecognizer ( target : self , action : #selector ( ViewController . longPressGesture ( sender :))) // \u9577\u62bc\u3057-\u6700\u4f4e2\u79d2\u9593\u306f\u9577\u62bc\u3057\u3059\u308b. myLongPressGesture . minimumPressDuration = 2.0 // \u9577\u62bc\u3057-\u6307\u306e\u30ba\u30ec\u306f15px\u307e\u3067. myLongPressGesture . allowableMovement = 150 // \u30d1\u30f3\u8a8d\u8b58. let myPan = UIPanGestureRecognizer ( target : self , action : #selector ( ViewController . panGesture ( sender :))) // \u30d1\u30f3\u8a8d\u8b58-3\u672c\u6307\u3067\u30d1\u30f3. myPan . minimumNumberOfTouches = 3 // \u56de\u8ee2\u3092\u8a8d\u8b58. let myRotate = UIRotationGestureRecognizer ( target : self , action : #selector ( ViewController . rotateGesture ( sender :))) // \u30a8\u30c3\u30b8\u3092\u8a8d\u8b58. let mySEdghePan = UIScreenEdgePanGestureRecognizer ( target : self , action : #selector ( ViewController . edgeGesture ( sender :))) // \u30a8\u30c3\u30b8\u3092\u8a8d\u8b58-\u6700\u4f4e\u63073\u672c\u3067\u53cd\u5fdc. mySEdghePan . minimumNumberOfTouches = 4 // \u30a8\u30c3\u30b8\u3092\u8a8d\u8b58-\u5de6\u5074. mySEdghePan . edges = UIRectEdge . left // View\u306b\u8ffd\u52a0. self . view . addGestureRecognizer ( myTap ) self . view . addGestureRecognizer ( myPinchGesture ) self . view . addGestureRecognizer ( mySwipe ) self . view . addGestureRecognizer ( myLongPressGesture ) self . view . addGestureRecognizer ( myPan ) self . view . addGestureRecognizer ( myRotate ) self . view . addGestureRecognizer ( mySEdghePan ) let centerOfX = self . view . bounds . width / 2 // Label\u3092\u4f5c\u6210. tapLabel = makeMyLabel ( title : \"Tap\" , color : UIColor . red , myX : centerOfX - 50 , myY : 100 ) pinchGestureLabel = makeMyLabel ( title : \"Pinch\" , color : UIColor . green , myX : centerOfX + 50 , myY : 100 ) swipeLabel = makeMyLabel ( title : \"Swipe\" , color : UIColor . blue , myX : centerOfX - 50 , myY : 190 ) longPressLabel = makeMyLabel ( title : \"Long\" , color : UIColor . orange , myX : centerOfX + 50 , myY : 190 ) panLabel = makeMyLabel ( title : \"Pan\" , color : UIColor . black , myX : centerOfX - 50 , myY : 280 ) rotateLabel = makeMyLabel ( title : \"Rotate\" , color : UIColor . cyan , myX : centerOfX + 50 , myY : 280 ) edgeLabel = makeMyLabel ( title : \"Edge\" , color : UIColor . purple , myX : centerOfX - 50 , myY : 370 ) // View\u306b\u8cbc\u4ed8\u3051\u308b. self . view . addSubview ( tapLabel ) self . view . addSubview ( pinchGestureLabel ) self . view . addSubview ( swipeLabel ) self . view . addSubview ( longPressLabel ) self . view . addSubview ( panLabel ) self . view . addSubview ( rotateLabel ) self . view . addSubview ( edgeLabel ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } /* \u30bf\u30c3\u30d7\u30a4\u30d9\u30f3\u30c8. */ internal func tapGesture ( sender : UITapGestureRecognizer ){ tapLabel . text = \" \\( sender . numberOfTouches ) \" } /* \u30d4\u30f3\u30c1\u30a4\u30d9\u30f3\u30c8\u306e\u5b9f\u88c5. */ internal func pinchGesture ( sender : UIPinchGestureRecognizer ){ let firstPoint = sender . scale let secondPoint = sender . velocity pinchGestureLabel . text = \" \\( Double ( Int ( firstPoint * 100 )) / 100 ) \\n \\( Double ( Int ( secondPoint * 100 )) / 100 ) \" } /* \u30b9\u30ef\u30a4\u30d7\u30a4\u30d9\u30f3\u30c8 */ internal func swipeGesture ( sender : UISwipeGestureRecognizer ){ let touches = sender . numberOfTouches swipeLabel . text = \" \\( touches ) \" } /* \u9577\u62bc\u3057\u30a4\u30d9\u30f3\u30c8. */ internal func longPressGesture ( sender : UILongPressGestureRecognizer ){ // \u6307\u304c\u96e2\u308c\u305f\u3053\u3068\u3092\u691c\u77e5 if ( sender . state == UIGestureRecognizerState . ended ){ longPressLabel . text = \"On\" } } /* \u30d1\u30f3. */ internal func panGesture ( sender : UIPanGestureRecognizer ){ panLabel . text = \" \\( sender . numberOfTouches ) \" } /* \u56de\u8ee2. */ internal func rotateGesture ( sender : UIRotationGestureRecognizer ){ let firstPoint = sender . rotation let secondPoint = sender . velocity rotateLabel . text = \" \\( Double ( Int ( firstPoint * 100 )) / 100 ) \\n \\( Double ( Int ( secondPoint * 100 )) / 100 ) \" } /* \u30a8\u30c3\u30b8. */ internal func edgeGesture ( sender : UIScreenEdgePanGestureRecognizer ){ let touches = sender . numberOfTouches swipeLabel . text = \" \\( touches ) \" } internal func makeMyLabel ( title : NSString , color : UIColor , myX : CGFloat , myY : CGFloat ) -> UILabel { let myLabel : UILabel = UILabel () myLabel . frame = CGRect ( x : 0 , y : 0 , width : 80 , height : 80 ) myLabel . backgroundColor = color myLabel . textColor = UIColor . white myLabel . layer . masksToBounds = true myLabel . text = title as String myLabel . textAlignment = NSTextAlignment . center myLabel . layer . cornerRadius = 40.0 myLabel . layer . position = CGPoint ( x : myX , y : myY ) myLabel . numberOfLines = 2 return myLabel } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 // // ViewController.swift // UIKit040_2.3 // // Created by KimikoWatanabe on 2016/08/18. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { private var tapLabel : UILabel ! private var pinchGestureLabel : UILabel ! private var swipeLabel : UILabel ! private var longPressLabel : UILabel ! private var panLabel : UILabel ! private var rotateLabel : UILabel ! private var edgeLabel : UILabel ! override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u3092\u8d64\u8272\u306b. self . view . backgroundColor = UIColor . whiteColor () // \u30bf\u30c3\u30d7\u3092\u8a8d\u8b58. let myTap = UITapGestureRecognizer ( target : self , action : #selector ( ViewController . tapGesture ( _ :))) // \u30d4\u30f3\u30c1\u3092\u8a8d\u8b58. let myPinchGesture = UIPinchGestureRecognizer ( target : self , action : #selector ( ViewController . pinchGesture ( _ :))) // \u30b9\u30ef\u30a4\u30d7\u8a8d\u8b58. let mySwipe = UISwipeGestureRecognizer ( target : self , action : #selector ( ViewController . swipeGesture ( _ :))) // \u30b9\u30ef\u30a4\u30d7\u8a8d\u8b58-2\u672c\u6307\u3067\u30b9\u30ef\u30a4\u30d7. mySwipe . numberOfTouchesRequired = 2 // \u9577\u62bc\u3057\u3092\u8a8d\u8b58. let myLongPressGesture = UILongPressGestureRecognizer ( target : self , action : #selector ( ViewController . longPressGesture ( _ :))) // \u9577\u62bc\u3057-\u6700\u4f4e2\u79d2\u9593\u306f\u9577\u62bc\u3057\u3059\u308b. myLongPressGesture . minimumPressDuration = 2.0 // \u9577\u62bc\u3057-\u6307\u306e\u30ba\u30ec\u306f15px\u307e\u3067. myLongPressGesture . allowableMovement = 150 // \u30d1\u30f3\u8a8d\u8b58. let myPan = UIPanGestureRecognizer ( target : self , action : #selector ( ViewController . panGesture ( _ :))) // \u30d1\u30f3\u8a8d\u8b58-3\u672c\u6307\u3067\u30d1\u30f3. myPan . minimumNumberOfTouches = 3 // \u56de\u8ee2\u3092\u8a8d\u8b58. let myRotate = UIRotationGestureRecognizer ( target : self , action : #selector ( ViewController . rotateGesture ( _ :))) // \u30a8\u30c3\u30b8\u3092\u8a8d\u8b58. let mySEdghePan = UIScreenEdgePanGestureRecognizer ( target : self , action : #selector ( ViewController . edgeGesture ( _ :))) // \u30a8\u30c3\u30b8\u3092\u8a8d\u8b58-\u6700\u4f4e\u63073\u672c\u3067\u53cd\u5fdc. mySEdghePan . minimumNumberOfTouches = 4 // \u30a8\u30c3\u30b8\u3092\u8a8d\u8b58-\u5de6\u5074. mySEdghePan . edges = UIRectEdge . Left // View\u306b\u8ffd\u52a0. self . view . addGestureRecognizer ( myTap ) self . view . addGestureRecognizer ( myPinchGesture ) self . view . addGestureRecognizer ( mySwipe ) self . view . addGestureRecognizer ( myLongPressGesture ) self . view . addGestureRecognizer ( myPan ) self . view . addGestureRecognizer ( myRotate ) self . view . addGestureRecognizer ( mySEdghePan ) let centerOfX = self . view . bounds . width / 2 // Label\u3092\u4f5c\u6210. tapLabel = makeMyLabel ( \"Tap\" , color : UIColor . redColor (), myX : centerOfX - 50 , myY : 100 ) pinchGestureLabel = makeMyLabel ( \"Pinch\" , color : UIColor . greenColor (), myX : centerOfX + 50 , myY : 100 ) swipeLabel = makeMyLabel ( \"Swipe\" , color : UIColor . blueColor (), myX : centerOfX - 50 , myY : 190 ) longPressLabel = makeMyLabel ( \"Long\" , color : UIColor . orangeColor (), myX : centerOfX + 50 , myY : 190 ) panLabel = makeMyLabel ( \"Pan\" , color : UIColor . blackColor (), myX : centerOfX - 50 , myY : 280 ) rotateLabel = makeMyLabel ( \"Rotate\" , color : UIColor . cyanColor (), myX : centerOfX + 50 , myY : 280 ) edgeLabel = makeMyLabel ( \"Edge\" , color : UIColor . purpleColor (), myX : centerOfX - 50 , myY : 370 ) // View\u306b\u8cbc\u4ed8\u3051\u308b. self . view . addSubview ( tapLabel ) self . view . addSubview ( pinchGestureLabel ) self . view . addSubview ( swipeLabel ) self . view . addSubview ( longPressLabel ) self . view . addSubview ( panLabel ) self . view . addSubview ( rotateLabel ) self . view . addSubview ( edgeLabel ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } /* \u30bf\u30c3\u30d7\u30a4\u30d9\u30f3\u30c8. */ internal func tapGesture ( sender : UITapGestureRecognizer ){ tapLabel . text = \" \\( sender . numberOfTouches ()) \" } /* \u30d4\u30f3\u30c1\u30a4\u30d9\u30f3\u30c8\u306e\u5b9f\u88c5. */ internal func pinchGesture ( sender : UIPinchGestureRecognizer ){ let firstPoint = sender . scale let secondPoint = sender . velocity pinchGestureLabel . text = \" \\( Double ( Int ( firstPoint * 100 )) / 100 ) \\n \\( Double ( Int ( secondPoint * 100 )) / 100 ) \" } /* \u30b9\u30ef\u30a4\u30d7\u30a4\u30d9\u30f3\u30c8 */ internal func swipeGesture ( sender : UISwipeGestureRecognizer ){ let touches = sender . numberOfTouches () swipeLabel . text = \" \\( touches ) \" } /* \u9577\u62bc\u3057\u30a4\u30d9\u30f3\u30c8. */ internal func longPressGesture ( sender : UILongPressGestureRecognizer ){ // \u6307\u304c\u96e2\u308c\u305f\u3053\u3068\u3092\u691c\u77e5 if ( sender . state == UIGestureRecognizerState . Ended ){ longPressLabel . text = \"On\" } } /* \u30d1\u30f3. */ internal func panGesture ( sender : UIPanGestureRecognizer ){ panLabel . text = \" \\( sender . numberOfTouches ()) \" } /* \u56de\u8ee2. */ internal func rotateGesture ( sender : UIRotationGestureRecognizer ){ let firstPoint = sender . rotation let secondPoint = sender . velocity rotateLabel . text = \" \\( Double ( Int ( firstPoint * 100 )) / 100 ) \\n \\( Double ( Int ( secondPoint * 100 )) / 100 ) \" } /* \u30a8\u30c3\u30b8. */ internal func edgeGesture ( sender : UIScreenEdgePanGestureRecognizer ){ let touches = sender . numberOfTouches () swipeLabel . text = \" \\( touches ) \" } internal func makeMyLabel ( title : NSString , color : UIColor , myX : CGFloat , myY : CGFloat ) -> UILabel { let myLabel : UILabel = UILabel () myLabel . frame = CGRectMake ( 0 , 0 , 80 , 80 ) myLabel . backgroundColor = color myLabel . textColor = UIColor . whiteColor () myLabel . layer . masksToBounds = true myLabel . text = title as String myLabel . textAlignment = NSTextAlignment . Center myLabel . layer . cornerRadius = 40.0 myLabel . layer . position = CGPoint ( x : myX , y : myY ) myLabel . numberOfLines = 2 return myLabel } }","title":"GestureRecognizer\u306e\u30a4\u30d9\u30f3\u30c8\u53d6\u5f97"},{"location":"1.uikit/040_gesturerecognizer/#3x4x","text":"UIGestureRecognizerState \u304c UIGestureRecognizer.State \u306b\u5909\u66f4 tapGesture \u3001 pinchGesture \u3001 swipeGesture \u3001 longPressGesture \u3001 panGesture \u3001 rotateGesture \u3001 edgeGesture \u306b @objc \u3092\u8ffd\u52a0","title":"3.x\u30684.x\u306e\u5dee\u5206"},{"location":"1.uikit/040_gesturerecognizer/#2330","text":"UIColor\u306e\u53c2\u7167\u65b9\u6cd5\u304c\u5909\u66f4(UIColor.grayColor()->UIColor.gray) CGRect,CGPoint\u306e\u521d\u671f\u5316\u65b9\u6cd5\u306e\u5909\u66f4(CGRectMake,CGPointMake\u306e\u5ec3\u6b62) selector\u306e\u6307\u5b9a\u65b9\u6cd5\u306e\u5909\u66f4(ViewController.tapGesture(_:)->ViewController.tapGesture(sender:)) UISwipeGestureRecognizer\u306e\u4e00\u90e8\u95a2\u6570\u304c\u30d7\u30ed\u30d1\u30c6\u30a3\u306b\u5909\u66f4(numberOfTouches()->numberOfTouches)","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"1.uikit/040_gesturerecognizer/#reference","text":"UISwipeGestureRecognizer Class https://developer.apple.com/reference/uikit/uiswipegesturerecognizer","title":"Reference"},{"location":"1.uikit/041_uiapplicationpass/","text":"UIAlertController\u3092\u30d1\u30b9\u30ef\u30fc\u30c9\u5f62\u5f0f\u306b\u3059\u308b Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 // // ViewController.swift // UIKit041_4.0 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () self . view . backgroundColor = UIColor . cyan let myButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 40 )) myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : 200 ) myButton . layer . cornerRadius = 20.0 myButton . backgroundColor = UIColor . red myButton . setTitle ( \"UIAlert\u3092\u767a\u52d5\" , for : . normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchUpInside ) self . view . addSubview ( myButton ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } /* \u30dc\u30bf\u30f3\u30a2\u30af\u30b7\u30e7\u30f3\u6642\u306b\u8a2d\u5b9a\u3057\u305f\u30e1\u30bd\u30c3\u30c9. */ @objc internal func onClickMyButton ( sender : UIButton ) { // Alert\u751f\u6210. let myAlert : UIAlertController = UIAlertController ( title : \"title\" , message : \"message\" , preferredStyle : UIAlertController . Style . alert ) // OK\u30a2\u30af\u30b7\u30e7\u30f3\u751f\u6210. let OkAction = UIAlertAction ( title : \"OK\" , style : UIAlertAction . Style . default ) { ( action : UIAlertAction !) -> Void in print ( \"OK\" ) } // Cancel\u30a2\u30af\u30b7\u30e7\u30f3\u751f\u6210. let CancelAction = UIAlertAction ( title : \"Cancel\" , style : UIAlertAction . Style . destructive ) { ( action : UIAlertAction !) -> Void in print ( \"Cancel\" ) } // Alert\u306bTextField\u3092\u8ffd\u52a0. myAlert . addTextField { ( textField : UITextField !) -> Void in // \u5165\u529b\u3055\u308c\u305f\u6587\u5b57\u3092\u975e\u8868\u793a\u306b\u3059\u308b. textField . isSecureTextEntry = true // NotificationCenter\u3092\u751f\u6210. let myNotificationCenter = NotificationCenter . default // textField\u306b\u5909\u66f4\u304c\u3042\u308c\u3070changeTextField\u30e1\u30bd\u30c3\u30c9\u306b\u901a\u77e5. myNotificationCenter . addObserver ( self , selector : #selector ( ViewController . changeTextField ( sender :)), name : UITextField . textDidChangeNotification , object : nil ) } // Alert\u306b\u30a2\u30af\u30b7\u30e7\u30f3\u3092\u8ffd\u52a0. myAlert . addAction ( OkAction ) myAlert . addAction ( CancelAction ) // Alert\u3092\u767a\u52d5. present ( myAlert , animated : true , completion : nil ) } /* textField\u306b\u5909\u66f4\u304c\u4f1a\u3063\u305f\u6642\u306b\u901a\u77e5\u3055\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ @objc internal func changeTextField ( sender : NSNotification ) { let textField = sender . object as ! UITextField // \u5165\u529b\u3055\u308c\u305f\u6587\u5b57\u3092\u8868\u793a. print ( textField . text !) } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 // // ViewController.swift // UIKit041_3.0 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () self . view . backgroundColor = UIColor . cyan let myButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 40 )) myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : 200 ) myButton . layer . cornerRadius = 20.0 myButton . backgroundColor = UIColor . red myButton . setTitle ( \"UIAlert\u3092\u767a\u52d5\" , for : . normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchUpInside ) self . view . addSubview ( myButton ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } /* \u30dc\u30bf\u30f3\u30a2\u30af\u30b7\u30e7\u30f3\u6642\u306b\u8a2d\u5b9a\u3057\u305f\u30e1\u30bd\u30c3\u30c9. */ internal func onClickMyButton ( sender : UIButton ) { // Alert\u751f\u6210. let myAlert : UIAlertController = UIAlertController ( title : \"title\" , message : \"message\" , preferredStyle : UIAlertControllerStyle . alert ) // OK\u30a2\u30af\u30b7\u30e7\u30f3\u751f\u6210. let OkAction = UIAlertAction ( title : \"OK\" , style : UIAlertActionStyle . default ) { ( action : UIAlertAction !) -> Void in print ( \"OK\" ) } // Cancel\u30a2\u30af\u30b7\u30e7\u30f3\u751f\u6210. let CancelAction = UIAlertAction ( title : \"Cancel\" , style : UIAlertActionStyle . destructive ) { ( action : UIAlertAction !) -> Void in print ( \"Cancel\" ) } // Alert\u306bTextField\u3092\u8ffd\u52a0. myAlert . addTextField { ( textField : UITextField !) -> Void in // \u5165\u529b\u3055\u308c\u305f\u6587\u5b57\u3092\u975e\u8868\u793a\u306b\u3059\u308b. textField . isSecureTextEntry = true // NotificationCenter\u3092\u751f\u6210. let myNotificationCenter = NotificationCenter . default // textField\u306b\u5909\u66f4\u304c\u3042\u308c\u3070changeTextField\u30e1\u30bd\u30c3\u30c9\u306b\u901a\u77e5. myNotificationCenter . addObserver ( self , selector : #selector ( ViewController . changeTextField ( sender :)), name : NSNotification . Name . UITextFieldTextDidChange , object : nil ) } // Alert\u306b\u30a2\u30af\u30b7\u30e7\u30f3\u3092\u8ffd\u52a0. myAlert . addAction ( OkAction ) myAlert . addAction ( CancelAction ) // Alert\u3092\u767a\u52d5. present ( myAlert , animated : true , completion : nil ) } /* textField\u306b\u5909\u66f4\u304c\u4f1a\u3063\u305f\u6642\u306b\u901a\u77e5\u3055\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ internal func changeTextField ( sender : NSNotification ) { let textField = sender . object as ! UITextField // \u5165\u529b\u3055\u308c\u305f\u6587\u5b57\u3092\u8868\u793a. print ( textField . text !) } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 // // ViewController.swift // UIKit041_2.3 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () self . view . backgroundColor = UIColor . cyanColor () let myButton = UIButton ( frame : CGRectMake ( 0 , 0 , 200 , 40 )) myButton . layer . position = CGPointMake ( self . view . frame . width / 2 , 200 ) myButton . layer . cornerRadius = 20.0 myButton . backgroundColor = UIColor . redColor () myButton . setTitle ( \"UIAlert\u3092\u767a\u52d5\" , forState : . Normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : . TouchUpInside ) self . view . addSubview ( myButton ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } /* \u30dc\u30bf\u30f3\u30a2\u30af\u30b7\u30e7\u30f3\u6642\u306b\u8a2d\u5b9a\u3057\u305f\u30e1\u30bd\u30c3\u30c9. */ internal func onClickMyButton ( sender : UIButton ) { // Alert\u751f\u6210. let myAlert : UIAlertController = UIAlertController ( title : \"title\" , message : \"message\" , preferredStyle : UIAlertControllerStyle . Alert ) // OK\u30a2\u30af\u30b7\u30e7\u30f3\u751f\u6210. let OkAction = UIAlertAction ( title : \"OK\" , style : UIAlertActionStyle . Default ) { ( action : UIAlertAction !) -> Void in print ( \"OK\" ) } // Cancel\u30a2\u30af\u30b7\u30e7\u30f3\u751f\u6210. let CancelAction = UIAlertAction ( title : \"Cancel\" , style : UIAlertActionStyle . Destructive ) { ( action : UIAlertAction !) -> Void in print ( \"Cancel\" ) } // Alert\u306bTextField\u3092\u8ffd\u52a0. myAlert . addTextFieldWithConfigurationHandler { ( textField : UITextField !) -> Void in // \u5165\u529b\u3055\u308c\u305f\u6587\u5b57\u3092\u975e\u8868\u793a\u306b\u3059\u308b. textField . secureTextEntry = true // NotificationCenter\u3092\u751f\u6210. let myNotificationCenter = NSNotificationCenter . defaultCenter () // textField\u306b\u5909\u66f4\u304c\u3042\u308c\u3070changeTextField\u30e1\u30bd\u30c3\u30c9\u306b\u901a\u77e5. myNotificationCenter . addObserver ( self , selector : #selector ( ViewController . changeTextField ( _ :)), name : UITextFieldTextDidChangeNotification , object : nil ) } // Alert\u306b\u30a2\u30af\u30b7\u30e7\u30f3\u3092\u8ffd\u52a0. myAlert . addAction ( OkAction ) myAlert . addAction ( CancelAction ) // Alert\u3092\u767a\u52d5. presentViewController ( myAlert , animated : true , completion : nil ) } /* textField\u306b\u5909\u66f4\u304c\u4f1a\u3063\u305f\u6642\u306b\u901a\u77e5\u3055\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ internal func changeTextField ( sender : NSNotification ) { let textField = sender . object as ! UITextField // \u5165\u529b\u3055\u308c\u305f\u6587\u5b57\u3092\u8868\u793a. print ( textField . text !) } } 3.x\u30684.x\u306e\u5dee\u5206 onClickMyButton \u3001 changeTextField \u306b @objc \u3092\u8ffd\u52a0 UIAlertControllerStyle \u304c UIAlertController.Style \u306b\u5909\u66f4 UIAlertActionStyle \u304c UIAlertAction.Style \u306b\u5909\u66f4 NSNotification.Name.UITextFieldTextDidChange \u304c UITextField.textDidChangeNotification \u306b\u5909\u66f4 2.3\u30683.0\u306e\u5dee\u5206 UIColor\u306e\u53c2\u7167\u65b9\u6cd5\u304c\u5909\u66f4(UIColor.grayColor()->UIColor.gray) CGRect,CGPoint\u306e\u521d\u671f\u5316\u65b9\u6cd5\u306e\u5909\u66f4(CGRectMake,CGPointMake\u306e\u5ec3\u6b62) UIAlert\u306e\u4e00\u90e8\u30e1\u30bd\u30c3\u30c9\u540d\u306e\u5909\u66f4(addTextFieldWithConfigurationHandler->addTextField) Reference UIAlertController Class https://developer.apple.com/reference/uikit/uialertcontroller UIAlertAction Class https://developer.apple.com/reference/uikit/uialertaction UITextInputTraits Protocol https://developer.apple.com/reference/uikit/uitextinputtraits","title":"UIAlertController\u3092\u30d1\u30b9\u30ef\u30fc\u30c9\u5f62\u5f0f\u306b\u3059\u308b"},{"location":"1.uikit/041_uiapplicationpass/#uialertcontroller","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 // // ViewController.swift // UIKit041_4.0 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () self . view . backgroundColor = UIColor . cyan let myButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 40 )) myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : 200 ) myButton . layer . cornerRadius = 20.0 myButton . backgroundColor = UIColor . red myButton . setTitle ( \"UIAlert\u3092\u767a\u52d5\" , for : . normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchUpInside ) self . view . addSubview ( myButton ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } /* \u30dc\u30bf\u30f3\u30a2\u30af\u30b7\u30e7\u30f3\u6642\u306b\u8a2d\u5b9a\u3057\u305f\u30e1\u30bd\u30c3\u30c9. */ @objc internal func onClickMyButton ( sender : UIButton ) { // Alert\u751f\u6210. let myAlert : UIAlertController = UIAlertController ( title : \"title\" , message : \"message\" , preferredStyle : UIAlertController . Style . alert ) // OK\u30a2\u30af\u30b7\u30e7\u30f3\u751f\u6210. let OkAction = UIAlertAction ( title : \"OK\" , style : UIAlertAction . Style . default ) { ( action : UIAlertAction !) -> Void in print ( \"OK\" ) } // Cancel\u30a2\u30af\u30b7\u30e7\u30f3\u751f\u6210. let CancelAction = UIAlertAction ( title : \"Cancel\" , style : UIAlertAction . Style . destructive ) { ( action : UIAlertAction !) -> Void in print ( \"Cancel\" ) } // Alert\u306bTextField\u3092\u8ffd\u52a0. myAlert . addTextField { ( textField : UITextField !) -> Void in // \u5165\u529b\u3055\u308c\u305f\u6587\u5b57\u3092\u975e\u8868\u793a\u306b\u3059\u308b. textField . isSecureTextEntry = true // NotificationCenter\u3092\u751f\u6210. let myNotificationCenter = NotificationCenter . default // textField\u306b\u5909\u66f4\u304c\u3042\u308c\u3070changeTextField\u30e1\u30bd\u30c3\u30c9\u306b\u901a\u77e5. myNotificationCenter . addObserver ( self , selector : #selector ( ViewController . changeTextField ( sender :)), name : UITextField . textDidChangeNotification , object : nil ) } // Alert\u306b\u30a2\u30af\u30b7\u30e7\u30f3\u3092\u8ffd\u52a0. myAlert . addAction ( OkAction ) myAlert . addAction ( CancelAction ) // Alert\u3092\u767a\u52d5. present ( myAlert , animated : true , completion : nil ) } /* textField\u306b\u5909\u66f4\u304c\u4f1a\u3063\u305f\u6642\u306b\u901a\u77e5\u3055\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ @objc internal func changeTextField ( sender : NSNotification ) { let textField = sender . object as ! UITextField // \u5165\u529b\u3055\u308c\u305f\u6587\u5b57\u3092\u8868\u793a. print ( textField . text !) } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 // // ViewController.swift // UIKit041_3.0 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () self . view . backgroundColor = UIColor . cyan let myButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 40 )) myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : 200 ) myButton . layer . cornerRadius = 20.0 myButton . backgroundColor = UIColor . red myButton . setTitle ( \"UIAlert\u3092\u767a\u52d5\" , for : . normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchUpInside ) self . view . addSubview ( myButton ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } /* \u30dc\u30bf\u30f3\u30a2\u30af\u30b7\u30e7\u30f3\u6642\u306b\u8a2d\u5b9a\u3057\u305f\u30e1\u30bd\u30c3\u30c9. */ internal func onClickMyButton ( sender : UIButton ) { // Alert\u751f\u6210. let myAlert : UIAlertController = UIAlertController ( title : \"title\" , message : \"message\" , preferredStyle : UIAlertControllerStyle . alert ) // OK\u30a2\u30af\u30b7\u30e7\u30f3\u751f\u6210. let OkAction = UIAlertAction ( title : \"OK\" , style : UIAlertActionStyle . default ) { ( action : UIAlertAction !) -> Void in print ( \"OK\" ) } // Cancel\u30a2\u30af\u30b7\u30e7\u30f3\u751f\u6210. let CancelAction = UIAlertAction ( title : \"Cancel\" , style : UIAlertActionStyle . destructive ) { ( action : UIAlertAction !) -> Void in print ( \"Cancel\" ) } // Alert\u306bTextField\u3092\u8ffd\u52a0. myAlert . addTextField { ( textField : UITextField !) -> Void in // \u5165\u529b\u3055\u308c\u305f\u6587\u5b57\u3092\u975e\u8868\u793a\u306b\u3059\u308b. textField . isSecureTextEntry = true // NotificationCenter\u3092\u751f\u6210. let myNotificationCenter = NotificationCenter . default // textField\u306b\u5909\u66f4\u304c\u3042\u308c\u3070changeTextField\u30e1\u30bd\u30c3\u30c9\u306b\u901a\u77e5. myNotificationCenter . addObserver ( self , selector : #selector ( ViewController . changeTextField ( sender :)), name : NSNotification . Name . UITextFieldTextDidChange , object : nil ) } // Alert\u306b\u30a2\u30af\u30b7\u30e7\u30f3\u3092\u8ffd\u52a0. myAlert . addAction ( OkAction ) myAlert . addAction ( CancelAction ) // Alert\u3092\u767a\u52d5. present ( myAlert , animated : true , completion : nil ) } /* textField\u306b\u5909\u66f4\u304c\u4f1a\u3063\u305f\u6642\u306b\u901a\u77e5\u3055\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ internal func changeTextField ( sender : NSNotification ) { let textField = sender . object as ! UITextField // \u5165\u529b\u3055\u308c\u305f\u6587\u5b57\u3092\u8868\u793a. print ( textField . text !) } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 // // ViewController.swift // UIKit041_2.3 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () self . view . backgroundColor = UIColor . cyanColor () let myButton = UIButton ( frame : CGRectMake ( 0 , 0 , 200 , 40 )) myButton . layer . position = CGPointMake ( self . view . frame . width / 2 , 200 ) myButton . layer . cornerRadius = 20.0 myButton . backgroundColor = UIColor . redColor () myButton . setTitle ( \"UIAlert\u3092\u767a\u52d5\" , forState : . Normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : . TouchUpInside ) self . view . addSubview ( myButton ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } /* \u30dc\u30bf\u30f3\u30a2\u30af\u30b7\u30e7\u30f3\u6642\u306b\u8a2d\u5b9a\u3057\u305f\u30e1\u30bd\u30c3\u30c9. */ internal func onClickMyButton ( sender : UIButton ) { // Alert\u751f\u6210. let myAlert : UIAlertController = UIAlertController ( title : \"title\" , message : \"message\" , preferredStyle : UIAlertControllerStyle . Alert ) // OK\u30a2\u30af\u30b7\u30e7\u30f3\u751f\u6210. let OkAction = UIAlertAction ( title : \"OK\" , style : UIAlertActionStyle . Default ) { ( action : UIAlertAction !) -> Void in print ( \"OK\" ) } // Cancel\u30a2\u30af\u30b7\u30e7\u30f3\u751f\u6210. let CancelAction = UIAlertAction ( title : \"Cancel\" , style : UIAlertActionStyle . Destructive ) { ( action : UIAlertAction !) -> Void in print ( \"Cancel\" ) } // Alert\u306bTextField\u3092\u8ffd\u52a0. myAlert . addTextFieldWithConfigurationHandler { ( textField : UITextField !) -> Void in // \u5165\u529b\u3055\u308c\u305f\u6587\u5b57\u3092\u975e\u8868\u793a\u306b\u3059\u308b. textField . secureTextEntry = true // NotificationCenter\u3092\u751f\u6210. let myNotificationCenter = NSNotificationCenter . defaultCenter () // textField\u306b\u5909\u66f4\u304c\u3042\u308c\u3070changeTextField\u30e1\u30bd\u30c3\u30c9\u306b\u901a\u77e5. myNotificationCenter . addObserver ( self , selector : #selector ( ViewController . changeTextField ( _ :)), name : UITextFieldTextDidChangeNotification , object : nil ) } // Alert\u306b\u30a2\u30af\u30b7\u30e7\u30f3\u3092\u8ffd\u52a0. myAlert . addAction ( OkAction ) myAlert . addAction ( CancelAction ) // Alert\u3092\u767a\u52d5. presentViewController ( myAlert , animated : true , completion : nil ) } /* textField\u306b\u5909\u66f4\u304c\u4f1a\u3063\u305f\u6642\u306b\u901a\u77e5\u3055\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ internal func changeTextField ( sender : NSNotification ) { let textField = sender . object as ! UITextField // \u5165\u529b\u3055\u308c\u305f\u6587\u5b57\u3092\u8868\u793a. print ( textField . text !) } }","title":"UIAlertController\u3092\u30d1\u30b9\u30ef\u30fc\u30c9\u5f62\u5f0f\u306b\u3059\u308b"},{"location":"1.uikit/041_uiapplicationpass/#3x4x","text":"onClickMyButton \u3001 changeTextField \u306b @objc \u3092\u8ffd\u52a0 UIAlertControllerStyle \u304c UIAlertController.Style \u306b\u5909\u66f4 UIAlertActionStyle \u304c UIAlertAction.Style \u306b\u5909\u66f4 NSNotification.Name.UITextFieldTextDidChange \u304c UITextField.textDidChangeNotification \u306b\u5909\u66f4","title":"3.x\u30684.x\u306e\u5dee\u5206"},{"location":"1.uikit/041_uiapplicationpass/#2330","text":"UIColor\u306e\u53c2\u7167\u65b9\u6cd5\u304c\u5909\u66f4(UIColor.grayColor()->UIColor.gray) CGRect,CGPoint\u306e\u521d\u671f\u5316\u65b9\u6cd5\u306e\u5909\u66f4(CGRectMake,CGPointMake\u306e\u5ec3\u6b62) UIAlert\u306e\u4e00\u90e8\u30e1\u30bd\u30c3\u30c9\u540d\u306e\u5909\u66f4(addTextFieldWithConfigurationHandler->addTextField)","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"1.uikit/041_uiapplicationpass/#reference","text":"UIAlertController Class https://developer.apple.com/reference/uikit/uialertcontroller UIAlertAction Class https://developer.apple.com/reference/uikit/uialertaction UITextInputTraits Protocol https://developer.apple.com/reference/uikit/uitextinputtraits","title":"Reference"},{"location":"1.uikit/042_uialertcontroller/","text":"UIAlertController\u3067\u6587\u5b57\u6570\u5236\u9650\u3092\u8a2d\u3051\u308b Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 // // ViewController.swift // UIKit042_4.0 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { var InputStr : String ! // \u5165\u529b\u3067\u304d\u308b\u6700\u5927\u6587\u5b57\u6570. let maxLength : Int = 6 override func viewDidLoad () { super . viewDidLoad () self . view . backgroundColor = UIColor . cyan let myButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 40 )) myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : 200 ) myButton . layer . cornerRadius = 20.0 myButton . backgroundColor = UIColor . red myButton . setTitle ( \"UIAlert\u3092\u767a\u52d5\" , for : . normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchUpInside ) self . view . addSubview ( myButton ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } @objc func onClickMyButton ( sender : UIButton ) { // Alert\u751f\u6210. let myAlert : UIAlertController = UIAlertController ( title : \"title\" , message : \"6\u6587\u5b57\u4ee5\u4e0b\u3067\u5165\u529b\" , preferredStyle : UIAlertController . Style . alert ) // OK\u30a2\u30af\u30b7\u30e7\u30f3\u751f\u6210. let OkAction = UIAlertAction ( title : \"OK\" , style : UIAlertAction . Style . default ) { ( action : UIAlertAction !) -> Void in print ( \"OK\" ) } // Cancel\u30a2\u30af\u30b7\u30e7\u30f3\u751f\u6210. let CancelAction = UIAlertAction ( title : \"Cancel\" , style : UIAlertAction . Style . destructive ) { ( action : UIAlertAction !) -> Void in print ( \"Cancel\" ) } // Alert\u306bTextField\u3092\u8ffd\u52a0. myAlert . addTextField { ( textField : UITextField !) -> Void in // NotificationCenter\u3092\u751f\u6210. let myNotificationCenter = NotificationCenter . default // textField\u306b\u5909\u66f4\u304c\u3042\u308c\u3070changeTextField\u30e1\u30bd\u30c3\u30c9\u306b\u901a\u77e5. myNotificationCenter . addObserver ( self , selector : #selector ( ViewController . changeTextField ( sender :)), name : UITextField . textDidChangeNotification , object : nil ) } // Alert\u306b\u30a2\u30af\u30b7\u30e7\u30f3\u3092\u8ffd\u52a0. myAlert . addAction ( OkAction ) myAlert . addAction ( CancelAction ) // Alert\u3092\u767a\u52d5\u3059\u308b. present ( myAlert , animated : true , completion : nil ) } @objc func changeTextField ( sender : NSNotification ) { let textField = sender . object as ! UITextField // \u5165\u529b\u3055\u308c\u305f\u6587\u5b57\u3092\u53d6\u5f97. InputStr = textField . text // \u5165\u529b\u3055\u308c\u305f\u6587\u5b57\u304c6\u6587\u5b57\u3092\u8d85\u3048\u305f\u3089\u5165\u529b\u3092\u5236\u9650. if InputStr . characters . count < maxLength { textField . isEnabled = true // \u5165\u529b\u3055\u308c\u305f\u6587\u5b57\u3092\u8868\u793a. print ( textField . text !) } else { textField . isEnabled = false print ( \"6\u6587\u5b57\u3092\u8d85\u3048\u3066\u3044\u307e\u3059\" ) } } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 // // ViewController.swift // UIKit042_3.0 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { var InputStr : String ! // \u5165\u529b\u3067\u304d\u308b\u6700\u5927\u6587\u5b57\u6570. let maxLength : Int = 6 override func viewDidLoad () { super . viewDidLoad () self . view . backgroundColor = UIColor . cyan let myButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 40 )) myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : 200 ) myButton . layer . cornerRadius = 20.0 myButton . backgroundColor = UIColor . red myButton . setTitle ( \"UIAlert\u3092\u767a\u52d5\" , for : . normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchUpInside ) self . view . addSubview ( myButton ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } func onClickMyButton ( sender : UIButton ) { // Alert\u751f\u6210. let myAlert : UIAlertController = UIAlertController ( title : \"title\" , message : \"6\u6587\u5b57\u4ee5\u4e0b\u3067\u5165\u529b\" , preferredStyle : UIAlertControllerStyle . alert ) // OK\u30a2\u30af\u30b7\u30e7\u30f3\u751f\u6210. let OkAction = UIAlertAction ( title : \"OK\" , style : UIAlertActionStyle . default ) { ( action : UIAlertAction !) -> Void in print ( \"OK\" ) } // Cancel\u30a2\u30af\u30b7\u30e7\u30f3\u751f\u6210. let CancelAction = UIAlertAction ( title : \"Cancel\" , style : UIAlertActionStyle . destructive ) { ( action : UIAlertAction !) -> Void in print ( \"Cancel\" ) } // Alert\u306bTextField\u3092\u8ffd\u52a0. myAlert . addTextField { ( textField : UITextField !) -> Void in // NotificationCenter\u3092\u751f\u6210. let myNotificationCenter = NotificationCenter . default // textField\u306b\u5909\u66f4\u304c\u3042\u308c\u3070changeTextField\u30e1\u30bd\u30c3\u30c9\u306b\u901a\u77e5. myNotificationCenter . addObserver ( self , selector : #selector ( ViewController . changeTextField ( sender :)), name : NSNotification . Name . UITextFieldTextDidChange , object : nil ) } // Alert\u306b\u30a2\u30af\u30b7\u30e7\u30f3\u3092\u8ffd\u52a0. myAlert . addAction ( OkAction ) myAlert . addAction ( CancelAction ) // Alert\u3092\u767a\u52d5\u3059\u308b. present ( myAlert , animated : true , completion : nil ) } func changeTextField ( sender : NSNotification ) { let textField = sender . object as ! UITextField // \u5165\u529b\u3055\u308c\u305f\u6587\u5b57\u3092\u53d6\u5f97. InputStr = textField . text // \u5165\u529b\u3055\u308c\u305f\u6587\u5b57\u304c6\u6587\u5b57\u3092\u8d85\u3048\u305f\u3089\u5165\u529b\u3092\u5236\u9650. if InputStr . characters . count < maxLength { textField . isEnabled = true // \u5165\u529b\u3055\u308c\u305f\u6587\u5b57\u3092\u8868\u793a. print ( textField . text !) } else { textField . isEnabled = false print ( \"6\u6587\u5b57\u3092\u8d85\u3048\u3066\u3044\u307e\u3059\" ) } } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 // // ViewController.swift // UIKit042_2.3 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { var InputStr : String ! // \u5165\u529b\u3067\u304d\u308b\u6700\u5927\u6587\u5b57\u6570. let maxLength : Int = 6 override func viewDidLoad () { super . viewDidLoad () self . view . backgroundColor = UIColor . cyanColor () let myButton = UIButton ( frame : CGRectMake ( 0 , 0 , 200 , 40 )) myButton . layer . position = CGPointMake ( self . view . frame . width / 2 , 200 ) myButton . layer . cornerRadius = 20.0 myButton . backgroundColor = UIColor . redColor () myButton . setTitle ( \"UIAlert\u3092\u767a\u52d5\" , forState : . Normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : . TouchUpInside ) self . view . addSubview ( myButton ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } func onClickMyButton ( sender : UIButton ) { // Alert\u751f\u6210. let myAlert : UIAlertController = UIAlertController ( title : \"title\" , message : \"6\u6587\u5b57\u4ee5\u4e0b\u3067\u5165\u529b\" , preferredStyle : UIAlertControllerStyle . Alert ) // OK\u30a2\u30af\u30b7\u30e7\u30f3\u751f\u6210. let OkAction = UIAlertAction ( title : \"OK\" , style : UIAlertActionStyle . Default ) { ( action : UIAlertAction !) -> Void in print ( \"OK\" ) } // Cancel\u30a2\u30af\u30b7\u30e7\u30f3\u751f\u6210. let CancelAction = UIAlertAction ( title : \"Cancel\" , style : UIAlertActionStyle . Destructive ) { ( action : UIAlertAction !) -> Void in print ( \"Cancel\" ) } // Alert\u306bTextField\u3092\u8ffd\u52a0. myAlert . addTextFieldWithConfigurationHandler { ( textField : UITextField !) -> Void in // NotificationCenter\u3092\u751f\u6210. let myNotificationCenter = NSNotificationCenter . defaultCenter () // textField\u306b\u5909\u66f4\u304c\u3042\u308c\u3070changeTextField\u30e1\u30bd\u30c3\u30c9\u306b\u901a\u77e5. myNotificationCenter . addObserver ( self , selector : #selector ( ViewController . changeTextField ( _ :)), name : UITextFieldTextDidChangeNotification , object : nil ) } // Alert\u306b\u30a2\u30af\u30b7\u30e7\u30f3\u3092\u8ffd\u52a0. myAlert . addAction ( OkAction ) myAlert . addAction ( CancelAction ) // Alert\u3092\u767a\u52d5\u3059\u308b. presentViewController ( myAlert , animated : true , completion : nil ) } func changeTextField ( sender : NSNotification ) { let textField = sender . object as ! UITextField // \u5165\u529b\u3055\u308c\u305f\u6587\u5b57\u3092\u53d6\u5f97. InputStr = textField . text // \u5165\u529b\u3055\u308c\u305f\u6587\u5b57\u304c6\u6587\u5b57\u3092\u8d85\u3048\u305f\u3089\u5165\u529b\u3092\u5236\u9650. if InputStr . characters . count < maxLength { textField . enabled = true // \u5165\u529b\u3055\u308c\u305f\u6587\u5b57\u3092\u8868\u793a. print ( textField . text !) } else { textField . enabled = false print ( \"6\u6587\u5b57\u3092\u8d85\u3048\u3066\u3044\u307e\u3059\" ) } } } 3.x\u30684.x\u306e\u5dee\u5206 onClickMyButton \u3001 changeTextField \u306b @objc \u3092\u8ffd\u52a0 NSNotification.Name.UITextFieldTextDidChange \u304c UITextField.textDidChangeNotification \u306b\u5909\u66f4 UIAlertControllerStyle \u304c UIAlertController.Style \u306b\u5909\u66f4 characters \u306f\u975e\u63a8\u5968 2.3\u30683.0\u306e\u5dee\u5206 UIColor\u306e\u53c2\u7167\u65b9\u6cd5\u304c\u5909\u66f4(UIColor.grayColor()->UIColor.gray) CGRect,CGPoint\u306e\u521d\u671f\u5316\u65b9\u6cd5\u306e\u5909\u66f4(CGRectMake,CGPointMake\u306e\u5ec3\u6b62) sender\u306e\u8a18\u8ff0\u306e\u5909\u66f4(onClickMyButton(_:)->onClickMyButton(sender:) Reference UIAlertController Class https://developer.apple.com/reference/uikit/uialertcontroller UIAlertAction Class https://developer.apple.com/reference/uikit/uialertaction","title":"UIAlertController\u3067\u6587\u5b57\u6570\u5236\u9650\u3092\u8a2d\u3051\u308b"},{"location":"1.uikit/042_uialertcontroller/#uialertcontroller","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 // // ViewController.swift // UIKit042_4.0 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { var InputStr : String ! // \u5165\u529b\u3067\u304d\u308b\u6700\u5927\u6587\u5b57\u6570. let maxLength : Int = 6 override func viewDidLoad () { super . viewDidLoad () self . view . backgroundColor = UIColor . cyan let myButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 40 )) myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : 200 ) myButton . layer . cornerRadius = 20.0 myButton . backgroundColor = UIColor . red myButton . setTitle ( \"UIAlert\u3092\u767a\u52d5\" , for : . normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchUpInside ) self . view . addSubview ( myButton ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } @objc func onClickMyButton ( sender : UIButton ) { // Alert\u751f\u6210. let myAlert : UIAlertController = UIAlertController ( title : \"title\" , message : \"6\u6587\u5b57\u4ee5\u4e0b\u3067\u5165\u529b\" , preferredStyle : UIAlertController . Style . alert ) // OK\u30a2\u30af\u30b7\u30e7\u30f3\u751f\u6210. let OkAction = UIAlertAction ( title : \"OK\" , style : UIAlertAction . Style . default ) { ( action : UIAlertAction !) -> Void in print ( \"OK\" ) } // Cancel\u30a2\u30af\u30b7\u30e7\u30f3\u751f\u6210. let CancelAction = UIAlertAction ( title : \"Cancel\" , style : UIAlertAction . Style . destructive ) { ( action : UIAlertAction !) -> Void in print ( \"Cancel\" ) } // Alert\u306bTextField\u3092\u8ffd\u52a0. myAlert . addTextField { ( textField : UITextField !) -> Void in // NotificationCenter\u3092\u751f\u6210. let myNotificationCenter = NotificationCenter . default // textField\u306b\u5909\u66f4\u304c\u3042\u308c\u3070changeTextField\u30e1\u30bd\u30c3\u30c9\u306b\u901a\u77e5. myNotificationCenter . addObserver ( self , selector : #selector ( ViewController . changeTextField ( sender :)), name : UITextField . textDidChangeNotification , object : nil ) } // Alert\u306b\u30a2\u30af\u30b7\u30e7\u30f3\u3092\u8ffd\u52a0. myAlert . addAction ( OkAction ) myAlert . addAction ( CancelAction ) // Alert\u3092\u767a\u52d5\u3059\u308b. present ( myAlert , animated : true , completion : nil ) } @objc func changeTextField ( sender : NSNotification ) { let textField = sender . object as ! UITextField // \u5165\u529b\u3055\u308c\u305f\u6587\u5b57\u3092\u53d6\u5f97. InputStr = textField . text // \u5165\u529b\u3055\u308c\u305f\u6587\u5b57\u304c6\u6587\u5b57\u3092\u8d85\u3048\u305f\u3089\u5165\u529b\u3092\u5236\u9650. if InputStr . characters . count < maxLength { textField . isEnabled = true // \u5165\u529b\u3055\u308c\u305f\u6587\u5b57\u3092\u8868\u793a. print ( textField . text !) } else { textField . isEnabled = false print ( \"6\u6587\u5b57\u3092\u8d85\u3048\u3066\u3044\u307e\u3059\" ) } } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 // // ViewController.swift // UIKit042_3.0 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { var InputStr : String ! // \u5165\u529b\u3067\u304d\u308b\u6700\u5927\u6587\u5b57\u6570. let maxLength : Int = 6 override func viewDidLoad () { super . viewDidLoad () self . view . backgroundColor = UIColor . cyan let myButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 40 )) myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : 200 ) myButton . layer . cornerRadius = 20.0 myButton . backgroundColor = UIColor . red myButton . setTitle ( \"UIAlert\u3092\u767a\u52d5\" , for : . normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchUpInside ) self . view . addSubview ( myButton ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } func onClickMyButton ( sender : UIButton ) { // Alert\u751f\u6210. let myAlert : UIAlertController = UIAlertController ( title : \"title\" , message : \"6\u6587\u5b57\u4ee5\u4e0b\u3067\u5165\u529b\" , preferredStyle : UIAlertControllerStyle . alert ) // OK\u30a2\u30af\u30b7\u30e7\u30f3\u751f\u6210. let OkAction = UIAlertAction ( title : \"OK\" , style : UIAlertActionStyle . default ) { ( action : UIAlertAction !) -> Void in print ( \"OK\" ) } // Cancel\u30a2\u30af\u30b7\u30e7\u30f3\u751f\u6210. let CancelAction = UIAlertAction ( title : \"Cancel\" , style : UIAlertActionStyle . destructive ) { ( action : UIAlertAction !) -> Void in print ( \"Cancel\" ) } // Alert\u306bTextField\u3092\u8ffd\u52a0. myAlert . addTextField { ( textField : UITextField !) -> Void in // NotificationCenter\u3092\u751f\u6210. let myNotificationCenter = NotificationCenter . default // textField\u306b\u5909\u66f4\u304c\u3042\u308c\u3070changeTextField\u30e1\u30bd\u30c3\u30c9\u306b\u901a\u77e5. myNotificationCenter . addObserver ( self , selector : #selector ( ViewController . changeTextField ( sender :)), name : NSNotification . Name . UITextFieldTextDidChange , object : nil ) } // Alert\u306b\u30a2\u30af\u30b7\u30e7\u30f3\u3092\u8ffd\u52a0. myAlert . addAction ( OkAction ) myAlert . addAction ( CancelAction ) // Alert\u3092\u767a\u52d5\u3059\u308b. present ( myAlert , animated : true , completion : nil ) } func changeTextField ( sender : NSNotification ) { let textField = sender . object as ! UITextField // \u5165\u529b\u3055\u308c\u305f\u6587\u5b57\u3092\u53d6\u5f97. InputStr = textField . text // \u5165\u529b\u3055\u308c\u305f\u6587\u5b57\u304c6\u6587\u5b57\u3092\u8d85\u3048\u305f\u3089\u5165\u529b\u3092\u5236\u9650. if InputStr . characters . count < maxLength { textField . isEnabled = true // \u5165\u529b\u3055\u308c\u305f\u6587\u5b57\u3092\u8868\u793a. print ( textField . text !) } else { textField . isEnabled = false print ( \"6\u6587\u5b57\u3092\u8d85\u3048\u3066\u3044\u307e\u3059\" ) } } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 // // ViewController.swift // UIKit042_2.3 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { var InputStr : String ! // \u5165\u529b\u3067\u304d\u308b\u6700\u5927\u6587\u5b57\u6570. let maxLength : Int = 6 override func viewDidLoad () { super . viewDidLoad () self . view . backgroundColor = UIColor . cyanColor () let myButton = UIButton ( frame : CGRectMake ( 0 , 0 , 200 , 40 )) myButton . layer . position = CGPointMake ( self . view . frame . width / 2 , 200 ) myButton . layer . cornerRadius = 20.0 myButton . backgroundColor = UIColor . redColor () myButton . setTitle ( \"UIAlert\u3092\u767a\u52d5\" , forState : . Normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : . TouchUpInside ) self . view . addSubview ( myButton ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } func onClickMyButton ( sender : UIButton ) { // Alert\u751f\u6210. let myAlert : UIAlertController = UIAlertController ( title : \"title\" , message : \"6\u6587\u5b57\u4ee5\u4e0b\u3067\u5165\u529b\" , preferredStyle : UIAlertControllerStyle . Alert ) // OK\u30a2\u30af\u30b7\u30e7\u30f3\u751f\u6210. let OkAction = UIAlertAction ( title : \"OK\" , style : UIAlertActionStyle . Default ) { ( action : UIAlertAction !) -> Void in print ( \"OK\" ) } // Cancel\u30a2\u30af\u30b7\u30e7\u30f3\u751f\u6210. let CancelAction = UIAlertAction ( title : \"Cancel\" , style : UIAlertActionStyle . Destructive ) { ( action : UIAlertAction !) -> Void in print ( \"Cancel\" ) } // Alert\u306bTextField\u3092\u8ffd\u52a0. myAlert . addTextFieldWithConfigurationHandler { ( textField : UITextField !) -> Void in // NotificationCenter\u3092\u751f\u6210. let myNotificationCenter = NSNotificationCenter . defaultCenter () // textField\u306b\u5909\u66f4\u304c\u3042\u308c\u3070changeTextField\u30e1\u30bd\u30c3\u30c9\u306b\u901a\u77e5. myNotificationCenter . addObserver ( self , selector : #selector ( ViewController . changeTextField ( _ :)), name : UITextFieldTextDidChangeNotification , object : nil ) } // Alert\u306b\u30a2\u30af\u30b7\u30e7\u30f3\u3092\u8ffd\u52a0. myAlert . addAction ( OkAction ) myAlert . addAction ( CancelAction ) // Alert\u3092\u767a\u52d5\u3059\u308b. presentViewController ( myAlert , animated : true , completion : nil ) } func changeTextField ( sender : NSNotification ) { let textField = sender . object as ! UITextField // \u5165\u529b\u3055\u308c\u305f\u6587\u5b57\u3092\u53d6\u5f97. InputStr = textField . text // \u5165\u529b\u3055\u308c\u305f\u6587\u5b57\u304c6\u6587\u5b57\u3092\u8d85\u3048\u305f\u3089\u5165\u529b\u3092\u5236\u9650. if InputStr . characters . count < maxLength { textField . enabled = true // \u5165\u529b\u3055\u308c\u305f\u6587\u5b57\u3092\u8868\u793a. print ( textField . text !) } else { textField . enabled = false print ( \"6\u6587\u5b57\u3092\u8d85\u3048\u3066\u3044\u307e\u3059\" ) } } }","title":"UIAlertController\u3067\u6587\u5b57\u6570\u5236\u9650\u3092\u8a2d\u3051\u308b"},{"location":"1.uikit/042_uialertcontroller/#3x4x","text":"onClickMyButton \u3001 changeTextField \u306b @objc \u3092\u8ffd\u52a0 NSNotification.Name.UITextFieldTextDidChange \u304c UITextField.textDidChangeNotification \u306b\u5909\u66f4 UIAlertControllerStyle \u304c UIAlertController.Style \u306b\u5909\u66f4 characters \u306f\u975e\u63a8\u5968","title":"3.x\u30684.x\u306e\u5dee\u5206"},{"location":"1.uikit/042_uialertcontroller/#2330","text":"UIColor\u306e\u53c2\u7167\u65b9\u6cd5\u304c\u5909\u66f4(UIColor.grayColor()->UIColor.gray) CGRect,CGPoint\u306e\u521d\u671f\u5316\u65b9\u6cd5\u306e\u5909\u66f4(CGRectMake,CGPointMake\u306e\u5ec3\u6b62) sender\u306e\u8a18\u8ff0\u306e\u5909\u66f4(onClickMyButton(_:)->onClickMyButton(sender:)","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"1.uikit/042_uialertcontroller/#reference","text":"UIAlertController Class https://developer.apple.com/reference/uikit/uialertcontroller UIAlertAction Class https://developer.apple.com/reference/uikit/uialertaction","title":"Reference"},{"location":"1.uikit/043_preview/","text":"\u30d7\u30ec\u30d3\u30e5\u30fc\u753b\u9762\u306b\u30a8\u30d5\u30a7\u30af\u30c8\u51e6\u7406 AppDelegate.swift Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 // // AppDelegate.swift // UIKit043_4.0 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit @UIApplicationMain class AppDelegate : UIResponder , UIApplicationDelegate { var window : UIWindow ? var myEffectView : UIView ! /* \u30a2\u30d7\u30ea\u8d77\u52d5\u6642\u306b\u547c\u3070\u308c\u308b. */ func application ( _ application : UIApplication , didFinishLaunchingWithOptions launchOptions : [ NSObject : AnyObject ]?) -> Bool { print ( \"didFinishLaunchingWithOptions\" ) return true } /* \u30a2\u30d7\u30ea\u304c\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u306b\u306a\u308b\u76f4\u524d\u306b\u547c\u3070\u308c\u308b. */ func applicationWillResignActive ( _ application : UIApplication ) { print ( \"applicationWillResignActive\" ) let effect : UIBlurEffect = UIBlurEffect ( style : UIBlurEffect . Style . light ) myEffectView = UIVisualEffectView ( effect : effect ) myEffectView . frame = CGRect ( x : 0 , y : 0 , width : UIScreen . main . bounds . size . width , height : UIScreen . main . bounds . size . height ) self . window ?. addSubview ( myEffectView ) } /* \u30a2\u30d7\u30ea\u304c\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u306b\u306a\u3063\u305f\u6642\u306b\u547c\u3070\u308c\u308b. */ func applicationDidEnterBackground ( _ application : UIApplication ) { print ( \"viewDidDisappear\" ) } /* \u30a2\u30d7\u30ea\u304c\u30d5\u30a9\u30a2\u30b0\u30e9\u30a6\u30f3\u30c9\u306b\u306a\u3063\u305f\u6642\u306b\u547c\u3070\u308c\u308b. */ func applicationWillEnterForeground ( _ application : UIApplication ) { print ( \"applicationWillEnterForeground\" ) } /* \u30a2\u30d7\u30ea\u304c\u30a2\u30af\u30c6\u30a3\u30d6\u306b\u306a\u3063\u305f\u6642\u306b\u547c\u3070\u308c\u308b. */ func applicationDidBecomeActive ( _ application : UIApplication ) { print ( \"applicationDidBecomeActive\" ) if myEffectView != nil { self . myEffectView . removeFromSuperview () } } /* \u30a2\u30d7\u30ea\u304c\u7d42\u4e86\u3059\u308b\u76f4\u524d\u306b\u547c\u3070\u308c\u308b. */ func applicationWillTerminate ( _ application : UIApplication ) { print ( \"applicationWillTerminate\" ) } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 // // AppDelegate.swift // UIKit043_3.0 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit n @UIApplicationMain class AppDelegate : UIResponder , UIApplicationDelegate { var window : UIWindow ? var myEffectView : UIView ! /* \u30a2\u30d7\u30ea\u8d77\u52d5\u6642\u306b\u547c\u3070\u308c\u308b. */ func application ( _ application : UIApplication , didFinishLaunchingWithOptions launchOptions : [ NSObject : AnyObject ]?) -> Bool { print ( \"didFinishLaunchingWithOptions\" ) return true } /* \u30a2\u30d7\u30ea\u304c\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u306b\u306a\u308b\u76f4\u524d\u306b\u547c\u3070\u308c\u308b. */ func applicationWillResignActive ( _ application : UIApplication ) { print ( \"applicationWillResignActive\" ) let effect : UIBlurEffect = UIBlurEffect ( style : UIBlurEffectStyle . light ) myEffectView = UIVisualEffectView ( effect : effect ) myEffectView . frame = CGRect ( x : 0 , y : 0 , width : UIScreen . main . bounds . size . width , height : UIScreen . main . bounds . size . height ) self . window ?. addSubview ( myEffectView ) } /* \u30a2\u30d7\u30ea\u304c\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u306b\u306a\u3063\u305f\u6642\u306b\u547c\u3070\u308c\u308b. */ func applicationDidEnterBackground ( _ application : UIApplication ) { print ( \"viewDidDisappear\" ) } /* \u30a2\u30d7\u30ea\u304c\u30d5\u30a9\u30a2\u30b0\u30e9\u30a6\u30f3\u30c9\u306b\u306a\u3063\u305f\u6642\u306b\u547c\u3070\u308c\u308b. */ func applicationWillEnterForeground ( _ application : UIApplication ) { print ( \"applicationWillEnterForeground\" ) } /* \u30a2\u30d7\u30ea\u304c\u30a2\u30af\u30c6\u30a3\u30d6\u306b\u306a\u3063\u305f\u6642\u306b\u547c\u3070\u308c\u308b. */ func applicationDidBecomeActive ( _ application : UIApplication ) { print ( \"applicationDidBecomeActive\" ) if myEffectView != nil { self . myEffectView . removeFromSuperview () } } /* \u30a2\u30d7\u30ea\u304c\u7d42\u4e86\u3059\u308b\u76f4\u524d\u306b\u547c\u3070\u308c\u308b. */ func applicationWillTerminate ( _ application : UIApplication ) { print ( \"applicationWillTerminate\" ) } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 // // AppDelegate.swift // UIKit043_2.3 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit @UIApplicationMain class AppDelegate : UIResponder , UIApplicationDelegate { var window : UIWindow ? var myEffectView : UIView ! /* \u30a2\u30d7\u30ea\u8d77\u52d5\u6642\u306b\u547c\u3070\u308c\u308b. */ func application ( application : UIApplication , didFinishLaunchingWithOptions launchOptions : [ NSObject : AnyObject ]?) -> Bool { print ( \"didFinishLaunchingWithOptions\" ) return true } /* \u30a2\u30d7\u30ea\u304c\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u306b\u306a\u308b\u76f4\u524d\u306b\u547c\u3070\u308c\u308b. */ func applicationWillResignActive ( application : UIApplication ) { print ( \"applicationWillResignActive\" ) let effect : UIBlurEffect = UIBlurEffect ( style : UIBlurEffectStyle . Light ) myEffectView = UIVisualEffectView ( effect : effect ) myEffectView . frame = CGRectMake ( 0 , 0 , UIScreen . mainScreen (). bounds . size . width , UIScreen . mainScreen (). bounds . size . height ) self . window ?. addSubview ( myEffectView ) } /* \u30a2\u30d7\u30ea\u304c\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u306b\u306a\u3063\u305f\u6642\u306b\u547c\u3070\u308c\u308b. */ func applicationDidEnterBackground ( application : UIApplication ) { print ( \"viewDidDisappear\" ) } /* \u30a2\u30d7\u30ea\u304c\u30d5\u30a9\u30a2\u30b0\u30e9\u30a6\u30f3\u30c9\u306b\u306a\u3063\u305f\u6642\u306b\u547c\u3070\u308c\u308b. */ func applicationWillEnterForeground ( application : UIApplication ) { print ( \"applicationWillEnterForeground\" ) } /* \u30a2\u30d7\u30ea\u304c\u30a2\u30af\u30c6\u30a3\u30d6\u306b\u306a\u3063\u305f\u6642\u306b\u547c\u3070\u308c\u308b. */ func applicationDidBecomeActive ( application : UIApplication ) { print ( \"applicationDidBecomeActive\" ) if myEffectView != nil { self . myEffectView . removeFromSuperview () } } /* \u30a2\u30d7\u30ea\u304c\u7d42\u4e86\u3059\u308b\u76f4\u524d\u306b\u547c\u3070\u308c\u308b. */ func applicationWillTerminate ( application : UIApplication ) { print ( \"applicationWillTerminate\" ) } } ViewController.swift Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 // // ViewController.swift // UIKit043_4.0 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UIWebViewDelegate { var myWebView : UIWebView ! override func viewDidLoad () { super . viewDidLoad () // WebView\u3092\u958b\u304f. myWebView = UIWebView () myWebView . delegate = self myWebView . frame = self . view . bounds self . view . addSubview ( myWebView ) let url : URL ! = URL ( string : \"http://www.apple.com\" ) let request : NSURLRequest = NSURLRequest ( url : url ) // \u30ed\u30fc\u30c9\u958b\u59cb. myWebView . loadRequest ( request as URLRequest ) } /* Web\u304c\u3059\u3079\u3066\u8aad\u307f\u8fbc\u307f\u7d42\u308f\u3063\u305f\u6642\u547c\u3070\u308c\u308b. */ func webViewDidFinishLoad ( _ webView : UIWebView ) { print ( \"webViewDidFinishLoad\" ) } /* Web\u304cload\u3055\u308c\u59cb\u3081\u305f\u6642\u3001\u547c\u3070\u308c\u308b. */ func webViewDidStartLoad ( _ webView : UIWebView ) { print ( \"webViewDidStartLoad\" ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 // // ViewController.swift // UIKit043_3.0 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UIWebViewDelegate { var myWebView : UIWebView ! override func viewDidLoad () { super . viewDidLoad () // WebView\u3092\u958b\u304f. myWebView = UIWebView () myWebView . delegate = self myWebView . frame = self . view . bounds self . view . addSubview ( myWebView ) let url : URL ! = URL ( string : \"http://www.apple.com\" ) let request : NSURLRequest = NSURLRequest ( url : url ) // \u30ed\u30fc\u30c9\u958b\u59cb. myWebView . loadRequest ( request as URLRequest ) } /* Web\u304c\u3059\u3079\u3066\u8aad\u307f\u8fbc\u307f\u7d42\u308f\u3063\u305f\u6642\u547c\u3070\u308c\u308b. */ func webViewDidFinishLoad ( _ webView : UIWebView ) { print ( \"webViewDidFinishLoad\" ) } /* Web\u304cload\u3055\u308c\u59cb\u3081\u305f\u6642\u3001\u547c\u3070\u308c\u308b. */ func webViewDidStartLoad ( _ webView : UIWebView ) { print ( \"webViewDidStartLoad\" ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 // // ViewController.swift // UIKit043_2.3 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UIWebViewDelegate { var myWebView : UIWebView ! override func viewDidLoad () { super . viewDidLoad () // WebView\u3092\u958b\u304f. myWebView = UIWebView () myWebView . delegate = self myWebView . frame = self . view . bounds self . view . addSubview ( myWebView ) let url : NSURL ! = NSURL ( string : \"http://www.apple.com\" ) let request : NSURLRequest = NSURLRequest ( URL : url ) // \u30ed\u30fc\u30c9\u958b\u59cb. myWebView . loadRequest ( request ) } /* Web\u304c\u3059\u3079\u3066\u8aad\u307f\u8fbc\u307f\u7d42\u308f\u3063\u305f\u6642\u547c\u3070\u308c\u308b. */ func webViewDidFinishLoad ( webView : UIWebView ) { print ( \"webViewDidFinishLoad\" ) } /* Web\u304cload\u3055\u308c\u59cb\u3081\u305f\u6642\u3001\u547c\u3070\u308c\u308b. */ func webViewDidStartLoad ( webView : UIWebView ) { print ( \"webViewDidStartLoad\" ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } 3.x\u30684.x\u306e\u5dee\u5206 UIBlurEffectStyle \u304c UIBlurEffect.Style UIWebView \u306fiOS 12.0\u304b\u3089\u975e\u63a8\u5968 2.3\u30683.0\u306e\u5dee\u5206 UIColor\u306e\u53c2\u7167\u65b9\u6cd5\u304c\u5909\u66f4(UIColor.grayColor()->UIColor.gray) CGRect,CGPoint\u306e\u521d\u671f\u5316\u65b9\u6cd5\u306e\u5909\u66f4(CGRectMake,CGPointMake\u306e\u5ec3\u6b62) AppDelegate\u306e\u95a2\u6570\u306e\u5f15\u6570\u304c\u5909\u66f4. (UIScreen.mainScreen()->UIScreen.main) NSURL\u306e\u5ec3\u6b62\u3001URL\u306b\u5909\u66f4 Reference UIApplication Class https://developer.apple.com/reference/uikit/uiapplication","title":"\u30d7\u30ec\u30d3\u30e5\u30fc\u753b\u9762\u306b\u30a8\u30d5\u30a7\u30af\u30c8\u51e6\u7406"},{"location":"1.uikit/043_preview/#_1","text":"","title":"\u30d7\u30ec\u30d3\u30e5\u30fc\u753b\u9762\u306b\u30a8\u30d5\u30a7\u30af\u30c8\u51e6\u7406"},{"location":"1.uikit/043_preview/#appdelegateswift","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 // // AppDelegate.swift // UIKit043_4.0 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit @UIApplicationMain class AppDelegate : UIResponder , UIApplicationDelegate { var window : UIWindow ? var myEffectView : UIView ! /* \u30a2\u30d7\u30ea\u8d77\u52d5\u6642\u306b\u547c\u3070\u308c\u308b. */ func application ( _ application : UIApplication , didFinishLaunchingWithOptions launchOptions : [ NSObject : AnyObject ]?) -> Bool { print ( \"didFinishLaunchingWithOptions\" ) return true } /* \u30a2\u30d7\u30ea\u304c\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u306b\u306a\u308b\u76f4\u524d\u306b\u547c\u3070\u308c\u308b. */ func applicationWillResignActive ( _ application : UIApplication ) { print ( \"applicationWillResignActive\" ) let effect : UIBlurEffect = UIBlurEffect ( style : UIBlurEffect . Style . light ) myEffectView = UIVisualEffectView ( effect : effect ) myEffectView . frame = CGRect ( x : 0 , y : 0 , width : UIScreen . main . bounds . size . width , height : UIScreen . main . bounds . size . height ) self . window ?. addSubview ( myEffectView ) } /* \u30a2\u30d7\u30ea\u304c\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u306b\u306a\u3063\u305f\u6642\u306b\u547c\u3070\u308c\u308b. */ func applicationDidEnterBackground ( _ application : UIApplication ) { print ( \"viewDidDisappear\" ) } /* \u30a2\u30d7\u30ea\u304c\u30d5\u30a9\u30a2\u30b0\u30e9\u30a6\u30f3\u30c9\u306b\u306a\u3063\u305f\u6642\u306b\u547c\u3070\u308c\u308b. */ func applicationWillEnterForeground ( _ application : UIApplication ) { print ( \"applicationWillEnterForeground\" ) } /* \u30a2\u30d7\u30ea\u304c\u30a2\u30af\u30c6\u30a3\u30d6\u306b\u306a\u3063\u305f\u6642\u306b\u547c\u3070\u308c\u308b. */ func applicationDidBecomeActive ( _ application : UIApplication ) { print ( \"applicationDidBecomeActive\" ) if myEffectView != nil { self . myEffectView . removeFromSuperview () } } /* \u30a2\u30d7\u30ea\u304c\u7d42\u4e86\u3059\u308b\u76f4\u524d\u306b\u547c\u3070\u308c\u308b. */ func applicationWillTerminate ( _ application : UIApplication ) { print ( \"applicationWillTerminate\" ) } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 // // AppDelegate.swift // UIKit043_3.0 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit n @UIApplicationMain class AppDelegate : UIResponder , UIApplicationDelegate { var window : UIWindow ? var myEffectView : UIView ! /* \u30a2\u30d7\u30ea\u8d77\u52d5\u6642\u306b\u547c\u3070\u308c\u308b. */ func application ( _ application : UIApplication , didFinishLaunchingWithOptions launchOptions : [ NSObject : AnyObject ]?) -> Bool { print ( \"didFinishLaunchingWithOptions\" ) return true } /* \u30a2\u30d7\u30ea\u304c\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u306b\u306a\u308b\u76f4\u524d\u306b\u547c\u3070\u308c\u308b. */ func applicationWillResignActive ( _ application : UIApplication ) { print ( \"applicationWillResignActive\" ) let effect : UIBlurEffect = UIBlurEffect ( style : UIBlurEffectStyle . light ) myEffectView = UIVisualEffectView ( effect : effect ) myEffectView . frame = CGRect ( x : 0 , y : 0 , width : UIScreen . main . bounds . size . width , height : UIScreen . main . bounds . size . height ) self . window ?. addSubview ( myEffectView ) } /* \u30a2\u30d7\u30ea\u304c\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u306b\u306a\u3063\u305f\u6642\u306b\u547c\u3070\u308c\u308b. */ func applicationDidEnterBackground ( _ application : UIApplication ) { print ( \"viewDidDisappear\" ) } /* \u30a2\u30d7\u30ea\u304c\u30d5\u30a9\u30a2\u30b0\u30e9\u30a6\u30f3\u30c9\u306b\u306a\u3063\u305f\u6642\u306b\u547c\u3070\u308c\u308b. */ func applicationWillEnterForeground ( _ application : UIApplication ) { print ( \"applicationWillEnterForeground\" ) } /* \u30a2\u30d7\u30ea\u304c\u30a2\u30af\u30c6\u30a3\u30d6\u306b\u306a\u3063\u305f\u6642\u306b\u547c\u3070\u308c\u308b. */ func applicationDidBecomeActive ( _ application : UIApplication ) { print ( \"applicationDidBecomeActive\" ) if myEffectView != nil { self . myEffectView . removeFromSuperview () } } /* \u30a2\u30d7\u30ea\u304c\u7d42\u4e86\u3059\u308b\u76f4\u524d\u306b\u547c\u3070\u308c\u308b. */ func applicationWillTerminate ( _ application : UIApplication ) { print ( \"applicationWillTerminate\" ) } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 // // AppDelegate.swift // UIKit043_2.3 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit @UIApplicationMain class AppDelegate : UIResponder , UIApplicationDelegate { var window : UIWindow ? var myEffectView : UIView ! /* \u30a2\u30d7\u30ea\u8d77\u52d5\u6642\u306b\u547c\u3070\u308c\u308b. */ func application ( application : UIApplication , didFinishLaunchingWithOptions launchOptions : [ NSObject : AnyObject ]?) -> Bool { print ( \"didFinishLaunchingWithOptions\" ) return true } /* \u30a2\u30d7\u30ea\u304c\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u306b\u306a\u308b\u76f4\u524d\u306b\u547c\u3070\u308c\u308b. */ func applicationWillResignActive ( application : UIApplication ) { print ( \"applicationWillResignActive\" ) let effect : UIBlurEffect = UIBlurEffect ( style : UIBlurEffectStyle . Light ) myEffectView = UIVisualEffectView ( effect : effect ) myEffectView . frame = CGRectMake ( 0 , 0 , UIScreen . mainScreen (). bounds . size . width , UIScreen . mainScreen (). bounds . size . height ) self . window ?. addSubview ( myEffectView ) } /* \u30a2\u30d7\u30ea\u304c\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u306b\u306a\u3063\u305f\u6642\u306b\u547c\u3070\u308c\u308b. */ func applicationDidEnterBackground ( application : UIApplication ) { print ( \"viewDidDisappear\" ) } /* \u30a2\u30d7\u30ea\u304c\u30d5\u30a9\u30a2\u30b0\u30e9\u30a6\u30f3\u30c9\u306b\u306a\u3063\u305f\u6642\u306b\u547c\u3070\u308c\u308b. */ func applicationWillEnterForeground ( application : UIApplication ) { print ( \"applicationWillEnterForeground\" ) } /* \u30a2\u30d7\u30ea\u304c\u30a2\u30af\u30c6\u30a3\u30d6\u306b\u306a\u3063\u305f\u6642\u306b\u547c\u3070\u308c\u308b. */ func applicationDidBecomeActive ( application : UIApplication ) { print ( \"applicationDidBecomeActive\" ) if myEffectView != nil { self . myEffectView . removeFromSuperview () } } /* \u30a2\u30d7\u30ea\u304c\u7d42\u4e86\u3059\u308b\u76f4\u524d\u306b\u547c\u3070\u308c\u308b. */ func applicationWillTerminate ( application : UIApplication ) { print ( \"applicationWillTerminate\" ) } }","title":"AppDelegate.swift"},{"location":"1.uikit/043_preview/#viewcontrollerswift","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 // // ViewController.swift // UIKit043_4.0 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UIWebViewDelegate { var myWebView : UIWebView ! override func viewDidLoad () { super . viewDidLoad () // WebView\u3092\u958b\u304f. myWebView = UIWebView () myWebView . delegate = self myWebView . frame = self . view . bounds self . view . addSubview ( myWebView ) let url : URL ! = URL ( string : \"http://www.apple.com\" ) let request : NSURLRequest = NSURLRequest ( url : url ) // \u30ed\u30fc\u30c9\u958b\u59cb. myWebView . loadRequest ( request as URLRequest ) } /* Web\u304c\u3059\u3079\u3066\u8aad\u307f\u8fbc\u307f\u7d42\u308f\u3063\u305f\u6642\u547c\u3070\u308c\u308b. */ func webViewDidFinishLoad ( _ webView : UIWebView ) { print ( \"webViewDidFinishLoad\" ) } /* Web\u304cload\u3055\u308c\u59cb\u3081\u305f\u6642\u3001\u547c\u3070\u308c\u308b. */ func webViewDidStartLoad ( _ webView : UIWebView ) { print ( \"webViewDidStartLoad\" ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 // // ViewController.swift // UIKit043_3.0 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UIWebViewDelegate { var myWebView : UIWebView ! override func viewDidLoad () { super . viewDidLoad () // WebView\u3092\u958b\u304f. myWebView = UIWebView () myWebView . delegate = self myWebView . frame = self . view . bounds self . view . addSubview ( myWebView ) let url : URL ! = URL ( string : \"http://www.apple.com\" ) let request : NSURLRequest = NSURLRequest ( url : url ) // \u30ed\u30fc\u30c9\u958b\u59cb. myWebView . loadRequest ( request as URLRequest ) } /* Web\u304c\u3059\u3079\u3066\u8aad\u307f\u8fbc\u307f\u7d42\u308f\u3063\u305f\u6642\u547c\u3070\u308c\u308b. */ func webViewDidFinishLoad ( _ webView : UIWebView ) { print ( \"webViewDidFinishLoad\" ) } /* Web\u304cload\u3055\u308c\u59cb\u3081\u305f\u6642\u3001\u547c\u3070\u308c\u308b. */ func webViewDidStartLoad ( _ webView : UIWebView ) { print ( \"webViewDidStartLoad\" ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 // // ViewController.swift // UIKit043_2.3 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UIWebViewDelegate { var myWebView : UIWebView ! override func viewDidLoad () { super . viewDidLoad () // WebView\u3092\u958b\u304f. myWebView = UIWebView () myWebView . delegate = self myWebView . frame = self . view . bounds self . view . addSubview ( myWebView ) let url : NSURL ! = NSURL ( string : \"http://www.apple.com\" ) let request : NSURLRequest = NSURLRequest ( URL : url ) // \u30ed\u30fc\u30c9\u958b\u59cb. myWebView . loadRequest ( request ) } /* Web\u304c\u3059\u3079\u3066\u8aad\u307f\u8fbc\u307f\u7d42\u308f\u3063\u305f\u6642\u547c\u3070\u308c\u308b. */ func webViewDidFinishLoad ( webView : UIWebView ) { print ( \"webViewDidFinishLoad\" ) } /* Web\u304cload\u3055\u308c\u59cb\u3081\u305f\u6642\u3001\u547c\u3070\u308c\u308b. */ func webViewDidStartLoad ( webView : UIWebView ) { print ( \"webViewDidStartLoad\" ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } }","title":"ViewController.swift"},{"location":"1.uikit/043_preview/#3x4x","text":"UIBlurEffectStyle \u304c UIBlurEffect.Style UIWebView \u306fiOS 12.0\u304b\u3089\u975e\u63a8\u5968","title":"3.x\u30684.x\u306e\u5dee\u5206"},{"location":"1.uikit/043_preview/#2330","text":"UIColor\u306e\u53c2\u7167\u65b9\u6cd5\u304c\u5909\u66f4(UIColor.grayColor()->UIColor.gray) CGRect,CGPoint\u306e\u521d\u671f\u5316\u65b9\u6cd5\u306e\u5909\u66f4(CGRectMake,CGPointMake\u306e\u5ec3\u6b62) AppDelegate\u306e\u95a2\u6570\u306e\u5f15\u6570\u304c\u5909\u66f4. (UIScreen.mainScreen()->UIScreen.main) NSURL\u306e\u5ec3\u6b62\u3001URL\u306b\u5909\u66f4","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"1.uikit/043_preview/#reference","text":"UIApplication Class https://developer.apple.com/reference/uikit/uiapplication","title":"Reference"},{"location":"1.uikit/044_scoundscreendraw/","text":"\u30bb\u30ab\u30f3\u30c9Screen\u3078\u306e\u63cf\u753b Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 // // ViewController.swift // UIKit044_4.0 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { var mySecondWindow : UIWindow ! override func viewDidLoad () { super . viewDidLoad () let screen : NSArray = UIScreen . screens as NSArray // \u63a5\u7d9a\u4e2d\u306e\u753b\u9762\u304c2\u3064\u3042\u308b\u5834\u5408\u30012\u756a\u76ee\u3092\u8868\u793a. if screen . count > 1 { let screen : UIScreen = UIScreen . screens [ 1 ] showSecondScreenWindow ( screen : screen ) } // \u753b\u9762\u306e\u63a5\u7d9a\u304c\u304a\u3053\u306a\u308f\u308c\u305f\u6642\u306b\u767a\u751f\u3059\u308bNotification. let myDefaultCenter : NotificationCenter = NotificationCenter . default myDefaultCenter . addObserver ( self , selector : #selector ( ViewController . screenDidConnect ( notification :)), name : UIScreen . didConnectNotification , object : nil ) myDefaultCenter . addObserver ( self , selector : #selector ( ViewController . screenDidDisconnect ( notification :)), name : UIScreen . didDisconnectNotification , object : nil ) myDefaultCenter . addObserver ( self , selector : #selector ( ViewController . screenDidModeChange ( notification :)), name : UIScreen . modeDidChangeNotification , object : nil ) // Label\u3092\u4f5c\u6210. let myLabel : UILabel = UILabel ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 50 )) myLabel . backgroundColor = UIColor . orange myLabel . layer . masksToBounds = true myLabel . layer . cornerRadius = 20.0 myLabel . text = \"Hello 1st Screen\" myLabel . textColor = UIColor . white myLabel . shadowColor = UIColor . gray myLabel . textAlignment = NSTextAlignment . center myLabel . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 200 ) self . view . addSubview ( myLabel ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } /* \u753b\u9762\u306e\u63a5\u7d9a\u3055\u308c\u305f\u6642. */ @objc func screenDidConnect ( notification : NSNotification ){ print ( \"screenDidConnect\" ) let screen : NSArray = UIScreen . screens as NSArray if screen . count > 1 { let screen : UIScreen = UIScreen . screens [ 1 ] showSecondScreenWindow ( screen : screen ) } } /* \u753b\u9762\u304c\u5207\u65ad\u3055\u308c\u305f\u6642. */ @objc func screenDidDisconnect ( notification : NSNotification ){ print ( \"screenDidDisconnect\" ) } /* \u753b\u9762\u306e\u30e2\u30fc\u30c9\u304c\u5909\u308f\u3063\u305f\u6642. */ @objc func screenDidModeChange ( notification : NSNotification ){ print ( \"screenDidModeChange\" ) } /* 2\u753b\u9762\u76ee\u306e\u753b\u9762\u306e\u30ec\u30a4\u30a2\u30a6\u30c8. */ func showSecondScreenWindow ( screen : UIScreen !){ mySecondWindow = UIWindow () mySecondWindow . screen = screen mySecondWindow . frame = CGRect ( x : 0 , y : 0 , width : screen . bounds . width , height : screen . bounds . height ) mySecondWindow . backgroundColor = UIColor . red self . mySecondWindow . makeKeyAndVisible () // Label\u3092\u4f5c\u6210. let myLabel : UILabel = UILabel ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 50 )) myLabel . backgroundColor = UIColor . orange myLabel . layer . masksToBounds = true myLabel . layer . cornerRadius = 20.0 myLabel . text = \"Hello Second Screen\" myLabel . textColor = UIColor . white myLabel . shadowColor = UIColor . gray myLabel . textAlignment = NSTextAlignment . center myLabel . layer . position = CGPoint ( x : self . mySecondWindow . bounds . width / 2 , y : 200 ) self . mySecondWindow . addSubview ( myLabel ) } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 // // ViewController.swift // UIKit044_3.0 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { var mySecondWindow : UIWindow ! override func viewDidLoad () { super . viewDidLoad () let screen : NSArray = UIScreen . screens // \u63a5\u7d9a\u4e2d\u306e\u753b\u9762\u304c2\u3064\u3042\u308b\u5834\u5408\u30012\u756a\u76ee\u3092\u8868\u793a. if screen . count > 1 { let screen : UIScreen = UIScreen . screens [ 1 ] showSecondScreenWindow ( screen : screen ) } // \u753b\u9762\u306e\u63a5\u7d9a\u304c\u304a\u3053\u306a\u308f\u308c\u305f\u6642\u306b\u767a\u751f\u3059\u308bNotification. let myDefaultCenter : NotificationCenter = NotificationCenter . default myDefaultCenter . addObserver ( self , selector : #selector ( ViewController . screenDidConnect ( notification :)), name : NSNotification . Name . UIScreenDidConnect , object : nil ) myDefaultCenter . addObserver ( self , selector : #selector ( ViewController . screenDidDisconnect ( notification :)), name : NSNotification . Name . UIScreenDidDisconnect , object : nil ) myDefaultCenter . addObserver ( self , selector : #selector ( ViewController . screenDidModeChange ( notification :)), name : NSNotification . Name . UIScreenModeDidChange , object : nil ) // Label\u3092\u4f5c\u6210. let myLabel : UILabel = UILabel ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 50 )) myLabel . backgroundColor = UIColor . orange myLabel . layer . masksToBounds = true myLabel . layer . cornerRadius = 20.0 myLabel . text = \"Hello 1st Screen\" myLabel . textColor = UIColor . white myLabel . shadowColor = UIColor . gray myLabel . textAlignment = NSTextAlignment . center myLabel . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 200 ) self . view . addSubview ( myLabel ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } /* \u753b\u9762\u306e\u63a5\u7d9a\u3055\u308c\u305f\u6642. */ func screenDidConnect ( notification : NSNotification ){ print ( \"screenDidConnect\" ) let screen : NSArray = UIScreen . screens if screen . count > 1 { let screen : UIScreen = UIScreen . screens [ 1 ] showSecondScreenWindow ( screen : screen ) } } /* \u753b\u9762\u304c\u5207\u65ad\u3055\u308c\u305f\u6642. */ func screenDidDisconnect ( notification : NSNotification ){ print ( \"screenDidDisconnect\" ) } /* \u753b\u9762\u306e\u30e2\u30fc\u30c9\u304c\u5909\u308f\u3063\u305f\u6642. */ func screenDidModeChange ( notification : NSNotification ){ print ( \"screenDidModeChange\" ) } /* 2\u753b\u9762\u76ee\u306e\u753b\u9762\u306e\u30ec\u30a4\u30a2\u30a6\u30c8. */ func showSecondScreenWindow ( screen : UIScreen !){ mySecondWindow = UIWindow () mySecondWindow . screen = screen mySecondWindow . frame = CGRect ( x : 0 , y : 0 , width : screen . bounds . width , height : screen . bounds . height ) mySecondWindow . backgroundColor = UIColor . red self . mySecondWindow . makeKeyAndVisible () // Label\u3092\u4f5c\u6210. let myLabel : UILabel = UILabel ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 50 )) myLabel . backgroundColor = UIColor . orange myLabel . layer . masksToBounds = true myLabel . layer . cornerRadius = 20.0 myLabel . text = \"Hello Second Screen\" myLabel . textColor = UIColor . white myLabel . shadowColor = UIColor . gray myLabel . textAlignment = NSTextAlignment . center myLabel . layer . position = CGPoint ( x : self . mySecondWindow . bounds . width / 2 , y : 200 ) self . mySecondWindow . addSubview ( myLabel ) } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 // // ViewController.swift // UIKit044_2.3 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { var mySecondWindow : UIWindow ! override func viewDidLoad () { super . viewDidLoad () let screen : NSArray = UIScreen . screens () // \u63a5\u7d9a\u4e2d\u306e\u753b\u9762\u304c2\u3064\u3042\u308b\u5834\u5408\u30012\u756a\u76ee\u3092\u8868\u793a. if screen . count > 1 { let screen : UIScreen = UIScreen . screens ()[ 1 ] showSecondScreenWindow ( screen ) } // \u753b\u9762\u306e\u63a5\u7d9a\u304c\u304a\u3053\u306a\u308f\u308c\u305f\u6642\u306b\u767a\u751f\u3059\u308bNotification. let myDefaultCenter : NSNotificationCenter = NSNotificationCenter . defaultCenter () myDefaultCenter . addObserver ( self , selector : #selector ( ViewController . screenDidConnect ( _ :)), name : UIScreenDidConnectNotification , object : nil ) myDefaultCenter . addObserver ( self , selector : #selector ( ViewController . screenDidDisconnect ( _ :)), name : UIScreenDidDisconnectNotification , object : nil ) myDefaultCenter . addObserver ( self , selector : #selector ( ViewController . screenDidModeChange ( _ :)), name : UIScreenModeDidChangeNotification , object : nil ) // Label\u3092\u4f5c\u6210. let myLabel : UILabel = UILabel ( frame : CGRectMake ( 0 , 0 , 200 , 50 )) myLabel . backgroundColor = UIColor . orangeColor () myLabel . layer . masksToBounds = true myLabel . layer . cornerRadius = 20.0 myLabel . text = \"Hello 1st Screen\" myLabel . textColor = UIColor . whiteColor () myLabel . shadowColor = UIColor . grayColor () myLabel . textAlignment = NSTextAlignment . Center myLabel . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 200 ) self . view . addSubview ( myLabel ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } /* \u753b\u9762\u306e\u63a5\u7d9a\u3055\u308c\u305f\u6642. */ func screenDidConnect ( notification : NSNotification ){ print ( \"screenDidConnect\" ) let screen : NSArray = UIScreen . screens () if screen . count > 1 { let screen : UIScreen = UIScreen . screens ()[ 1 ] showSecondScreenWindow ( screen ) } } /* \u753b\u9762\u304c\u5207\u65ad\u3055\u308c\u305f\u6642. */ func screenDidDisconnect ( notification : NSNotification ){ print ( \"screenDidDisconnect\" ) } /* \u753b\u9762\u306e\u30e2\u30fc\u30c9\u304c\u5909\u308f\u3063\u305f\u6642. */ func screenDidModeChange ( notification : NSNotification ){ print ( \"screenDidModeChange\" ) } /* 2\u753b\u9762\u76ee\u306e\u753b\u9762\u306e\u30ec\u30a4\u30a2\u30a6\u30c8. */ func showSecondScreenWindow ( screen : UIScreen !){ mySecondWindow = UIWindow () mySecondWindow . screen = screen mySecondWindow . frame = CGRectMake ( 0 , 0 , screen . bounds . width , screen . bounds . height ) mySecondWindow . backgroundColor = UIColor . redColor () self . mySecondWindow . makeKeyAndVisible () // Label\u3092\u4f5c\u6210. let myLabel : UILabel = UILabel ( frame : CGRectMake ( 0 , 0 , 200 , 50 )) myLabel . backgroundColor = UIColor . orangeColor () myLabel . layer . masksToBounds = true myLabel . layer . cornerRadius = 20.0 myLabel . text = \"Hello Second Screen\" myLabel . textColor = UIColor . whiteColor () myLabel . shadowColor = UIColor . grayColor () myLabel . textAlignment = NSTextAlignment . Center myLabel . layer . position = CGPoint ( x : self . mySecondWindow . bounds . width / 2 , y : 200 ) self . mySecondWindow . addSubview ( myLabel ) } } 3.x\u30684.x\u306e\u5dee\u5206 UIScreen.screens \u304c UIScreen.screens as NSArray \u306b\u5909\u66f4 screenDidConnect \u3001 screenDidDisconnect \u3001 screenDidModeChange \u306b @objc \u3092\u8ffd\u52a0 NSNotification.Name.UIScreenDidConnect \u304c UIScreen.didConnectNotification \u306b\u5909\u66f4 NSNotification.Name.UIScreenDidDisconnect \u304c UIScreen.didDisconnectNotification \u306b\u5909\u66f4 NSNotification.Name.UIScreenModeDidChange \u304c UIScreen.modeDidChangeNotification \u306b\u5909\u66f4 2.3\u30683.0\u306e\u5dee\u5206 UIColor\u306e\u53c2\u7167\u65b9\u6cd5\u304c\u5909\u66f4(UIColor.grayColor()->UIColor.gray) CGRect,CGPoint\u306e\u521d\u671f\u5316\u65b9\u6cd5\u306e\u5909\u66f4(CGRectMake,CGPointMake\u306e\u5ec3\u6b62) (ViewController.screenDidConnect(_:)->) Reference UIScreen Class https://developer.apple.com/reference/uikit/uiscreen","title":"\u30bb\u30ab\u30f3\u30c9Screen\u3078\u306e\u63cf\u753b"},{"location":"1.uikit/044_scoundscreendraw/#screen","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 // // ViewController.swift // UIKit044_4.0 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { var mySecondWindow : UIWindow ! override func viewDidLoad () { super . viewDidLoad () let screen : NSArray = UIScreen . screens as NSArray // \u63a5\u7d9a\u4e2d\u306e\u753b\u9762\u304c2\u3064\u3042\u308b\u5834\u5408\u30012\u756a\u76ee\u3092\u8868\u793a. if screen . count > 1 { let screen : UIScreen = UIScreen . screens [ 1 ] showSecondScreenWindow ( screen : screen ) } // \u753b\u9762\u306e\u63a5\u7d9a\u304c\u304a\u3053\u306a\u308f\u308c\u305f\u6642\u306b\u767a\u751f\u3059\u308bNotification. let myDefaultCenter : NotificationCenter = NotificationCenter . default myDefaultCenter . addObserver ( self , selector : #selector ( ViewController . screenDidConnect ( notification :)), name : UIScreen . didConnectNotification , object : nil ) myDefaultCenter . addObserver ( self , selector : #selector ( ViewController . screenDidDisconnect ( notification :)), name : UIScreen . didDisconnectNotification , object : nil ) myDefaultCenter . addObserver ( self , selector : #selector ( ViewController . screenDidModeChange ( notification :)), name : UIScreen . modeDidChangeNotification , object : nil ) // Label\u3092\u4f5c\u6210. let myLabel : UILabel = UILabel ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 50 )) myLabel . backgroundColor = UIColor . orange myLabel . layer . masksToBounds = true myLabel . layer . cornerRadius = 20.0 myLabel . text = \"Hello 1st Screen\" myLabel . textColor = UIColor . white myLabel . shadowColor = UIColor . gray myLabel . textAlignment = NSTextAlignment . center myLabel . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 200 ) self . view . addSubview ( myLabel ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } /* \u753b\u9762\u306e\u63a5\u7d9a\u3055\u308c\u305f\u6642. */ @objc func screenDidConnect ( notification : NSNotification ){ print ( \"screenDidConnect\" ) let screen : NSArray = UIScreen . screens as NSArray if screen . count > 1 { let screen : UIScreen = UIScreen . screens [ 1 ] showSecondScreenWindow ( screen : screen ) } } /* \u753b\u9762\u304c\u5207\u65ad\u3055\u308c\u305f\u6642. */ @objc func screenDidDisconnect ( notification : NSNotification ){ print ( \"screenDidDisconnect\" ) } /* \u753b\u9762\u306e\u30e2\u30fc\u30c9\u304c\u5909\u308f\u3063\u305f\u6642. */ @objc func screenDidModeChange ( notification : NSNotification ){ print ( \"screenDidModeChange\" ) } /* 2\u753b\u9762\u76ee\u306e\u753b\u9762\u306e\u30ec\u30a4\u30a2\u30a6\u30c8. */ func showSecondScreenWindow ( screen : UIScreen !){ mySecondWindow = UIWindow () mySecondWindow . screen = screen mySecondWindow . frame = CGRect ( x : 0 , y : 0 , width : screen . bounds . width , height : screen . bounds . height ) mySecondWindow . backgroundColor = UIColor . red self . mySecondWindow . makeKeyAndVisible () // Label\u3092\u4f5c\u6210. let myLabel : UILabel = UILabel ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 50 )) myLabel . backgroundColor = UIColor . orange myLabel . layer . masksToBounds = true myLabel . layer . cornerRadius = 20.0 myLabel . text = \"Hello Second Screen\" myLabel . textColor = UIColor . white myLabel . shadowColor = UIColor . gray myLabel . textAlignment = NSTextAlignment . center myLabel . layer . position = CGPoint ( x : self . mySecondWindow . bounds . width / 2 , y : 200 ) self . mySecondWindow . addSubview ( myLabel ) } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 // // ViewController.swift // UIKit044_3.0 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { var mySecondWindow : UIWindow ! override func viewDidLoad () { super . viewDidLoad () let screen : NSArray = UIScreen . screens // \u63a5\u7d9a\u4e2d\u306e\u753b\u9762\u304c2\u3064\u3042\u308b\u5834\u5408\u30012\u756a\u76ee\u3092\u8868\u793a. if screen . count > 1 { let screen : UIScreen = UIScreen . screens [ 1 ] showSecondScreenWindow ( screen : screen ) } // \u753b\u9762\u306e\u63a5\u7d9a\u304c\u304a\u3053\u306a\u308f\u308c\u305f\u6642\u306b\u767a\u751f\u3059\u308bNotification. let myDefaultCenter : NotificationCenter = NotificationCenter . default myDefaultCenter . addObserver ( self , selector : #selector ( ViewController . screenDidConnect ( notification :)), name : NSNotification . Name . UIScreenDidConnect , object : nil ) myDefaultCenter . addObserver ( self , selector : #selector ( ViewController . screenDidDisconnect ( notification :)), name : NSNotification . Name . UIScreenDidDisconnect , object : nil ) myDefaultCenter . addObserver ( self , selector : #selector ( ViewController . screenDidModeChange ( notification :)), name : NSNotification . Name . UIScreenModeDidChange , object : nil ) // Label\u3092\u4f5c\u6210. let myLabel : UILabel = UILabel ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 50 )) myLabel . backgroundColor = UIColor . orange myLabel . layer . masksToBounds = true myLabel . layer . cornerRadius = 20.0 myLabel . text = \"Hello 1st Screen\" myLabel . textColor = UIColor . white myLabel . shadowColor = UIColor . gray myLabel . textAlignment = NSTextAlignment . center myLabel . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 200 ) self . view . addSubview ( myLabel ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } /* \u753b\u9762\u306e\u63a5\u7d9a\u3055\u308c\u305f\u6642. */ func screenDidConnect ( notification : NSNotification ){ print ( \"screenDidConnect\" ) let screen : NSArray = UIScreen . screens if screen . count > 1 { let screen : UIScreen = UIScreen . screens [ 1 ] showSecondScreenWindow ( screen : screen ) } } /* \u753b\u9762\u304c\u5207\u65ad\u3055\u308c\u305f\u6642. */ func screenDidDisconnect ( notification : NSNotification ){ print ( \"screenDidDisconnect\" ) } /* \u753b\u9762\u306e\u30e2\u30fc\u30c9\u304c\u5909\u308f\u3063\u305f\u6642. */ func screenDidModeChange ( notification : NSNotification ){ print ( \"screenDidModeChange\" ) } /* 2\u753b\u9762\u76ee\u306e\u753b\u9762\u306e\u30ec\u30a4\u30a2\u30a6\u30c8. */ func showSecondScreenWindow ( screen : UIScreen !){ mySecondWindow = UIWindow () mySecondWindow . screen = screen mySecondWindow . frame = CGRect ( x : 0 , y : 0 , width : screen . bounds . width , height : screen . bounds . height ) mySecondWindow . backgroundColor = UIColor . red self . mySecondWindow . makeKeyAndVisible () // Label\u3092\u4f5c\u6210. let myLabel : UILabel = UILabel ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 50 )) myLabel . backgroundColor = UIColor . orange myLabel . layer . masksToBounds = true myLabel . layer . cornerRadius = 20.0 myLabel . text = \"Hello Second Screen\" myLabel . textColor = UIColor . white myLabel . shadowColor = UIColor . gray myLabel . textAlignment = NSTextAlignment . center myLabel . layer . position = CGPoint ( x : self . mySecondWindow . bounds . width / 2 , y : 200 ) self . mySecondWindow . addSubview ( myLabel ) } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 // // ViewController.swift // UIKit044_2.3 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { var mySecondWindow : UIWindow ! override func viewDidLoad () { super . viewDidLoad () let screen : NSArray = UIScreen . screens () // \u63a5\u7d9a\u4e2d\u306e\u753b\u9762\u304c2\u3064\u3042\u308b\u5834\u5408\u30012\u756a\u76ee\u3092\u8868\u793a. if screen . count > 1 { let screen : UIScreen = UIScreen . screens ()[ 1 ] showSecondScreenWindow ( screen ) } // \u753b\u9762\u306e\u63a5\u7d9a\u304c\u304a\u3053\u306a\u308f\u308c\u305f\u6642\u306b\u767a\u751f\u3059\u308bNotification. let myDefaultCenter : NSNotificationCenter = NSNotificationCenter . defaultCenter () myDefaultCenter . addObserver ( self , selector : #selector ( ViewController . screenDidConnect ( _ :)), name : UIScreenDidConnectNotification , object : nil ) myDefaultCenter . addObserver ( self , selector : #selector ( ViewController . screenDidDisconnect ( _ :)), name : UIScreenDidDisconnectNotification , object : nil ) myDefaultCenter . addObserver ( self , selector : #selector ( ViewController . screenDidModeChange ( _ :)), name : UIScreenModeDidChangeNotification , object : nil ) // Label\u3092\u4f5c\u6210. let myLabel : UILabel = UILabel ( frame : CGRectMake ( 0 , 0 , 200 , 50 )) myLabel . backgroundColor = UIColor . orangeColor () myLabel . layer . masksToBounds = true myLabel . layer . cornerRadius = 20.0 myLabel . text = \"Hello 1st Screen\" myLabel . textColor = UIColor . whiteColor () myLabel . shadowColor = UIColor . grayColor () myLabel . textAlignment = NSTextAlignment . Center myLabel . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 200 ) self . view . addSubview ( myLabel ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } /* \u753b\u9762\u306e\u63a5\u7d9a\u3055\u308c\u305f\u6642. */ func screenDidConnect ( notification : NSNotification ){ print ( \"screenDidConnect\" ) let screen : NSArray = UIScreen . screens () if screen . count > 1 { let screen : UIScreen = UIScreen . screens ()[ 1 ] showSecondScreenWindow ( screen ) } } /* \u753b\u9762\u304c\u5207\u65ad\u3055\u308c\u305f\u6642. */ func screenDidDisconnect ( notification : NSNotification ){ print ( \"screenDidDisconnect\" ) } /* \u753b\u9762\u306e\u30e2\u30fc\u30c9\u304c\u5909\u308f\u3063\u305f\u6642. */ func screenDidModeChange ( notification : NSNotification ){ print ( \"screenDidModeChange\" ) } /* 2\u753b\u9762\u76ee\u306e\u753b\u9762\u306e\u30ec\u30a4\u30a2\u30a6\u30c8. */ func showSecondScreenWindow ( screen : UIScreen !){ mySecondWindow = UIWindow () mySecondWindow . screen = screen mySecondWindow . frame = CGRectMake ( 0 , 0 , screen . bounds . width , screen . bounds . height ) mySecondWindow . backgroundColor = UIColor . redColor () self . mySecondWindow . makeKeyAndVisible () // Label\u3092\u4f5c\u6210. let myLabel : UILabel = UILabel ( frame : CGRectMake ( 0 , 0 , 200 , 50 )) myLabel . backgroundColor = UIColor . orangeColor () myLabel . layer . masksToBounds = true myLabel . layer . cornerRadius = 20.0 myLabel . text = \"Hello Second Screen\" myLabel . textColor = UIColor . whiteColor () myLabel . shadowColor = UIColor . grayColor () myLabel . textAlignment = NSTextAlignment . Center myLabel . layer . position = CGPoint ( x : self . mySecondWindow . bounds . width / 2 , y : 200 ) self . mySecondWindow . addSubview ( myLabel ) } }","title":"\u30bb\u30ab\u30f3\u30c9Screen\u3078\u306e\u63cf\u753b"},{"location":"1.uikit/044_scoundscreendraw/#3x4x","text":"UIScreen.screens \u304c UIScreen.screens as NSArray \u306b\u5909\u66f4 screenDidConnect \u3001 screenDidDisconnect \u3001 screenDidModeChange \u306b @objc \u3092\u8ffd\u52a0 NSNotification.Name.UIScreenDidConnect \u304c UIScreen.didConnectNotification \u306b\u5909\u66f4 NSNotification.Name.UIScreenDidDisconnect \u304c UIScreen.didDisconnectNotification \u306b\u5909\u66f4 NSNotification.Name.UIScreenModeDidChange \u304c UIScreen.modeDidChangeNotification \u306b\u5909\u66f4","title":"3.x\u30684.x\u306e\u5dee\u5206"},{"location":"1.uikit/044_scoundscreendraw/#2330","text":"UIColor\u306e\u53c2\u7167\u65b9\u6cd5\u304c\u5909\u66f4(UIColor.grayColor()->UIColor.gray) CGRect,CGPoint\u306e\u521d\u671f\u5316\u65b9\u6cd5\u306e\u5909\u66f4(CGRectMake,CGPointMake\u306e\u5ec3\u6b62) (ViewController.screenDidConnect(_:)->)","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"1.uikit/044_scoundscreendraw/#reference","text":"UIScreen Class https://developer.apple.com/reference/uikit/uiscreen","title":"Reference"},{"location":"1.uikit/045_uitableviewbutton/","text":"TableView\u306e\u30dc\u30bf\u30f3\u306e\u62e1\u5f35 Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 // // ViewController.swift // UIKit045_4.0 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UITableViewDelegate , UITableViewDataSource { // Tabel\u3067\u4f7f\u7528\u3059\u308b\u914d\u5217. var myItems : [ String ] = [ \"TEST1\" , \"TEST2\" , \"TEST3\" ] var myTableView : UITableView = UITableView () override func viewDidLoad () { super . viewDidLoad () // Status Bar\u306e\u9ad8\u3055\u3092\u53d6\u5f97. let barHeight : CGFloat = UIApplication . shared . statusBarFrame . size . height // View\u306e\u9ad8\u3055\u3068\u5e45\u3092\u53d6\u5f97. let displayWidth : CGFloat = self . view . frame . width let displayHeight : CGFloat = self . view . frame . height // TableView\u306e\u751f\u6210( status bar\u306e\u9ad8\u3055\u5206\u305a\u3089\u3057\u3066\u8868\u793a ). myTableView . frame = CGRect ( x : 0 , y : barHeight , width : displayWidth , height : displayHeight - barHeight ) // Cell\u306e\u767b\u9332. myTableView . register ( UITableViewCell . self , forCellReuseIdentifier : \"MyCell\" ) // DataSource\u306e\u8a2d\u5b9a. myTableView . dataSource = self // Delegate\u3092\u8a2d\u5b9a. myTableView . delegate = self // View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myTableView ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } /* Cell\u304c\u9078\u629e\u3055\u308c\u305f\u969b\u306b\u547c\u3073\u51fa\u3055\u308c\u308b. */ func tableView ( _ tableView : UITableView , didSelectRowAt indexPath : IndexPath ) { print ( \"Num: \\( indexPath . row ) \" ) print ( \"Value: \\( myItems [ indexPath . row ] ) \" ) } /* Cell\u306e\u7dcf\u6570\u3092\u8fd4\u3059. */ func tableView ( _ tableView : UITableView , numberOfRowsInSection section : Int ) -> Int { print ( \"numberOfRowsInSection\" ) return myItems . count } /* Editable\u306e\u72b6\u614b\u306b\u3059\u308b. */ func tableView ( _ tableView : UITableView , canEditRowAt indexPath : IndexPath ) -> Bool { print ( \"canEditRowAtIndexPath\" ) return true } /* \u7279\u5b9a\u306e\u884c\u306e\u30dc\u30bf\u30f3\u64cd\u4f5c\u3092\u6709\u52b9\u306b\u3059\u308b. */ func tableView ( _ tableView : UITableView , commit editingStyle : UITableViewCell . EditingStyle , forRowAt indexPath : IndexPath ) { print ( \"commitEdittingStyle: \\( editingStyle ) \" ) } /* Cell\u306b\u5024\u3092\u8a2d\u5b9a\u3059\u308b. */ func tableView ( _ tableView : UITableView , cellForRowAt indexPath : IndexPath ) -> UITableViewCell { print ( \"cellForRowAtIndexPath\" ) let cell : UITableViewCell = tableView . dequeueReusableCell ( withIdentifier : \"MyCell\" , for : indexPath as IndexPath ) //tableView.dequeueReusableCellWithIdentifier(\"MyCell\", forIndexPath: indexPath as IndexPath) cell . textLabel ?. text = \" \\( myItems [ indexPath . row ] ) \" return cell } /* Button\u3092\u62e1\u5f35\u3059\u308b. */ func tableView ( _ tableView : UITableView , editActionsForRowAt indexPath : IndexPath ) -> [ UITableViewRowAction ]? { // Share\u30dc\u30bf\u30f3. let myShareButton : UITableViewRowAction = UITableViewRowAction ( style : . normal , title : \"Share\" ) { ( action , index ) -> Void in tableView . isEditing = false print ( \"share\" ) } myShareButton . backgroundColor = UIColor . blue // Archive\u30dc\u30bf\u30f3. let myArchiveButton : UITableViewRowAction = UITableViewRowAction ( style : . normal , title : \"Archive\" ) { ( action , index ) -> Void in tableView . isEditing = false print ( \"archive\" ) } myArchiveButton . backgroundColor = UIColor . red return [ myShareButton , myArchiveButton ] } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 // // ViewController.swift // UIKit045_3.0 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UITableViewDelegate , UITableViewDataSource { // Tabel\u3067\u4f7f\u7528\u3059\u308b\u914d\u5217. var myItems : [ String ] = [ \"TEST1\" , \"TEST2\" , \"TEST3\" ] var myTableView : UITableView = UITableView () override func viewDidLoad () { super . viewDidLoad () // Status Bar\u306e\u9ad8\u3055\u3092\u53d6\u5f97. let barHeight : CGFloat = UIApplication . shared . statusBarFrame . size . height // View\u306e\u9ad8\u3055\u3068\u5e45\u3092\u53d6\u5f97. let displayWidth : CGFloat = self . view . frame . width let displayHeight : CGFloat = self . view . frame . height // TableView\u306e\u751f\u6210( status bar\u306e\u9ad8\u3055\u5206\u305a\u3089\u3057\u3066\u8868\u793a ). myTableView . frame = CGRect ( x : 0 , y : barHeight , width : displayWidth , height : displayHeight - barHeight ) // Cell\u306e\u767b\u9332. myTableView . register ( UITableViewCell . self , forCellReuseIdentifier : \"MyCell\" ) // DataSource\u306e\u8a2d\u5b9a. myTableView . dataSource = self // Delegate\u3092\u8a2d\u5b9a. myTableView . delegate = self // View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myTableView ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } /* Cell\u304c\u9078\u629e\u3055\u308c\u305f\u969b\u306b\u547c\u3073\u51fa\u3055\u308c\u308b. */ func tableView ( _ tableView : UITableView , didSelectRowAt indexPath : IndexPath ) { print ( \"Num: \\( indexPath . row ) \" ) print ( \"Value: \\( myItems [ indexPath . row ] ) \" ) } /* Cell\u306e\u7dcf\u6570\u3092\u8fd4\u3059. */ func tableView ( _ tableView : UITableView , numberOfRowsInSection section : Int ) -> Int { print ( \"numberOfRowsInSection\" ) return myItems . count } /* Editable\u306e\u72b6\u614b\u306b\u3059\u308b. */ func tableView ( _ tableView : UITableView , canEditRowAt indexPath : IndexPath ) -> Bool { print ( \"canEditRowAtIndexPath\" ) return true } /* \u7279\u5b9a\u306e\u884c\u306e\u30dc\u30bf\u30f3\u64cd\u4f5c\u3092\u6709\u52b9\u306b\u3059\u308b. */ func tableView ( _ tableView : UITableView , commit editingStyle : UITableViewCellEditingStyle , forRowAt indexPath : IndexPath ) { print ( \"commitEdittingStyle: \\( editingStyle ) \" ) } /* Cell\u306b\u5024\u3092\u8a2d\u5b9a\u3059\u308b. */ func tableView ( _ tableView : UITableView , cellForRowAt indexPath : IndexPath ) -> UITableViewCell { print ( \"cellForRowAtIndexPath\" ) let cell : UITableViewCell = tableView . dequeueReusableCell ( withIdentifier : \"MyCell\" , for : indexPath as IndexPath ) //tableView.dequeueReusableCellWithIdentifier(\"MyCell\", forIndexPath: indexPath as IndexPath) cell . textLabel ?. text = \" \\( myItems [ indexPath . row ] ) \" return cell } /* Button\u3092\u62e1\u5f35\u3059\u308b. */ func tableView ( _ tableView : UITableView , editActionsForRowAt indexPath : IndexPath ) -> [ UITableViewRowAction ]? { // Share\u30dc\u30bf\u30f3. let myShareButton : UITableViewRowAction = UITableViewRowAction ( style : . normal , title : \"Share\" ) { ( action , index ) -> Void in tableView . isEditing = false print ( \"share\" ) } myShareButton . backgroundColor = UIColor . blue // Archive\u30dc\u30bf\u30f3. let myArchiveButton : UITableViewRowAction = UITableViewRowAction ( style : . normal , title : \"Archive\" ) { ( action , index ) -> Void in tableView . isEditing = false print ( \"archive\" ) } myArchiveButton . backgroundColor = UIColor . red return [ myShareButton , myArchiveButton ] } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 // // ViewController.swift // UIKit045_2.3 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UITableViewDelegate , UITableViewDataSource { // Tabel\u3067\u4f7f\u7528\u3059\u308b\u914d\u5217. var myItems : [ String ] = [ \"TEST1\" , \"TEST2\" , \"TEST3\" ] var myTableView : UITableView = UITableView () override func viewDidLoad () { super . viewDidLoad () // Status Bar\u306e\u9ad8\u3055\u3092\u53d6\u5f97. let barHeight : CGFloat = UIApplication . sharedApplication (). statusBarFrame . size . height // View\u306e\u9ad8\u3055\u3068\u5e45\u3092\u53d6\u5f97. let displayWidth : CGFloat = self . view . frame . width let displayHeight : CGFloat = self . view . frame . height // TableView\u306e\u751f\u6210( status bar\u306e\u9ad8\u3055\u5206\u305a\u3089\u3057\u3066\u8868\u793a ). myTableView . frame = CGRect ( x : 0 , y : barHeight , width : displayWidth , height : displayHeight - barHeight ) // Cell\u306e\u767b\u9332. myTableView . registerClass ( UITableViewCell . self , forCellReuseIdentifier : \"MyCell\" ) // DataSource\u306e\u8a2d\u5b9a. myTableView . dataSource = self // Delegate\u3092\u8a2d\u5b9a. myTableView . delegate = self // View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myTableView ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } /* Cell\u304c\u9078\u629e\u3055\u308c\u305f\u969b\u306b\u547c\u3073\u51fa\u3055\u308c\u308b. */ func tableView ( tableView : UITableView , didSelectRowAtIndexPath indexPath : NSIndexPath ) { print ( \"Num: \\( indexPath . row ) \" ) print ( \"Value: \\( myItems [ indexPath . row ] ) \" ) } /* Cell\u306e\u7dcf\u6570\u3092\u8fd4\u3059. */ func tableView ( tableView : UITableView , numberOfRowsInSection section : Int ) -> Int { print ( \"numberOfRowsInSection\" ) return myItems . count } /* Editable\u306e\u72b6\u614b\u306b\u3059\u308b. */ func tableView ( tableView : UITableView , canEditRowAtIndexPath indexPath : NSIndexPath ) -> Bool { print ( \"canEditRowAtIndexPath\" ) return true } /* \u7279\u5b9a\u306e\u884c\u306e\u30dc\u30bf\u30f3\u64cd\u4f5c\u3092\u6709\u52b9\u306b\u3059\u308b. */ func tableView ( tableView : UITableView , commitEditingStyle editingStyle : UITableViewCellEditingStyle , forRowAtIndexPath indexPath : NSIndexPath ) { print ( \"commitEdittingStyle: \\( editingStyle ) \" ) } /* Cell\u306b\u5024\u3092\u8a2d\u5b9a\u3059\u308b. */ func tableView ( tableView : UITableView , cellForRowAtIndexPath indexPath : NSIndexPath ) -> UITableViewCell { print ( \"cellForRowAtIndexPath\" ) let cell : UITableViewCell = tableView . dequeueReusableCellWithIdentifier ( \"MyCell\" , forIndexPath : indexPath ) cell . textLabel ?. text = \" \\( myItems [ indexPath . row ] ) \" return cell } /* Button\u3092\u62e1\u5f35\u3059\u308b. */ func tableView ( tableView : UITableView , editActionsForRowAtIndexPath indexPath : NSIndexPath ) -> [ UITableViewRowAction ]? { // Share\u30dc\u30bf\u30f3. let myShareButton : UITableViewRowAction = UITableViewRowAction ( style : . Normal , title : \"Share\" ) { ( action , index ) -> Void in tableView . editing = false print ( \"share\" ) } myShareButton . backgroundColor = UIColor . blueColor () // Archive\u30dc\u30bf\u30f3. let myArchiveButton : UITableViewRowAction = UITableViewRowAction ( style : . Normal , title : \"Archive\" ) { ( action , index ) -> Void in tableView . editing = false print ( \"archive\" ) } myArchiveButton . backgroundColor = UIColor . redColor () return [ myShareButton , myArchiveButton ] } } 3.x\u30684.x\u306e\u5dee\u5206 UITableViewCellEditingStyle \u304c UITableViewCell.EditingStyle \u306b\u5909\u66f4 2.3\u30683.0\u306e\u5dee\u5206 UIColor\u306e\u53c2\u7167\u65b9\u6cd5\u304c\u5909\u66f4(UIColor.grayColor()->UIColor.gray) CGRect,CGPoint\u306e\u521d\u671f\u5316\u65b9\u6cd5\u306e\u5909\u66f4(CGRectMake,CGPointMake\u306e\u5ec3\u6b62) NSIndexPath\u306e\u5ec3\u6b62\u3001IndexPath\u306b\u5909\u66f4. Reference UITableView Class https://developer.apple.com/reference/uikit/uitableview","title":"TableView\u306e\u30dc\u30bf\u30f3\u306e\u62e1\u5f35"},{"location":"1.uikit/045_uitableviewbutton/#tableview","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 // // ViewController.swift // UIKit045_4.0 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UITableViewDelegate , UITableViewDataSource { // Tabel\u3067\u4f7f\u7528\u3059\u308b\u914d\u5217. var myItems : [ String ] = [ \"TEST1\" , \"TEST2\" , \"TEST3\" ] var myTableView : UITableView = UITableView () override func viewDidLoad () { super . viewDidLoad () // Status Bar\u306e\u9ad8\u3055\u3092\u53d6\u5f97. let barHeight : CGFloat = UIApplication . shared . statusBarFrame . size . height // View\u306e\u9ad8\u3055\u3068\u5e45\u3092\u53d6\u5f97. let displayWidth : CGFloat = self . view . frame . width let displayHeight : CGFloat = self . view . frame . height // TableView\u306e\u751f\u6210( status bar\u306e\u9ad8\u3055\u5206\u305a\u3089\u3057\u3066\u8868\u793a ). myTableView . frame = CGRect ( x : 0 , y : barHeight , width : displayWidth , height : displayHeight - barHeight ) // Cell\u306e\u767b\u9332. myTableView . register ( UITableViewCell . self , forCellReuseIdentifier : \"MyCell\" ) // DataSource\u306e\u8a2d\u5b9a. myTableView . dataSource = self // Delegate\u3092\u8a2d\u5b9a. myTableView . delegate = self // View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myTableView ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } /* Cell\u304c\u9078\u629e\u3055\u308c\u305f\u969b\u306b\u547c\u3073\u51fa\u3055\u308c\u308b. */ func tableView ( _ tableView : UITableView , didSelectRowAt indexPath : IndexPath ) { print ( \"Num: \\( indexPath . row ) \" ) print ( \"Value: \\( myItems [ indexPath . row ] ) \" ) } /* Cell\u306e\u7dcf\u6570\u3092\u8fd4\u3059. */ func tableView ( _ tableView : UITableView , numberOfRowsInSection section : Int ) -> Int { print ( \"numberOfRowsInSection\" ) return myItems . count } /* Editable\u306e\u72b6\u614b\u306b\u3059\u308b. */ func tableView ( _ tableView : UITableView , canEditRowAt indexPath : IndexPath ) -> Bool { print ( \"canEditRowAtIndexPath\" ) return true } /* \u7279\u5b9a\u306e\u884c\u306e\u30dc\u30bf\u30f3\u64cd\u4f5c\u3092\u6709\u52b9\u306b\u3059\u308b. */ func tableView ( _ tableView : UITableView , commit editingStyle : UITableViewCell . EditingStyle , forRowAt indexPath : IndexPath ) { print ( \"commitEdittingStyle: \\( editingStyle ) \" ) } /* Cell\u306b\u5024\u3092\u8a2d\u5b9a\u3059\u308b. */ func tableView ( _ tableView : UITableView , cellForRowAt indexPath : IndexPath ) -> UITableViewCell { print ( \"cellForRowAtIndexPath\" ) let cell : UITableViewCell = tableView . dequeueReusableCell ( withIdentifier : \"MyCell\" , for : indexPath as IndexPath ) //tableView.dequeueReusableCellWithIdentifier(\"MyCell\", forIndexPath: indexPath as IndexPath) cell . textLabel ?. text = \" \\( myItems [ indexPath . row ] ) \" return cell } /* Button\u3092\u62e1\u5f35\u3059\u308b. */ func tableView ( _ tableView : UITableView , editActionsForRowAt indexPath : IndexPath ) -> [ UITableViewRowAction ]? { // Share\u30dc\u30bf\u30f3. let myShareButton : UITableViewRowAction = UITableViewRowAction ( style : . normal , title : \"Share\" ) { ( action , index ) -> Void in tableView . isEditing = false print ( \"share\" ) } myShareButton . backgroundColor = UIColor . blue // Archive\u30dc\u30bf\u30f3. let myArchiveButton : UITableViewRowAction = UITableViewRowAction ( style : . normal , title : \"Archive\" ) { ( action , index ) -> Void in tableView . isEditing = false print ( \"archive\" ) } myArchiveButton . backgroundColor = UIColor . red return [ myShareButton , myArchiveButton ] } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 // // ViewController.swift // UIKit045_3.0 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UITableViewDelegate , UITableViewDataSource { // Tabel\u3067\u4f7f\u7528\u3059\u308b\u914d\u5217. var myItems : [ String ] = [ \"TEST1\" , \"TEST2\" , \"TEST3\" ] var myTableView : UITableView = UITableView () override func viewDidLoad () { super . viewDidLoad () // Status Bar\u306e\u9ad8\u3055\u3092\u53d6\u5f97. let barHeight : CGFloat = UIApplication . shared . statusBarFrame . size . height // View\u306e\u9ad8\u3055\u3068\u5e45\u3092\u53d6\u5f97. let displayWidth : CGFloat = self . view . frame . width let displayHeight : CGFloat = self . view . frame . height // TableView\u306e\u751f\u6210( status bar\u306e\u9ad8\u3055\u5206\u305a\u3089\u3057\u3066\u8868\u793a ). myTableView . frame = CGRect ( x : 0 , y : barHeight , width : displayWidth , height : displayHeight - barHeight ) // Cell\u306e\u767b\u9332. myTableView . register ( UITableViewCell . self , forCellReuseIdentifier : \"MyCell\" ) // DataSource\u306e\u8a2d\u5b9a. myTableView . dataSource = self // Delegate\u3092\u8a2d\u5b9a. myTableView . delegate = self // View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myTableView ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } /* Cell\u304c\u9078\u629e\u3055\u308c\u305f\u969b\u306b\u547c\u3073\u51fa\u3055\u308c\u308b. */ func tableView ( _ tableView : UITableView , didSelectRowAt indexPath : IndexPath ) { print ( \"Num: \\( indexPath . row ) \" ) print ( \"Value: \\( myItems [ indexPath . row ] ) \" ) } /* Cell\u306e\u7dcf\u6570\u3092\u8fd4\u3059. */ func tableView ( _ tableView : UITableView , numberOfRowsInSection section : Int ) -> Int { print ( \"numberOfRowsInSection\" ) return myItems . count } /* Editable\u306e\u72b6\u614b\u306b\u3059\u308b. */ func tableView ( _ tableView : UITableView , canEditRowAt indexPath : IndexPath ) -> Bool { print ( \"canEditRowAtIndexPath\" ) return true } /* \u7279\u5b9a\u306e\u884c\u306e\u30dc\u30bf\u30f3\u64cd\u4f5c\u3092\u6709\u52b9\u306b\u3059\u308b. */ func tableView ( _ tableView : UITableView , commit editingStyle : UITableViewCellEditingStyle , forRowAt indexPath : IndexPath ) { print ( \"commitEdittingStyle: \\( editingStyle ) \" ) } /* Cell\u306b\u5024\u3092\u8a2d\u5b9a\u3059\u308b. */ func tableView ( _ tableView : UITableView , cellForRowAt indexPath : IndexPath ) -> UITableViewCell { print ( \"cellForRowAtIndexPath\" ) let cell : UITableViewCell = tableView . dequeueReusableCell ( withIdentifier : \"MyCell\" , for : indexPath as IndexPath ) //tableView.dequeueReusableCellWithIdentifier(\"MyCell\", forIndexPath: indexPath as IndexPath) cell . textLabel ?. text = \" \\( myItems [ indexPath . row ] ) \" return cell } /* Button\u3092\u62e1\u5f35\u3059\u308b. */ func tableView ( _ tableView : UITableView , editActionsForRowAt indexPath : IndexPath ) -> [ UITableViewRowAction ]? { // Share\u30dc\u30bf\u30f3. let myShareButton : UITableViewRowAction = UITableViewRowAction ( style : . normal , title : \"Share\" ) { ( action , index ) -> Void in tableView . isEditing = false print ( \"share\" ) } myShareButton . backgroundColor = UIColor . blue // Archive\u30dc\u30bf\u30f3. let myArchiveButton : UITableViewRowAction = UITableViewRowAction ( style : . normal , title : \"Archive\" ) { ( action , index ) -> Void in tableView . isEditing = false print ( \"archive\" ) } myArchiveButton . backgroundColor = UIColor . red return [ myShareButton , myArchiveButton ] } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 // // ViewController.swift // UIKit045_2.3 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UITableViewDelegate , UITableViewDataSource { // Tabel\u3067\u4f7f\u7528\u3059\u308b\u914d\u5217. var myItems : [ String ] = [ \"TEST1\" , \"TEST2\" , \"TEST3\" ] var myTableView : UITableView = UITableView () override func viewDidLoad () { super . viewDidLoad () // Status Bar\u306e\u9ad8\u3055\u3092\u53d6\u5f97. let barHeight : CGFloat = UIApplication . sharedApplication (). statusBarFrame . size . height // View\u306e\u9ad8\u3055\u3068\u5e45\u3092\u53d6\u5f97. let displayWidth : CGFloat = self . view . frame . width let displayHeight : CGFloat = self . view . frame . height // TableView\u306e\u751f\u6210( status bar\u306e\u9ad8\u3055\u5206\u305a\u3089\u3057\u3066\u8868\u793a ). myTableView . frame = CGRect ( x : 0 , y : barHeight , width : displayWidth , height : displayHeight - barHeight ) // Cell\u306e\u767b\u9332. myTableView . registerClass ( UITableViewCell . self , forCellReuseIdentifier : \"MyCell\" ) // DataSource\u306e\u8a2d\u5b9a. myTableView . dataSource = self // Delegate\u3092\u8a2d\u5b9a. myTableView . delegate = self // View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myTableView ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } /* Cell\u304c\u9078\u629e\u3055\u308c\u305f\u969b\u306b\u547c\u3073\u51fa\u3055\u308c\u308b. */ func tableView ( tableView : UITableView , didSelectRowAtIndexPath indexPath : NSIndexPath ) { print ( \"Num: \\( indexPath . row ) \" ) print ( \"Value: \\( myItems [ indexPath . row ] ) \" ) } /* Cell\u306e\u7dcf\u6570\u3092\u8fd4\u3059. */ func tableView ( tableView : UITableView , numberOfRowsInSection section : Int ) -> Int { print ( \"numberOfRowsInSection\" ) return myItems . count } /* Editable\u306e\u72b6\u614b\u306b\u3059\u308b. */ func tableView ( tableView : UITableView , canEditRowAtIndexPath indexPath : NSIndexPath ) -> Bool { print ( \"canEditRowAtIndexPath\" ) return true } /* \u7279\u5b9a\u306e\u884c\u306e\u30dc\u30bf\u30f3\u64cd\u4f5c\u3092\u6709\u52b9\u306b\u3059\u308b. */ func tableView ( tableView : UITableView , commitEditingStyle editingStyle : UITableViewCellEditingStyle , forRowAtIndexPath indexPath : NSIndexPath ) { print ( \"commitEdittingStyle: \\( editingStyle ) \" ) } /* Cell\u306b\u5024\u3092\u8a2d\u5b9a\u3059\u308b. */ func tableView ( tableView : UITableView , cellForRowAtIndexPath indexPath : NSIndexPath ) -> UITableViewCell { print ( \"cellForRowAtIndexPath\" ) let cell : UITableViewCell = tableView . dequeueReusableCellWithIdentifier ( \"MyCell\" , forIndexPath : indexPath ) cell . textLabel ?. text = \" \\( myItems [ indexPath . row ] ) \" return cell } /* Button\u3092\u62e1\u5f35\u3059\u308b. */ func tableView ( tableView : UITableView , editActionsForRowAtIndexPath indexPath : NSIndexPath ) -> [ UITableViewRowAction ]? { // Share\u30dc\u30bf\u30f3. let myShareButton : UITableViewRowAction = UITableViewRowAction ( style : . Normal , title : \"Share\" ) { ( action , index ) -> Void in tableView . editing = false print ( \"share\" ) } myShareButton . backgroundColor = UIColor . blueColor () // Archive\u30dc\u30bf\u30f3. let myArchiveButton : UITableViewRowAction = UITableViewRowAction ( style : . Normal , title : \"Archive\" ) { ( action , index ) -> Void in tableView . editing = false print ( \"archive\" ) } myArchiveButton . backgroundColor = UIColor . redColor () return [ myShareButton , myArchiveButton ] } }","title":"TableView\u306e\u30dc\u30bf\u30f3\u306e\u62e1\u5f35"},{"location":"1.uikit/045_uitableviewbutton/#3x4x","text":"UITableViewCellEditingStyle \u304c UITableViewCell.EditingStyle \u306b\u5909\u66f4","title":"3.x\u30684.x\u306e\u5dee\u5206"},{"location":"1.uikit/045_uitableviewbutton/#2330","text":"UIColor\u306e\u53c2\u7167\u65b9\u6cd5\u304c\u5909\u66f4(UIColor.grayColor()->UIColor.gray) CGRect,CGPoint\u306e\u521d\u671f\u5316\u65b9\u6cd5\u306e\u5909\u66f4(CGRectMake,CGPointMake\u306e\u5ec3\u6b62) NSIndexPath\u306e\u5ec3\u6b62\u3001IndexPath\u306b\u5909\u66f4.","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"1.uikit/045_uitableviewbutton/#reference","text":"UITableView Class https://developer.apple.com/reference/uikit/uitableview","title":"Reference"},{"location":"1.uikit/046_uitableviewslide/","text":"UITableView\u3092Slide\u3055\u305b\u308b Swift 4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 // // ViewController.swift // UIKit046_4.0 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UIScrollViewDelegate , UITableViewDelegate , UITableViewDataSource { // UIPageControl. var pageControl : UIPageControl ! // UIScrollView. var scrollView : UIScrollView ! // TableView\u306e\u30a2\u30a4\u30c6\u30e0. let myItems : [[ String ]] = [[ \"TEST1\" , \"TEST2\" , \"TEST3\" ],[ \"App1\" , \"App2\" , \"App3\" , \"App4\" , \"App5\" ]] // TableView\u306b\u8868\u793a\u3059\u308b\u30bf\u30a4\u30c8\u30eb. let myTitles : [ String ] = [ \"title0\" , \"title1\" ] // TableView. var myTableView : [ UITableView ] = [] // \u30da\u30fc\u30b8\u756a\u53f7. let pageSize = 2 override func viewDidLoad () { // ScrollView\u306e\u8a2d\u5b9a. let width = self . view . frame . maxX , height = self . view . frame . maxY scrollView = UIScrollView ( frame : self . view . frame ) scrollView . showsHorizontalScrollIndicator = false ; scrollView . showsVerticalScrollIndicator = false scrollView . isPagingEnabled = true scrollView . delegate = self scrollView . contentSize = CGSize ( width : CGFloat ( pageSize ) * width , height : 0 ) self . view . addSubview ( scrollView ) // Status Bar\u306e\u9ad8\u3055\u3092\u53d6\u5f97. let barHeight : CGFloat = UIApplication . shared . statusBarFrame . size . height // View\u306e\u9ad8\u3055\u3068\u5e45\u3092\u53d6\u5f97. let displayWidth : CGFloat = self . view . frame . width let displayHeight : CGFloat = self . view . frame . height // TableView\u306e\u751f\u6210( status bar\u306e\u9ad8\u3055\u5206\u305a\u3089\u3057\u3066\u8868\u793a ). for i in 0 .. < pageSize { let tableView : UITableView = UITableView ( frame : CGRect ( x : CGFloat ( i ) * width , y : barHeight , width : displayWidth , height : displayHeight - barHeight )) myTableView . append ( tableView ) myTableView [ i ]. register ( UITableViewCell . self , forCellReuseIdentifier : \"MyCell\" ) myTableView [ i ]. dataSource = self myTableView [ i ]. delegate = self scrollView . addSubview ( myTableView [ i ]) //\u30da\u30fc\u30b8\u3054\u3068\u306b\u7570\u306a\u308b\u30e9\u30d9\u30eb\u3092\u8868\u793a. let myLabel : UILabel = UILabel ( frame : CGRect ( x : CGFloat ( i ) * width + width / 2 - 40 , y : height / 2 - 40 , width : 80 , height : 80 )) myLabel . backgroundColor = UIColor . black myLabel . textColor = UIColor . white myLabel . textAlignment = NSTextAlignment . center myLabel . layer . masksToBounds = true myLabel . text = \"Page \\( i ) \" myLabel . font = UIFont . systemFont ( ofSize : UIFont . smallSystemFontSize ) myLabel . layer . cornerRadius = 40.0 scrollView . addSubview ( myLabel ) } // PageControl\u3092\u4f5c\u6210. pageControl = UIPageControl ( frame : CGRect ( x : 0 , y : self . view . frame . maxY - 50 , width : width , height : 50 )) pageControl . backgroundColor = UIColor . lightGray // PageControl\u3059\u308b\u30da\u30fc\u30b8\u6570\u3092\u8a2d\u5b9a. pageControl . numberOfPages = pageSize // \u73fe\u5728\u30da\u30fc\u30b8\u3092\u8a2d\u5b9a. pageControl . currentPage = 0 pageControl . isUserInteractionEnabled = false self . view . addSubview ( pageControl ) } func scrollViewDidEndDecelerating ( _ scrollView : UIScrollView ) { // \u30b9\u30af\u30ed\u30fc\u30eb\u6570\u304c1\u30da\u30fc\u30b8\u5206\u306b\u306a\u3063\u305f\u3089. if fmod ( scrollView . contentOffset . x , scrollView . frame . maxX ) == 0 { // \u30da\u30fc\u30b8\u306e\u5834\u6240\u3092\u5207\u308a\u66ff\u3048\u308b. pageControl . currentPage = Int ( scrollView . contentOffset . x / scrollView . frame . maxX ) } } /* Cell\u304c\u9078\u629e\u3055\u308c\u305f\u969b\u306b\u547c\u3073\u51fa\u3055\u308c\u308b. */ func tableView ( _ tableView : UITableView , didSelectRowAt indexPath : IndexPath ) { if tableView == myTableView [ 0 ] { print ( \"Num: \\( indexPath . row ) \" ) print ( \"Value: \\( myItems [ 0 ][ indexPath . row ] ) \" ) } else if tableView == myTableView [ 1 ] { print ( \"Num: \\( indexPath . row ) \" ) print ( \"Value: \\( myItems [ 1 ][ indexPath . row ] ) \" ) } } /* Cell\u306e\u7dcf\u6570\u3092\u8fd4\u3059. */ func tableView ( _ tableView : UITableView , numberOfRowsInSection section : Int ) -> Int { if tableView == myTableView [ 0 ] { return myItems [ 0 ]. count } else if tableView == myTableView [ 1 ] { return myItems [ 1 ]. count } else { return 0 } } /* Header\u3092\u8ffd\u52a0. */ func tableView ( _ tableView : UITableView , viewForHeaderInSection section : Int ) -> UIView ? { let myLabel : UILabel = UILabel ( frame : CGRect ( x : 0 , y : 0 , width : self . view . bounds . width , height : 100 )) myLabel . textAlignment = . center if tableView == myTableView [ 0 ] { myLabel . backgroundColor = UIColor . black myLabel . textColor = UIColor . white myLabel . text = myTitles [ 0 ] } else if tableView == myTableView [ 1 ] { myLabel . backgroundColor = UIColor . blue myLabel . textColor = UIColor . white myLabel . text = myTitles [ 1 ] } return myLabel } /* Header\u306e\u9ad8\u3055. */ func tableView ( _ tableView : UITableView , heightForHeaderInSection section : Int ) -> CGFloat { return 50.0 } /* Cell\u306b\u5024\u3092\u8a2d\u5b9a\u3059\u308b. */ func tableView ( _ tableView : UITableView , cellForRowAt indexPath : IndexPath ) -> UITableViewCell { let cell : UITableViewCell = tableView . dequeueReusableCell ( withIdentifier : \"MyCell\" , for : indexPath as IndexPath ) if tableView == myTableView [ 0 ] { cell . textLabel ?. text = \" \\( myItems [ 0 ][ indexPath . row ] ) \" } else if tableView == myTableView [ 1 ] { cell . textLabel ?. text = \" \\( myItems [ 1 ][ indexPath . row ] ) \" } return cell } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 // // ViewController.swift // UIKit046_2.3 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UIScrollViewDelegate , UITableViewDelegate , UITableViewDataSource { // UIPageControl. var pageControl : UIPageControl ! // UIScrillView. var scrollView : UIScrollView ! // TableView\u306e\u30a2\u30a4\u30c6\u30e0. let myItems : [[ String ]] = [[ \"TEST1\" , \"TEST2\" , \"TEST3\" ],[ \"App1\" , \"App2\" , \"App3\" , \"App4\" , \"App5\" ]] // TableView\u306b\u8868\u793a\u3059\u308b\u30bf\u30a4\u30c8\u30eb. let myTitles : [ String ] = [ \"title0\" , \"title1\" ] // TableView. var myTableView : [ UITableView ] = [] // \u30da\u30fc\u30b8\u756a\u53f7. let pageSize = 2 override func viewDidLoad () { // ScrollView\u306e\u8a2d\u5b9a. let width = self . view . frame . maxX , height = self . view . frame . maxY scrollView = UIScrollView ( frame : self . view . frame ) scrollView . showsHorizontalScrollIndicator = false ; scrollView . showsVerticalScrollIndicator = false scrollView . pagingEnabled = true scrollView . delegate = self scrollView . contentSize = CGSizeMake ( CGFloat ( pageSize ) * width , 0 ) self . view . addSubview ( scrollView ) // Status Bar\u306e\u9ad8\u3055\u3092\u53d6\u5f97. let barHeight : CGFloat = UIApplication . sharedApplication (). statusBarFrame . size . height // View\u306e\u9ad8\u3055\u3068\u5e45\u3092\u53d6\u5f97. let displayWidth : CGFloat = self . view . frame . width let displayHeight : CGFloat = self . view . frame . height // TableView\u306e\u751f\u6210( status bar\u306e\u9ad8\u3055\u5206\u305a\u3089\u3057\u3066\u8868\u793a ). for i in 0 .. < pageSize { let tableView : UITableView = UITableView ( frame : CGRect ( x : CGFloat ( i ) * width , y : barHeight , width : displayWidth , height : displayHeight - barHeight )) myTableView . append ( tableView ) myTableView [ i ]. registerClass ( UITableViewCell . self , forCellReuseIdentifier : \"MyCell\" ) myTableView [ i ]. dataSource = self myTableView [ i ]. delegate = self scrollView . addSubview ( myTableView [ i ]) //\u30da\u30fc\u30b8\u3054\u3068\u306b\u7570\u306a\u308b\u30e9\u30d9\u30eb\u3092\u8868\u793a. let myLabel : UILabel = UILabel ( frame : CGRectMake ( CGFloat ( i ) * width + width / 2 - 40 , height / 2 - 40 , 80 , 80 )) myLabel . backgroundColor = UIColor . blackColor () myLabel . textColor = UIColor . whiteColor () myLabel . textAlignment = NSTextAlignment . Center myLabel . layer . masksToBounds = true myLabel . text = \"Page \\( i ) \" myLabel . font = UIFont . systemFontOfSize ( UIFont . smallSystemFontSize ()) myLabel . layer . cornerRadius = 40.0 scrollView . addSubview ( myLabel ) } // PageControl\u3092\u4f5c\u6210. pageControl = UIPageControl ( frame : CGRectMake ( 0 , self . view . frame . maxY - 50 , width , 50 )) pageControl . backgroundColor = UIColor . lightGrayColor () // PageControl\u3059\u308b\u30da\u30fc\u30b8\u6570\u3092\u8a2d\u5b9a. pageControl . numberOfPages = pageSize // \u73fe\u5728\u30da\u30fc\u30b8\u3092\u8a2d\u5b9a. pageControl . currentPage = 0 pageControl . userInteractionEnabled = false self . view . addSubview ( pageControl ) } func scrollViewDidEndDecelerating ( scrollView : UIScrollView ) { // \u30b9\u30af\u30ed\u30fc\u30eb\u6570\u304c1\u30da\u30fc\u30b8\u5206\u306b\u306a\u3063\u305f\u3089. if fmod ( scrollView . contentOffset . x , scrollView . frame . maxX ) == 0 { // \u30da\u30fc\u30b8\u306e\u5834\u6240\u3092\u5207\u308a\u66ff\u3048\u308b. pageControl . currentPage = Int ( scrollView . contentOffset . x / scrollView . frame . maxX ) } } /* Cell\u304c\u9078\u629e\u3055\u308c\u305f\u969b\u306b\u547c\u3073\u51fa\u3055\u308c\u308b. */ func tableView ( tableView : UITableView , didSelectRowAtIndexPath indexPath : NSIndexPath ) { if tableView == myTableView [ 0 ] { print ( \"Num: \\( indexPath . row ) \" ) print ( \"Value: \\( myItems [ 0 ][ indexPath . row ] ) \" ) } else if tableView == myTableView [ 1 ] { print ( \"Num: \\( indexPath . row ) \" ) print ( \"Value: \\( myItems [ 1 ][ indexPath . row ] ) \" ) } } /* Cell\u306e\u7dcf\u6570\u3092\u8fd4\u3059. */ func tableView ( tableView : UITableView , numberOfRowsInSection section : Int ) -> Int { if tableView == myTableView [ 0 ] { return myItems [ 0 ]. count } else if tableView == myTableView [ 1 ] { return myItems [ 1 ]. count } else { return 0 } } /* Header\u3092\u8ffd\u52a0. */ func tableView ( tableView : UITableView , viewForHeaderInSection section : Int ) -> UIView ? { let myLabel : UILabel = UILabel ( frame : CGRect ( x : 0 , y : 0 , width : self . view . bounds . width , height : 100 )) myLabel . textAlignment = . Center if tableView == myTableView [ 0 ] { myLabel . backgroundColor = UIColor . blackColor () myLabel . textColor = UIColor . whiteColor () myLabel . text = myTitles [ 0 ] } else if tableView == myTableView [ 1 ] { myLabel . backgroundColor = UIColor . blueColor () myLabel . textColor = UIColor . whiteColor () myLabel . text = myTitles [ 1 ] } return myLabel } /* Header\u306e\u9ad8\u3055. */ func tableView ( tableView : UITableView , heightForHeaderInSection section : Int ) -> CGFloat { return 50.0 } /* Cell\u306b\u5024\u3092\u8a2d\u5b9a\u3059\u308b. */ func tableView ( tableView : UITableView , cellForRowAtIndexPath indexPath : NSIndexPath ) -> UITableViewCell { let cell : UITableViewCell = tableView . dequeueReusableCellWithIdentifier ( \"MyCell\" , forIndexPath : indexPath ) if tableView == myTableView [ 0 ] { cell . textLabel ?. text = \" \\( myItems [ 0 ][ indexPath . row ] ) \" } else if tableView == myTableView [ 1 ] { cell . textLabel ?. text = \" \\( myItems [ 1 ][ indexPath . row ] ) \" } return cell } } 2.3\u30683.0\u306e\u5dee\u5206 UIColor\u306e\u53c2\u7167\u65b9\u6cd5\u304c\u5909\u66f4(UIColor.grayColor()->UIColor.gray) CGRect,CGSize\u306e\u521d\u671f\u5316\u65b9\u6cd5\u306e\u5909\u66f4(CGRectMake,CGSizetMake\u306e\u5ec3\u6b62) UITableViewDelegate\u306e\u30c7\u30ea\u30b2\u30fc\u30c8\u30e1\u30bd\u30c3\u30c9\u306e\u5f15\u6570\u304c\u5909\u66f4 UIScrollView\u306e\u4e00\u90e8\u30d7\u30ed\u30d1\u30c6\u30a3\u540d\u306e\u5909\u66f4 UITableView\u306e\u4e00\u90e8\u30d7\u30ed\u30d1\u30c6\u30a3\u540d\u306e\u5909\u66f4 NSIndexPath\u306e\u5ec3\u6b62\u3001IndexPath\u306b\u5909\u66f4 Reference UITableView Class https://developer.apple.com/reference/uikit/uitableview","title":"UITableView\u3092Slide\u3055\u305b\u308b"},{"location":"1.uikit/046_uitableviewslide/#uitableviewslide","text":"Swift 4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 // // ViewController.swift // UIKit046_4.0 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UIScrollViewDelegate , UITableViewDelegate , UITableViewDataSource { // UIPageControl. var pageControl : UIPageControl ! // UIScrollView. var scrollView : UIScrollView ! // TableView\u306e\u30a2\u30a4\u30c6\u30e0. let myItems : [[ String ]] = [[ \"TEST1\" , \"TEST2\" , \"TEST3\" ],[ \"App1\" , \"App2\" , \"App3\" , \"App4\" , \"App5\" ]] // TableView\u306b\u8868\u793a\u3059\u308b\u30bf\u30a4\u30c8\u30eb. let myTitles : [ String ] = [ \"title0\" , \"title1\" ] // TableView. var myTableView : [ UITableView ] = [] // \u30da\u30fc\u30b8\u756a\u53f7. let pageSize = 2 override func viewDidLoad () { // ScrollView\u306e\u8a2d\u5b9a. let width = self . view . frame . maxX , height = self . view . frame . maxY scrollView = UIScrollView ( frame : self . view . frame ) scrollView . showsHorizontalScrollIndicator = false ; scrollView . showsVerticalScrollIndicator = false scrollView . isPagingEnabled = true scrollView . delegate = self scrollView . contentSize = CGSize ( width : CGFloat ( pageSize ) * width , height : 0 ) self . view . addSubview ( scrollView ) // Status Bar\u306e\u9ad8\u3055\u3092\u53d6\u5f97. let barHeight : CGFloat = UIApplication . shared . statusBarFrame . size . height // View\u306e\u9ad8\u3055\u3068\u5e45\u3092\u53d6\u5f97. let displayWidth : CGFloat = self . view . frame . width let displayHeight : CGFloat = self . view . frame . height // TableView\u306e\u751f\u6210( status bar\u306e\u9ad8\u3055\u5206\u305a\u3089\u3057\u3066\u8868\u793a ). for i in 0 .. < pageSize { let tableView : UITableView = UITableView ( frame : CGRect ( x : CGFloat ( i ) * width , y : barHeight , width : displayWidth , height : displayHeight - barHeight )) myTableView . append ( tableView ) myTableView [ i ]. register ( UITableViewCell . self , forCellReuseIdentifier : \"MyCell\" ) myTableView [ i ]. dataSource = self myTableView [ i ]. delegate = self scrollView . addSubview ( myTableView [ i ]) //\u30da\u30fc\u30b8\u3054\u3068\u306b\u7570\u306a\u308b\u30e9\u30d9\u30eb\u3092\u8868\u793a. let myLabel : UILabel = UILabel ( frame : CGRect ( x : CGFloat ( i ) * width + width / 2 - 40 , y : height / 2 - 40 , width : 80 , height : 80 )) myLabel . backgroundColor = UIColor . black myLabel . textColor = UIColor . white myLabel . textAlignment = NSTextAlignment . center myLabel . layer . masksToBounds = true myLabel . text = \"Page \\( i ) \" myLabel . font = UIFont . systemFont ( ofSize : UIFont . smallSystemFontSize ) myLabel . layer . cornerRadius = 40.0 scrollView . addSubview ( myLabel ) } // PageControl\u3092\u4f5c\u6210. pageControl = UIPageControl ( frame : CGRect ( x : 0 , y : self . view . frame . maxY - 50 , width : width , height : 50 )) pageControl . backgroundColor = UIColor . lightGray // PageControl\u3059\u308b\u30da\u30fc\u30b8\u6570\u3092\u8a2d\u5b9a. pageControl . numberOfPages = pageSize // \u73fe\u5728\u30da\u30fc\u30b8\u3092\u8a2d\u5b9a. pageControl . currentPage = 0 pageControl . isUserInteractionEnabled = false self . view . addSubview ( pageControl ) } func scrollViewDidEndDecelerating ( _ scrollView : UIScrollView ) { // \u30b9\u30af\u30ed\u30fc\u30eb\u6570\u304c1\u30da\u30fc\u30b8\u5206\u306b\u306a\u3063\u305f\u3089. if fmod ( scrollView . contentOffset . x , scrollView . frame . maxX ) == 0 { // \u30da\u30fc\u30b8\u306e\u5834\u6240\u3092\u5207\u308a\u66ff\u3048\u308b. pageControl . currentPage = Int ( scrollView . contentOffset . x / scrollView . frame . maxX ) } } /* Cell\u304c\u9078\u629e\u3055\u308c\u305f\u969b\u306b\u547c\u3073\u51fa\u3055\u308c\u308b. */ func tableView ( _ tableView : UITableView , didSelectRowAt indexPath : IndexPath ) { if tableView == myTableView [ 0 ] { print ( \"Num: \\( indexPath . row ) \" ) print ( \"Value: \\( myItems [ 0 ][ indexPath . row ] ) \" ) } else if tableView == myTableView [ 1 ] { print ( \"Num: \\( indexPath . row ) \" ) print ( \"Value: \\( myItems [ 1 ][ indexPath . row ] ) \" ) } } /* Cell\u306e\u7dcf\u6570\u3092\u8fd4\u3059. */ func tableView ( _ tableView : UITableView , numberOfRowsInSection section : Int ) -> Int { if tableView == myTableView [ 0 ] { return myItems [ 0 ]. count } else if tableView == myTableView [ 1 ] { return myItems [ 1 ]. count } else { return 0 } } /* Header\u3092\u8ffd\u52a0. */ func tableView ( _ tableView : UITableView , viewForHeaderInSection section : Int ) -> UIView ? { let myLabel : UILabel = UILabel ( frame : CGRect ( x : 0 , y : 0 , width : self . view . bounds . width , height : 100 )) myLabel . textAlignment = . center if tableView == myTableView [ 0 ] { myLabel . backgroundColor = UIColor . black myLabel . textColor = UIColor . white myLabel . text = myTitles [ 0 ] } else if tableView == myTableView [ 1 ] { myLabel . backgroundColor = UIColor . blue myLabel . textColor = UIColor . white myLabel . text = myTitles [ 1 ] } return myLabel } /* Header\u306e\u9ad8\u3055. */ func tableView ( _ tableView : UITableView , heightForHeaderInSection section : Int ) -> CGFloat { return 50.0 } /* Cell\u306b\u5024\u3092\u8a2d\u5b9a\u3059\u308b. */ func tableView ( _ tableView : UITableView , cellForRowAt indexPath : IndexPath ) -> UITableViewCell { let cell : UITableViewCell = tableView . dequeueReusableCell ( withIdentifier : \"MyCell\" , for : indexPath as IndexPath ) if tableView == myTableView [ 0 ] { cell . textLabel ?. text = \" \\( myItems [ 0 ][ indexPath . row ] ) \" } else if tableView == myTableView [ 1 ] { cell . textLabel ?. text = \" \\( myItems [ 1 ][ indexPath . row ] ) \" } return cell } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 // // ViewController.swift // UIKit046_2.3 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UIScrollViewDelegate , UITableViewDelegate , UITableViewDataSource { // UIPageControl. var pageControl : UIPageControl ! // UIScrillView. var scrollView : UIScrollView ! // TableView\u306e\u30a2\u30a4\u30c6\u30e0. let myItems : [[ String ]] = [[ \"TEST1\" , \"TEST2\" , \"TEST3\" ],[ \"App1\" , \"App2\" , \"App3\" , \"App4\" , \"App5\" ]] // TableView\u306b\u8868\u793a\u3059\u308b\u30bf\u30a4\u30c8\u30eb. let myTitles : [ String ] = [ \"title0\" , \"title1\" ] // TableView. var myTableView : [ UITableView ] = [] // \u30da\u30fc\u30b8\u756a\u53f7. let pageSize = 2 override func viewDidLoad () { // ScrollView\u306e\u8a2d\u5b9a. let width = self . view . frame . maxX , height = self . view . frame . maxY scrollView = UIScrollView ( frame : self . view . frame ) scrollView . showsHorizontalScrollIndicator = false ; scrollView . showsVerticalScrollIndicator = false scrollView . pagingEnabled = true scrollView . delegate = self scrollView . contentSize = CGSizeMake ( CGFloat ( pageSize ) * width , 0 ) self . view . addSubview ( scrollView ) // Status Bar\u306e\u9ad8\u3055\u3092\u53d6\u5f97. let barHeight : CGFloat = UIApplication . sharedApplication (). statusBarFrame . size . height // View\u306e\u9ad8\u3055\u3068\u5e45\u3092\u53d6\u5f97. let displayWidth : CGFloat = self . view . frame . width let displayHeight : CGFloat = self . view . frame . height // TableView\u306e\u751f\u6210( status bar\u306e\u9ad8\u3055\u5206\u305a\u3089\u3057\u3066\u8868\u793a ). for i in 0 .. < pageSize { let tableView : UITableView = UITableView ( frame : CGRect ( x : CGFloat ( i ) * width , y : barHeight , width : displayWidth , height : displayHeight - barHeight )) myTableView . append ( tableView ) myTableView [ i ]. registerClass ( UITableViewCell . self , forCellReuseIdentifier : \"MyCell\" ) myTableView [ i ]. dataSource = self myTableView [ i ]. delegate = self scrollView . addSubview ( myTableView [ i ]) //\u30da\u30fc\u30b8\u3054\u3068\u306b\u7570\u306a\u308b\u30e9\u30d9\u30eb\u3092\u8868\u793a. let myLabel : UILabel = UILabel ( frame : CGRectMake ( CGFloat ( i ) * width + width / 2 - 40 , height / 2 - 40 , 80 , 80 )) myLabel . backgroundColor = UIColor . blackColor () myLabel . textColor = UIColor . whiteColor () myLabel . textAlignment = NSTextAlignment . Center myLabel . layer . masksToBounds = true myLabel . text = \"Page \\( i ) \" myLabel . font = UIFont . systemFontOfSize ( UIFont . smallSystemFontSize ()) myLabel . layer . cornerRadius = 40.0 scrollView . addSubview ( myLabel ) } // PageControl\u3092\u4f5c\u6210. pageControl = UIPageControl ( frame : CGRectMake ( 0 , self . view . frame . maxY - 50 , width , 50 )) pageControl . backgroundColor = UIColor . lightGrayColor () // PageControl\u3059\u308b\u30da\u30fc\u30b8\u6570\u3092\u8a2d\u5b9a. pageControl . numberOfPages = pageSize // \u73fe\u5728\u30da\u30fc\u30b8\u3092\u8a2d\u5b9a. pageControl . currentPage = 0 pageControl . userInteractionEnabled = false self . view . addSubview ( pageControl ) } func scrollViewDidEndDecelerating ( scrollView : UIScrollView ) { // \u30b9\u30af\u30ed\u30fc\u30eb\u6570\u304c1\u30da\u30fc\u30b8\u5206\u306b\u306a\u3063\u305f\u3089. if fmod ( scrollView . contentOffset . x , scrollView . frame . maxX ) == 0 { // \u30da\u30fc\u30b8\u306e\u5834\u6240\u3092\u5207\u308a\u66ff\u3048\u308b. pageControl . currentPage = Int ( scrollView . contentOffset . x / scrollView . frame . maxX ) } } /* Cell\u304c\u9078\u629e\u3055\u308c\u305f\u969b\u306b\u547c\u3073\u51fa\u3055\u308c\u308b. */ func tableView ( tableView : UITableView , didSelectRowAtIndexPath indexPath : NSIndexPath ) { if tableView == myTableView [ 0 ] { print ( \"Num: \\( indexPath . row ) \" ) print ( \"Value: \\( myItems [ 0 ][ indexPath . row ] ) \" ) } else if tableView == myTableView [ 1 ] { print ( \"Num: \\( indexPath . row ) \" ) print ( \"Value: \\( myItems [ 1 ][ indexPath . row ] ) \" ) } } /* Cell\u306e\u7dcf\u6570\u3092\u8fd4\u3059. */ func tableView ( tableView : UITableView , numberOfRowsInSection section : Int ) -> Int { if tableView == myTableView [ 0 ] { return myItems [ 0 ]. count } else if tableView == myTableView [ 1 ] { return myItems [ 1 ]. count } else { return 0 } } /* Header\u3092\u8ffd\u52a0. */ func tableView ( tableView : UITableView , viewForHeaderInSection section : Int ) -> UIView ? { let myLabel : UILabel = UILabel ( frame : CGRect ( x : 0 , y : 0 , width : self . view . bounds . width , height : 100 )) myLabel . textAlignment = . Center if tableView == myTableView [ 0 ] { myLabel . backgroundColor = UIColor . blackColor () myLabel . textColor = UIColor . whiteColor () myLabel . text = myTitles [ 0 ] } else if tableView == myTableView [ 1 ] { myLabel . backgroundColor = UIColor . blueColor () myLabel . textColor = UIColor . whiteColor () myLabel . text = myTitles [ 1 ] } return myLabel } /* Header\u306e\u9ad8\u3055. */ func tableView ( tableView : UITableView , heightForHeaderInSection section : Int ) -> CGFloat { return 50.0 } /* Cell\u306b\u5024\u3092\u8a2d\u5b9a\u3059\u308b. */ func tableView ( tableView : UITableView , cellForRowAtIndexPath indexPath : NSIndexPath ) -> UITableViewCell { let cell : UITableViewCell = tableView . dequeueReusableCellWithIdentifier ( \"MyCell\" , forIndexPath : indexPath ) if tableView == myTableView [ 0 ] { cell . textLabel ?. text = \" \\( myItems [ 0 ][ indexPath . row ] ) \" } else if tableView == myTableView [ 1 ] { cell . textLabel ?. text = \" \\( myItems [ 1 ][ indexPath . row ] ) \" } return cell } }","title":"UITableView\u3092Slide\u3055\u305b\u308b"},{"location":"1.uikit/046_uitableviewslide/#2330","text":"UIColor\u306e\u53c2\u7167\u65b9\u6cd5\u304c\u5909\u66f4(UIColor.grayColor()->UIColor.gray) CGRect,CGSize\u306e\u521d\u671f\u5316\u65b9\u6cd5\u306e\u5909\u66f4(CGRectMake,CGSizetMake\u306e\u5ec3\u6b62) UITableViewDelegate\u306e\u30c7\u30ea\u30b2\u30fc\u30c8\u30e1\u30bd\u30c3\u30c9\u306e\u5f15\u6570\u304c\u5909\u66f4 UIScrollView\u306e\u4e00\u90e8\u30d7\u30ed\u30d1\u30c6\u30a3\u540d\u306e\u5909\u66f4 UITableView\u306e\u4e00\u90e8\u30d7\u30ed\u30d1\u30c6\u30a3\u540d\u306e\u5909\u66f4 NSIndexPath\u306e\u5ec3\u6b62\u3001IndexPath\u306b\u5909\u66f4","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"1.uikit/046_uitableviewslide/#reference","text":"UITableView Class https://developer.apple.com/reference/uikit/uitableview","title":"Reference"},{"location":"1.uikit/047_uiscrollview/","text":"\u5468\u671f\u306e\u9055\u3046UIScrollView\u3092\u540c\u671f\u3055\u305b\u308b Swift 4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 // // ViewController.swift // UIKit047_4.0 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UIScrollViewDelegate { // UIPageControl. var pageControl : UIPageControl ! // UIScrillView. var scrollViewHeader : UIScrollView ! var scrollViewMain : UIScrollView ! // \u30da\u30fc\u30b8\u756a\u53f7. let pageSize = 10 override func viewDidLoad () { // \u753b\u9762\u30b5\u30a4\u30ba\u306e\u53d6\u5f97. let width = self . view . frame . maxX , height = self . view . frame . maxY // ScrollViewHeader\u306e\u8a2d\u5b9a. scrollViewHeader = UIScrollView ( frame : self . view . frame ) scrollViewHeader . showsHorizontalScrollIndicator = false scrollViewHeader . showsVerticalScrollIndicator = false scrollViewHeader . isPagingEnabled = true scrollViewHeader . delegate = self scrollViewHeader . contentSize = CGSize ( width : CGFloat ( pageSize ) * width , height : 0 ) self . view . addSubview ( scrollViewHeader ) // ScrollViewMain\u306e\u8a2d\u5b9a. scrollViewMain = UIScrollView ( frame : self . view . frame ) scrollViewMain . showsHorizontalScrollIndicator = false scrollViewMain . showsVerticalScrollIndicator = false scrollViewMain . isPagingEnabled = true scrollViewMain . delegate = self scrollViewMain . contentSize = CGSize ( width : CGFloat ( pageSize ) * width , height : 0 ) self . view . addSubview ( scrollViewMain ) // ScrollView1\u306b\u8cbc\u4ed8\u3051\u308bLabel\u306e\u751f\u6210. for i in 0 .. < pageSize { //\u30da\u30fc\u30b8\u3054\u3068\u306b\u7570\u306a\u308b\u30e9\u30d9\u30eb\u3092\u8868\u793a. let myLabel : UILabel = UILabel ( frame : CGRect ( x : CGFloat ( i ) * width + width / 2 - 40 , y : height / 2 - 40 , width : 80 , height : 80 )) myLabel . backgroundColor = UIColor . black myLabel . textColor = UIColor . white myLabel . textAlignment = NSTextAlignment . center myLabel . layer . masksToBounds = true myLabel . text = \"Page \\( i ) \" myLabel . font = UIFont . systemFont ( ofSize : UIFont . smallSystemFontSize ) myLabel . layer . cornerRadius = 40.0 scrollViewMain . addSubview ( myLabel ) } // ScrollView2\u306b\u8cbc\u4ed8\u3051\u308b Label\u306e\u751f\u6210. for i in 0 .. < pageSize { //\u30da\u30fc\u30b8\u3054\u3068\u306b\u7570\u306a\u308b\u30e9\u30d9\u30eb\u3092\u8868\u793a. let myLabel : UILabel = UILabel ( frame : CGRect ( x : CGFloat ( i ) * width / 4 , y : 50 , width : 80 , height : 60 )) myLabel . backgroundColor = UIColor . red myLabel . textColor = UIColor . white myLabel . textAlignment = NSTextAlignment . center myLabel . layer . masksToBounds = true myLabel . text = \"Page \\( i ) \" myLabel . font = UIFont . systemFont ( ofSize : UIFont . smallSystemFontSize ) myLabel . layer . cornerRadius = 30.0 scrollViewHeader . addSubview ( myLabel ) } // PageControl\u3092\u4f5c\u6210. pageControl = UIPageControl ( frame : CGRect ( x : 0 , y : self . view . frame . maxY - 50 , width : width , height : 50 )) pageControl . backgroundColor = UIColor . lightGray // PageControl\u3059\u308b\u30da\u30fc\u30b8\u6570\u3092\u8a2d\u5b9a. pageControl . numberOfPages = pageSize // \u73fe\u5728\u30da\u30fc\u30b8\u3092\u8a2d\u5b9a. pageControl . currentPage = 0 pageControl . isUserInteractionEnabled = false self . view . addSubview ( pageControl ) } /* ScrollView\u304c\u79fb\u52d5\u3057\u305f\u969b\u306b\u547c\u3070\u308c\u308b. */ func scrollViewDidScroll ( _ scrollView : UIScrollView ) { if scrollView == scrollViewMain { scrollViewHeader . contentOffset . x = scrollViewMain . contentOffset . x / 4 } } /* \u79fb\u52d5\u304c\u5b8c\u4e86\u3057\u305f\u3089\u547c\u3070\u308c\u308b. */ func scrollViewDidEndDecelerating ( _ scrollView : UIScrollView ) { // \u30b9\u30af\u30ed\u30fc\u30eb\u6570\u304c1\u30da\u30fc\u30b8\u5206\u306b\u306a\u3063\u305f\u3089. if fmod ( scrollViewMain . contentOffset . x , scrollViewMain . frame . maxX ) == 0 { // \u30da\u30fc\u30b8\u306e\u5834\u6240\u3092\u5207\u308a\u66ff\u3048\u308b. pageControl . currentPage = Int ( scrollViewMain . contentOffset . x / scrollViewMain . frame . maxX ) } } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 // // ViewController.swift // UIKit047_2.3 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UIScrollViewDelegate { // UIPageControl. var pageControl : UIPageControl ! // UIScrillView. var scrollViewHeader : UIScrollView ! var scrollViewMain : UIScrollView ! // \u30da\u30fc\u30b8\u756a\u53f7. let pageSize = 10 override func viewDidLoad () { // \u753b\u9762\u30b5\u30a4\u30ba\u306e\u53d6\u5f97. let width = self . view . frame . maxX , height = self . view . frame . maxY // ScrollViewHeader\u306e\u8a2d\u5b9a. scrollViewHeader = UIScrollView ( frame : self . view . frame ) scrollViewHeader . showsHorizontalScrollIndicator = false scrollViewHeader . showsVerticalScrollIndicator = false scrollViewHeader . pagingEnabled = true scrollViewHeader . delegate = self scrollViewHeader . contentSize = CGSizeMake ( CGFloat ( pageSize ) * width , 0 ) self . view . addSubview ( scrollViewHeader ) // ScrollViewMain\u306e\u8a2d\u5b9a. scrollViewMain = UIScrollView ( frame : self . view . frame ) scrollViewMain . showsHorizontalScrollIndicator = false scrollViewMain . showsVerticalScrollIndicator = false scrollViewMain . pagingEnabled = true scrollViewMain . delegate = self scrollViewMain . contentSize = CGSizeMake ( CGFloat ( pageSize ) * width , 0 ) self . view . addSubview ( scrollViewMain ) // ScrollView1\u306b\u8cbc\u4ed8\u3051\u308bLabel\u306e\u751f\u6210. for i in 0 .. < pageSize { //\u30da\u30fc\u30b8\u3054\u3068\u306b\u7570\u306a\u308b\u30e9\u30d9\u30eb\u3092\u8868\u793a. let myLabel : UILabel = UILabel ( frame : CGRectMake ( CGFloat ( i ) * width + width / 2 - 40 , height / 2 - 40 , 80 , 80 )) myLabel . backgroundColor = UIColor . blackColor () myLabel . textColor = UIColor . whiteColor () myLabel . textAlignment = NSTextAlignment . Center myLabel . layer . masksToBounds = true myLabel . text = \"Page \\( i ) \" myLabel . font = UIFont . systemFontOfSize ( UIFont . smallSystemFontSize ()) myLabel . layer . cornerRadius = 40.0 scrollViewMain . addSubview ( myLabel ) } // ScrollView2\u306b\u8cbc\u4ed8\u3051\u308b Label\u306e\u751f\u6210. for i in 0 .. < pageSize { //\u30da\u30fc\u30b8\u3054\u3068\u306b\u7570\u306a\u308b\u30e9\u30d9\u30eb\u3092\u8868\u793a. let myLabel : UILabel = UILabel ( frame : CGRectMake ( CGFloat ( i ) * width / 4 , 50 , 80 , 60 )) myLabel . backgroundColor = UIColor . redColor () myLabel . textColor = UIColor . whiteColor () myLabel . textAlignment = NSTextAlignment . Center myLabel . layer . masksToBounds = true myLabel . text = \"Page \\( i ) \" myLabel . font = UIFont . systemFontOfSize ( UIFont . smallSystemFontSize ()) myLabel . layer . cornerRadius = 30.0 scrollViewHeader . addSubview ( myLabel ) } // PageControl\u3092\u4f5c\u6210. pageControl = UIPageControl ( frame : CGRectMake ( 0 , self . view . frame . maxY - 50 , width , 50 )) pageControl . backgroundColor = UIColor . lightGrayColor () // PageControl\u3059\u308b\u30da\u30fc\u30b8\u6570\u3092\u8a2d\u5b9a. pageControl . numberOfPages = pageSize // \u73fe\u5728\u30da\u30fc\u30b8\u3092\u8a2d\u5b9a. pageControl . currentPage = 0 pageControl . userInteractionEnabled = false self . view . addSubview ( pageControl ) } /* ScrollView\u304c\u79fb\u52d5\u3057\u305f\u969b\u306b\u547c\u3070\u308c\u308b. */ func scrollViewDidScroll ( scrollView : UIScrollView ) { if scrollView == scrollViewMain { scrollViewHeader . contentOffset . x = scrollViewMain . contentOffset . x / 4 } } /* \u79fb\u52d5\u304c\u5b8c\u4e86\u3057\u305f\u3089\u547c\u3070\u308c\u308b. */ func scrollViewDidEndDecelerating ( scrollView : UIScrollView ) { // \u30b9\u30af\u30ed\u30fc\u30eb\u6570\u304c1\u30da\u30fc\u30b8\u5206\u306b\u306a\u3063\u305f\u3089. if fmod ( scrollViewMain . contentOffset . x , scrollViewMain . frame . maxX ) == 0 { // \u30da\u30fc\u30b8\u306e\u5834\u6240\u3092\u5207\u308a\u66ff\u3048\u308b. pageControl . currentPage = Int ( scrollViewMain . contentOffset . x / scrollViewMain . frame . maxX ) } } } 2.3\u30683.0\u306e\u5dee\u5206 UIColor\u306e\u53c2\u7167\u65b9\u6cd5\u304c\u5909\u66f4(UIColor.grayColor()->UIColor.gray) CGRect,CGSize\u306e\u521d\u671f\u5316\u65b9\u6cd5\u306e\u5909\u66f4(CGRectMake,CGSizetMake\u306e\u5ec3\u6b62) UIScrollView\u306e\u4e00\u90e8\u30d7\u30ed\u30d1\u30c6\u30a3\u540d\u306e\u5909\u66f4 Reference UIScrollView Class https://developer.apple.com/reference/uikit/uiscrollview","title":"\u5468\u671f\u306e\u9055\u3046UIScrollView\u3092\u540c\u671f\u3055\u305b\u308b"},{"location":"1.uikit/047_uiscrollview/#uiscrollview","text":"Swift 4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 // // ViewController.swift // UIKit047_4.0 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UIScrollViewDelegate { // UIPageControl. var pageControl : UIPageControl ! // UIScrillView. var scrollViewHeader : UIScrollView ! var scrollViewMain : UIScrollView ! // \u30da\u30fc\u30b8\u756a\u53f7. let pageSize = 10 override func viewDidLoad () { // \u753b\u9762\u30b5\u30a4\u30ba\u306e\u53d6\u5f97. let width = self . view . frame . maxX , height = self . view . frame . maxY // ScrollViewHeader\u306e\u8a2d\u5b9a. scrollViewHeader = UIScrollView ( frame : self . view . frame ) scrollViewHeader . showsHorizontalScrollIndicator = false scrollViewHeader . showsVerticalScrollIndicator = false scrollViewHeader . isPagingEnabled = true scrollViewHeader . delegate = self scrollViewHeader . contentSize = CGSize ( width : CGFloat ( pageSize ) * width , height : 0 ) self . view . addSubview ( scrollViewHeader ) // ScrollViewMain\u306e\u8a2d\u5b9a. scrollViewMain = UIScrollView ( frame : self . view . frame ) scrollViewMain . showsHorizontalScrollIndicator = false scrollViewMain . showsVerticalScrollIndicator = false scrollViewMain . isPagingEnabled = true scrollViewMain . delegate = self scrollViewMain . contentSize = CGSize ( width : CGFloat ( pageSize ) * width , height : 0 ) self . view . addSubview ( scrollViewMain ) // ScrollView1\u306b\u8cbc\u4ed8\u3051\u308bLabel\u306e\u751f\u6210. for i in 0 .. < pageSize { //\u30da\u30fc\u30b8\u3054\u3068\u306b\u7570\u306a\u308b\u30e9\u30d9\u30eb\u3092\u8868\u793a. let myLabel : UILabel = UILabel ( frame : CGRect ( x : CGFloat ( i ) * width + width / 2 - 40 , y : height / 2 - 40 , width : 80 , height : 80 )) myLabel . backgroundColor = UIColor . black myLabel . textColor = UIColor . white myLabel . textAlignment = NSTextAlignment . center myLabel . layer . masksToBounds = true myLabel . text = \"Page \\( i ) \" myLabel . font = UIFont . systemFont ( ofSize : UIFont . smallSystemFontSize ) myLabel . layer . cornerRadius = 40.0 scrollViewMain . addSubview ( myLabel ) } // ScrollView2\u306b\u8cbc\u4ed8\u3051\u308b Label\u306e\u751f\u6210. for i in 0 .. < pageSize { //\u30da\u30fc\u30b8\u3054\u3068\u306b\u7570\u306a\u308b\u30e9\u30d9\u30eb\u3092\u8868\u793a. let myLabel : UILabel = UILabel ( frame : CGRect ( x : CGFloat ( i ) * width / 4 , y : 50 , width : 80 , height : 60 )) myLabel . backgroundColor = UIColor . red myLabel . textColor = UIColor . white myLabel . textAlignment = NSTextAlignment . center myLabel . layer . masksToBounds = true myLabel . text = \"Page \\( i ) \" myLabel . font = UIFont . systemFont ( ofSize : UIFont . smallSystemFontSize ) myLabel . layer . cornerRadius = 30.0 scrollViewHeader . addSubview ( myLabel ) } // PageControl\u3092\u4f5c\u6210. pageControl = UIPageControl ( frame : CGRect ( x : 0 , y : self . view . frame . maxY - 50 , width : width , height : 50 )) pageControl . backgroundColor = UIColor . lightGray // PageControl\u3059\u308b\u30da\u30fc\u30b8\u6570\u3092\u8a2d\u5b9a. pageControl . numberOfPages = pageSize // \u73fe\u5728\u30da\u30fc\u30b8\u3092\u8a2d\u5b9a. pageControl . currentPage = 0 pageControl . isUserInteractionEnabled = false self . view . addSubview ( pageControl ) } /* ScrollView\u304c\u79fb\u52d5\u3057\u305f\u969b\u306b\u547c\u3070\u308c\u308b. */ func scrollViewDidScroll ( _ scrollView : UIScrollView ) { if scrollView == scrollViewMain { scrollViewHeader . contentOffset . x = scrollViewMain . contentOffset . x / 4 } } /* \u79fb\u52d5\u304c\u5b8c\u4e86\u3057\u305f\u3089\u547c\u3070\u308c\u308b. */ func scrollViewDidEndDecelerating ( _ scrollView : UIScrollView ) { // \u30b9\u30af\u30ed\u30fc\u30eb\u6570\u304c1\u30da\u30fc\u30b8\u5206\u306b\u306a\u3063\u305f\u3089. if fmod ( scrollViewMain . contentOffset . x , scrollViewMain . frame . maxX ) == 0 { // \u30da\u30fc\u30b8\u306e\u5834\u6240\u3092\u5207\u308a\u66ff\u3048\u308b. pageControl . currentPage = Int ( scrollViewMain . contentOffset . x / scrollViewMain . frame . maxX ) } } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 // // ViewController.swift // UIKit047_2.3 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UIScrollViewDelegate { // UIPageControl. var pageControl : UIPageControl ! // UIScrillView. var scrollViewHeader : UIScrollView ! var scrollViewMain : UIScrollView ! // \u30da\u30fc\u30b8\u756a\u53f7. let pageSize = 10 override func viewDidLoad () { // \u753b\u9762\u30b5\u30a4\u30ba\u306e\u53d6\u5f97. let width = self . view . frame . maxX , height = self . view . frame . maxY // ScrollViewHeader\u306e\u8a2d\u5b9a. scrollViewHeader = UIScrollView ( frame : self . view . frame ) scrollViewHeader . showsHorizontalScrollIndicator = false scrollViewHeader . showsVerticalScrollIndicator = false scrollViewHeader . pagingEnabled = true scrollViewHeader . delegate = self scrollViewHeader . contentSize = CGSizeMake ( CGFloat ( pageSize ) * width , 0 ) self . view . addSubview ( scrollViewHeader ) // ScrollViewMain\u306e\u8a2d\u5b9a. scrollViewMain = UIScrollView ( frame : self . view . frame ) scrollViewMain . showsHorizontalScrollIndicator = false scrollViewMain . showsVerticalScrollIndicator = false scrollViewMain . pagingEnabled = true scrollViewMain . delegate = self scrollViewMain . contentSize = CGSizeMake ( CGFloat ( pageSize ) * width , 0 ) self . view . addSubview ( scrollViewMain ) // ScrollView1\u306b\u8cbc\u4ed8\u3051\u308bLabel\u306e\u751f\u6210. for i in 0 .. < pageSize { //\u30da\u30fc\u30b8\u3054\u3068\u306b\u7570\u306a\u308b\u30e9\u30d9\u30eb\u3092\u8868\u793a. let myLabel : UILabel = UILabel ( frame : CGRectMake ( CGFloat ( i ) * width + width / 2 - 40 , height / 2 - 40 , 80 , 80 )) myLabel . backgroundColor = UIColor . blackColor () myLabel . textColor = UIColor . whiteColor () myLabel . textAlignment = NSTextAlignment . Center myLabel . layer . masksToBounds = true myLabel . text = \"Page \\( i ) \" myLabel . font = UIFont . systemFontOfSize ( UIFont . smallSystemFontSize ()) myLabel . layer . cornerRadius = 40.0 scrollViewMain . addSubview ( myLabel ) } // ScrollView2\u306b\u8cbc\u4ed8\u3051\u308b Label\u306e\u751f\u6210. for i in 0 .. < pageSize { //\u30da\u30fc\u30b8\u3054\u3068\u306b\u7570\u306a\u308b\u30e9\u30d9\u30eb\u3092\u8868\u793a. let myLabel : UILabel = UILabel ( frame : CGRectMake ( CGFloat ( i ) * width / 4 , 50 , 80 , 60 )) myLabel . backgroundColor = UIColor . redColor () myLabel . textColor = UIColor . whiteColor () myLabel . textAlignment = NSTextAlignment . Center myLabel . layer . masksToBounds = true myLabel . text = \"Page \\( i ) \" myLabel . font = UIFont . systemFontOfSize ( UIFont . smallSystemFontSize ()) myLabel . layer . cornerRadius = 30.0 scrollViewHeader . addSubview ( myLabel ) } // PageControl\u3092\u4f5c\u6210. pageControl = UIPageControl ( frame : CGRectMake ( 0 , self . view . frame . maxY - 50 , width , 50 )) pageControl . backgroundColor = UIColor . lightGrayColor () // PageControl\u3059\u308b\u30da\u30fc\u30b8\u6570\u3092\u8a2d\u5b9a. pageControl . numberOfPages = pageSize // \u73fe\u5728\u30da\u30fc\u30b8\u3092\u8a2d\u5b9a. pageControl . currentPage = 0 pageControl . userInteractionEnabled = false self . view . addSubview ( pageControl ) } /* ScrollView\u304c\u79fb\u52d5\u3057\u305f\u969b\u306b\u547c\u3070\u308c\u308b. */ func scrollViewDidScroll ( scrollView : UIScrollView ) { if scrollView == scrollViewMain { scrollViewHeader . contentOffset . x = scrollViewMain . contentOffset . x / 4 } } /* \u79fb\u52d5\u304c\u5b8c\u4e86\u3057\u305f\u3089\u547c\u3070\u308c\u308b. */ func scrollViewDidEndDecelerating ( scrollView : UIScrollView ) { // \u30b9\u30af\u30ed\u30fc\u30eb\u6570\u304c1\u30da\u30fc\u30b8\u5206\u306b\u306a\u3063\u305f\u3089. if fmod ( scrollViewMain . contentOffset . x , scrollViewMain . frame . maxX ) == 0 { // \u30da\u30fc\u30b8\u306e\u5834\u6240\u3092\u5207\u308a\u66ff\u3048\u308b. pageControl . currentPage = Int ( scrollViewMain . contentOffset . x / scrollViewMain . frame . maxX ) } } }","title":"\u5468\u671f\u306e\u9055\u3046UIScrollView\u3092\u540c\u671f\u3055\u305b\u308b"},{"location":"1.uikit/047_uiscrollview/#2330","text":"UIColor\u306e\u53c2\u7167\u65b9\u6cd5\u304c\u5909\u66f4(UIColor.grayColor()->UIColor.gray) CGRect,CGSize\u306e\u521d\u671f\u5316\u65b9\u6cd5\u306e\u5909\u66f4(CGRectMake,CGSizetMake\u306e\u5ec3\u6b62) UIScrollView\u306e\u4e00\u90e8\u30d7\u30ed\u30d1\u30c6\u30a3\u540d\u306e\u5909\u66f4","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"1.uikit/047_uiscrollview/#reference","text":"UIScrollView Class https://developer.apple.com/reference/uikit/uiscrollview","title":"Reference"},{"location":"1.uikit/048_effectbutton/","text":"\u30d7\u30eb\u30f3\u30d7\u30eb\u30f3\u3059\u308bButton\u306e\u4f5c\u6210 Swift 4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 // // ViewController.swift // UIKit048_4.0 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { // \u30dc\u30bf\u30f3. var myButton : UIButton ! override func viewDidLoad () { super . viewDidLoad () // \u30dc\u30bf\u30f3\u3092\u4f5c\u6210\u3059\u308b. myButton = UIButton () myButton . frame = CGRect ( x : 0 , y : 0 , width : 100 , height : 100 ) myButton . backgroundColor = UIColor . green myButton . layer . masksToBounds = true myButton . setTitle ( \"\u30dc\u30bf\u30f3\" , for : UIControlState . normal ) myButton . setTitleColor ( UIColor . white , for : UIControlState . normal ) myButton . layer . cornerRadius = 50.0 myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height / 2 ) // TouchDown\u306e\u6642\u306e\u30a4\u30d9\u30f3\u30c8\u3092\u8ffd\u52a0\u3059\u308b. myButton . addTarget ( self , action : #selector ( ViewController . onDownButton ( sender :)), for : . touchDown ) // TouchUp\u306e\u6642\u306e\u30a4\u30d9\u30f3\u30c8\u3092\u8ffd\u52a0\u3059\u308b. myButton . addTarget ( self , action : #selector ( ViewController . onUpButton ( sender :)), for : [. touchUpInside ,. touchUpOutside ]) // \u80cc\u666f\u8272\u3092\u9ed2\u306b\u8a2d\u5b9a\u3059\u308b. self . view . backgroundColor = UIColor . black // \u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myButton ); } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8(Down) */ func onDownButton ( sender : UIButton ){ //UIView.animateWithDuration UIView . animate ( withDuration : 0.06 , // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u4e2d\u306e\u51e6\u7406. animations : { () -> Void in // \u7e2e\u5c0f\u7528\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u3092\u4f5c\u6210\u3059\u308b. self . myButton . transform = CGAffineTransform ( scaleX : 0.9 , y : 0.9 ) }) { ( Bool ) -> Void in } } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8(Up) */ func onUpButton ( sender : UIButton ){ UIView . animate ( withDuration : 0.1 , // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u4e2d\u306e\u51e6\u7406. animations : { () -> Void in // \u62e1\u5927\u7528\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u3092\u4f5c\u6210\u3059\u308b. self . myButton . transform = CGAffineTransform ( scaleX : 0.4 , y : 0.4 ) // \u7e2e\u5c0f\u7528\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u3092\u4f5c\u6210\u3059\u308b. self . myButton . transform = CGAffineTransform ( scaleX : 1.0 , y : 1.0 ) }) { ( Bool ) -> Void in } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 // // ViewController.swift // UIKit048_2.3 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { // \u30dc\u30bf\u30f3. var myButton : UIButton ! override func viewDidLoad () { super . viewDidLoad () // \u30dc\u30bf\u30f3\u3092\u4f5c\u6210\u3059\u308b. myButton = UIButton () myButton . frame = CGRectMake ( 0 , 0 , 100 , 100 ) myButton . backgroundColor = UIColor . greenColor (); myButton . layer . masksToBounds = true myButton . setTitle ( \"\u30dc\u30bf\u30f3\" , forState : UIControlState . Normal ) myButton . setTitleColor ( UIColor . whiteColor (), forState : UIControlState . Normal ) myButton . layer . cornerRadius = 50.0 myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height / 2 ) // TouchDown\u306e\u6642\u306e\u30a4\u30d9\u30f3\u30c8\u3092\u8ffd\u52a0\u3059\u308b. myButton . addTarget ( self , action : #selector ( ViewController . onDownButton ( _ :)), forControlEvents : . TouchDown ) // TouchUp\u306e\u6642\u306e\u30a4\u30d9\u30f3\u30c8\u3092\u8ffd\u52a0\u3059\u308b. myButton . addTarget ( self , action : #selector ( ViewController . onUpButton ( _ :)), forControlEvents : [. TouchUpInside ,. TouchUpOutside ]) // \u80cc\u666f\u8272\u3092\u9ed2\u306b\u8a2d\u5b9a\u3059\u308b. self . view . backgroundColor = UIColor . blackColor () // \u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myButton ); } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8(Down) */ func onDownButton ( sender : UIButton ){ UIView . animateWithDuration ( 0.06 , // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u4e2d\u306e\u51e6\u7406. animations : { () -> Void in // \u7e2e\u5c0f\u7528\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u3092\u4f5c\u6210\u3059\u308b. self . myButton . transform = CGAffineTransformMakeScale ( 0.9 , 0.9 ) }) { ( Bool ) -> Void in } } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8(Up) */ func onUpButton ( sender : UIButton ){ UIView . animateWithDuration ( 0.1 , // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u4e2d\u306e\u51e6\u7406. animations : { () -> Void in // \u62e1\u5927\u7528\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u3092\u4f5c\u6210\u3059\u308b. self . myButton . transform = CGAffineTransformMakeScale ( 0.4 , 0.4 ) // \u7e2e\u5c0f\u7528\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u3092\u4f5c\u6210\u3059\u308b. self . myButton . transform = CGAffineTransformMakeScale ( 1.0 , 1.0 ) }) { ( Bool ) -> Void in } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } } 2.3\u30683.0\u306e\u5dee\u5206 UIColor\u306e\u53c2\u7167\u65b9\u6cd5\u304c\u5909\u66f4(UIColor.grayColor()->UIColor.gray) CGRect,CGPoint\u306e\u521d\u671f\u5316\u65b9\u6cd5\u306e\u5909\u66f4(CGRectMake,CGPointMake\u306e\u5ec3\u6b62) UIView.animateWithDuration\u30e1\u30bd\u30c3\u30c9\u304cUIView.animate\u306b\u5909\u66f4 CGAffineTransformMakeScale\u306e\u5ec3\u6b62\u3001CGAffineTransform\u306b\u7d71\u5408 Reference UIButton Class https://developer.apple.com/reference/uikit/uibutton CGAffinTransform Class https://developer.apple.com/reference/coregraphics/cgaffinetransform","title":"\u30d7\u30eb\u30f3\u30d7\u30eb\u30f3\u3059\u308bButton\u306e\u4f5c\u6210"},{"location":"1.uikit/048_effectbutton/#button","text":"Swift 4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 // // ViewController.swift // UIKit048_4.0 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { // \u30dc\u30bf\u30f3. var myButton : UIButton ! override func viewDidLoad () { super . viewDidLoad () // \u30dc\u30bf\u30f3\u3092\u4f5c\u6210\u3059\u308b. myButton = UIButton () myButton . frame = CGRect ( x : 0 , y : 0 , width : 100 , height : 100 ) myButton . backgroundColor = UIColor . green myButton . layer . masksToBounds = true myButton . setTitle ( \"\u30dc\u30bf\u30f3\" , for : UIControlState . normal ) myButton . setTitleColor ( UIColor . white , for : UIControlState . normal ) myButton . layer . cornerRadius = 50.0 myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height / 2 ) // TouchDown\u306e\u6642\u306e\u30a4\u30d9\u30f3\u30c8\u3092\u8ffd\u52a0\u3059\u308b. myButton . addTarget ( self , action : #selector ( ViewController . onDownButton ( sender :)), for : . touchDown ) // TouchUp\u306e\u6642\u306e\u30a4\u30d9\u30f3\u30c8\u3092\u8ffd\u52a0\u3059\u308b. myButton . addTarget ( self , action : #selector ( ViewController . onUpButton ( sender :)), for : [. touchUpInside ,. touchUpOutside ]) // \u80cc\u666f\u8272\u3092\u9ed2\u306b\u8a2d\u5b9a\u3059\u308b. self . view . backgroundColor = UIColor . black // \u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myButton ); } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8(Down) */ func onDownButton ( sender : UIButton ){ //UIView.animateWithDuration UIView . animate ( withDuration : 0.06 , // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u4e2d\u306e\u51e6\u7406. animations : { () -> Void in // \u7e2e\u5c0f\u7528\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u3092\u4f5c\u6210\u3059\u308b. self . myButton . transform = CGAffineTransform ( scaleX : 0.9 , y : 0.9 ) }) { ( Bool ) -> Void in } } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8(Up) */ func onUpButton ( sender : UIButton ){ UIView . animate ( withDuration : 0.1 , // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u4e2d\u306e\u51e6\u7406. animations : { () -> Void in // \u62e1\u5927\u7528\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u3092\u4f5c\u6210\u3059\u308b. self . myButton . transform = CGAffineTransform ( scaleX : 0.4 , y : 0.4 ) // \u7e2e\u5c0f\u7528\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u3092\u4f5c\u6210\u3059\u308b. self . myButton . transform = CGAffineTransform ( scaleX : 1.0 , y : 1.0 ) }) { ( Bool ) -> Void in } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 // // ViewController.swift // UIKit048_2.3 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { // \u30dc\u30bf\u30f3. var myButton : UIButton ! override func viewDidLoad () { super . viewDidLoad () // \u30dc\u30bf\u30f3\u3092\u4f5c\u6210\u3059\u308b. myButton = UIButton () myButton . frame = CGRectMake ( 0 , 0 , 100 , 100 ) myButton . backgroundColor = UIColor . greenColor (); myButton . layer . masksToBounds = true myButton . setTitle ( \"\u30dc\u30bf\u30f3\" , forState : UIControlState . Normal ) myButton . setTitleColor ( UIColor . whiteColor (), forState : UIControlState . Normal ) myButton . layer . cornerRadius = 50.0 myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height / 2 ) // TouchDown\u306e\u6642\u306e\u30a4\u30d9\u30f3\u30c8\u3092\u8ffd\u52a0\u3059\u308b. myButton . addTarget ( self , action : #selector ( ViewController . onDownButton ( _ :)), forControlEvents : . TouchDown ) // TouchUp\u306e\u6642\u306e\u30a4\u30d9\u30f3\u30c8\u3092\u8ffd\u52a0\u3059\u308b. myButton . addTarget ( self , action : #selector ( ViewController . onUpButton ( _ :)), forControlEvents : [. TouchUpInside ,. TouchUpOutside ]) // \u80cc\u666f\u8272\u3092\u9ed2\u306b\u8a2d\u5b9a\u3059\u308b. self . view . backgroundColor = UIColor . blackColor () // \u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myButton ); } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8(Down) */ func onDownButton ( sender : UIButton ){ UIView . animateWithDuration ( 0.06 , // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u4e2d\u306e\u51e6\u7406. animations : { () -> Void in // \u7e2e\u5c0f\u7528\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u3092\u4f5c\u6210\u3059\u308b. self . myButton . transform = CGAffineTransformMakeScale ( 0.9 , 0.9 ) }) { ( Bool ) -> Void in } } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8(Up) */ func onUpButton ( sender : UIButton ){ UIView . animateWithDuration ( 0.1 , // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u4e2d\u306e\u51e6\u7406. animations : { () -> Void in // \u62e1\u5927\u7528\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u3092\u4f5c\u6210\u3059\u308b. self . myButton . transform = CGAffineTransformMakeScale ( 0.4 , 0.4 ) // \u7e2e\u5c0f\u7528\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u3092\u4f5c\u6210\u3059\u308b. self . myButton . transform = CGAffineTransformMakeScale ( 1.0 , 1.0 ) }) { ( Bool ) -> Void in } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } }","title":"\u30d7\u30eb\u30f3\u30d7\u30eb\u30f3\u3059\u308bButton\u306e\u4f5c\u6210"},{"location":"1.uikit/048_effectbutton/#2330","text":"UIColor\u306e\u53c2\u7167\u65b9\u6cd5\u304c\u5909\u66f4(UIColor.grayColor()->UIColor.gray) CGRect,CGPoint\u306e\u521d\u671f\u5316\u65b9\u6cd5\u306e\u5909\u66f4(CGRectMake,CGPointMake\u306e\u5ec3\u6b62) UIView.animateWithDuration\u30e1\u30bd\u30c3\u30c9\u304cUIView.animate\u306b\u5909\u66f4 CGAffineTransformMakeScale\u306e\u5ec3\u6b62\u3001CGAffineTransform\u306b\u7d71\u5408","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"1.uikit/048_effectbutton/#reference","text":"UIButton Class https://developer.apple.com/reference/uikit/uibutton CGAffinTransform Class https://developer.apple.com/reference/coregraphics/cgaffinetransform","title":"Reference"},{"location":"1.uikit/049_custombutton/","text":"\u30ab\u30b9\u30bf\u30de\u30a4\u30baButton Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 // // ViewController.swift // UIKit049_4.0 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () let myButton = MyButton ( frame : CGRect ( x : 50 , y : 50 , width : 100 , height : 100 )) myButton . setTitle ( \"\u30dc\u30bf\u30f3\" , for : UIControl . State . normal ) myButton . setTitleColor ( UIColor . black , for : UIControl . State . normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchUpInside ) self . view . addSubview ( myButton ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. */ @objc func onClickMyButton ( sender : UIButton ){ print ( \"onClickMyButton:\" ) print ( \"sender.currentTitile: \\( sender . currentTitle ! ) \" ) } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 // // ViewController.swift // UIKit049_3.0 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () let myButton = MyButton ( frame : CGRect ( x : 50 , y : 50 , width : 100 , height : 100 )) myButton . setTitle ( \"\u30dc\u30bf\u30f3\" , for : UIControlState . normal ) myButton . setTitleColor ( UIColor . black , for : UIControlState . normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchUpInside ) self . view . addSubview ( myButton ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. */ func onClickMyButton ( sender : UIButton ){ print ( \"onClickMyButton:\" ) print ( \"sender.currentTitile: \\( sender . currentTitle ! ) \" ) } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 // // ViewController.swift // UIKit049_2.3 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () let myButton = MyButton ( frame : CGRectMake ( 50 , 50 , 100 , 100 )) myButton . setTitle ( \"\u30dc\u30bf\u30f3\" , forState : UIControlState . Normal ) myButton . setTitleColor ( UIColor . blackColor (), forState : UIControlState . Normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : . TouchUpInside ) self . view . addSubview ( myButton ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. */ func onClickMyButton ( sender : UIButton ){ print ( \"onClickMyButton:\" ) print ( \"sender.currentTitile: \\( sender . currentTitle ! ) \" ) } } MyButton.swift Swift 4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 // // MyButton.swift // UIKit049_4.0 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import Foundation import UIKit class MyButton : UIButton { var myStatus : ButtonStatus ! enum ButtonStatus { case Normal case TouchBegan case TouchEnded } required init ( coder aDecoder : NSCoder ) { super . init ( coder : aDecoder ) ! } override init ( frame : CGRect ) { super . init ( frame : frame ) myStatus = . Normal } override func touchesBegan ( _ touches : Set < UITouch >, with event : UIEvent ?) { super . touchesBegan ( touches , with : event ) myStatus = . TouchBegan self . setNeedsDisplay () } override func touchesEnded ( _ touches : Set < UITouch >, with event : UIEvent ?) { super . touchesEnded ( touches , with : event ) myStatus = . TouchEnded self . setNeedsDisplay () } override func draw ( _ rect : CGRect ) { let width = rect . width , height = rect . height if myStatus == . Normal || myStatus == . TouchEnded { // \u8272\u306e\u5b9a\u7fa9. let color = UIColor ( red : 0.081 , green : 1.000 , blue : 0.421 , alpha : 1.000 ) // \u30dc\u30bf\u30f3\u306e\u5f62\u72b6\u3092\u5b9a\u7fa9. let path = makeNormalPath ( width : width , height : height ) color . setFill () path . fill () path . lineWidth = 0 path . stroke () } else if myStatus == . TouchBegan { // \u8272\u306e\u5b9a\u7fa9. let color = UIColor ( red : 1.000 , green : 1.000 , blue : 0.421 , alpha : 1.000 ) // \u30dc\u30bf\u30f3\u306e\u5f62\u72b6\u3092\u5b9a\u7fa9. let path = makeNormalPath ( width : width , height : height ) color . setFill () path . fill () path . lineWidth = 0 path . stroke () } super . draw ( rect ) } /* \u30dc\u30bf\u30f3\u306e\u5f62\u72b6\u3092\u4f5c\u6210. */ private func makeNormalPath ( width : CGFloat , height : CGFloat ) -> UIBezierPath { let bezierPath = UIBezierPath () bezierPath . move ( to : CGPoint ( x : 46.33 / 120 * width , y : 0.5 / 120 * height )) bezierPath . addCurve ( to : CGPoint ( x : 37.47 / 120 * width , y : 30.41 / 120 * height ), controlPoint1 : CGPoint ( x : 38.21 / 120 * width , y : 0.5 / 120 * height ), controlPoint2 : CGPoint ( x : 45.96 / 120 * width , y : 18.21 / 120 * height )) // bezierPath . addCurve ( to : CGPoint ( x : 0.54 / 120 * width , y : 30.41 / 120 * height ), controlPoint1 : CGPoint ( x : 28.97 / 120 * width , y : 42.61 / 120 * height ), controlPoint2 : CGPoint ( x : 2.75 / 120 * width , y : 21.75 / 120 * height )) bezierPath . addCurve ( to : CGPoint ( x : 28.61 / 120 * width , y : 65.04 / 120 * height ), controlPoint1 : CGPoint ( x : - 1.68 / 120 * width , y : 39.06 / 120 * height ), controlPoint2 : CGPoint ( x : 28.61 / 120 * width , y : 53.23 / 120 * height )) bezierPath . addCurve ( to : CGPoint ( x : 12.36 / 120 * width , y : 96.52 / 120 * height ), controlPoint1 : CGPoint ( x : 28.61 / 120 * width , y : 76.84 / 120 * height ), controlPoint2 : CGPoint ( x : 4.23 / 120 * width , y : 91.79 / 120 * height )) bezierPath . addCurve ( to : CGPoint ( x : 61.1 / 120 * width , y : 83.92 / 120 * height ), controlPoint1 : CGPoint ( x : 20.48 / 120 * width , y : 101.24 / 120 * height ), controlPoint2 : CGPoint ( x : 38.21 / 120 * width , y : 83.92 / 120 * height )) bezierPath . addCurve ( to : CGPoint ( x : 100.99 / 120 * width , y : 105.96 / 120 * height ), controlPoint1 : CGPoint ( x : 84 / 120 * width , y : 83.92 / 120 * height ), controlPoint2 : CGPoint ( x : 95.82 / 120 * width , y : 114.62 / 120 * height )) bezierPath . addCurve ( to : CGPoint ( x : 86.22 / 120 * width , y : 65.04 / 120 * height ), controlPoint1 : CGPoint ( x : 106.16 / 120 * width , y : 97.3 / 120 * height ), controlPoint2 : CGPoint ( x : 83.63 / 120 * width , y : 81.56 / 120 * height )) bezierPath . addCurve ( to : CGPoint ( x : 114.29 / 120 * width , y : 13.09 / 120 * height ), controlPoint1 : CGPoint ( x : 88.8 / 120 * width , y : 48.51 / 120 * height ), controlPoint2 : CGPoint ( x : 117.24 / 120 * width , y : 17.81 / 120 * height )) bezierPath . addCurve ( to : CGPoint ( x : 69.97 / 120 * width , y : 30.41 / 120 * height ), controlPoint1 : CGPoint ( x : 111.33 / 120 * width , y : 8.37 / 120 * height ), controlPoint2 : CGPoint ( x : 86.96 / 120 * width , y : 37.88 / 120 * height )) bezierPath . addCurve ( to : CGPoint ( x : 46.33 / 120 * width , y : 0.5 / 120 * height ), controlPoint1 : CGPoint ( x : 52.98 / 120 * width , y : 22.93 / 120 * height ), controlPoint2 : CGPoint ( x : 54.46 / 120 * width , y : 0.5 / 120 * height )) bezierPath . close () return bezierPath } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 // // MyButton.swift // UIKit049_2.3 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import Foundation import UIKit class MyButton : UIButton { var myStatus : ButtonStatus ! enum ButtonStatus { case Normal case TouchBegan case TouchEnded } required init ( coder aDecoder : NSCoder ) { super . init ( coder : aDecoder ) ! } override init ( frame : CGRect ) { super . init ( frame : frame ) myStatus = . Normal } override func touchesBegan ( touches : Set < UITouch >, withEvent event : UIEvent ?) { super . touchesBegan ( touches , withEvent : event ) myStatus = . TouchBegan self . setNeedsDisplay () } override func touchesEnded ( touches : Set < UITouch >, withEvent event : UIEvent ?) { super . touchesEnded ( touches , withEvent : event ) myStatus = . TouchEnded self . setNeedsDisplay () } override func drawRect ( rect : CGRect ) { let width = rect . width , height = rect . height if myStatus == . Normal || myStatus == . TouchEnded { // \u8272\u306e\u5b9a\u7fa9. let color = UIColor ( red : 0.081 , green : 1.000 , blue : 0.421 , alpha : 1.000 ) // \u30dc\u30bf\u30f3\u306e\u5f62\u72b6\u3092\u5b9a\u7fa9. let path = makeNormalPath ( width , height : height ) color . setFill () path . fill () path . lineWidth = 0 path . stroke () } else if myStatus == . TouchBegan { // \u8272\u306e\u5b9a\u7fa9. let color = UIColor ( red : 1.000 , green : 1.000 , blue : 0.421 , alpha : 1.000 ) // \u30dc\u30bf\u30f3\u306e\u5f62\u72b6\u3092\u5b9a\u7fa9. let path = makeNormalPath ( width , height : height ) color . setFill () path . fill () path . lineWidth = 0 path . stroke () } super . drawRect ( rect ) } /* \u30dc\u30bf\u30f3\u306e\u5f62\u72b6\u3092\u4f5c\u6210. */ private func makeNormalPath ( width : CGFloat , height : CGFloat ) -> UIBezierPath { let bezierPath = UIBezierPath () bezierPath . moveToPoint ( CGPointMake ( 46.33 / 120 * width , 0.5 / 120 * height )) bezierPath . addCurveToPoint ( CGPointMake ( 37.47 / 120 * width , 30.41 / 120 * height ), controlPoint1 : CGPointMake ( 38.21 / 120 * width , 0.5 / 120 * height ), controlPoint2 : CGPointMake ( 45.96 / 120 * width , 18.21 / 120 * height )) bezierPath . addCurveToPoint ( CGPointMake ( 0.54 / 120 * width , 30.41 / 120 * height ), controlPoint1 : CGPointMake ( 28.97 / 120 * width , 42.61 / 120 * height ), controlPoint2 : CGPointMake ( 2.75 / 120 * width , 21.75 / 120 * height )) bezierPath . addCurveToPoint ( CGPointMake ( 28.61 / 120 * width , 65.04 / 120 * height ), controlPoint1 : CGPointMake ( - 1.68 / 120 * width , 39.06 / 120 * height ), controlPoint2 : CGPointMake ( 28.61 / 120 * width , 53.23 / 120 * height )) bezierPath . addCurveToPoint ( CGPointMake ( 12.36 / 120 * width , 96.52 / 120 * height ), controlPoint1 : CGPointMake ( 28.61 / 120 * width , 76.84 / 120 * height ), controlPoint2 : CGPointMake ( 4.23 / 120 * width , 91.79 / 120 * height )) bezierPath . addCurveToPoint ( CGPointMake ( 61.1 / 120 * width , 83.92 / 120 * height ), controlPoint1 : CGPointMake ( 20.48 / 120 * width , 101.24 / 120 * height ), controlPoint2 : CGPointMake ( 38.21 / 120 * width , 83.92 / 120 * height )) bezierPath . addCurveToPoint ( CGPointMake ( 100.99 / 120 * width , 105.96 / 120 * height ), controlPoint1 : CGPointMake ( 84 / 120 * width , 83.92 / 120 * height ), controlPoint2 : CGPointMake ( 95.82 / 120 * width , 114.62 / 120 * height )) bezierPath . addCurveToPoint ( CGPointMake ( 86.22 / 120 * width , 65.04 / 120 * height ), controlPoint1 : CGPointMake ( 106.16 / 120 * width , 97.3 / 120 * height ), controlPoint2 : CGPointMake ( 83.63 / 120 * width , 81.56 / 120 * height )) bezierPath . addCurveToPoint ( CGPointMake ( 114.29 / 120 * width , 13.09 / 120 * height ), controlPoint1 : CGPointMake ( 88.8 / 120 * width , 48.51 / 120 * height ), controlPoint2 : CGPointMake ( 117.24 / 120 * width , 17.81 / 120 * height )) bezierPath . addCurveToPoint ( CGPointMake ( 69.97 / 120 * width , 30.41 / 120 * height ), controlPoint1 : CGPointMake ( 111.33 / 120 * width , 8.37 / 120 * height ), controlPoint2 : CGPointMake ( 86.96 / 120 * width , 37.88 / 120 * height )) bezierPath . addCurveToPoint ( CGPointMake ( 46.33 / 120 * width , 0.5 / 120 * height ), controlPoint1 : CGPointMake ( 52.98 / 120 * width , 22.93 / 120 * height ), controlPoint2 : CGPointMake ( 54.46 / 120 * width , 0.5 / 120 * height )) bezierPath . closePath () return bezierPath } } 3.x\u30684.x\u306e\u5dee\u5206 UIControlState \u304c UIControl.State \u306b\u5909\u66f4 func onClickMyButton \u306b @objc \u3092\u8ffd\u52a0 2.3\u30683.0\u306e\u5dee\u5206 UIColor\u306e\u53c2\u7167\u65b9\u6cd5\u304c\u5909\u66f4(UIColor.grayColor()->UIColor.gray) CGRect,CGPoint\u306e\u521d\u671f\u5316\u65b9\u6cd5\u306e\u5909\u66f4(CGRectMake,CGPointMake\u306e\u5ec3\u6b62) drawRect \u304c draw \u30e1\u30bd\u30c3\u30c9\u306b\u5909\u66f4 bezierPath.addCurveToPoint \u304c bezierPath.addCurve \u306b\u5909\u66f4 Reference UIButton Class https://developer.apple.com/reference/uikit/uibutton","title":"\u30ab\u30b9\u30bf\u30de\u30a4\u30baButton"},{"location":"1.uikit/049_custombutton/#button","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 // // ViewController.swift // UIKit049_4.0 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () let myButton = MyButton ( frame : CGRect ( x : 50 , y : 50 , width : 100 , height : 100 )) myButton . setTitle ( \"\u30dc\u30bf\u30f3\" , for : UIControl . State . normal ) myButton . setTitleColor ( UIColor . black , for : UIControl . State . normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchUpInside ) self . view . addSubview ( myButton ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. */ @objc func onClickMyButton ( sender : UIButton ){ print ( \"onClickMyButton:\" ) print ( \"sender.currentTitile: \\( sender . currentTitle ! ) \" ) } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 // // ViewController.swift // UIKit049_3.0 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () let myButton = MyButton ( frame : CGRect ( x : 50 , y : 50 , width : 100 , height : 100 )) myButton . setTitle ( \"\u30dc\u30bf\u30f3\" , for : UIControlState . normal ) myButton . setTitleColor ( UIColor . black , for : UIControlState . normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchUpInside ) self . view . addSubview ( myButton ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. */ func onClickMyButton ( sender : UIButton ){ print ( \"onClickMyButton:\" ) print ( \"sender.currentTitile: \\( sender . currentTitle ! ) \" ) } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 // // ViewController.swift // UIKit049_2.3 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () let myButton = MyButton ( frame : CGRectMake ( 50 , 50 , 100 , 100 )) myButton . setTitle ( \"\u30dc\u30bf\u30f3\" , forState : UIControlState . Normal ) myButton . setTitleColor ( UIColor . blackColor (), forState : UIControlState . Normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : . TouchUpInside ) self . view . addSubview ( myButton ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. */ func onClickMyButton ( sender : UIButton ){ print ( \"onClickMyButton:\" ) print ( \"sender.currentTitile: \\( sender . currentTitle ! ) \" ) } }","title":"\u30ab\u30b9\u30bf\u30de\u30a4\u30baButton"},{"location":"1.uikit/049_custombutton/#mybuttonswift","text":"Swift 4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 // // MyButton.swift // UIKit049_4.0 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import Foundation import UIKit class MyButton : UIButton { var myStatus : ButtonStatus ! enum ButtonStatus { case Normal case TouchBegan case TouchEnded } required init ( coder aDecoder : NSCoder ) { super . init ( coder : aDecoder ) ! } override init ( frame : CGRect ) { super . init ( frame : frame ) myStatus = . Normal } override func touchesBegan ( _ touches : Set < UITouch >, with event : UIEvent ?) { super . touchesBegan ( touches , with : event ) myStatus = . TouchBegan self . setNeedsDisplay () } override func touchesEnded ( _ touches : Set < UITouch >, with event : UIEvent ?) { super . touchesEnded ( touches , with : event ) myStatus = . TouchEnded self . setNeedsDisplay () } override func draw ( _ rect : CGRect ) { let width = rect . width , height = rect . height if myStatus == . Normal || myStatus == . TouchEnded { // \u8272\u306e\u5b9a\u7fa9. let color = UIColor ( red : 0.081 , green : 1.000 , blue : 0.421 , alpha : 1.000 ) // \u30dc\u30bf\u30f3\u306e\u5f62\u72b6\u3092\u5b9a\u7fa9. let path = makeNormalPath ( width : width , height : height ) color . setFill () path . fill () path . lineWidth = 0 path . stroke () } else if myStatus == . TouchBegan { // \u8272\u306e\u5b9a\u7fa9. let color = UIColor ( red : 1.000 , green : 1.000 , blue : 0.421 , alpha : 1.000 ) // \u30dc\u30bf\u30f3\u306e\u5f62\u72b6\u3092\u5b9a\u7fa9. let path = makeNormalPath ( width : width , height : height ) color . setFill () path . fill () path . lineWidth = 0 path . stroke () } super . draw ( rect ) } /* \u30dc\u30bf\u30f3\u306e\u5f62\u72b6\u3092\u4f5c\u6210. */ private func makeNormalPath ( width : CGFloat , height : CGFloat ) -> UIBezierPath { let bezierPath = UIBezierPath () bezierPath . move ( to : CGPoint ( x : 46.33 / 120 * width , y : 0.5 / 120 * height )) bezierPath . addCurve ( to : CGPoint ( x : 37.47 / 120 * width , y : 30.41 / 120 * height ), controlPoint1 : CGPoint ( x : 38.21 / 120 * width , y : 0.5 / 120 * height ), controlPoint2 : CGPoint ( x : 45.96 / 120 * width , y : 18.21 / 120 * height )) // bezierPath . addCurve ( to : CGPoint ( x : 0.54 / 120 * width , y : 30.41 / 120 * height ), controlPoint1 : CGPoint ( x : 28.97 / 120 * width , y : 42.61 / 120 * height ), controlPoint2 : CGPoint ( x : 2.75 / 120 * width , y : 21.75 / 120 * height )) bezierPath . addCurve ( to : CGPoint ( x : 28.61 / 120 * width , y : 65.04 / 120 * height ), controlPoint1 : CGPoint ( x : - 1.68 / 120 * width , y : 39.06 / 120 * height ), controlPoint2 : CGPoint ( x : 28.61 / 120 * width , y : 53.23 / 120 * height )) bezierPath . addCurve ( to : CGPoint ( x : 12.36 / 120 * width , y : 96.52 / 120 * height ), controlPoint1 : CGPoint ( x : 28.61 / 120 * width , y : 76.84 / 120 * height ), controlPoint2 : CGPoint ( x : 4.23 / 120 * width , y : 91.79 / 120 * height )) bezierPath . addCurve ( to : CGPoint ( x : 61.1 / 120 * width , y : 83.92 / 120 * height ), controlPoint1 : CGPoint ( x : 20.48 / 120 * width , y : 101.24 / 120 * height ), controlPoint2 : CGPoint ( x : 38.21 / 120 * width , y : 83.92 / 120 * height )) bezierPath . addCurve ( to : CGPoint ( x : 100.99 / 120 * width , y : 105.96 / 120 * height ), controlPoint1 : CGPoint ( x : 84 / 120 * width , y : 83.92 / 120 * height ), controlPoint2 : CGPoint ( x : 95.82 / 120 * width , y : 114.62 / 120 * height )) bezierPath . addCurve ( to : CGPoint ( x : 86.22 / 120 * width , y : 65.04 / 120 * height ), controlPoint1 : CGPoint ( x : 106.16 / 120 * width , y : 97.3 / 120 * height ), controlPoint2 : CGPoint ( x : 83.63 / 120 * width , y : 81.56 / 120 * height )) bezierPath . addCurve ( to : CGPoint ( x : 114.29 / 120 * width , y : 13.09 / 120 * height ), controlPoint1 : CGPoint ( x : 88.8 / 120 * width , y : 48.51 / 120 * height ), controlPoint2 : CGPoint ( x : 117.24 / 120 * width , y : 17.81 / 120 * height )) bezierPath . addCurve ( to : CGPoint ( x : 69.97 / 120 * width , y : 30.41 / 120 * height ), controlPoint1 : CGPoint ( x : 111.33 / 120 * width , y : 8.37 / 120 * height ), controlPoint2 : CGPoint ( x : 86.96 / 120 * width , y : 37.88 / 120 * height )) bezierPath . addCurve ( to : CGPoint ( x : 46.33 / 120 * width , y : 0.5 / 120 * height ), controlPoint1 : CGPoint ( x : 52.98 / 120 * width , y : 22.93 / 120 * height ), controlPoint2 : CGPoint ( x : 54.46 / 120 * width , y : 0.5 / 120 * height )) bezierPath . close () return bezierPath } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 // // MyButton.swift // UIKit049_2.3 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import Foundation import UIKit class MyButton : UIButton { var myStatus : ButtonStatus ! enum ButtonStatus { case Normal case TouchBegan case TouchEnded } required init ( coder aDecoder : NSCoder ) { super . init ( coder : aDecoder ) ! } override init ( frame : CGRect ) { super . init ( frame : frame ) myStatus = . Normal } override func touchesBegan ( touches : Set < UITouch >, withEvent event : UIEvent ?) { super . touchesBegan ( touches , withEvent : event ) myStatus = . TouchBegan self . setNeedsDisplay () } override func touchesEnded ( touches : Set < UITouch >, withEvent event : UIEvent ?) { super . touchesEnded ( touches , withEvent : event ) myStatus = . TouchEnded self . setNeedsDisplay () } override func drawRect ( rect : CGRect ) { let width = rect . width , height = rect . height if myStatus == . Normal || myStatus == . TouchEnded { // \u8272\u306e\u5b9a\u7fa9. let color = UIColor ( red : 0.081 , green : 1.000 , blue : 0.421 , alpha : 1.000 ) // \u30dc\u30bf\u30f3\u306e\u5f62\u72b6\u3092\u5b9a\u7fa9. let path = makeNormalPath ( width , height : height ) color . setFill () path . fill () path . lineWidth = 0 path . stroke () } else if myStatus == . TouchBegan { // \u8272\u306e\u5b9a\u7fa9. let color = UIColor ( red : 1.000 , green : 1.000 , blue : 0.421 , alpha : 1.000 ) // \u30dc\u30bf\u30f3\u306e\u5f62\u72b6\u3092\u5b9a\u7fa9. let path = makeNormalPath ( width , height : height ) color . setFill () path . fill () path . lineWidth = 0 path . stroke () } super . drawRect ( rect ) } /* \u30dc\u30bf\u30f3\u306e\u5f62\u72b6\u3092\u4f5c\u6210. */ private func makeNormalPath ( width : CGFloat , height : CGFloat ) -> UIBezierPath { let bezierPath = UIBezierPath () bezierPath . moveToPoint ( CGPointMake ( 46.33 / 120 * width , 0.5 / 120 * height )) bezierPath . addCurveToPoint ( CGPointMake ( 37.47 / 120 * width , 30.41 / 120 * height ), controlPoint1 : CGPointMake ( 38.21 / 120 * width , 0.5 / 120 * height ), controlPoint2 : CGPointMake ( 45.96 / 120 * width , 18.21 / 120 * height )) bezierPath . addCurveToPoint ( CGPointMake ( 0.54 / 120 * width , 30.41 / 120 * height ), controlPoint1 : CGPointMake ( 28.97 / 120 * width , 42.61 / 120 * height ), controlPoint2 : CGPointMake ( 2.75 / 120 * width , 21.75 / 120 * height )) bezierPath . addCurveToPoint ( CGPointMake ( 28.61 / 120 * width , 65.04 / 120 * height ), controlPoint1 : CGPointMake ( - 1.68 / 120 * width , 39.06 / 120 * height ), controlPoint2 : CGPointMake ( 28.61 / 120 * width , 53.23 / 120 * height )) bezierPath . addCurveToPoint ( CGPointMake ( 12.36 / 120 * width , 96.52 / 120 * height ), controlPoint1 : CGPointMake ( 28.61 / 120 * width , 76.84 / 120 * height ), controlPoint2 : CGPointMake ( 4.23 / 120 * width , 91.79 / 120 * height )) bezierPath . addCurveToPoint ( CGPointMake ( 61.1 / 120 * width , 83.92 / 120 * height ), controlPoint1 : CGPointMake ( 20.48 / 120 * width , 101.24 / 120 * height ), controlPoint2 : CGPointMake ( 38.21 / 120 * width , 83.92 / 120 * height )) bezierPath . addCurveToPoint ( CGPointMake ( 100.99 / 120 * width , 105.96 / 120 * height ), controlPoint1 : CGPointMake ( 84 / 120 * width , 83.92 / 120 * height ), controlPoint2 : CGPointMake ( 95.82 / 120 * width , 114.62 / 120 * height )) bezierPath . addCurveToPoint ( CGPointMake ( 86.22 / 120 * width , 65.04 / 120 * height ), controlPoint1 : CGPointMake ( 106.16 / 120 * width , 97.3 / 120 * height ), controlPoint2 : CGPointMake ( 83.63 / 120 * width , 81.56 / 120 * height )) bezierPath . addCurveToPoint ( CGPointMake ( 114.29 / 120 * width , 13.09 / 120 * height ), controlPoint1 : CGPointMake ( 88.8 / 120 * width , 48.51 / 120 * height ), controlPoint2 : CGPointMake ( 117.24 / 120 * width , 17.81 / 120 * height )) bezierPath . addCurveToPoint ( CGPointMake ( 69.97 / 120 * width , 30.41 / 120 * height ), controlPoint1 : CGPointMake ( 111.33 / 120 * width , 8.37 / 120 * height ), controlPoint2 : CGPointMake ( 86.96 / 120 * width , 37.88 / 120 * height )) bezierPath . addCurveToPoint ( CGPointMake ( 46.33 / 120 * width , 0.5 / 120 * height ), controlPoint1 : CGPointMake ( 52.98 / 120 * width , 22.93 / 120 * height ), controlPoint2 : CGPointMake ( 54.46 / 120 * width , 0.5 / 120 * height )) bezierPath . closePath () return bezierPath } }","title":"MyButton.swift"},{"location":"1.uikit/049_custombutton/#3x4x","text":"UIControlState \u304c UIControl.State \u306b\u5909\u66f4 func onClickMyButton \u306b @objc \u3092\u8ffd\u52a0","title":"3.x\u30684.x\u306e\u5dee\u5206"},{"location":"1.uikit/049_custombutton/#2330","text":"UIColor\u306e\u53c2\u7167\u65b9\u6cd5\u304c\u5909\u66f4(UIColor.grayColor()->UIColor.gray) CGRect,CGPoint\u306e\u521d\u671f\u5316\u65b9\u6cd5\u306e\u5909\u66f4(CGRectMake,CGPointMake\u306e\u5ec3\u6b62) drawRect \u304c draw \u30e1\u30bd\u30c3\u30c9\u306b\u5909\u66f4 bezierPath.addCurveToPoint \u304c bezierPath.addCurve \u306b\u5909\u66f4","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"1.uikit/049_custombutton/#reference","text":"UIButton Class https://developer.apple.com/reference/uikit/uibutton","title":"Reference"},{"location":"1.uikit/050_deleteuiparts/","text":"UI\u30d1\u30fc\u30c4\u306e\u524a\u9664 Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 // // ViewController.swift // UIKit050_4.0 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () let myButton = UIButton ( frame : CGRect ( x : 50 , y : 50 , width : 100 , height : 100 )) myButton . setTitle ( \"UI\u30dc\u30bf\u30f3\" , for : UIControl . State . normal ) myButton . setTitleColor ( UIColor . black , for : UIControl . State . normal ) myButton . backgroundColor = UIColor . green let myLabel = UILabel ( frame : CGRect ( x : 50 , y : 200 , width : 100 , height : 100 )) myLabel . text = \"UI\u30e9\u30d9\u30eb\" myLabel . textColor = UIColor . green myLabel . backgroundColor = UIColor . red self . view . addSubview ( myButton ) print ( \"View: \\( view . description ) \" ) let views = self . view . subviews for myView in views { print ( \"View: \\( myView . description ) \" ) if myView . isKind ( of : UIButton . self ) { myView . removeFromSuperview () self . view . addSubview ( myLabel ) } } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 // // ViewController.swift // UIKit050_3.0 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () let myButton = UIButton ( frame : CGRect ( x : 50 , y : 50 , width : 100 , height : 100 )) myButton . setTitle ( \"UI\u30dc\u30bf\u30f3\" , for : UIControlState . normal ) myButton . setTitleColor ( UIColor . black , for : UIControlState . normal ) myButton . backgroundColor = UIColor . green let myLabel = UILabel ( frame : CGRect ( x : 50 , y : 200 , width : 100 , height : 100 )) myLabel . text = \"UI\u30e9\u30d9\u30eb\" myLabel . textColor = UIColor . green myLabel . backgroundColor = UIColor . red self . view . addSubview ( myButton ) print ( \"View: \\( view . description ) \" ) let views = self . view . subviews for myView in views { print ( \"View: \\( myView . description ) \" ) if myView . isKind ( of : UIButton . self ) { myView . removeFromSuperview () self . view . addSubview ( myLabel ) } } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 // // ViewController.swift // UIKit050_2.3 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () let myButton = UIButton ( frame : CGRectMake ( 50 , 50 , 100 , 100 )) myButton . setTitle ( \"UI\u30dc\u30bf\u30f3\" , forState : UIControlState . Normal ) myButton . setTitleColor ( UIColor . blackColor (), forState : UIControlState . Normal ) myButton . backgroundColor = UIColor . greenColor () let myLabel = UILabel ( frame : CGRectMake ( 50 , 200 , 100 , 100 )) myLabel . text = \"UI\u30e9\u30d9\u30eb\" myLabel . textColor = UIColor . greenColor () myLabel . backgroundColor = UIColor . redColor () self . view . addSubview ( myButton ) print ( \"View: \\( view . description ) \" ) let views = self . view . subviews for myView in views { print ( \"View: \\( myView . description ) \" ) if myView . isKindOfClass ( UIButton ) { myView . removeFromSuperview () self . view . addSubview ( myLabel ) } } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } 3.x\u30684.x\u306e\u5dee\u5206 UIControlState \u304c UIControl.State \u306b\u5909\u66f4 2.3\u30683.0\u306e\u5dee\u5206 UIColor\u306e\u53c2\u7167\u65b9\u6cd5\u304c\u5909\u66f4(UIColor.grayColor()->UIColor.gray) CGRect,CGPoint\u306e\u521d\u671f\u5316\u65b9\u6cd5\u306e\u5909\u66f4(CGRectMake,CGPointMake\u306e\u5ec3\u6b62) isKindOfClass(class) \u304c isKind(of:class) \u306b\u5909\u66f4 Reference UIView Class https://developer.apple.com/reference/uikit/uiview","title":"UI\u30d1\u30fc\u30c4\u306e\u524a\u9664"},{"location":"1.uikit/050_deleteuiparts/#ui","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 // // ViewController.swift // UIKit050_4.0 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () let myButton = UIButton ( frame : CGRect ( x : 50 , y : 50 , width : 100 , height : 100 )) myButton . setTitle ( \"UI\u30dc\u30bf\u30f3\" , for : UIControl . State . normal ) myButton . setTitleColor ( UIColor . black , for : UIControl . State . normal ) myButton . backgroundColor = UIColor . green let myLabel = UILabel ( frame : CGRect ( x : 50 , y : 200 , width : 100 , height : 100 )) myLabel . text = \"UI\u30e9\u30d9\u30eb\" myLabel . textColor = UIColor . green myLabel . backgroundColor = UIColor . red self . view . addSubview ( myButton ) print ( \"View: \\( view . description ) \" ) let views = self . view . subviews for myView in views { print ( \"View: \\( myView . description ) \" ) if myView . isKind ( of : UIButton . self ) { myView . removeFromSuperview () self . view . addSubview ( myLabel ) } } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 // // ViewController.swift // UIKit050_3.0 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () let myButton = UIButton ( frame : CGRect ( x : 50 , y : 50 , width : 100 , height : 100 )) myButton . setTitle ( \"UI\u30dc\u30bf\u30f3\" , for : UIControlState . normal ) myButton . setTitleColor ( UIColor . black , for : UIControlState . normal ) myButton . backgroundColor = UIColor . green let myLabel = UILabel ( frame : CGRect ( x : 50 , y : 200 , width : 100 , height : 100 )) myLabel . text = \"UI\u30e9\u30d9\u30eb\" myLabel . textColor = UIColor . green myLabel . backgroundColor = UIColor . red self . view . addSubview ( myButton ) print ( \"View: \\( view . description ) \" ) let views = self . view . subviews for myView in views { print ( \"View: \\( myView . description ) \" ) if myView . isKind ( of : UIButton . self ) { myView . removeFromSuperview () self . view . addSubview ( myLabel ) } } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 // // ViewController.swift // UIKit050_2.3 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () let myButton = UIButton ( frame : CGRectMake ( 50 , 50 , 100 , 100 )) myButton . setTitle ( \"UI\u30dc\u30bf\u30f3\" , forState : UIControlState . Normal ) myButton . setTitleColor ( UIColor . blackColor (), forState : UIControlState . Normal ) myButton . backgroundColor = UIColor . greenColor () let myLabel = UILabel ( frame : CGRectMake ( 50 , 200 , 100 , 100 )) myLabel . text = \"UI\u30e9\u30d9\u30eb\" myLabel . textColor = UIColor . greenColor () myLabel . backgroundColor = UIColor . redColor () self . view . addSubview ( myButton ) print ( \"View: \\( view . description ) \" ) let views = self . view . subviews for myView in views { print ( \"View: \\( myView . description ) \" ) if myView . isKindOfClass ( UIButton ) { myView . removeFromSuperview () self . view . addSubview ( myLabel ) } } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } }","title":"UI\u30d1\u30fc\u30c4\u306e\u524a\u9664"},{"location":"1.uikit/050_deleteuiparts/#3x4x","text":"UIControlState \u304c UIControl.State \u306b\u5909\u66f4","title":"3.x\u30684.x\u306e\u5dee\u5206"},{"location":"1.uikit/050_deleteuiparts/#2330","text":"UIColor\u306e\u53c2\u7167\u65b9\u6cd5\u304c\u5909\u66f4(UIColor.grayColor()->UIColor.gray) CGRect,CGPoint\u306e\u521d\u671f\u5316\u65b9\u6cd5\u306e\u5909\u66f4(CGRectMake,CGPointMake\u306e\u5ec3\u6b62) isKindOfClass(class) \u304c isKind(of:class) \u306b\u5909\u66f4","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"1.uikit/050_deleteuiparts/#reference","text":"UIView Class https://developer.apple.com/reference/uikit/uiview","title":"Reference"},{"location":"1.uikit/051_uitableview/","text":"UITableView\u306b\u8ffd\u52a0\u30fb\u524a\u9664\u6a5f\u80fd\u3092\u8ffd\u52a0 AppDelegate.swift Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 // // AppDelegate.swift // UIKit051_4.0 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit @UIApplicationMain class AppDelegate : UIResponder , UIApplicationDelegate { var window : UIWindow ? var myNavigationController : UINavigationController ? func application ( _ application : UIApplication , willFinishLaunchingWithOptions launchOptions : [ UIApplication . LaunchOptionsKey : Any ]? = nil ) -> Bool { // ViewController\u3092\u751f\u6210. let myViewController : ViewController = ViewController () // Navication Controller\u3092\u751f\u6210. myNavigationController = UINavigationController ( rootViewController : myViewController ) // UIWindow\u3092\u751f\u6210. self . window = UIWindow ( frame : UIScreen . main . bounds ) // rootViewController\u306bNatigationController\u3092\u8a2d\u5b9a. self . window ?. rootViewController = myNavigationController self . window ?. makeKeyAndVisible () return true } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 // // AppDelegate.swift // UIKit051_3.0 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit @UIApplicationMain class AppDelegate : UIResponder , UIApplicationDelegate { var window : UIWindow ? var myNavigationController : UINavigationController ? func application ( _ application : UIApplication , didFinishLaunchingWithOptions launchOptions : [ NSObject : AnyObject ]?) -> Bool { // ViewController\u3092\u751f\u6210. let myViewController : ViewController = ViewController () // Navication Controller\u3092\u751f\u6210. myNavigationController = UINavigationController ( rootViewController : myViewController ) // UIWindow\u3092\u751f\u6210. self . window = UIWindow ( frame : UIScreen . main . bounds ) // rootViewController\u306bNatigationController\u3092\u8a2d\u5b9a. self . window ?. rootViewController = myNavigationController self . window ?. makeKeyAndVisible () return true } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 // // AppDelegate.swift // UIKit051_2.3 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit @UIApplicationMain class AppDelegate : UIResponder , UIApplicationDelegate { var window : UIWindow ? var myNavigationController : UINavigationController ? func application ( application : UIApplication , didFinishLaunchingWithOptions launchOptions : [ NSObject : AnyObject ]?) -> Bool { // ViewController\u3092\u751f\u6210. let myViewController : ViewController = ViewController () // Navication Controller\u3092\u751f\u6210. myNavigationController = UINavigationController ( rootViewController : myViewController ) // UIWindow\u3092\u751f\u6210. self . window = UIWindow ( frame : UIScreen . mainScreen (). bounds ) // rootViewController\u306bNatigationController\u3092\u8a2d\u5b9a. self . window ?. rootViewController = myNavigationController self . window ?. makeKeyAndVisible () return true } } UIViewController.swift Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 // // ViewController.swift // UIKit051_3.0 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UITableViewDelegate , UITableViewDataSource { let myItems : NSMutableArray = [ \"TEST1\" , \"TEST2\" , \"TEST3\" ] var myTableView : UITableView ! override func viewDidLoad () { super . viewDidLoad () // \u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u30d0\u30fc\u306b\u8868\u793a\u3059\u308b\u30bf\u30a4\u30c8\u30eb. self . title = \"TableView Test\" // \u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u30d0\u30fc\u3092\u53d6\u5f97. self . navigationController ?. navigationBar // \u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u30d0\u30fc\u3092\u8868\u793a. self . navigationController ?. isNavigationBarHidden = false // \u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u30d0\u30fc\u306e\u53f3\u5074\u306b\u7de8\u96c6\u30dc\u30bf\u30f3\u3092\u8ffd\u52a0. self . navigationItem . rightBarButtonItem = self . editButtonItem // Status Bar\u306e\u9ad8\u3055\u3092\u53d6\u5f97. let barHeight : CGFloat = UIApplication . shared . statusBarFrame . size . height // View\u306e\u9ad8\u3055\u3068\u5e45\u3092\u53d6\u5f97. let displayWidth : CGFloat = self . view . frame . width let displayHeight : CGFloat = self . view . frame . height // TableView\u306e\u751f\u6210( status bar\u306e\u9ad8\u3055\u5206\u305a\u3089\u3057\u3066\u8868\u793a ). myTableView = UITableView ( frame : CGRect ( x : 0 , y : barHeight , width : displayWidth , height : displayHeight - barHeight )) // Cell\u306e\u767b\u9332. myTableView . register ( UITableViewCell . self , forCellReuseIdentifier : \"MyCell\" ) // DataSource\u306e\u8a2d\u5b9a. myTableView . dataSource = self // Delegate\u3092\u8a2d\u5b9a. myTableView . delegate = self // \u7f6b\u7dda\u3092\u9752\u8272\u306b\u8a2d\u5b9a. myTableView . separatorColor = UIColor . blue // \u7de8\u96c6\u4e2d\u306e\u30bb\u30eb\u9078\u629e\u3092\u8a31\u53ef. myTableView . allowsSelectionDuringEditing = true // TableView\u3092View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myTableView ) } /* Cell\u304c\u9078\u629e\u3055\u308c\u305f\u969b\u306b\u547c\u3073\u51fa\u3055\u308c\u308b. */ func tableView ( _ tableView : UITableView , didSelectRowAt indexPath : IndexPath ) { // \u9078\u629e\u4e2d\u306e\u30bb\u30eb\u304c\u4f55\u756a\u76ee\u304b. print ( \"Num: \\( indexPath . row ) \" ) // \u9078\u629e\u4e2d\u306e\u30bb\u30eb\u306evalue. print ( \"Value: \\( myItems [ indexPath . row ] ) \" ) // \u9078\u629e\u4e2d\u306e\u30bb\u30eb\u3092\u7de8\u96c6\u3067\u304d\u308b\u304b. print ( \"Edeintg: \\( tableView . isEditing ) \" ) } /* Cell\u306e\u7dcf\u6570\u3092\u8fd4\u3059 (\u5b9f\u88c5\u5fc5\u9808) */ func tableView ( _ tableView : UITableView , numberOfRowsInSection section : Int ) -> Int { return myItems . count } /* Cell\u306b\u5024\u3092\u8a2d\u5b9a\u3059\u308b (\u5b9f\u88c5\u5fc5\u9808) */ func tableView ( _ tableView : UITableView , cellForRowAt indexPath : IndexPath ) -> UITableViewCell { let cell = tableView . dequeueReusableCell ( withIdentifier : \"MyCell\" , for : indexPath as IndexPath ) // Cell\u306b\u5024\u3092\u8a2d\u5b9a. cell . textLabel ?. text = \" \\( myItems [ indexPath . row ] ) \" return cell } /* \u7de8\u96c6\u30dc\u30bf\u30f3\u304c\u62bc\u3055\u308c\u305f\u969b\u306b\u547c\u3073\u51fa\u3055\u308c\u308b */ override func setEditing ( _ editing : Bool , animated : Bool ) { super . setEditing ( editing , animated : animated ) // TableView\u3092\u7de8\u96c6\u53ef\u80fd\u306b\u3059\u308b myTableView . setEditing ( editing , animated : true ) // \u7de8\u96c6\u4e2d\u306e\u3068\u304d\u306e\u307faddButton\u3092\u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u30d0\u30fc\u306e\u5de6\u306b\u8868\u793a\u3059\u308b if editing { print ( \"\u7de8\u96c6\u4e2d\" ) let addButton = UIBarButtonItem ( barButtonSystemItem : UIBarButtonItem . SystemItem . add , target : self , action : #selector ( ViewController . addCell ( sender :))) self . navigationItem . setLeftBarButton ( addButton , animated : true ) } else { print ( \"\u901a\u5e38\u30e2\u30fc\u30c9\" ) self . navigationItem . setLeftBarButton ( nil , animated : true ) } } /* addButton\u304c\u62bc\u3055\u308c\u305f\u969b\u547c\u3073\u51fa\u3055\u308c\u308b */ @objc func addCell ( sender : AnyObject ) { print ( \"\u8ffd\u52a0\" ) // myItems\u306b\u8ffd\u52a0. myItems . add ( \"add Cell\" ) // TableView\u3092\u518d\u8aad\u307f\u8fbc\u307f. myTableView . reloadData () } /* Cell\u3092\u633f\u5165\u307e\u305f\u306f\u524a\u9664\u3057\u3088\u3046\u3068\u3057\u305f\u969b\u306b\u547c\u3073\u51fa\u3055\u308c\u308b */ func tableView ( _ tableView : UITableView , commit editingStyle : UITableViewCell . EditingStyle , forRowAt indexPath : IndexPath ) { // \u524a\u9664\u306e\u3068\u304d. if editingStyle == UITableViewCell . EditingStyle . delete { print ( \"\u524a\u9664\" ) // \u6307\u5b9a\u3055\u308c\u305f\u30bb\u30eb\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092myItems\u304b\u3089\u524a\u9664\u3059\u308b. myItems . removeObject ( at : indexPath . row ) // TableView\u3092\u518d\u8aad\u307f\u8fbc\u307f. myTableView . reloadData () } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 // // ViewController.swift // UIKit051_3.0 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UITableViewDelegate , UITableViewDataSource { let myItems : NSMutableArray = [ \"TEST1\" , \"TEST2\" , \"TEST3\" ] var myTableView : UITableView ! override func viewDidLoad () { super . viewDidLoad () // \u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u30d0\u30fc\u306b\u8868\u793a\u3059\u308b\u30bf\u30a4\u30c8\u30eb. self . title = \"TableView Test\" // \u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u30d0\u30fc\u3092\u53d6\u5f97. self . navigationController ?. navigationBar // \u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u30d0\u30fc\u3092\u8868\u793a. self . navigationController ?. isNavigationBarHidden = false // \u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u30d0\u30fc\u306e\u53f3\u5074\u306b\u7de8\u96c6\u30dc\u30bf\u30f3\u3092\u8ffd\u52a0. self . navigationItem . rightBarButtonItem = self . editButtonItem // Status Bar\u306e\u9ad8\u3055\u3092\u53d6\u5f97. let barHeight : CGFloat = UIApplication . shared . statusBarFrame . size . height // View\u306e\u9ad8\u3055\u3068\u5e45\u3092\u53d6\u5f97. let displayWidth : CGFloat = self . view . frame . width let displayHeight : CGFloat = self . view . frame . height // TableView\u306e\u751f\u6210( status bar\u306e\u9ad8\u3055\u5206\u305a\u3089\u3057\u3066\u8868\u793a ). myTableView = UITableView ( frame : CGRect ( x : 0 , y : barHeight , width : displayWidth , height : displayHeight - barHeight )) // Cell\u306e\u767b\u9332. myTableView . register ( UITableViewCell . self , forCellReuseIdentifier : \"MyCell\" ) // DataSource\u306e\u8a2d\u5b9a. myTableView . dataSource = self // Delegate\u3092\u8a2d\u5b9a. myTableView . delegate = self // \u7f6b\u7dda\u3092\u9752\u8272\u306b\u8a2d\u5b9a. myTableView . separatorColor = UIColor . blue // \u7de8\u96c6\u4e2d\u306e\u30bb\u30eb\u9078\u629e\u3092\u8a31\u53ef. myTableView . allowsSelectionDuringEditing = true // TableView\u3092View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myTableView ) } /* Cell\u304c\u9078\u629e\u3055\u308c\u305f\u969b\u306b\u547c\u3073\u51fa\u3055\u308c\u308b. */ func tableView ( _ tableView : UITableView , didSelectRowAt indexPath : IndexPath ) { // \u9078\u629e\u4e2d\u306e\u30bb\u30eb\u304c\u4f55\u756a\u76ee\u304b. print ( \"Num: \\( indexPath . row ) \" ) // \u9078\u629e\u4e2d\u306e\u30bb\u30eb\u306evalue. print ( \"Value: \\( myItems [ indexPath . row ] ) \" ) // \u9078\u629e\u4e2d\u306e\u30bb\u30eb\u3092\u7de8\u96c6\u3067\u304d\u308b\u304b. print ( \"Edeintg: \\( tableView . isEditing ) \" ) } /* Cell\u306e\u7dcf\u6570\u3092\u8fd4\u3059 (\u5b9f\u88c5\u5fc5\u9808) */ func tableView ( _ tableView : UITableView , numberOfRowsInSection section : Int ) -> Int { return myItems . count } /* Cell\u306b\u5024\u3092\u8a2d\u5b9a\u3059\u308b (\u5b9f\u88c5\u5fc5\u9808) */ func tableView ( _ tableView : UITableView , cellForRowAt indexPath : IndexPath ) -> UITableViewCell { let cell = tableView . dequeueReusableCell ( withIdentifier : \"MyCell\" , for : indexPath as IndexPath ) // Cell\u306b\u5024\u3092\u8a2d\u5b9a. cell . textLabel ?. text = \" \\( myItems [ indexPath . row ] ) \" return cell } /* \u7de8\u96c6\u30dc\u30bf\u30f3\u304c\u62bc\u3055\u308c\u305f\u969b\u306b\u547c\u3073\u51fa\u3055\u308c\u308b */ override func setEditing ( _ editing : Bool , animated : Bool ) { super . setEditing ( editing , animated : animated ) // TableView\u3092\u7de8\u96c6\u53ef\u80fd\u306b\u3059\u308b myTableView . setEditing ( editing , animated : true ) // \u7de8\u96c6\u4e2d\u306e\u3068\u304d\u306e\u307faddButton\u3092\u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u30d0\u30fc\u306e\u5de6\u306b\u8868\u793a\u3059\u308b if editing { print ( \"\u7de8\u96c6\u4e2d\" ) let addButton = UIBarButtonItem ( barButtonSystemItem : UIBarButtonSystemItem . add , target : self , action : #selector ( ViewController . addCell ( sender :))) self . navigationItem . setLeftBarButton ( addButton , animated : true ) } else { print ( \"\u901a\u5e38\u30e2\u30fc\u30c9\" ) self . navigationItem . setLeftBarButton ( nil , animated : true ) } } /* addButton\u304c\u62bc\u3055\u308c\u305f\u969b\u547c\u3073\u51fa\u3055\u308c\u308b */ func addCell ( sender : AnyObject ) { print ( \"\u8ffd\u52a0\" ) // myItems\u306b\u8ffd\u52a0. myItems . add ( \"add Cell\" ) // TableView\u3092\u518d\u8aad\u307f\u8fbc\u307f. myTableView . reloadData () } /* Cell\u3092\u633f\u5165\u307e\u305f\u306f\u524a\u9664\u3057\u3088\u3046\u3068\u3057\u305f\u969b\u306b\u547c\u3073\u51fa\u3055\u308c\u308b */ func tableView ( _ tableView : UITableView , commit editingStyle : UITableViewCellEditingStyle , forRowAt indexPath : IndexPath ) { // \u524a\u9664\u306e\u3068\u304d. if editingStyle == UITableViewCellEditingStyle . delete { print ( \"\u524a\u9664\" ) // \u6307\u5b9a\u3055\u308c\u305f\u30bb\u30eb\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092myItems\u304b\u3089\u524a\u9664\u3059\u308b. myItems . removeObject ( at : indexPath . row ) // TableView\u3092\u518d\u8aad\u307f\u8fbc\u307f. myTableView . reloadData () } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 // // ViewController.swift // UIKit051_2.3 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UITableViewDelegate , UITableViewDataSource { let myItems : NSMutableArray = [ \"TEST1\" , \"TEST2\" , \"TEST3\" ] var myTableView : UITableView ! override func viewDidLoad () { super . viewDidLoad () // \u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u30d0\u30fc\u306b\u8868\u793a\u3059\u308b\u30bf\u30a4\u30c8\u30eb. self . title = \"TableView Test\" // \u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u30d0\u30fc\u3092\u53d6\u5f97. self . navigationController ?. navigationBar // \u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u30d0\u30fc\u3092\u8868\u793a. self . navigationController ?. navigationBarHidden = false // \u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u30d0\u30fc\u306e\u53f3\u5074\u306b\u7de8\u96c6\u30dc\u30bf\u30f3\u3092\u8ffd\u52a0. self . navigationItem . rightBarButtonItem = self . editButtonItem () // Status Bar\u306e\u9ad8\u3055\u3092\u53d6\u5f97. let barHeight : CGFloat = UIApplication . sharedApplication (). statusBarFrame . size . height // View\u306e\u9ad8\u3055\u3068\u5e45\u3092\u53d6\u5f97. let displayWidth : CGFloat = self . view . frame . width let displayHeight : CGFloat = self . view . frame . height // TableView\u306e\u751f\u6210( status bar\u306e\u9ad8\u3055\u5206\u305a\u3089\u3057\u3066\u8868\u793a ). myTableView = UITableView ( frame : CGRect ( x : 0 , y : barHeight , width : displayWidth , height : displayHeight - barHeight )) // Cell\u306e\u767b\u9332. myTableView . registerClass ( UITableViewCell . self , forCellReuseIdentifier : \"MyCell\" ) // DataSource\u306e\u8a2d\u5b9a. myTableView . dataSource = self // Delegate\u3092\u8a2d\u5b9a. myTableView . delegate = self // \u7f6b\u7dda\u3092\u9752\u8272\u306b\u8a2d\u5b9a. myTableView . separatorColor = UIColor . blueColor () // \u7de8\u96c6\u4e2d\u306e\u30bb\u30eb\u9078\u629e\u3092\u8a31\u53ef. myTableView . allowsSelectionDuringEditing = true // TableView\u3092View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myTableView ) } /* Cell\u304c\u9078\u629e\u3055\u308c\u305f\u969b\u306b\u547c\u3073\u51fa\u3055\u308c\u308b. */ func tableView ( tableView : UITableView , didSelectRowAtIndexPath indexPath : NSIndexPath ) { // \u9078\u629e\u4e2d\u306e\u30bb\u30eb\u304c\u4f55\u756a\u76ee\u304b. print ( \"Num: \\( indexPath . row ) \" ) // \u9078\u629e\u4e2d\u306e\u30bb\u30eb\u306evalue. print ( \"Value: \\( myItems [ indexPath . row ] ) \" ) // \u9078\u629e\u4e2d\u306e\u30bb\u30eb\u3092\u7de8\u96c6\u3067\u304d\u308b\u304b. print ( \"Edeintg: \\( tableView . editing ) \" ) } /* Cell\u306e\u7dcf\u6570\u3092\u8fd4\u3059 (\u5b9f\u88c5\u5fc5\u9808) */ func tableView ( tableView : UITableView , numberOfRowsInSection section : Int ) -> Int { return myItems . count } /* Cell\u306b\u5024\u3092\u8a2d\u5b9a\u3059\u308b (\u5b9f\u88c5\u5fc5\u9808) */ func tableView ( tableView : UITableView , cellForRowAtIndexPath indexPath : NSIndexPath ) -> UITableViewCell { let cell = tableView . dequeueReusableCellWithIdentifier ( \"MyCell\" , forIndexPath : indexPath ) // Cell\u306b\u5024\u3092\u8a2d\u5b9a. cell . textLabel ?. text = \" \\( myItems [ indexPath . row ] ) \" return cell } /* \u7de8\u96c6\u30dc\u30bf\u30f3\u304c\u62bc\u3055\u308c\u305f\u969b\u306b\u547c\u3073\u51fa\u3055\u308c\u308b */ override func setEditing ( editing : Bool , animated : Bool ) { super . setEditing ( editing , animated : animated ) // TableView\u3092\u7de8\u96c6\u53ef\u80fd\u306b\u3059\u308b myTableView . setEditing ( editing , animated : true ) // \u7de8\u96c6\u4e2d\u306e\u3068\u304d\u306e\u307faddButton\u3092\u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u30d0\u30fc\u306e\u5de6\u306b\u8868\u793a\u3059\u308b if editing { print ( \"\u7de8\u96c6\u4e2d\" ) let addButton = UIBarButtonItem ( barButtonSystemItem : UIBarButtonSystemItem . Add , target : self , action : #selector ( ViewController . addCell ( _ :))) self . navigationItem . setLeftBarButtonItem ( addButton , animated : true ) } else { print ( \"\u901a\u5e38\u30e2\u30fc\u30c9\" ) self . navigationItem . setLeftBarButtonItem ( nil , animated : true ) } } /* addButton\u304c\u62bc\u3055\u308c\u305f\u969b\u547c\u3073\u51fa\u3055\u308c\u308b */ func addCell ( sender : AnyObject ) { print ( \"\u8ffd\u52a0\" ) // myItems\u306b\u8ffd\u52a0. myItems . addObject ( \"add Cell\" ) // TableView\u3092\u518d\u8aad\u307f\u8fbc\u307f. myTableView . reloadData () } /* Cell\u3092\u633f\u5165\u307e\u305f\u306f\u524a\u9664\u3057\u3088\u3046\u3068\u3057\u305f\u969b\u306b\u547c\u3073\u51fa\u3055\u308c\u308b */ func tableView ( tableView : UITableView , commitEditingStyle editingStyle : UITableViewCellEditingStyle , forRowAtIndexPath indexPath : NSIndexPath ) { // \u524a\u9664\u306e\u3068\u304d. if editingStyle == UITableViewCellEditingStyle . Delete { print ( \"\u524a\u9664\" ) // \u6307\u5b9a\u3055\u308c\u305f\u30bb\u30eb\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092myItems\u304b\u3089\u524a\u9664\u3059\u308b. myItems . removeObjectAtIndex ( indexPath . row ) // TableView\u3092\u518d\u8aad\u307f\u8fbc\u307f. myTableView . reloadData () } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } 3.x\u30684.x\u306e\u5dee\u5206 func application( application: UIApplication, didFinishLaunchingWithOptions launchOptions: [NSObject : AnyObject]? ) -> Bool\u304c\u3001 func application( application: UIApplication, willFinishLaunchingWithOptions launchOptions: [UIApplication.LaunchOptionsKey : Any]? = nil ) -> Bool\u306b\u5909\u66f4 UIBarButtonSystemItem \u304c UIBarButtonItem.SystemItem \u306b\u5909\u66f4 func addCell \u306b @objc \u3092\u8ffd\u52a0 UITableViewCellEditingStyle \u304c UITableViewCell.EditingStyle \u306b\u5909\u66f4 2.3\u30683.0\u306e\u5dee\u5206 UIColor\u306e\u53c2\u7167\u65b9\u6cd5\u304c\u5909\u66f4(UIColor.grayColor()->UIColor.gray) CGRect,CGPoint\u306e\u521d\u671f\u5316\u65b9\u6cd5\u306e\u5909\u66f4(CGRectMake,CGPointMake\u306e\u5ec3\u6b62) UINavigationController\u306e\u4e00\u90e8\u30d7\u30ed\u30d1\u30c6\u30a3\u540d\u306e\u5909\u66f4(navigationBarHidden->isNavigationBarHidden) Reference UITableView Class https://developer.apple.com/reference/uikit/uitableview UITableViewDelegate https://developer.apple.com/reference/uikit/uitableviewdelegate UITableViewDataSource https://developer.apple.com/reference/uikit/uitableviewdatasource","title":"UITableView\u306b\u8ffd\u52a0\u30fb\u524a\u9664\u6a5f\u80fd\u3092\u8ffd\u52a0"},{"location":"1.uikit/051_uitableview/#uitableview","text":"","title":"UITableView\u306b\u8ffd\u52a0\u30fb\u524a\u9664\u6a5f\u80fd\u3092\u8ffd\u52a0"},{"location":"1.uikit/051_uitableview/#appdelegateswift","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 // // AppDelegate.swift // UIKit051_4.0 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit @UIApplicationMain class AppDelegate : UIResponder , UIApplicationDelegate { var window : UIWindow ? var myNavigationController : UINavigationController ? func application ( _ application : UIApplication , willFinishLaunchingWithOptions launchOptions : [ UIApplication . LaunchOptionsKey : Any ]? = nil ) -> Bool { // ViewController\u3092\u751f\u6210. let myViewController : ViewController = ViewController () // Navication Controller\u3092\u751f\u6210. myNavigationController = UINavigationController ( rootViewController : myViewController ) // UIWindow\u3092\u751f\u6210. self . window = UIWindow ( frame : UIScreen . main . bounds ) // rootViewController\u306bNatigationController\u3092\u8a2d\u5b9a. self . window ?. rootViewController = myNavigationController self . window ?. makeKeyAndVisible () return true } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 // // AppDelegate.swift // UIKit051_3.0 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit @UIApplicationMain class AppDelegate : UIResponder , UIApplicationDelegate { var window : UIWindow ? var myNavigationController : UINavigationController ? func application ( _ application : UIApplication , didFinishLaunchingWithOptions launchOptions : [ NSObject : AnyObject ]?) -> Bool { // ViewController\u3092\u751f\u6210. let myViewController : ViewController = ViewController () // Navication Controller\u3092\u751f\u6210. myNavigationController = UINavigationController ( rootViewController : myViewController ) // UIWindow\u3092\u751f\u6210. self . window = UIWindow ( frame : UIScreen . main . bounds ) // rootViewController\u306bNatigationController\u3092\u8a2d\u5b9a. self . window ?. rootViewController = myNavigationController self . window ?. makeKeyAndVisible () return true } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 // // AppDelegate.swift // UIKit051_2.3 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit @UIApplicationMain class AppDelegate : UIResponder , UIApplicationDelegate { var window : UIWindow ? var myNavigationController : UINavigationController ? func application ( application : UIApplication , didFinishLaunchingWithOptions launchOptions : [ NSObject : AnyObject ]?) -> Bool { // ViewController\u3092\u751f\u6210. let myViewController : ViewController = ViewController () // Navication Controller\u3092\u751f\u6210. myNavigationController = UINavigationController ( rootViewController : myViewController ) // UIWindow\u3092\u751f\u6210. self . window = UIWindow ( frame : UIScreen . mainScreen (). bounds ) // rootViewController\u306bNatigationController\u3092\u8a2d\u5b9a. self . window ?. rootViewController = myNavigationController self . window ?. makeKeyAndVisible () return true } }","title":"AppDelegate.swift"},{"location":"1.uikit/051_uitableview/#uiviewcontrollerswift","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 // // ViewController.swift // UIKit051_3.0 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UITableViewDelegate , UITableViewDataSource { let myItems : NSMutableArray = [ \"TEST1\" , \"TEST2\" , \"TEST3\" ] var myTableView : UITableView ! override func viewDidLoad () { super . viewDidLoad () // \u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u30d0\u30fc\u306b\u8868\u793a\u3059\u308b\u30bf\u30a4\u30c8\u30eb. self . title = \"TableView Test\" // \u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u30d0\u30fc\u3092\u53d6\u5f97. self . navigationController ?. navigationBar // \u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u30d0\u30fc\u3092\u8868\u793a. self . navigationController ?. isNavigationBarHidden = false // \u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u30d0\u30fc\u306e\u53f3\u5074\u306b\u7de8\u96c6\u30dc\u30bf\u30f3\u3092\u8ffd\u52a0. self . navigationItem . rightBarButtonItem = self . editButtonItem // Status Bar\u306e\u9ad8\u3055\u3092\u53d6\u5f97. let barHeight : CGFloat = UIApplication . shared . statusBarFrame . size . height // View\u306e\u9ad8\u3055\u3068\u5e45\u3092\u53d6\u5f97. let displayWidth : CGFloat = self . view . frame . width let displayHeight : CGFloat = self . view . frame . height // TableView\u306e\u751f\u6210( status bar\u306e\u9ad8\u3055\u5206\u305a\u3089\u3057\u3066\u8868\u793a ). myTableView = UITableView ( frame : CGRect ( x : 0 , y : barHeight , width : displayWidth , height : displayHeight - barHeight )) // Cell\u306e\u767b\u9332. myTableView . register ( UITableViewCell . self , forCellReuseIdentifier : \"MyCell\" ) // DataSource\u306e\u8a2d\u5b9a. myTableView . dataSource = self // Delegate\u3092\u8a2d\u5b9a. myTableView . delegate = self // \u7f6b\u7dda\u3092\u9752\u8272\u306b\u8a2d\u5b9a. myTableView . separatorColor = UIColor . blue // \u7de8\u96c6\u4e2d\u306e\u30bb\u30eb\u9078\u629e\u3092\u8a31\u53ef. myTableView . allowsSelectionDuringEditing = true // TableView\u3092View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myTableView ) } /* Cell\u304c\u9078\u629e\u3055\u308c\u305f\u969b\u306b\u547c\u3073\u51fa\u3055\u308c\u308b. */ func tableView ( _ tableView : UITableView , didSelectRowAt indexPath : IndexPath ) { // \u9078\u629e\u4e2d\u306e\u30bb\u30eb\u304c\u4f55\u756a\u76ee\u304b. print ( \"Num: \\( indexPath . row ) \" ) // \u9078\u629e\u4e2d\u306e\u30bb\u30eb\u306evalue. print ( \"Value: \\( myItems [ indexPath . row ] ) \" ) // \u9078\u629e\u4e2d\u306e\u30bb\u30eb\u3092\u7de8\u96c6\u3067\u304d\u308b\u304b. print ( \"Edeintg: \\( tableView . isEditing ) \" ) } /* Cell\u306e\u7dcf\u6570\u3092\u8fd4\u3059 (\u5b9f\u88c5\u5fc5\u9808) */ func tableView ( _ tableView : UITableView , numberOfRowsInSection section : Int ) -> Int { return myItems . count } /* Cell\u306b\u5024\u3092\u8a2d\u5b9a\u3059\u308b (\u5b9f\u88c5\u5fc5\u9808) */ func tableView ( _ tableView : UITableView , cellForRowAt indexPath : IndexPath ) -> UITableViewCell { let cell = tableView . dequeueReusableCell ( withIdentifier : \"MyCell\" , for : indexPath as IndexPath ) // Cell\u306b\u5024\u3092\u8a2d\u5b9a. cell . textLabel ?. text = \" \\( myItems [ indexPath . row ] ) \" return cell } /* \u7de8\u96c6\u30dc\u30bf\u30f3\u304c\u62bc\u3055\u308c\u305f\u969b\u306b\u547c\u3073\u51fa\u3055\u308c\u308b */ override func setEditing ( _ editing : Bool , animated : Bool ) { super . setEditing ( editing , animated : animated ) // TableView\u3092\u7de8\u96c6\u53ef\u80fd\u306b\u3059\u308b myTableView . setEditing ( editing , animated : true ) // \u7de8\u96c6\u4e2d\u306e\u3068\u304d\u306e\u307faddButton\u3092\u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u30d0\u30fc\u306e\u5de6\u306b\u8868\u793a\u3059\u308b if editing { print ( \"\u7de8\u96c6\u4e2d\" ) let addButton = UIBarButtonItem ( barButtonSystemItem : UIBarButtonItem . SystemItem . add , target : self , action : #selector ( ViewController . addCell ( sender :))) self . navigationItem . setLeftBarButton ( addButton , animated : true ) } else { print ( \"\u901a\u5e38\u30e2\u30fc\u30c9\" ) self . navigationItem . setLeftBarButton ( nil , animated : true ) } } /* addButton\u304c\u62bc\u3055\u308c\u305f\u969b\u547c\u3073\u51fa\u3055\u308c\u308b */ @objc func addCell ( sender : AnyObject ) { print ( \"\u8ffd\u52a0\" ) // myItems\u306b\u8ffd\u52a0. myItems . add ( \"add Cell\" ) // TableView\u3092\u518d\u8aad\u307f\u8fbc\u307f. myTableView . reloadData () } /* Cell\u3092\u633f\u5165\u307e\u305f\u306f\u524a\u9664\u3057\u3088\u3046\u3068\u3057\u305f\u969b\u306b\u547c\u3073\u51fa\u3055\u308c\u308b */ func tableView ( _ tableView : UITableView , commit editingStyle : UITableViewCell . EditingStyle , forRowAt indexPath : IndexPath ) { // \u524a\u9664\u306e\u3068\u304d. if editingStyle == UITableViewCell . EditingStyle . delete { print ( \"\u524a\u9664\" ) // \u6307\u5b9a\u3055\u308c\u305f\u30bb\u30eb\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092myItems\u304b\u3089\u524a\u9664\u3059\u308b. myItems . removeObject ( at : indexPath . row ) // TableView\u3092\u518d\u8aad\u307f\u8fbc\u307f. myTableView . reloadData () } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 // // ViewController.swift // UIKit051_3.0 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UITableViewDelegate , UITableViewDataSource { let myItems : NSMutableArray = [ \"TEST1\" , \"TEST2\" , \"TEST3\" ] var myTableView : UITableView ! override func viewDidLoad () { super . viewDidLoad () // \u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u30d0\u30fc\u306b\u8868\u793a\u3059\u308b\u30bf\u30a4\u30c8\u30eb. self . title = \"TableView Test\" // \u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u30d0\u30fc\u3092\u53d6\u5f97. self . navigationController ?. navigationBar // \u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u30d0\u30fc\u3092\u8868\u793a. self . navigationController ?. isNavigationBarHidden = false // \u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u30d0\u30fc\u306e\u53f3\u5074\u306b\u7de8\u96c6\u30dc\u30bf\u30f3\u3092\u8ffd\u52a0. self . navigationItem . rightBarButtonItem = self . editButtonItem // Status Bar\u306e\u9ad8\u3055\u3092\u53d6\u5f97. let barHeight : CGFloat = UIApplication . shared . statusBarFrame . size . height // View\u306e\u9ad8\u3055\u3068\u5e45\u3092\u53d6\u5f97. let displayWidth : CGFloat = self . view . frame . width let displayHeight : CGFloat = self . view . frame . height // TableView\u306e\u751f\u6210( status bar\u306e\u9ad8\u3055\u5206\u305a\u3089\u3057\u3066\u8868\u793a ). myTableView = UITableView ( frame : CGRect ( x : 0 , y : barHeight , width : displayWidth , height : displayHeight - barHeight )) // Cell\u306e\u767b\u9332. myTableView . register ( UITableViewCell . self , forCellReuseIdentifier : \"MyCell\" ) // DataSource\u306e\u8a2d\u5b9a. myTableView . dataSource = self // Delegate\u3092\u8a2d\u5b9a. myTableView . delegate = self // \u7f6b\u7dda\u3092\u9752\u8272\u306b\u8a2d\u5b9a. myTableView . separatorColor = UIColor . blue // \u7de8\u96c6\u4e2d\u306e\u30bb\u30eb\u9078\u629e\u3092\u8a31\u53ef. myTableView . allowsSelectionDuringEditing = true // TableView\u3092View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myTableView ) } /* Cell\u304c\u9078\u629e\u3055\u308c\u305f\u969b\u306b\u547c\u3073\u51fa\u3055\u308c\u308b. */ func tableView ( _ tableView : UITableView , didSelectRowAt indexPath : IndexPath ) { // \u9078\u629e\u4e2d\u306e\u30bb\u30eb\u304c\u4f55\u756a\u76ee\u304b. print ( \"Num: \\( indexPath . row ) \" ) // \u9078\u629e\u4e2d\u306e\u30bb\u30eb\u306evalue. print ( \"Value: \\( myItems [ indexPath . row ] ) \" ) // \u9078\u629e\u4e2d\u306e\u30bb\u30eb\u3092\u7de8\u96c6\u3067\u304d\u308b\u304b. print ( \"Edeintg: \\( tableView . isEditing ) \" ) } /* Cell\u306e\u7dcf\u6570\u3092\u8fd4\u3059 (\u5b9f\u88c5\u5fc5\u9808) */ func tableView ( _ tableView : UITableView , numberOfRowsInSection section : Int ) -> Int { return myItems . count } /* Cell\u306b\u5024\u3092\u8a2d\u5b9a\u3059\u308b (\u5b9f\u88c5\u5fc5\u9808) */ func tableView ( _ tableView : UITableView , cellForRowAt indexPath : IndexPath ) -> UITableViewCell { let cell = tableView . dequeueReusableCell ( withIdentifier : \"MyCell\" , for : indexPath as IndexPath ) // Cell\u306b\u5024\u3092\u8a2d\u5b9a. cell . textLabel ?. text = \" \\( myItems [ indexPath . row ] ) \" return cell } /* \u7de8\u96c6\u30dc\u30bf\u30f3\u304c\u62bc\u3055\u308c\u305f\u969b\u306b\u547c\u3073\u51fa\u3055\u308c\u308b */ override func setEditing ( _ editing : Bool , animated : Bool ) { super . setEditing ( editing , animated : animated ) // TableView\u3092\u7de8\u96c6\u53ef\u80fd\u306b\u3059\u308b myTableView . setEditing ( editing , animated : true ) // \u7de8\u96c6\u4e2d\u306e\u3068\u304d\u306e\u307faddButton\u3092\u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u30d0\u30fc\u306e\u5de6\u306b\u8868\u793a\u3059\u308b if editing { print ( \"\u7de8\u96c6\u4e2d\" ) let addButton = UIBarButtonItem ( barButtonSystemItem : UIBarButtonSystemItem . add , target : self , action : #selector ( ViewController . addCell ( sender :))) self . navigationItem . setLeftBarButton ( addButton , animated : true ) } else { print ( \"\u901a\u5e38\u30e2\u30fc\u30c9\" ) self . navigationItem . setLeftBarButton ( nil , animated : true ) } } /* addButton\u304c\u62bc\u3055\u308c\u305f\u969b\u547c\u3073\u51fa\u3055\u308c\u308b */ func addCell ( sender : AnyObject ) { print ( \"\u8ffd\u52a0\" ) // myItems\u306b\u8ffd\u52a0. myItems . add ( \"add Cell\" ) // TableView\u3092\u518d\u8aad\u307f\u8fbc\u307f. myTableView . reloadData () } /* Cell\u3092\u633f\u5165\u307e\u305f\u306f\u524a\u9664\u3057\u3088\u3046\u3068\u3057\u305f\u969b\u306b\u547c\u3073\u51fa\u3055\u308c\u308b */ func tableView ( _ tableView : UITableView , commit editingStyle : UITableViewCellEditingStyle , forRowAt indexPath : IndexPath ) { // \u524a\u9664\u306e\u3068\u304d. if editingStyle == UITableViewCellEditingStyle . delete { print ( \"\u524a\u9664\" ) // \u6307\u5b9a\u3055\u308c\u305f\u30bb\u30eb\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092myItems\u304b\u3089\u524a\u9664\u3059\u308b. myItems . removeObject ( at : indexPath . row ) // TableView\u3092\u518d\u8aad\u307f\u8fbc\u307f. myTableView . reloadData () } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 // // ViewController.swift // UIKit051_2.3 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UITableViewDelegate , UITableViewDataSource { let myItems : NSMutableArray = [ \"TEST1\" , \"TEST2\" , \"TEST3\" ] var myTableView : UITableView ! override func viewDidLoad () { super . viewDidLoad () // \u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u30d0\u30fc\u306b\u8868\u793a\u3059\u308b\u30bf\u30a4\u30c8\u30eb. self . title = \"TableView Test\" // \u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u30d0\u30fc\u3092\u53d6\u5f97. self . navigationController ?. navigationBar // \u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u30d0\u30fc\u3092\u8868\u793a. self . navigationController ?. navigationBarHidden = false // \u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u30d0\u30fc\u306e\u53f3\u5074\u306b\u7de8\u96c6\u30dc\u30bf\u30f3\u3092\u8ffd\u52a0. self . navigationItem . rightBarButtonItem = self . editButtonItem () // Status Bar\u306e\u9ad8\u3055\u3092\u53d6\u5f97. let barHeight : CGFloat = UIApplication . sharedApplication (). statusBarFrame . size . height // View\u306e\u9ad8\u3055\u3068\u5e45\u3092\u53d6\u5f97. let displayWidth : CGFloat = self . view . frame . width let displayHeight : CGFloat = self . view . frame . height // TableView\u306e\u751f\u6210( status bar\u306e\u9ad8\u3055\u5206\u305a\u3089\u3057\u3066\u8868\u793a ). myTableView = UITableView ( frame : CGRect ( x : 0 , y : barHeight , width : displayWidth , height : displayHeight - barHeight )) // Cell\u306e\u767b\u9332. myTableView . registerClass ( UITableViewCell . self , forCellReuseIdentifier : \"MyCell\" ) // DataSource\u306e\u8a2d\u5b9a. myTableView . dataSource = self // Delegate\u3092\u8a2d\u5b9a. myTableView . delegate = self // \u7f6b\u7dda\u3092\u9752\u8272\u306b\u8a2d\u5b9a. myTableView . separatorColor = UIColor . blueColor () // \u7de8\u96c6\u4e2d\u306e\u30bb\u30eb\u9078\u629e\u3092\u8a31\u53ef. myTableView . allowsSelectionDuringEditing = true // TableView\u3092View\u306b\u8ffd\u52a0\u3059\u308b. self . view . addSubview ( myTableView ) } /* Cell\u304c\u9078\u629e\u3055\u308c\u305f\u969b\u306b\u547c\u3073\u51fa\u3055\u308c\u308b. */ func tableView ( tableView : UITableView , didSelectRowAtIndexPath indexPath : NSIndexPath ) { // \u9078\u629e\u4e2d\u306e\u30bb\u30eb\u304c\u4f55\u756a\u76ee\u304b. print ( \"Num: \\( indexPath . row ) \" ) // \u9078\u629e\u4e2d\u306e\u30bb\u30eb\u306evalue. print ( \"Value: \\( myItems [ indexPath . row ] ) \" ) // \u9078\u629e\u4e2d\u306e\u30bb\u30eb\u3092\u7de8\u96c6\u3067\u304d\u308b\u304b. print ( \"Edeintg: \\( tableView . editing ) \" ) } /* Cell\u306e\u7dcf\u6570\u3092\u8fd4\u3059 (\u5b9f\u88c5\u5fc5\u9808) */ func tableView ( tableView : UITableView , numberOfRowsInSection section : Int ) -> Int { return myItems . count } /* Cell\u306b\u5024\u3092\u8a2d\u5b9a\u3059\u308b (\u5b9f\u88c5\u5fc5\u9808) */ func tableView ( tableView : UITableView , cellForRowAtIndexPath indexPath : NSIndexPath ) -> UITableViewCell { let cell = tableView . dequeueReusableCellWithIdentifier ( \"MyCell\" , forIndexPath : indexPath ) // Cell\u306b\u5024\u3092\u8a2d\u5b9a. cell . textLabel ?. text = \" \\( myItems [ indexPath . row ] ) \" return cell } /* \u7de8\u96c6\u30dc\u30bf\u30f3\u304c\u62bc\u3055\u308c\u305f\u969b\u306b\u547c\u3073\u51fa\u3055\u308c\u308b */ override func setEditing ( editing : Bool , animated : Bool ) { super . setEditing ( editing , animated : animated ) // TableView\u3092\u7de8\u96c6\u53ef\u80fd\u306b\u3059\u308b myTableView . setEditing ( editing , animated : true ) // \u7de8\u96c6\u4e2d\u306e\u3068\u304d\u306e\u307faddButton\u3092\u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u30d0\u30fc\u306e\u5de6\u306b\u8868\u793a\u3059\u308b if editing { print ( \"\u7de8\u96c6\u4e2d\" ) let addButton = UIBarButtonItem ( barButtonSystemItem : UIBarButtonSystemItem . Add , target : self , action : #selector ( ViewController . addCell ( _ :))) self . navigationItem . setLeftBarButtonItem ( addButton , animated : true ) } else { print ( \"\u901a\u5e38\u30e2\u30fc\u30c9\" ) self . navigationItem . setLeftBarButtonItem ( nil , animated : true ) } } /* addButton\u304c\u62bc\u3055\u308c\u305f\u969b\u547c\u3073\u51fa\u3055\u308c\u308b */ func addCell ( sender : AnyObject ) { print ( \"\u8ffd\u52a0\" ) // myItems\u306b\u8ffd\u52a0. myItems . addObject ( \"add Cell\" ) // TableView\u3092\u518d\u8aad\u307f\u8fbc\u307f. myTableView . reloadData () } /* Cell\u3092\u633f\u5165\u307e\u305f\u306f\u524a\u9664\u3057\u3088\u3046\u3068\u3057\u305f\u969b\u306b\u547c\u3073\u51fa\u3055\u308c\u308b */ func tableView ( tableView : UITableView , commitEditingStyle editingStyle : UITableViewCellEditingStyle , forRowAtIndexPath indexPath : NSIndexPath ) { // \u524a\u9664\u306e\u3068\u304d. if editingStyle == UITableViewCellEditingStyle . Delete { print ( \"\u524a\u9664\" ) // \u6307\u5b9a\u3055\u308c\u305f\u30bb\u30eb\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092myItems\u304b\u3089\u524a\u9664\u3059\u308b. myItems . removeObjectAtIndex ( indexPath . row ) // TableView\u3092\u518d\u8aad\u307f\u8fbc\u307f. myTableView . reloadData () } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } }","title":"UIViewController.swift"},{"location":"1.uikit/051_uitableview/#3x4x","text":"func application( application: UIApplication, didFinishLaunchingWithOptions launchOptions: [NSObject : AnyObject]? ) -> Bool\u304c\u3001 func application( application: UIApplication, willFinishLaunchingWithOptions launchOptions: [UIApplication.LaunchOptionsKey : Any]? = nil ) -> Bool\u306b\u5909\u66f4 UIBarButtonSystemItem \u304c UIBarButtonItem.SystemItem \u306b\u5909\u66f4 func addCell \u306b @objc \u3092\u8ffd\u52a0 UITableViewCellEditingStyle \u304c UITableViewCell.EditingStyle \u306b\u5909\u66f4","title":"3.x\u30684.x\u306e\u5dee\u5206"},{"location":"1.uikit/051_uitableview/#2330","text":"UIColor\u306e\u53c2\u7167\u65b9\u6cd5\u304c\u5909\u66f4(UIColor.grayColor()->UIColor.gray) CGRect,CGPoint\u306e\u521d\u671f\u5316\u65b9\u6cd5\u306e\u5909\u66f4(CGRectMake,CGPointMake\u306e\u5ec3\u6b62) UINavigationController\u306e\u4e00\u90e8\u30d7\u30ed\u30d1\u30c6\u30a3\u540d\u306e\u5909\u66f4(navigationBarHidden->isNavigationBarHidden)","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"1.uikit/051_uitableview/#reference","text":"UITableView Class https://developer.apple.com/reference/uikit/uitableview UITableViewDelegate https://developer.apple.com/reference/uikit/uitableviewdelegate UITableViewDataSource https://developer.apple.com/reference/uikit/uitableviewdatasource","title":"Reference"},{"location":"1.uikit/052_uibezierpath/","text":"UIBezierPath\u3067\u56f3\u5f62\u3092\u63cf\u753b UIViewController.swift Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 // // ViewController.swift // UIKit052_4.0 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // view\u306e\u80cc\u666f\u8272\u3092\u8a2d\u5b9a. self . view . backgroundColor = UIColor ( red : 0.902 , green : 0.803 , blue : 0.890 , alpha : 1.0 ) // SegmentedController\u3092\u751f\u6210. let mySegcon = UISegmentedControl ( items : [ \"Circle\" , \"Rectangle\" , \"Line\" ]) mySegcon . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 50 ) mySegcon . tintColor = UIColor . blue mySegcon . addTarget ( self , action : #selector ( ViewController . changedValue ( sender :)), for : UIControl . Event . valueChanged ) // view\u306bSegmentedController\u3092\u8ffd\u52a0. self . view . addSubview ( mySegcon ) } /* SegmentedController\u306e\u5024\u304c\u5909\u308f\u3063\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ @objc func changedValue ( sender : UISegmentedControl ) { var myDrawView : UIView ! // SegmentedController\u306e\u5024\u306b\u3088\u3063\u3066\u305d\u308c\u305e\u308c\u306e\u30af\u30e9\u30b9\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u751f\u6210. switch ( sender . selectedSegmentIndex ) { case 0 : myDrawView = drawCircleView ( frame : CGRect ( x : 0 , y : 0 , width : 300 , height : 300 )) case 1 : myDrawView = drawRectangleView ( frame : CGRect ( x : 0 , y : 0 , width : 300 , height : 300 )) case 2 : myDrawView = drawLineView ( frame : CGRect ( x : 0 , y : 0 , width : 300 , height : 300 )) default : print ( \"error\" ) return } // \u63cf\u753b\u7528view\u306e\u4e2d\u5fc3\u3092\u8a2d\u5b9a. myDrawView . center = CGPoint ( x : self . view . frame . width / 2 , y : 170 ) myDrawView . backgroundColor = UIColor . white // \u63cf\u753b\u7528view\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( myDrawView ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 // // ViewController.swift // UIKit052_3.0 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // view\u306e\u80cc\u666f\u8272\u3092\u8a2d\u5b9a. self . view . backgroundColor = UIColor ( red : 0.902 , green : 0.803 , blue : 0.890 , alpha : 1.0 ) // SegmentedController\u3092\u751f\u6210. let mySegcon = UISegmentedControl ( items : [ \"Circle\" , \"Rectangle\" , \"Line\" ]) mySegcon . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 50 ) mySegcon . tintColor = UIColor . blue mySegcon . addTarget ( self , action : #selector ( ViewController . changedValue ( sender :)), for : UIControlEvents . valueChanged ) // view\u306bSegmentedController\u3092\u8ffd\u52a0. self . view . addSubview ( mySegcon ) } /* SegmentedController\u306e\u5024\u304c\u5909\u308f\u3063\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func changedValue ( sender : UISegmentedControl ) { var myDrawView : UIView ! // SegmentedController\u306e\u5024\u306b\u3088\u3063\u3066\u305d\u308c\u305e\u308c\u306e\u30af\u30e9\u30b9\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u751f\u6210. switch ( sender . selectedSegmentIndex ) { case 0 : myDrawView = drawCircleView ( frame : CGRect ( x : 0 , y : 0 , width : 300 , height : 300 )) case 1 : myDrawView = drawRectangleView ( frame : CGRect ( x : 0 , y : 0 , width : 300 , height : 300 )) case 2 : myDrawView = drawLineView ( frame : CGRect ( x : 0 , y : 0 , width : 300 , height : 300 )) default : print ( \"error\" ) return } // \u63cf\u753b\u7528view\u306e\u4e2d\u5fc3\u3092\u8a2d\u5b9a. myDrawView . center = CGPoint ( x : self . view . frame . width / 2 , y : 170 ) myDrawView . backgroundColor = UIColor . white // \u63cf\u753b\u7528view\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( myDrawView ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 // // ViewController.swift // UIKit052_2.3 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // view\u306e\u80cc\u666f\u8272\u3092\u8a2d\u5b9a. self . view . backgroundColor = UIColor ( red : 0.902 , green : 0.803 , blue : 0.890 , alpha : 1.0 ) // SegmentedController\u3092\u751f\u6210. let mySegcon = UISegmentedControl ( items : [ \"Circle\" , \"Rectangle\" , \"Line\" ]) mySegcon . layer . position = CGPointMake ( self . view . frame . width / 2 , self . view . frame . height - 50 ) mySegcon . tintColor = UIColor . blueColor () mySegcon . addTarget ( self , action : #selector ( ViewController . changedValue ( _ :)), forControlEvents : UIControlEvents . ValueChanged ) // view\u306bSegmentedController\u3092\u8ffd\u52a0. self . view . addSubview ( mySegcon ) } /* SegmentedController\u306e\u5024\u304c\u5909\u308f\u3063\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func changedValue ( sender : UISegmentedControl ) { var myDrawView : UIView ! // SegmentedController\u306e\u5024\u306b\u3088\u3063\u3066\u305d\u308c\u305e\u308c\u306e\u30af\u30e9\u30b9\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u751f\u6210. switch ( sender . selectedSegmentIndex ) { case 0 : myDrawView = drawCircleView ( frame : CGRectMake ( 0 , 0 , 300 , 300 )) case 1 : myDrawView = drawRectangleView ( frame : CGRectMake ( 0 , 0 , 300 , 300 )) case 2 : myDrawView = drawLineView ( frame : CGRectMake ( 0 , 0 , 300 , 300 )) default : print ( \"error\" ) return } // \u63cf\u753b\u7528view\u306e\u4e2d\u5fc3\u3092\u8a2d\u5b9a. myDrawView . center = CGPointMake ( self . view . frame . width / 2 , 170 ) myDrawView . backgroundColor = UIColor . whiteColor () // \u63cf\u753b\u7528view\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( myDrawView ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } drawCircleView.swift Swift 4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 // // drawCircleView.swift // UIKit052_4.0 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit /* \u76f4\u7dda\u3092\u63cf\u5199\u3059\u308bclass. */ class drawCircleView : UIView { override init ( frame : CGRect ) { super . init ( frame : frame ) } required init ( coder aDecoder : NSCoder ) { fatalError ( \"init(coder:) has not been implemented\" ) } /* \u8868\u793a\u3092\u66f4\u65b0\u3059\u308b\u5fc5\u8981\u304c\u751f\u305a\u308b\u3068\u81ea\u52d5\u7684\u306b\u547c\u3073\u51fa\u3055\u308c\u308b. */ override func draw ( _ rect : CGRect ) { // view\u306e\u8a2d\u5b9a. self . layer . borderColor = UIColor . brown . cgColor self . layer . borderWidth = 0.5 self . layer . cornerRadius = 10.0 self . layer . masksToBounds = true let circlePoint = CGPoint ( x : 100 , y : 100 ) // \u5186\u306eBezierPath\u3092\u751f\u6210 let myCircle : UIBezierPath = UIBezierPath ( arcCenter : circlePoint , // \u534a\u5f84. radius : 70.0 , // \u521d\u89d2\u5ea6. startAngle : 0.0 , // \u6700\u7d42\u89d2\u5ea6. endAngle : CGFloat ( M_PI * 2 / 4 ), // \u53cd\u6642\u8a08\u56de\u308a. clockwise : false ) // \u7dda\u306e\u8272\u3092\u8d64\u8272\u306b\u8a2d\u5b9a. UIColor . red . setStroke () // \u5857\u308a\u3064\u3076\u3057\u306e\u8272\u3092\u9ec4\u8272\u306b\u8a2d\u5b9a. UIColor . yellow . setFill () // \u7dda\u3067\u9589\u3058\u305f\u5185\u5074\u3092\u5857\u308a\u3064\u3076\u3059. myCircle . fill () // \u7dda\u306e\u592a\u3055\u3092\u8a2d\u5b9a. myCircle . lineWidth = 3.0 // \u63cf\u753b. myCircle . stroke () // \u6955\u5186\u306eBezierPath\u3092\u751f\u6210. let myOval : UIBezierPath = UIBezierPath ( ovalIn : CGRect ( x : 130 , y : 150 , width : 150 , height : 100 )) UIColor . blue . setStroke () UIColor . gray . setFill () myOval . fill () myOval . lineWidth = 2.0 // \u63cf\u753b. myOval . stroke () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 // // drawCircleView.swift // UIKit052_2.3 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit /* \u76f4\u7dda\u3092\u63cf\u5199\u3059\u308bclass. */ class drawCircleView : UIView { override init ( frame : CGRect ) { super . init ( frame : frame ) } required init ( coder aDecoder : NSCoder ) { fatalError ( \"init(coder:) has not been implemented\" ) } /* \u8868\u793a\u3092\u66f4\u65b0\u3059\u308b\u5fc5\u8981\u304c\u751f\u305a\u308b\u3068\u81ea\u52d5\u7684\u306b\u547c\u3073\u51fa\u3055\u308c\u308b. */ override func drawRect ( rect : CGRect ) { // view\u306e\u8a2d\u5b9a. self . layer . borderColor = UIColor . brownColor (). CGColor self . layer . borderWidth = 0.5 self . layer . cornerRadius = 10.0 self . layer . masksToBounds = true let circlePoint = CGPointMake ( 100 , 100 ) let ovalPoint = CGPointMake ( 200 , 200 ) // \u5186\u306eBezierPath\u3092\u751f\u6210 let myCircle : UIBezierPath = UIBezierPath ( arcCenter : circlePoint , // \u534a\u5f84. radius : 70.0 , // \u521d\u89d2\u5ea6. startAngle : 0.0 , // \u6700\u7d42\u89d2\u5ea6. endAngle : CGFloat ( M_PI * 2 / 4 ), // \u53cd\u6642\u8a08\u56de\u308a. clockwise : false ) // \u7dda\u306e\u8272\u3092\u8d64\u8272\u306b\u8a2d\u5b9a. UIColor . redColor (). setStroke () // \u5857\u308a\u3064\u3076\u3057\u306e\u8272\u3092\u9ec4\u8272\u306b\u8a2d\u5b9a. UIColor . yellowColor (). setFill () // \u7dda\u3067\u9589\u3058\u305f\u5185\u5074\u3092\u5857\u308a\u3064\u3076\u3059. myCircle . fill () // \u7dda\u306e\u592a\u3055\u3092\u8a2d\u5b9a. myCircle . lineWidth = 3.0 // \u63cf\u753b. myCircle . stroke () // \u6955\u5186\u306eBezierPath\u3092\u751f\u6210. let myOval : UIBezierPath = UIBezierPath ( ovalInRect : CGRectMake ( 130 , 150 , 150 , 100 )) UIColor . blueColor (). setStroke () UIColor . grayColor (). setFill () myOval . fill () myOval . lineWidth = 2.0 // \u63cf\u753b. myOval . stroke () } } drawRectangleView.swift Swift 4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 // // drawRectangleView.swift // UIKit052_4.0 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit /* \u76f4\u7dda\u3092\u63cf\u5199\u3059\u308bclass. */ class drawRectangleView : UIView { override init ( frame : CGRect ) { super . init ( frame : frame ) } required init ( coder aDecoder : NSCoder ) { fatalError ( \"init(coder:) has not been implemented\" ) } /* \u8868\u793a\u3092\u66f4\u65b0\u3059\u308b\u5fc5\u8981\u304c\u751f\u305a\u308b\u3068\u81ea\u52d5\u7684\u306b\u547c\u3073\u51fa\u3055\u308c\u308b. */ override func draw ( _ rect : CGRect ) { // view\u306e\u8a2d\u5b9a. self . layer . borderColor = UIColor . brown . cgColor self . layer . borderWidth = 0.5 self . layer . cornerRadius = 10.0 self . layer . masksToBounds = true // \u9577\u65b9\u5f62\u306eUIBezierPath\u3092\u751f\u6210. let myRect1 : UIBezierPath = UIBezierPath ( rect : CGRect ( x : 5 , y : 5 , width : 290 , height : 290 )) // \u7dda\u306e\u8272\u3092\u9752\u8272\u306b\u8a2d\u5b9a. UIColor . blue . setStroke () // \u7dda\u306e\u592a\u3055\u3092\u8a2d\u5b9a. myRect1 . lineWidth = 1.0 // \u63cf\u753b. myRect1 . stroke () // \u89d2\u4e38\u306e\u9577\u65b9\u5f62\u306eUIBezierPath\u3092\u751f\u6210. let myRect2 : UIBezierPath = UIBezierPath ( roundedRect : CGRect ( x : 50 , y : 50 , width : 200 , height : 100 ), // \u5168\u3066\u306e\u89d2\u3092\u4e38\u304f\u3059\u308b. byRoundingCorners : UIRectCorner . allCorners , // \u4e38\u304f\u3059\u308b\u5ea6\u3092\u8a2d\u5b9a. cornerRadii : CGSize ( width : 5.0 , height : 5.0 )) // \u7dda\u306e\u8272\u3092\u30aa\u30ec\u30f3\u30b8\u8272\u306b\u8a2d\u5b9a. UIColor . orange . setStroke () // \u5857\u308a\u3064\u3076\u3057\u306e\u8272\u3092\u9ec4\u8272\u306b\u8a2d\u5b9a. UIColor . yellow . setFill () // \u5857\u308a\u3064\u3076\u3057. myRect2 . fill () // \u7dda\u306e\u592a\u3055\u3092\u8a2d\u5b9a. myRect2 . lineWidth = 3.0 // \u63cf\u753b. myRect2 . stroke () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 // // drawRectangleView.swift // UIKit052_2.3 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit /* \u76f4\u7dda\u3092\u63cf\u5199\u3059\u308bclass. */ class drawRectangleView : UIView { override init ( frame : CGRect ) { super . init ( frame : frame ) } required init ( coder aDecoder : NSCoder ) { fatalError ( \"init(coder:) has not been implemented\" ) } /* \u8868\u793a\u3092\u66f4\u65b0\u3059\u308b\u5fc5\u8981\u304c\u751f\u305a\u308b\u3068\u81ea\u52d5\u7684\u306b\u547c\u3073\u51fa\u3055\u308c\u308b. */ override func drawRect ( rect : CGRect ) { // view\u306e\u8a2d\u5b9a. self . layer . borderColor = UIColor . brownColor (). CGColor self . layer . borderWidth = 0.5 self . layer . cornerRadius = 10.0 self . layer . masksToBounds = true // \u9577\u65b9\u5f62\u306eUIBezierPath\u3092\u751f\u6210. let myRect1 : UIBezierPath = UIBezierPath ( rect : CGRectMake ( 5 , 5 , 290 , 290 )) // \u7dda\u306e\u8272\u3092\u9752\u8272\u306b\u8a2d\u5b9a. UIColor . blueColor (). setStroke () // \u7dda\u306e\u592a\u3055\u3092\u8a2d\u5b9a. myRect1 . lineWidth = 1.0 // \u63cf\u753b. myRect1 . stroke () // \u89d2\u4e38\u306e\u9577\u65b9\u5f62\u306eUIBezierPath\u3092\u751f\u6210. let myRect2 : UIBezierPath = UIBezierPath ( roundedRect : CGRectMake ( 50 , 50 , 200 , 100 ), // \u5168\u3066\u306e\u89d2\u3092\u4e38\u304f\u3059\u308b. byRoundingCorners : UIRectCorner . AllCorners , // \u4e38\u304f\u3059\u308b\u5ea6\u3092\u8a2d\u5b9a. cornerRadii : CGSizeMake ( 5.0 , 5.0 )) // \u7dda\u306e\u8272\u3092\u30aa\u30ec\u30f3\u30b8\u8272\u306b\u8a2d\u5b9a. UIColor . orangeColor (). setStroke () // \u5857\u308a\u3064\u3076\u3057\u306e\u8272\u3092\u9ec4\u8272\u306b\u8a2d\u5b9a. UIColor . yellowColor (). setFill () // \u5857\u308a\u3064\u3076\u3057. myRect2 . fill () // \u7dda\u306e\u592a\u3055\u3092\u8a2d\u5b9a. myRect2 . lineWidth = 3.0 // \u63cf\u753b. myRect2 . stroke () } } drawLineView.swift Swift 4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 // // drawLineView.swift // UIKit052_4.0 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit /* \u76f4\u7dda\u3092\u63cf\u5199\u3059\u308bclass. */ class drawLineView : UIView { override init ( frame : CGRect ) { super . init ( frame : frame ) } required init ( coder aDecoder : NSCoder ) { fatalError ( \"init(coder:) has not been implemented\" ) } /* \u8868\u793a\u3092\u66f4\u65b0\u3059\u308b\u5fc5\u8981\u304c\u751f\u305a\u308b\u3068\u81ea\u52d5\u7684\u306b\u547c\u3073\u51fa\u3055\u308c\u308b. */ override func draw ( _ rect : CGRect ) { // view\u306e\u8a2d\u5b9a. self . layer . borderColor = UIColor . brown . cgColor self . layer . borderWidth = 0.5 self . layer . cornerRadius = 10.0 self . layer . masksToBounds = true // BezierPath\u3092\u751f\u6210. let myLine : UIBezierPath = UIBezierPath () // \u7dda\u306e\u8272\u3092\u9752\u8272\u306b\u8a2d\u5b9a. UIColor . red . setStroke () // \u59cb\u70b9\u3092\u8a2d\u5b9a. myLine . move ( to : CGPoint . zero ) // \u6b21\u70b9\u3092\u8a2d\u5b9a. myLine . addLine ( to : CGPoint ( x : 50 , y : 150 )) myLine . addLine ( to : CGPoint ( x : 200 , y : 100 )) // \u7d42\u70b9\u3092\u8a2d\u5b9a. myLine . addLine ( to : CGPoint ( x : self . bounds . width , y : self . bounds . height )) // \u59cb\u70b9\u3068\u7d42\u7740\u70b9\u3092\u7e4b\u3044\u3067\u9589\u3058\u308b. myLine . close () // \u5857\u308a\u3064\u3076\u3057\u306e\u8272\u3092\u8a2d\u5b9a. UIColor . yellow . setFill () // \u7dda\u3067\u9589\u3058\u305f\u5185\u5074\u3092\u5857\u308a\u3064\u3076\u3059. myLine . fill () // \u7dda\u306e\u592a\u3055\u3092\u8a2d\u5b9a. myLine . lineWidth = 3.0 // \u63cf\u753b. myLine . stroke () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 // // drawLineView.swift // UIKit052_2.3 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit /* \u76f4\u7dda\u3092\u63cf\u5199\u3059\u308bclass. */ class drawLineView : UIView { override init ( frame : CGRect ) { super . init ( frame : frame ) } required init ( coder aDecoder : NSCoder ) { fatalError ( \"init(coder:) has not been implemented\" ) } /* \u8868\u793a\u3092\u66f4\u65b0\u3059\u308b\u5fc5\u8981\u304c\u751f\u305a\u308b\u3068\u81ea\u52d5\u7684\u306b\u547c\u3073\u51fa\u3055\u308c\u308b. */ override func drawRect ( rect : CGRect ) { // view\u306e\u8a2d\u5b9a. self . layer . borderColor = UIColor . brownColor (). CGColor self . layer . borderWidth = 0.5 self . layer . cornerRadius = 10.0 self . layer . masksToBounds = true // BezierPath\u3092\u751f\u6210. let myLine : UIBezierPath = UIBezierPath () // \u7dda\u306e\u8272\u3092\u9752\u8272\u306b\u8a2d\u5b9a. UIColor . redColor (). setStroke () // \u59cb\u70b9\u3092\u8a2d\u5b9a. myLine . moveToPoint ( CGPointZero ) // \u6b21\u70b9\u3092\u8a2d\u5b9a. myLine . addLineToPoint ( CGPointMake ( 50 , 150 )) myLine . addLineToPoint ( CGPointMake ( 200 , 100 )) // \u7d42\u70b9\u3092\u8a2d\u5b9a. myLine . addLineToPoint ( CGPointMake ( self . bounds . width , self . bounds . height )) // \u59cb\u70b9\u3068\u7d42\u7740\u70b9\u3092\u7e4b\u3044\u3067\u9589\u3058\u308b. myLine . closePath () // \u5857\u308a\u3064\u3076\u3057\u306e\u8272\u3092\u8a2d\u5b9a. UIColor . yellowColor (). setFill () // \u7dda\u3067\u9589\u3058\u305f\u5185\u5074\u3092\u5857\u308a\u3064\u3076\u3059. myLine . fill () // \u7dda\u306e\u592a\u3055\u3092\u8a2d\u5b9a. myLine . lineWidth = 3.0 // \u63cf\u753b. myLine . stroke () } } 3.x\u30684.x\u306e\u5dee\u5206 UIControlEvents \u304c UIControl.Event \u306b\u5909\u66f4 func changedValue \u306b @objc \u3092\u8ffd\u52a0 2.3\u30683.0\u306e\u5dee\u5206 UIColor\u306e\u53c2\u7167\u65b9\u6cd5\u304c\u5909\u66f4(UIColor.grayColor()->UIColor.gray) CGRect,CGPoint\u306e\u521d\u671f\u5316\u65b9\u6cd5\u306e\u5909\u66f4(CGRectMake,CGPointMake\u306e\u5ec3\u6b62) drawRect(rect: CGRect) \u304c draw(_ rect: CGRect) \u306b\u5909\u66f4 UIBezierPath(ovalInRect:) \u304c UIBezierPath(ovalIn:) \u306b\u5909\u66f4 Reference UIBezierPath Class https://developer.apple.com/reference/uikit/uibezierpath","title":"UIBezierPath\u3067\u56f3\u5f62\u3092\u63cf\u753b"},{"location":"1.uikit/052_uibezierpath/#uibezierpath","text":"","title":"UIBezierPath\u3067\u56f3\u5f62\u3092\u63cf\u753b"},{"location":"1.uikit/052_uibezierpath/#uiviewcontrollerswift","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 // // ViewController.swift // UIKit052_4.0 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // view\u306e\u80cc\u666f\u8272\u3092\u8a2d\u5b9a. self . view . backgroundColor = UIColor ( red : 0.902 , green : 0.803 , blue : 0.890 , alpha : 1.0 ) // SegmentedController\u3092\u751f\u6210. let mySegcon = UISegmentedControl ( items : [ \"Circle\" , \"Rectangle\" , \"Line\" ]) mySegcon . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 50 ) mySegcon . tintColor = UIColor . blue mySegcon . addTarget ( self , action : #selector ( ViewController . changedValue ( sender :)), for : UIControl . Event . valueChanged ) // view\u306bSegmentedController\u3092\u8ffd\u52a0. self . view . addSubview ( mySegcon ) } /* SegmentedController\u306e\u5024\u304c\u5909\u308f\u3063\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ @objc func changedValue ( sender : UISegmentedControl ) { var myDrawView : UIView ! // SegmentedController\u306e\u5024\u306b\u3088\u3063\u3066\u305d\u308c\u305e\u308c\u306e\u30af\u30e9\u30b9\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u751f\u6210. switch ( sender . selectedSegmentIndex ) { case 0 : myDrawView = drawCircleView ( frame : CGRect ( x : 0 , y : 0 , width : 300 , height : 300 )) case 1 : myDrawView = drawRectangleView ( frame : CGRect ( x : 0 , y : 0 , width : 300 , height : 300 )) case 2 : myDrawView = drawLineView ( frame : CGRect ( x : 0 , y : 0 , width : 300 , height : 300 )) default : print ( \"error\" ) return } // \u63cf\u753b\u7528view\u306e\u4e2d\u5fc3\u3092\u8a2d\u5b9a. myDrawView . center = CGPoint ( x : self . view . frame . width / 2 , y : 170 ) myDrawView . backgroundColor = UIColor . white // \u63cf\u753b\u7528view\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( myDrawView ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 // // ViewController.swift // UIKit052_3.0 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // view\u306e\u80cc\u666f\u8272\u3092\u8a2d\u5b9a. self . view . backgroundColor = UIColor ( red : 0.902 , green : 0.803 , blue : 0.890 , alpha : 1.0 ) // SegmentedController\u3092\u751f\u6210. let mySegcon = UISegmentedControl ( items : [ \"Circle\" , \"Rectangle\" , \"Line\" ]) mySegcon . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 50 ) mySegcon . tintColor = UIColor . blue mySegcon . addTarget ( self , action : #selector ( ViewController . changedValue ( sender :)), for : UIControlEvents . valueChanged ) // view\u306bSegmentedController\u3092\u8ffd\u52a0. self . view . addSubview ( mySegcon ) } /* SegmentedController\u306e\u5024\u304c\u5909\u308f\u3063\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func changedValue ( sender : UISegmentedControl ) { var myDrawView : UIView ! // SegmentedController\u306e\u5024\u306b\u3088\u3063\u3066\u305d\u308c\u305e\u308c\u306e\u30af\u30e9\u30b9\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u751f\u6210. switch ( sender . selectedSegmentIndex ) { case 0 : myDrawView = drawCircleView ( frame : CGRect ( x : 0 , y : 0 , width : 300 , height : 300 )) case 1 : myDrawView = drawRectangleView ( frame : CGRect ( x : 0 , y : 0 , width : 300 , height : 300 )) case 2 : myDrawView = drawLineView ( frame : CGRect ( x : 0 , y : 0 , width : 300 , height : 300 )) default : print ( \"error\" ) return } // \u63cf\u753b\u7528view\u306e\u4e2d\u5fc3\u3092\u8a2d\u5b9a. myDrawView . center = CGPoint ( x : self . view . frame . width / 2 , y : 170 ) myDrawView . backgroundColor = UIColor . white // \u63cf\u753b\u7528view\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( myDrawView ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 // // ViewController.swift // UIKit052_2.3 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // view\u306e\u80cc\u666f\u8272\u3092\u8a2d\u5b9a. self . view . backgroundColor = UIColor ( red : 0.902 , green : 0.803 , blue : 0.890 , alpha : 1.0 ) // SegmentedController\u3092\u751f\u6210. let mySegcon = UISegmentedControl ( items : [ \"Circle\" , \"Rectangle\" , \"Line\" ]) mySegcon . layer . position = CGPointMake ( self . view . frame . width / 2 , self . view . frame . height - 50 ) mySegcon . tintColor = UIColor . blueColor () mySegcon . addTarget ( self , action : #selector ( ViewController . changedValue ( _ :)), forControlEvents : UIControlEvents . ValueChanged ) // view\u306bSegmentedController\u3092\u8ffd\u52a0. self . view . addSubview ( mySegcon ) } /* SegmentedController\u306e\u5024\u304c\u5909\u308f\u3063\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func changedValue ( sender : UISegmentedControl ) { var myDrawView : UIView ! // SegmentedController\u306e\u5024\u306b\u3088\u3063\u3066\u305d\u308c\u305e\u308c\u306e\u30af\u30e9\u30b9\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u751f\u6210. switch ( sender . selectedSegmentIndex ) { case 0 : myDrawView = drawCircleView ( frame : CGRectMake ( 0 , 0 , 300 , 300 )) case 1 : myDrawView = drawRectangleView ( frame : CGRectMake ( 0 , 0 , 300 , 300 )) case 2 : myDrawView = drawLineView ( frame : CGRectMake ( 0 , 0 , 300 , 300 )) default : print ( \"error\" ) return } // \u63cf\u753b\u7528view\u306e\u4e2d\u5fc3\u3092\u8a2d\u5b9a. myDrawView . center = CGPointMake ( self . view . frame . width / 2 , 170 ) myDrawView . backgroundColor = UIColor . whiteColor () // \u63cf\u753b\u7528view\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( myDrawView ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } }","title":"UIViewController.swift"},{"location":"1.uikit/052_uibezierpath/#drawcircleviewswift","text":"Swift 4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 // // drawCircleView.swift // UIKit052_4.0 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit /* \u76f4\u7dda\u3092\u63cf\u5199\u3059\u308bclass. */ class drawCircleView : UIView { override init ( frame : CGRect ) { super . init ( frame : frame ) } required init ( coder aDecoder : NSCoder ) { fatalError ( \"init(coder:) has not been implemented\" ) } /* \u8868\u793a\u3092\u66f4\u65b0\u3059\u308b\u5fc5\u8981\u304c\u751f\u305a\u308b\u3068\u81ea\u52d5\u7684\u306b\u547c\u3073\u51fa\u3055\u308c\u308b. */ override func draw ( _ rect : CGRect ) { // view\u306e\u8a2d\u5b9a. self . layer . borderColor = UIColor . brown . cgColor self . layer . borderWidth = 0.5 self . layer . cornerRadius = 10.0 self . layer . masksToBounds = true let circlePoint = CGPoint ( x : 100 , y : 100 ) // \u5186\u306eBezierPath\u3092\u751f\u6210 let myCircle : UIBezierPath = UIBezierPath ( arcCenter : circlePoint , // \u534a\u5f84. radius : 70.0 , // \u521d\u89d2\u5ea6. startAngle : 0.0 , // \u6700\u7d42\u89d2\u5ea6. endAngle : CGFloat ( M_PI * 2 / 4 ), // \u53cd\u6642\u8a08\u56de\u308a. clockwise : false ) // \u7dda\u306e\u8272\u3092\u8d64\u8272\u306b\u8a2d\u5b9a. UIColor . red . setStroke () // \u5857\u308a\u3064\u3076\u3057\u306e\u8272\u3092\u9ec4\u8272\u306b\u8a2d\u5b9a. UIColor . yellow . setFill () // \u7dda\u3067\u9589\u3058\u305f\u5185\u5074\u3092\u5857\u308a\u3064\u3076\u3059. myCircle . fill () // \u7dda\u306e\u592a\u3055\u3092\u8a2d\u5b9a. myCircle . lineWidth = 3.0 // \u63cf\u753b. myCircle . stroke () // \u6955\u5186\u306eBezierPath\u3092\u751f\u6210. let myOval : UIBezierPath = UIBezierPath ( ovalIn : CGRect ( x : 130 , y : 150 , width : 150 , height : 100 )) UIColor . blue . setStroke () UIColor . gray . setFill () myOval . fill () myOval . lineWidth = 2.0 // \u63cf\u753b. myOval . stroke () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 // // drawCircleView.swift // UIKit052_2.3 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit /* \u76f4\u7dda\u3092\u63cf\u5199\u3059\u308bclass. */ class drawCircleView : UIView { override init ( frame : CGRect ) { super . init ( frame : frame ) } required init ( coder aDecoder : NSCoder ) { fatalError ( \"init(coder:) has not been implemented\" ) } /* \u8868\u793a\u3092\u66f4\u65b0\u3059\u308b\u5fc5\u8981\u304c\u751f\u305a\u308b\u3068\u81ea\u52d5\u7684\u306b\u547c\u3073\u51fa\u3055\u308c\u308b. */ override func drawRect ( rect : CGRect ) { // view\u306e\u8a2d\u5b9a. self . layer . borderColor = UIColor . brownColor (). CGColor self . layer . borderWidth = 0.5 self . layer . cornerRadius = 10.0 self . layer . masksToBounds = true let circlePoint = CGPointMake ( 100 , 100 ) let ovalPoint = CGPointMake ( 200 , 200 ) // \u5186\u306eBezierPath\u3092\u751f\u6210 let myCircle : UIBezierPath = UIBezierPath ( arcCenter : circlePoint , // \u534a\u5f84. radius : 70.0 , // \u521d\u89d2\u5ea6. startAngle : 0.0 , // \u6700\u7d42\u89d2\u5ea6. endAngle : CGFloat ( M_PI * 2 / 4 ), // \u53cd\u6642\u8a08\u56de\u308a. clockwise : false ) // \u7dda\u306e\u8272\u3092\u8d64\u8272\u306b\u8a2d\u5b9a. UIColor . redColor (). setStroke () // \u5857\u308a\u3064\u3076\u3057\u306e\u8272\u3092\u9ec4\u8272\u306b\u8a2d\u5b9a. UIColor . yellowColor (). setFill () // \u7dda\u3067\u9589\u3058\u305f\u5185\u5074\u3092\u5857\u308a\u3064\u3076\u3059. myCircle . fill () // \u7dda\u306e\u592a\u3055\u3092\u8a2d\u5b9a. myCircle . lineWidth = 3.0 // \u63cf\u753b. myCircle . stroke () // \u6955\u5186\u306eBezierPath\u3092\u751f\u6210. let myOval : UIBezierPath = UIBezierPath ( ovalInRect : CGRectMake ( 130 , 150 , 150 , 100 )) UIColor . blueColor (). setStroke () UIColor . grayColor (). setFill () myOval . fill () myOval . lineWidth = 2.0 // \u63cf\u753b. myOval . stroke () } }","title":"drawCircleView.swift"},{"location":"1.uikit/052_uibezierpath/#drawrectangleviewswift","text":"Swift 4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 // // drawRectangleView.swift // UIKit052_4.0 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit /* \u76f4\u7dda\u3092\u63cf\u5199\u3059\u308bclass. */ class drawRectangleView : UIView { override init ( frame : CGRect ) { super . init ( frame : frame ) } required init ( coder aDecoder : NSCoder ) { fatalError ( \"init(coder:) has not been implemented\" ) } /* \u8868\u793a\u3092\u66f4\u65b0\u3059\u308b\u5fc5\u8981\u304c\u751f\u305a\u308b\u3068\u81ea\u52d5\u7684\u306b\u547c\u3073\u51fa\u3055\u308c\u308b. */ override func draw ( _ rect : CGRect ) { // view\u306e\u8a2d\u5b9a. self . layer . borderColor = UIColor . brown . cgColor self . layer . borderWidth = 0.5 self . layer . cornerRadius = 10.0 self . layer . masksToBounds = true // \u9577\u65b9\u5f62\u306eUIBezierPath\u3092\u751f\u6210. let myRect1 : UIBezierPath = UIBezierPath ( rect : CGRect ( x : 5 , y : 5 , width : 290 , height : 290 )) // \u7dda\u306e\u8272\u3092\u9752\u8272\u306b\u8a2d\u5b9a. UIColor . blue . setStroke () // \u7dda\u306e\u592a\u3055\u3092\u8a2d\u5b9a. myRect1 . lineWidth = 1.0 // \u63cf\u753b. myRect1 . stroke () // \u89d2\u4e38\u306e\u9577\u65b9\u5f62\u306eUIBezierPath\u3092\u751f\u6210. let myRect2 : UIBezierPath = UIBezierPath ( roundedRect : CGRect ( x : 50 , y : 50 , width : 200 , height : 100 ), // \u5168\u3066\u306e\u89d2\u3092\u4e38\u304f\u3059\u308b. byRoundingCorners : UIRectCorner . allCorners , // \u4e38\u304f\u3059\u308b\u5ea6\u3092\u8a2d\u5b9a. cornerRadii : CGSize ( width : 5.0 , height : 5.0 )) // \u7dda\u306e\u8272\u3092\u30aa\u30ec\u30f3\u30b8\u8272\u306b\u8a2d\u5b9a. UIColor . orange . setStroke () // \u5857\u308a\u3064\u3076\u3057\u306e\u8272\u3092\u9ec4\u8272\u306b\u8a2d\u5b9a. UIColor . yellow . setFill () // \u5857\u308a\u3064\u3076\u3057. myRect2 . fill () // \u7dda\u306e\u592a\u3055\u3092\u8a2d\u5b9a. myRect2 . lineWidth = 3.0 // \u63cf\u753b. myRect2 . stroke () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 // // drawRectangleView.swift // UIKit052_2.3 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit /* \u76f4\u7dda\u3092\u63cf\u5199\u3059\u308bclass. */ class drawRectangleView : UIView { override init ( frame : CGRect ) { super . init ( frame : frame ) } required init ( coder aDecoder : NSCoder ) { fatalError ( \"init(coder:) has not been implemented\" ) } /* \u8868\u793a\u3092\u66f4\u65b0\u3059\u308b\u5fc5\u8981\u304c\u751f\u305a\u308b\u3068\u81ea\u52d5\u7684\u306b\u547c\u3073\u51fa\u3055\u308c\u308b. */ override func drawRect ( rect : CGRect ) { // view\u306e\u8a2d\u5b9a. self . layer . borderColor = UIColor . brownColor (). CGColor self . layer . borderWidth = 0.5 self . layer . cornerRadius = 10.0 self . layer . masksToBounds = true // \u9577\u65b9\u5f62\u306eUIBezierPath\u3092\u751f\u6210. let myRect1 : UIBezierPath = UIBezierPath ( rect : CGRectMake ( 5 , 5 , 290 , 290 )) // \u7dda\u306e\u8272\u3092\u9752\u8272\u306b\u8a2d\u5b9a. UIColor . blueColor (). setStroke () // \u7dda\u306e\u592a\u3055\u3092\u8a2d\u5b9a. myRect1 . lineWidth = 1.0 // \u63cf\u753b. myRect1 . stroke () // \u89d2\u4e38\u306e\u9577\u65b9\u5f62\u306eUIBezierPath\u3092\u751f\u6210. let myRect2 : UIBezierPath = UIBezierPath ( roundedRect : CGRectMake ( 50 , 50 , 200 , 100 ), // \u5168\u3066\u306e\u89d2\u3092\u4e38\u304f\u3059\u308b. byRoundingCorners : UIRectCorner . AllCorners , // \u4e38\u304f\u3059\u308b\u5ea6\u3092\u8a2d\u5b9a. cornerRadii : CGSizeMake ( 5.0 , 5.0 )) // \u7dda\u306e\u8272\u3092\u30aa\u30ec\u30f3\u30b8\u8272\u306b\u8a2d\u5b9a. UIColor . orangeColor (). setStroke () // \u5857\u308a\u3064\u3076\u3057\u306e\u8272\u3092\u9ec4\u8272\u306b\u8a2d\u5b9a. UIColor . yellowColor (). setFill () // \u5857\u308a\u3064\u3076\u3057. myRect2 . fill () // \u7dda\u306e\u592a\u3055\u3092\u8a2d\u5b9a. myRect2 . lineWidth = 3.0 // \u63cf\u753b. myRect2 . stroke () } }","title":"drawRectangleView.swift"},{"location":"1.uikit/052_uibezierpath/#drawlineviewswift","text":"Swift 4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 // // drawLineView.swift // UIKit052_4.0 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit /* \u76f4\u7dda\u3092\u63cf\u5199\u3059\u308bclass. */ class drawLineView : UIView { override init ( frame : CGRect ) { super . init ( frame : frame ) } required init ( coder aDecoder : NSCoder ) { fatalError ( \"init(coder:) has not been implemented\" ) } /* \u8868\u793a\u3092\u66f4\u65b0\u3059\u308b\u5fc5\u8981\u304c\u751f\u305a\u308b\u3068\u81ea\u52d5\u7684\u306b\u547c\u3073\u51fa\u3055\u308c\u308b. */ override func draw ( _ rect : CGRect ) { // view\u306e\u8a2d\u5b9a. self . layer . borderColor = UIColor . brown . cgColor self . layer . borderWidth = 0.5 self . layer . cornerRadius = 10.0 self . layer . masksToBounds = true // BezierPath\u3092\u751f\u6210. let myLine : UIBezierPath = UIBezierPath () // \u7dda\u306e\u8272\u3092\u9752\u8272\u306b\u8a2d\u5b9a. UIColor . red . setStroke () // \u59cb\u70b9\u3092\u8a2d\u5b9a. myLine . move ( to : CGPoint . zero ) // \u6b21\u70b9\u3092\u8a2d\u5b9a. myLine . addLine ( to : CGPoint ( x : 50 , y : 150 )) myLine . addLine ( to : CGPoint ( x : 200 , y : 100 )) // \u7d42\u70b9\u3092\u8a2d\u5b9a. myLine . addLine ( to : CGPoint ( x : self . bounds . width , y : self . bounds . height )) // \u59cb\u70b9\u3068\u7d42\u7740\u70b9\u3092\u7e4b\u3044\u3067\u9589\u3058\u308b. myLine . close () // \u5857\u308a\u3064\u3076\u3057\u306e\u8272\u3092\u8a2d\u5b9a. UIColor . yellow . setFill () // \u7dda\u3067\u9589\u3058\u305f\u5185\u5074\u3092\u5857\u308a\u3064\u3076\u3059. myLine . fill () // \u7dda\u306e\u592a\u3055\u3092\u8a2d\u5b9a. myLine . lineWidth = 3.0 // \u63cf\u753b. myLine . stroke () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 // // drawLineView.swift // UIKit052_2.3 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit /* \u76f4\u7dda\u3092\u63cf\u5199\u3059\u308bclass. */ class drawLineView : UIView { override init ( frame : CGRect ) { super . init ( frame : frame ) } required init ( coder aDecoder : NSCoder ) { fatalError ( \"init(coder:) has not been implemented\" ) } /* \u8868\u793a\u3092\u66f4\u65b0\u3059\u308b\u5fc5\u8981\u304c\u751f\u305a\u308b\u3068\u81ea\u52d5\u7684\u306b\u547c\u3073\u51fa\u3055\u308c\u308b. */ override func drawRect ( rect : CGRect ) { // view\u306e\u8a2d\u5b9a. self . layer . borderColor = UIColor . brownColor (). CGColor self . layer . borderWidth = 0.5 self . layer . cornerRadius = 10.0 self . layer . masksToBounds = true // BezierPath\u3092\u751f\u6210. let myLine : UIBezierPath = UIBezierPath () // \u7dda\u306e\u8272\u3092\u9752\u8272\u306b\u8a2d\u5b9a. UIColor . redColor (). setStroke () // \u59cb\u70b9\u3092\u8a2d\u5b9a. myLine . moveToPoint ( CGPointZero ) // \u6b21\u70b9\u3092\u8a2d\u5b9a. myLine . addLineToPoint ( CGPointMake ( 50 , 150 )) myLine . addLineToPoint ( CGPointMake ( 200 , 100 )) // \u7d42\u70b9\u3092\u8a2d\u5b9a. myLine . addLineToPoint ( CGPointMake ( self . bounds . width , self . bounds . height )) // \u59cb\u70b9\u3068\u7d42\u7740\u70b9\u3092\u7e4b\u3044\u3067\u9589\u3058\u308b. myLine . closePath () // \u5857\u308a\u3064\u3076\u3057\u306e\u8272\u3092\u8a2d\u5b9a. UIColor . yellowColor (). setFill () // \u7dda\u3067\u9589\u3058\u305f\u5185\u5074\u3092\u5857\u308a\u3064\u3076\u3059. myLine . fill () // \u7dda\u306e\u592a\u3055\u3092\u8a2d\u5b9a. myLine . lineWidth = 3.0 // \u63cf\u753b. myLine . stroke () } }","title":"drawLineView.swift"},{"location":"1.uikit/052_uibezierpath/#3x4x","text":"UIControlEvents \u304c UIControl.Event \u306b\u5909\u66f4 func changedValue \u306b @objc \u3092\u8ffd\u52a0","title":"3.x\u30684.x\u306e\u5dee\u5206"},{"location":"1.uikit/052_uibezierpath/#2330","text":"UIColor\u306e\u53c2\u7167\u65b9\u6cd5\u304c\u5909\u66f4(UIColor.grayColor()->UIColor.gray) CGRect,CGPoint\u306e\u521d\u671f\u5316\u65b9\u6cd5\u306e\u5909\u66f4(CGRectMake,CGPointMake\u306e\u5ec3\u6b62) drawRect(rect: CGRect) \u304c draw(_ rect: CGRect) \u306b\u5909\u66f4 UIBezierPath(ovalInRect:) \u304c UIBezierPath(ovalIn:) \u306b\u5909\u66f4","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"1.uikit/052_uibezierpath/#reference","text":"UIBezierPath Class https://developer.apple.com/reference/uikit/uibezierpath","title":"Reference"},{"location":"1.uikit/053_uicollectionview/","text":"UICollectionView\u3092\u4f7f\u3046 Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 // // ViewController.swift // UIKit053_4.0 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UICollectionViewDelegate , UICollectionViewDataSource { var myCollectionView : UICollectionView ! override func viewDidLoad () { super . viewDidLoad () // CollectionView\u306e\u30ec\u30a4\u30a2\u30a6\u30c8\u3092\u751f\u6210. let layout = UICollectionViewFlowLayout () // Cell\u4e00\u3064\u4e00\u3064\u306e\u5927\u304d\u3055. layout . itemSize = CGSize ( width : 50 , height : 50 ) // Cell\u306e\u30de\u30fc\u30b8\u30f3. layout . sectionInset = UIEdgeInsets ( top : 16 , left : 16 , bottom : 32 , right : 16 ) // \u30bb\u30af\u30b7\u30e7\u30f3\u6bce\u306e\u30d8\u30c3\u30c0\u30fc\u30b5\u30a4\u30ba. layout . headerReferenceSize = CGSize ( width : 100 , height : 30 ) // CollectionView\u3092\u751f\u6210. myCollectionView = UICollectionView ( frame : self . view . frame , collectionViewLayout : layout ) // Cell\u306b\u4f7f\u308f\u308c\u308b\u30af\u30e9\u30b9\u3092\u767b\u9332. myCollectionView . register ( UICollectionViewCell . self , forCellWithReuseIdentifier : \"MyCell\" ) myCollectionView . delegate = self myCollectionView . dataSource = self self . view . addSubview ( myCollectionView ) } /* Cell\u304c\u9078\u629e\u3055\u308c\u305f\u969b\u306b\u547c\u3073\u51fa\u3055\u308c\u308b */ func collectionView ( _ collectionView : UICollectionView , didSelectItemAt indexPath : IndexPath ) { print ( \"Num: \\( indexPath . row ) \" ) print ( \"Value: \\( collectionView ) \" ) } /* Cell\u306e\u7dcf\u6570\u3092\u8fd4\u3059 */ func collectionView ( _ collectionView : UICollectionView , numberOfItemsInSection section : Int ) -> Int { return 100 } /* Cell\u306b\u5024\u3092\u8a2d\u5b9a\u3059\u308b */ func collectionView ( _ collectionView : UICollectionView , cellForItemAt indexPath : IndexPath ) -> UICollectionViewCell { let cell : UICollectionViewCell = collectionView . dequeueReusableCell ( withReuseIdentifier : \"MyCell\" , for : indexPath as IndexPath ) cell . backgroundColor = UIColor . orange return cell } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 // // ViewController.swift // UIKit053_3.0 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UICollectionViewDelegate , UICollectionViewDataSource { var myCollectionView : UICollectionView ! override func viewDidLoad () { super . viewDidLoad () // CollectionView\u306e\u30ec\u30a4\u30a2\u30a6\u30c8\u3092\u751f\u6210. let layout = UICollectionViewFlowLayout () // Cell\u4e00\u3064\u4e00\u3064\u306e\u5927\u304d\u3055. layout . itemSize = CGSize ( width : 50 , height : 50 ) // Cell\u306e\u30de\u30fc\u30b8\u30f3. layout . sectionInset = UIEdgeInsetsMake ( 16 , 16 , 32 , 16 ) // \u30bb\u30af\u30b7\u30e7\u30f3\u6bce\u306e\u30d8\u30c3\u30c0\u30fc\u30b5\u30a4\u30ba. layout . headerReferenceSize = CGSize ( width : 100 , height : 30 ) // CollectionView\u3092\u751f\u6210. myCollectionView = UICollectionView ( frame : self . view . frame , collectionViewLayout : layout ) // Cell\u306b\u4f7f\u308f\u308c\u308b\u30af\u30e9\u30b9\u3092\u767b\u9332. myCollectionView . register ( UICollectionViewCell . self , forCellWithReuseIdentifier : \"MyCell\" ) myCollectionView . delegate = self myCollectionView . dataSource = self self . view . addSubview ( myCollectionView ) } /* Cell\u304c\u9078\u629e\u3055\u308c\u305f\u969b\u306b\u547c\u3073\u51fa\u3055\u308c\u308b */ func collectionView ( _ collectionView : UICollectionView , didSelectItemAt indexPath : IndexPath ) { print ( \"Num: \\( indexPath . row ) \" ) print ( \"Value: \\( collectionView ) \" ) } /* Cell\u306e\u7dcf\u6570\u3092\u8fd4\u3059 */ func collectionView ( _ collectionView : UICollectionView , numberOfItemsInSection section : Int ) -> Int { return 100 } /* Cell\u306b\u5024\u3092\u8a2d\u5b9a\u3059\u308b */ func collectionView ( _ collectionView : UICollectionView , cellForItemAt indexPath : IndexPath ) -> UICollectionViewCell { let cell : UICollectionViewCell = collectionView . dequeueReusableCell ( withReuseIdentifier : \"MyCell\" , for : indexPath as IndexPath ) cell . backgroundColor = UIColor . orange return cell } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 // // ViewController.swift // UIKit053_2.3 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UICollectionViewDelegate , UICollectionViewDataSource { var myCollectionView : UICollectionView ! override func viewDidLoad () { super . viewDidLoad () // CollectionView\u306e\u30ec\u30a4\u30a2\u30a6\u30c8\u3092\u751f\u6210. let layout = UICollectionViewFlowLayout () // Cell\u4e00\u3064\u4e00\u3064\u306e\u5927\u304d\u3055. layout . itemSize = CGSizeMake ( 50 , 50 ) // Cell\u306e\u30de\u30fc\u30b8\u30f3. layout . sectionInset = UIEdgeInsetsMake ( 16 , 16 , 32 , 16 ) // \u30bb\u30af\u30b7\u30e7\u30f3\u6bce\u306e\u30d8\u30c3\u30c0\u30fc\u30b5\u30a4\u30ba. layout . headerReferenceSize = CGSizeMake ( 100 , 30 ) // CollectionView\u3092\u751f\u6210. myCollectionView = UICollectionView ( frame : self . view . frame , collectionViewLayout : layout ) // Cell\u306b\u4f7f\u308f\u308c\u308b\u30af\u30e9\u30b9\u3092\u767b\u9332. myCollectionView . registerClass ( UICollectionViewCell . self , forCellWithReuseIdentifier : \"MyCell\" ) myCollectionView . delegate = self myCollectionView . dataSource = self self . view . addSubview ( myCollectionView ) } /* Cell\u304c\u9078\u629e\u3055\u308c\u305f\u969b\u306b\u547c\u3073\u51fa\u3055\u308c\u308b */ func collectionView ( collectionView : UICollectionView , didSelectItemAtIndexPath indexPath : NSIndexPath ) { print ( \"Num: \\( indexPath . row ) \" ) print ( \"Value: \\( collectionView ) \" ) } /* Cell\u306e\u7dcf\u6570\u3092\u8fd4\u3059 */ func collectionView ( collectionView : UICollectionView , numberOfItemsInSection section : Int ) -> Int { return 100 } /* Cell\u306b\u5024\u3092\u8a2d\u5b9a\u3059\u308b */ func collectionView ( collectionView : UICollectionView , cellForItemAtIndexPath indexPath : NSIndexPath ) -> UICollectionViewCell { let cell : UICollectionViewCell = collectionView . dequeueReusableCellWithReuseIdentifier ( \"MyCell\" , forIndexPath : indexPath ) cell . backgroundColor = UIColor . orangeColor () return cell } } 3.x\u30682.x\u306e\u5dee\u5206 UIEdgeInsetsMake(16, 16, 32, 16) \u304c UIEdgeInsets(top: 16, left: 16, bottom: 32, right: 16) \u306b\u5909\u66f4 2.3\u30683.0\u306e\u5dee\u5206 UIColor\u306e\u53c2\u7167\u65b9\u6cd5\u304c\u5909\u66f4(UIColor.grayColor()->UIColor.gray) CGRect,CGPoint\u306e\u521d\u671f\u5316\u65b9\u6cd5\u306e\u5909\u66f4(CGRectMake,CGPointMake\u306e\u5ec3\u6b62) UICollectionViewDelegate\u306e\u30e1\u30bd\u30c3\u30c9\u306e\u5f15\u6570\u304c\u5909\u66f4 NSIndexPath\u306e\u5ec3\u6b62\u3001IndexPath\u306b\u5909\u66f4. Reference UICollectionViewFlowLayout Class https://developer.apple.com/reference/uikit/uicollectionviewflowlayout UICollectionView Class https://developer.apple.com/reference/uikit/uicollectionview UIEdgeInsetsMake https://developer.apple.com/reference/uikit/1624475-uiedgeinsetsmake?language=objc UICollectionDelegate https://developer.apple.com/reference/uikit/uicollectionviewdelegate UICollectionDataSource https://developer.apple.com/reference/uikit/uicollectionviewdatasource","title":"UICollectionView\u3092\u4f7f\u3046"},{"location":"1.uikit/053_uicollectionview/#uicollectionview","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 // // ViewController.swift // UIKit053_4.0 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UICollectionViewDelegate , UICollectionViewDataSource { var myCollectionView : UICollectionView ! override func viewDidLoad () { super . viewDidLoad () // CollectionView\u306e\u30ec\u30a4\u30a2\u30a6\u30c8\u3092\u751f\u6210. let layout = UICollectionViewFlowLayout () // Cell\u4e00\u3064\u4e00\u3064\u306e\u5927\u304d\u3055. layout . itemSize = CGSize ( width : 50 , height : 50 ) // Cell\u306e\u30de\u30fc\u30b8\u30f3. layout . sectionInset = UIEdgeInsets ( top : 16 , left : 16 , bottom : 32 , right : 16 ) // \u30bb\u30af\u30b7\u30e7\u30f3\u6bce\u306e\u30d8\u30c3\u30c0\u30fc\u30b5\u30a4\u30ba. layout . headerReferenceSize = CGSize ( width : 100 , height : 30 ) // CollectionView\u3092\u751f\u6210. myCollectionView = UICollectionView ( frame : self . view . frame , collectionViewLayout : layout ) // Cell\u306b\u4f7f\u308f\u308c\u308b\u30af\u30e9\u30b9\u3092\u767b\u9332. myCollectionView . register ( UICollectionViewCell . self , forCellWithReuseIdentifier : \"MyCell\" ) myCollectionView . delegate = self myCollectionView . dataSource = self self . view . addSubview ( myCollectionView ) } /* Cell\u304c\u9078\u629e\u3055\u308c\u305f\u969b\u306b\u547c\u3073\u51fa\u3055\u308c\u308b */ func collectionView ( _ collectionView : UICollectionView , didSelectItemAt indexPath : IndexPath ) { print ( \"Num: \\( indexPath . row ) \" ) print ( \"Value: \\( collectionView ) \" ) } /* Cell\u306e\u7dcf\u6570\u3092\u8fd4\u3059 */ func collectionView ( _ collectionView : UICollectionView , numberOfItemsInSection section : Int ) -> Int { return 100 } /* Cell\u306b\u5024\u3092\u8a2d\u5b9a\u3059\u308b */ func collectionView ( _ collectionView : UICollectionView , cellForItemAt indexPath : IndexPath ) -> UICollectionViewCell { let cell : UICollectionViewCell = collectionView . dequeueReusableCell ( withReuseIdentifier : \"MyCell\" , for : indexPath as IndexPath ) cell . backgroundColor = UIColor . orange return cell } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 // // ViewController.swift // UIKit053_3.0 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UICollectionViewDelegate , UICollectionViewDataSource { var myCollectionView : UICollectionView ! override func viewDidLoad () { super . viewDidLoad () // CollectionView\u306e\u30ec\u30a4\u30a2\u30a6\u30c8\u3092\u751f\u6210. let layout = UICollectionViewFlowLayout () // Cell\u4e00\u3064\u4e00\u3064\u306e\u5927\u304d\u3055. layout . itemSize = CGSize ( width : 50 , height : 50 ) // Cell\u306e\u30de\u30fc\u30b8\u30f3. layout . sectionInset = UIEdgeInsetsMake ( 16 , 16 , 32 , 16 ) // \u30bb\u30af\u30b7\u30e7\u30f3\u6bce\u306e\u30d8\u30c3\u30c0\u30fc\u30b5\u30a4\u30ba. layout . headerReferenceSize = CGSize ( width : 100 , height : 30 ) // CollectionView\u3092\u751f\u6210. myCollectionView = UICollectionView ( frame : self . view . frame , collectionViewLayout : layout ) // Cell\u306b\u4f7f\u308f\u308c\u308b\u30af\u30e9\u30b9\u3092\u767b\u9332. myCollectionView . register ( UICollectionViewCell . self , forCellWithReuseIdentifier : \"MyCell\" ) myCollectionView . delegate = self myCollectionView . dataSource = self self . view . addSubview ( myCollectionView ) } /* Cell\u304c\u9078\u629e\u3055\u308c\u305f\u969b\u306b\u547c\u3073\u51fa\u3055\u308c\u308b */ func collectionView ( _ collectionView : UICollectionView , didSelectItemAt indexPath : IndexPath ) { print ( \"Num: \\( indexPath . row ) \" ) print ( \"Value: \\( collectionView ) \" ) } /* Cell\u306e\u7dcf\u6570\u3092\u8fd4\u3059 */ func collectionView ( _ collectionView : UICollectionView , numberOfItemsInSection section : Int ) -> Int { return 100 } /* Cell\u306b\u5024\u3092\u8a2d\u5b9a\u3059\u308b */ func collectionView ( _ collectionView : UICollectionView , cellForItemAt indexPath : IndexPath ) -> UICollectionViewCell { let cell : UICollectionViewCell = collectionView . dequeueReusableCell ( withReuseIdentifier : \"MyCell\" , for : indexPath as IndexPath ) cell . backgroundColor = UIColor . orange return cell } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 // // ViewController.swift // UIKit053_2.3 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UICollectionViewDelegate , UICollectionViewDataSource { var myCollectionView : UICollectionView ! override func viewDidLoad () { super . viewDidLoad () // CollectionView\u306e\u30ec\u30a4\u30a2\u30a6\u30c8\u3092\u751f\u6210. let layout = UICollectionViewFlowLayout () // Cell\u4e00\u3064\u4e00\u3064\u306e\u5927\u304d\u3055. layout . itemSize = CGSizeMake ( 50 , 50 ) // Cell\u306e\u30de\u30fc\u30b8\u30f3. layout . sectionInset = UIEdgeInsetsMake ( 16 , 16 , 32 , 16 ) // \u30bb\u30af\u30b7\u30e7\u30f3\u6bce\u306e\u30d8\u30c3\u30c0\u30fc\u30b5\u30a4\u30ba. layout . headerReferenceSize = CGSizeMake ( 100 , 30 ) // CollectionView\u3092\u751f\u6210. myCollectionView = UICollectionView ( frame : self . view . frame , collectionViewLayout : layout ) // Cell\u306b\u4f7f\u308f\u308c\u308b\u30af\u30e9\u30b9\u3092\u767b\u9332. myCollectionView . registerClass ( UICollectionViewCell . self , forCellWithReuseIdentifier : \"MyCell\" ) myCollectionView . delegate = self myCollectionView . dataSource = self self . view . addSubview ( myCollectionView ) } /* Cell\u304c\u9078\u629e\u3055\u308c\u305f\u969b\u306b\u547c\u3073\u51fa\u3055\u308c\u308b */ func collectionView ( collectionView : UICollectionView , didSelectItemAtIndexPath indexPath : NSIndexPath ) { print ( \"Num: \\( indexPath . row ) \" ) print ( \"Value: \\( collectionView ) \" ) } /* Cell\u306e\u7dcf\u6570\u3092\u8fd4\u3059 */ func collectionView ( collectionView : UICollectionView , numberOfItemsInSection section : Int ) -> Int { return 100 } /* Cell\u306b\u5024\u3092\u8a2d\u5b9a\u3059\u308b */ func collectionView ( collectionView : UICollectionView , cellForItemAtIndexPath indexPath : NSIndexPath ) -> UICollectionViewCell { let cell : UICollectionViewCell = collectionView . dequeueReusableCellWithReuseIdentifier ( \"MyCell\" , forIndexPath : indexPath ) cell . backgroundColor = UIColor . orangeColor () return cell } }","title":"UICollectionView\u3092\u4f7f\u3046"},{"location":"1.uikit/053_uicollectionview/#3x2x","text":"UIEdgeInsetsMake(16, 16, 32, 16) \u304c UIEdgeInsets(top: 16, left: 16, bottom: 32, right: 16) \u306b\u5909\u66f4","title":"3.x\u30682.x\u306e\u5dee\u5206"},{"location":"1.uikit/053_uicollectionview/#2330","text":"UIColor\u306e\u53c2\u7167\u65b9\u6cd5\u304c\u5909\u66f4(UIColor.grayColor()->UIColor.gray) CGRect,CGPoint\u306e\u521d\u671f\u5316\u65b9\u6cd5\u306e\u5909\u66f4(CGRectMake,CGPointMake\u306e\u5ec3\u6b62) UICollectionViewDelegate\u306e\u30e1\u30bd\u30c3\u30c9\u306e\u5f15\u6570\u304c\u5909\u66f4 NSIndexPath\u306e\u5ec3\u6b62\u3001IndexPath\u306b\u5909\u66f4.","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"1.uikit/053_uicollectionview/#reference","text":"UICollectionViewFlowLayout Class https://developer.apple.com/reference/uikit/uicollectionviewflowlayout UICollectionView Class https://developer.apple.com/reference/uikit/uicollectionview UIEdgeInsetsMake https://developer.apple.com/reference/uikit/1624475-uiedgeinsetsmake?language=objc UICollectionDelegate https://developer.apple.com/reference/uikit/uicollectionviewdelegate UICollectionDataSource https://developer.apple.com/reference/uikit/uicollectionviewdatasource","title":"Reference"},{"location":"1.uikit/054_customuicollectionview/","text":"UICollectionView\u306eCell\u3092\u30ab\u30b9\u30bf\u30de\u30a4\u30ba Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 // // ViewController.swift // UIKit054_4.0 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UICollectionViewDelegate , UICollectionViewDataSource { var myCollectionView : UICollectionView ! override func viewDidLoad () { super . viewDidLoad () // CollectionView\u306e\u30ec\u30a4\u30a2\u30a6\u30c8\u3092\u751f\u6210. let layout = UICollectionViewFlowLayout () // Cell\u4e00\u3064\u4e00\u3064\u306e\u5927\u304d\u3055. layout . itemSize = CGSize ( width : 50 , height : 50 ) // Cell\u306e\u30de\u30fc\u30b8\u30f3. layout . sectionInset = UIEdgeInsets ( top : 16 , left : 16 , bottom : 32 , right : 16 ) // \u30bb\u30af\u30b7\u30e7\u30f3\u6bce\u306e\u30d8\u30c3\u30c0\u30fc\u30b5\u30a4\u30ba. layout . headerReferenceSize = CGSize ( width : 100 , height : 30 ) // CollectionView\u3092\u751f\u6210. myCollectionView = UICollectionView ( frame : self . view . frame , collectionViewLayout : layout ) // Cell\u306b\u4f7f\u308f\u308c\u308b\u30af\u30e9\u30b9\u3092\u767b\u9332. myCollectionView . register ( CustomUICollectionViewCell . self , forCellWithReuseIdentifier : \"MyCell\" ) myCollectionView . delegate = self myCollectionView . dataSource = self self . view . addSubview ( myCollectionView ) } /* Cell\u304c\u9078\u629e\u3055\u308c\u305f\u969b\u306b\u547c\u3073\u51fa\u3055\u308c\u308b */ func collectionView ( _ collectionView : UICollectionView , didSelectItemAt indexPath : IndexPath ) { print ( \"Num: \\( indexPath . row ) \" ) } /* Cell\u306e\u7dcf\u6570\u3092\u8fd4\u3059 */ func collectionView ( _ collectionView : UICollectionView , numberOfItemsInSection section : Int ) -> Int { return 100 } /* Cell\u306b\u5024\u3092\u8a2d\u5b9a\u3059\u308b */ func collectionView ( _ collectionView : UICollectionView , cellForItemAt indexPath : IndexPath ) -> UICollectionViewCell { let cell : CustomUICollectionViewCell = collectionView . dequeueReusableCell ( withReuseIdentifier : \"MyCell\" , for : indexPath ) as ! CustomUICollectionViewCell cell . textLabel ?. text = indexPath . row . description return cell } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 // // ViewController.swift // UIKit054_3.0 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UICollectionViewDelegate , UICollectionViewDataSource { var myCollectionView : UICollectionView ! override func viewDidLoad () { super . viewDidLoad () // CollectionView\u306e\u30ec\u30a4\u30a2\u30a6\u30c8\u3092\u751f\u6210. let layout = UICollectionViewFlowLayout () // Cell\u4e00\u3064\u4e00\u3064\u306e\u5927\u304d\u3055. layout . itemSize = CGSize ( width : 50 , height : 50 ) // Cell\u306e\u30de\u30fc\u30b8\u30f3. layout . sectionInset = UIEdgeInsetsMake ( 16 , 16 , 32 , 16 ) // \u30bb\u30af\u30b7\u30e7\u30f3\u6bce\u306e\u30d8\u30c3\u30c0\u30fc\u30b5\u30a4\u30ba. layout . headerReferenceSize = CGSize ( width : 100 , height : 30 ) // CollectionView\u3092\u751f\u6210. myCollectionView = UICollectionView ( frame : self . view . frame , collectionViewLayout : layout ) // Cell\u306b\u4f7f\u308f\u308c\u308b\u30af\u30e9\u30b9\u3092\u767b\u9332. myCollectionView . register ( CustomUICollectionViewCell . self , forCellWithReuseIdentifier : \"MyCell\" ) myCollectionView . delegate = self myCollectionView . dataSource = self self . view . addSubview ( myCollectionView ) } /* Cell\u304c\u9078\u629e\u3055\u308c\u305f\u969b\u306b\u547c\u3073\u51fa\u3055\u308c\u308b */ func collectionView ( _ collectionView : UICollectionView , didSelectItemAt indexPath : IndexPath ) { print ( \"Num: \\( indexPath . row ) \" ) } /* Cell\u306e\u7dcf\u6570\u3092\u8fd4\u3059 */ func collectionView ( _ collectionView : UICollectionView , numberOfItemsInSection section : Int ) -> Int { return 100 } /* Cell\u306b\u5024\u3092\u8a2d\u5b9a\u3059\u308b */ func collectionView ( _ collectionView : UICollectionView , cellForItemAt indexPath : IndexPath ) -> UICollectionViewCell { let cell : CustomUICollectionViewCell = collectionView . dequeueReusableCell ( withReuseIdentifier : \"MyCell\" , for : indexPath ) as ! CustomUICollectionViewCell cell . textLabel ?. text = indexPath . row . description return cell } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 // // ViewController.swift // UIKit054_2.3 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UICollectionViewDelegate , UICollectionViewDataSource { var myCollectionView : UICollectionView ! override func viewDidLoad () { super . viewDidLoad () // CollectionView\u306e\u30ec\u30a4\u30a2\u30a6\u30c8\u3092\u751f\u6210. let layout = UICollectionViewFlowLayout () // Cell\u4e00\u3064\u4e00\u3064\u306e\u5927\u304d\u3055. layout . itemSize = CGSizeMake ( 50 , 50 ) // Cell\u306e\u30de\u30fc\u30b8\u30f3. layout . sectionInset = UIEdgeInsetsMake ( 16 , 16 , 32 , 16 ) // \u30bb\u30af\u30b7\u30e7\u30f3\u6bce\u306e\u30d8\u30c3\u30c0\u30fc\u30b5\u30a4\u30ba. layout . headerReferenceSize = CGSizeMake ( 100 , 30 ) // CollectionView\u3092\u751f\u6210. myCollectionView = UICollectionView ( frame : self . view . frame , collectionViewLayout : layout ) // Cell\u306b\u4f7f\u308f\u308c\u308b\u30af\u30e9\u30b9\u3092\u767b\u9332. myCollectionView . registerClass ( CustomUICollectionViewCell . self , forCellWithReuseIdentifier : \"MyCell\" ) myCollectionView . delegate = self myCollectionView . dataSource = self self . view . addSubview ( myCollectionView ) } /* Cell\u304c\u9078\u629e\u3055\u308c\u305f\u969b\u306b\u547c\u3073\u51fa\u3055\u308c\u308b */ func collectionView ( collectionView : UICollectionView , didSelectItemAtIndexPath indexPath : NSIndexPath ) { print ( \"Num: \\( indexPath . row ) \" ) } /* Cell\u306e\u7dcf\u6570\u3092\u8fd4\u3059 */ func collectionView ( collectionView : UICollectionView , numberOfItemsInSection section : Int ) -> Int { return 100 } /* Cell\u306b\u5024\u3092\u8a2d\u5b9a\u3059\u308b */ func collectionView ( collectionView : UICollectionView , cellForItemAtIndexPath indexPath : NSIndexPath ) -> UICollectionViewCell { let cell : CustomUICollectionViewCell = collectionView . dequeueReusableCellWithReuseIdentifier ( \"MyCell\" , forIndexPath : indexPath ) as ! CustomUICollectionViewCell cell . textLabel ?. text = indexPath . row . description return cell } } CustomUICollectionViewCell.swift Swift 4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 // // CustomUICollectionViewCell.swift // UIKit054_4.0 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class CustomUICollectionViewCell : UICollectionViewCell { var textLabel : UILabel ? required init ( coder aDecoder : NSCoder ) { super . init ( coder : aDecoder ) ! } override init ( frame : CGRect ) { super . init ( frame : frame ) // UILabel\u3092\u751f\u6210. textLabel = UILabel ( frame : CGRect ( x : 0 , y : 0 , width : frame . width , height : frame . height )) textLabel ?. text = \"nil\" textLabel ?. backgroundColor = UIColor . white textLabel ?. textAlignment = NSTextAlignment . center // Cell\u306b\u8ffd\u52a0. self . contentView . addSubview ( textLabel !) } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 // // CustomUICollectionViewCell.swift // UIKit054_2.3 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class CustomUICollectionViewCell : UICollectionViewCell { var textLabel : UILabel ? required init ( coder aDecoder : NSCoder ) { super . init ( coder : aDecoder ) ! } override init ( frame : CGRect ) { super . init ( frame : frame ) // UILabel\u3092\u751f\u6210. textLabel = UILabel ( frame : CGRectMake ( 0 , 0 , frame . width , frame . height )) textLabel ?. text = \"nil\" textLabel ?. backgroundColor = UIColor . whiteColor () textLabel ?. textAlignment = NSTextAlignment . Center // Cell\u306b\u8ffd\u52a0. self . contentView . addSubview ( textLabel !) } } 3.x\u30684.x\u306e\u5dee\u5206 UIEdgeInsetsMake(16, 16, 32, 16) \u304c UIEdgeInsets(top: 16, left: 16, bottom: 32, right: 16) \u306b\u5909\u66f4 2.3\u30683.0\u306e\u5dee\u5206 UIColor\u306e\u53c2\u7167\u65b9\u6cd5\u304c\u5909\u66f4(UIColor.grayColor()->UIColor.gray) CGRect,CGPoint\u306e\u521d\u671f\u5316\u65b9\u6cd5\u306e\u5909\u66f4(CGRectMake,CGPointMake\u306e\u5ec3\u6b62) NSIndexPath\u306e\u5ec3\u6b62\u3001IndexPath\u306b\u5909\u66f4 UICollectionViewDelegate\u306e\u30e1\u30bd\u30c3\u30c9\u306e\u5f15\u6570\u304c\u5909\u66f4 Reference UICollectionViewFlowLayout Class https://developer.apple.com/reference/uikit/uicollectionviewflowlayout UICollectionView Class https://developer.apple.com/reference/uikit/uicollectionview UIEdgeInsetsMake https://developer.apple.com/reference/uikit/1624475-uiedgeinsetsmake?language=objc UICollectionDelegate https://developer.apple.com/reference/uikit/uicollectionviewdelegate UICollectionDataSource https://developer.apple.com/reference/uikit/uicollectionviewdatasource UILabel Class https://developer.apple.com/reference/uikit/uilabel","title":"UICollectionView\u306eCell\u3092\u30ab\u30b9\u30bf\u30de\u30a4\u30ba"},{"location":"1.uikit/054_customuicollectionview/#uicollectionviewcell","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 // // ViewController.swift // UIKit054_4.0 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UICollectionViewDelegate , UICollectionViewDataSource { var myCollectionView : UICollectionView ! override func viewDidLoad () { super . viewDidLoad () // CollectionView\u306e\u30ec\u30a4\u30a2\u30a6\u30c8\u3092\u751f\u6210. let layout = UICollectionViewFlowLayout () // Cell\u4e00\u3064\u4e00\u3064\u306e\u5927\u304d\u3055. layout . itemSize = CGSize ( width : 50 , height : 50 ) // Cell\u306e\u30de\u30fc\u30b8\u30f3. layout . sectionInset = UIEdgeInsets ( top : 16 , left : 16 , bottom : 32 , right : 16 ) // \u30bb\u30af\u30b7\u30e7\u30f3\u6bce\u306e\u30d8\u30c3\u30c0\u30fc\u30b5\u30a4\u30ba. layout . headerReferenceSize = CGSize ( width : 100 , height : 30 ) // CollectionView\u3092\u751f\u6210. myCollectionView = UICollectionView ( frame : self . view . frame , collectionViewLayout : layout ) // Cell\u306b\u4f7f\u308f\u308c\u308b\u30af\u30e9\u30b9\u3092\u767b\u9332. myCollectionView . register ( CustomUICollectionViewCell . self , forCellWithReuseIdentifier : \"MyCell\" ) myCollectionView . delegate = self myCollectionView . dataSource = self self . view . addSubview ( myCollectionView ) } /* Cell\u304c\u9078\u629e\u3055\u308c\u305f\u969b\u306b\u547c\u3073\u51fa\u3055\u308c\u308b */ func collectionView ( _ collectionView : UICollectionView , didSelectItemAt indexPath : IndexPath ) { print ( \"Num: \\( indexPath . row ) \" ) } /* Cell\u306e\u7dcf\u6570\u3092\u8fd4\u3059 */ func collectionView ( _ collectionView : UICollectionView , numberOfItemsInSection section : Int ) -> Int { return 100 } /* Cell\u306b\u5024\u3092\u8a2d\u5b9a\u3059\u308b */ func collectionView ( _ collectionView : UICollectionView , cellForItemAt indexPath : IndexPath ) -> UICollectionViewCell { let cell : CustomUICollectionViewCell = collectionView . dequeueReusableCell ( withReuseIdentifier : \"MyCell\" , for : indexPath ) as ! CustomUICollectionViewCell cell . textLabel ?. text = indexPath . row . description return cell } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 // // ViewController.swift // UIKit054_3.0 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UICollectionViewDelegate , UICollectionViewDataSource { var myCollectionView : UICollectionView ! override func viewDidLoad () { super . viewDidLoad () // CollectionView\u306e\u30ec\u30a4\u30a2\u30a6\u30c8\u3092\u751f\u6210. let layout = UICollectionViewFlowLayout () // Cell\u4e00\u3064\u4e00\u3064\u306e\u5927\u304d\u3055. layout . itemSize = CGSize ( width : 50 , height : 50 ) // Cell\u306e\u30de\u30fc\u30b8\u30f3. layout . sectionInset = UIEdgeInsetsMake ( 16 , 16 , 32 , 16 ) // \u30bb\u30af\u30b7\u30e7\u30f3\u6bce\u306e\u30d8\u30c3\u30c0\u30fc\u30b5\u30a4\u30ba. layout . headerReferenceSize = CGSize ( width : 100 , height : 30 ) // CollectionView\u3092\u751f\u6210. myCollectionView = UICollectionView ( frame : self . view . frame , collectionViewLayout : layout ) // Cell\u306b\u4f7f\u308f\u308c\u308b\u30af\u30e9\u30b9\u3092\u767b\u9332. myCollectionView . register ( CustomUICollectionViewCell . self , forCellWithReuseIdentifier : \"MyCell\" ) myCollectionView . delegate = self myCollectionView . dataSource = self self . view . addSubview ( myCollectionView ) } /* Cell\u304c\u9078\u629e\u3055\u308c\u305f\u969b\u306b\u547c\u3073\u51fa\u3055\u308c\u308b */ func collectionView ( _ collectionView : UICollectionView , didSelectItemAt indexPath : IndexPath ) { print ( \"Num: \\( indexPath . row ) \" ) } /* Cell\u306e\u7dcf\u6570\u3092\u8fd4\u3059 */ func collectionView ( _ collectionView : UICollectionView , numberOfItemsInSection section : Int ) -> Int { return 100 } /* Cell\u306b\u5024\u3092\u8a2d\u5b9a\u3059\u308b */ func collectionView ( _ collectionView : UICollectionView , cellForItemAt indexPath : IndexPath ) -> UICollectionViewCell { let cell : CustomUICollectionViewCell = collectionView . dequeueReusableCell ( withReuseIdentifier : \"MyCell\" , for : indexPath ) as ! CustomUICollectionViewCell cell . textLabel ?. text = indexPath . row . description return cell } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 // // ViewController.swift // UIKit054_2.3 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UICollectionViewDelegate , UICollectionViewDataSource { var myCollectionView : UICollectionView ! override func viewDidLoad () { super . viewDidLoad () // CollectionView\u306e\u30ec\u30a4\u30a2\u30a6\u30c8\u3092\u751f\u6210. let layout = UICollectionViewFlowLayout () // Cell\u4e00\u3064\u4e00\u3064\u306e\u5927\u304d\u3055. layout . itemSize = CGSizeMake ( 50 , 50 ) // Cell\u306e\u30de\u30fc\u30b8\u30f3. layout . sectionInset = UIEdgeInsetsMake ( 16 , 16 , 32 , 16 ) // \u30bb\u30af\u30b7\u30e7\u30f3\u6bce\u306e\u30d8\u30c3\u30c0\u30fc\u30b5\u30a4\u30ba. layout . headerReferenceSize = CGSizeMake ( 100 , 30 ) // CollectionView\u3092\u751f\u6210. myCollectionView = UICollectionView ( frame : self . view . frame , collectionViewLayout : layout ) // Cell\u306b\u4f7f\u308f\u308c\u308b\u30af\u30e9\u30b9\u3092\u767b\u9332. myCollectionView . registerClass ( CustomUICollectionViewCell . self , forCellWithReuseIdentifier : \"MyCell\" ) myCollectionView . delegate = self myCollectionView . dataSource = self self . view . addSubview ( myCollectionView ) } /* Cell\u304c\u9078\u629e\u3055\u308c\u305f\u969b\u306b\u547c\u3073\u51fa\u3055\u308c\u308b */ func collectionView ( collectionView : UICollectionView , didSelectItemAtIndexPath indexPath : NSIndexPath ) { print ( \"Num: \\( indexPath . row ) \" ) } /* Cell\u306e\u7dcf\u6570\u3092\u8fd4\u3059 */ func collectionView ( collectionView : UICollectionView , numberOfItemsInSection section : Int ) -> Int { return 100 } /* Cell\u306b\u5024\u3092\u8a2d\u5b9a\u3059\u308b */ func collectionView ( collectionView : UICollectionView , cellForItemAtIndexPath indexPath : NSIndexPath ) -> UICollectionViewCell { let cell : CustomUICollectionViewCell = collectionView . dequeueReusableCellWithReuseIdentifier ( \"MyCell\" , forIndexPath : indexPath ) as ! CustomUICollectionViewCell cell . textLabel ?. text = indexPath . row . description return cell } }","title":"UICollectionView\u306eCell\u3092\u30ab\u30b9\u30bf\u30de\u30a4\u30ba"},{"location":"1.uikit/054_customuicollectionview/#customuicollectionviewcellswift","text":"Swift 4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 // // CustomUICollectionViewCell.swift // UIKit054_4.0 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class CustomUICollectionViewCell : UICollectionViewCell { var textLabel : UILabel ? required init ( coder aDecoder : NSCoder ) { super . init ( coder : aDecoder ) ! } override init ( frame : CGRect ) { super . init ( frame : frame ) // UILabel\u3092\u751f\u6210. textLabel = UILabel ( frame : CGRect ( x : 0 , y : 0 , width : frame . width , height : frame . height )) textLabel ?. text = \"nil\" textLabel ?. backgroundColor = UIColor . white textLabel ?. textAlignment = NSTextAlignment . center // Cell\u306b\u8ffd\u52a0. self . contentView . addSubview ( textLabel !) } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 // // CustomUICollectionViewCell.swift // UIKit054_2.3 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class CustomUICollectionViewCell : UICollectionViewCell { var textLabel : UILabel ? required init ( coder aDecoder : NSCoder ) { super . init ( coder : aDecoder ) ! } override init ( frame : CGRect ) { super . init ( frame : frame ) // UILabel\u3092\u751f\u6210. textLabel = UILabel ( frame : CGRectMake ( 0 , 0 , frame . width , frame . height )) textLabel ?. text = \"nil\" textLabel ?. backgroundColor = UIColor . whiteColor () textLabel ?. textAlignment = NSTextAlignment . Center // Cell\u306b\u8ffd\u52a0. self . contentView . addSubview ( textLabel !) } }","title":"CustomUICollectionViewCell.swift"},{"location":"1.uikit/054_customuicollectionview/#3x4x","text":"UIEdgeInsetsMake(16, 16, 32, 16) \u304c UIEdgeInsets(top: 16, left: 16, bottom: 32, right: 16) \u306b\u5909\u66f4","title":"3.x\u30684.x\u306e\u5dee\u5206"},{"location":"1.uikit/054_customuicollectionview/#2330","text":"UIColor\u306e\u53c2\u7167\u65b9\u6cd5\u304c\u5909\u66f4(UIColor.grayColor()->UIColor.gray) CGRect,CGPoint\u306e\u521d\u671f\u5316\u65b9\u6cd5\u306e\u5909\u66f4(CGRectMake,CGPointMake\u306e\u5ec3\u6b62) NSIndexPath\u306e\u5ec3\u6b62\u3001IndexPath\u306b\u5909\u66f4 UICollectionViewDelegate\u306e\u30e1\u30bd\u30c3\u30c9\u306e\u5f15\u6570\u304c\u5909\u66f4","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"1.uikit/054_customuicollectionview/#reference","text":"UICollectionViewFlowLayout Class https://developer.apple.com/reference/uikit/uicollectionviewflowlayout UICollectionView Class https://developer.apple.com/reference/uikit/uicollectionview UIEdgeInsetsMake https://developer.apple.com/reference/uikit/1624475-uiedgeinsetsmake?language=objc UICollectionDelegate https://developer.apple.com/reference/uikit/uicollectionviewdelegate UICollectionDataSource https://developer.apple.com/reference/uikit/uicollectionviewdatasource UILabel Class https://developer.apple.com/reference/uikit/uilabel","title":"Reference"},{"location":"1.uikit/055_sectionuicollectionview/","text":"UICollectionView\u3092\u30bb\u30af\u30b7\u30e7\u30f3\u6bce\u306b\u5206\u3051\u308b UIViewController.swift Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 // // ViewController.swift // UIKit055_4.0 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UICollectionViewDelegate , UICollectionViewDataSource { var myCollectionView : UICollectionView ! override func viewDidLoad () { super . viewDidLoad () // CollectionView\u306e\u30ec\u30a4\u30a2\u30a6\u30c8\u3092\u751f\u6210. let layout = UICollectionViewFlowLayout () // Cell\u4e00\u3064\u4e00\u3064\u306e\u5927\u304d\u3055. layout . itemSize = CGSize ( width : 50 , height : 50 ) // Cell\u306e\u30de\u30fc\u30b8\u30f3. layout . sectionInset = UIEdgeInsets ( top : 16 , left : 16 , bottom : 32 , right : 16 ) // \u30bb\u30af\u30b7\u30e7\u30f3\u6bce\u306e\u30d8\u30c3\u30c0\u30fc\u30b5\u30a4\u30ba. layout . headerReferenceSize = CGSize ( width : 100 , height : 50 ) // CollectionView\u3092\u751f\u6210. myCollectionView = UICollectionView ( frame : self . view . frame , collectionViewLayout : layout ) // Cell\u306b\u4f7f\u308f\u308c\u308b\u30af\u30e9\u30b9\u3092\u767b\u9332. myCollectionView . register ( CustomUICollectionViewCell . self , forCellWithReuseIdentifier : \"MyCell\" ) myCollectionView . register ( UICollectionReusableView . self , forSupplementaryViewOfKind : UICollectionView . elementKindSectionHeader , withReuseIdentifier : \"Section\" ) myCollectionView . delegate = self myCollectionView . dataSource = self self . view . addSubview ( myCollectionView ) } /* Section\u306e\u6570 */ internal func numberOfSections ( in collectionView : UICollectionView ) -> Int { return 3 } /* Cell\u304c\u9078\u629e\u3055\u308c\u305f\u969b\u306b\u547c\u3073\u51fa\u3055\u308c\u308b */ func collectionView ( _ collectionView : UICollectionView , didSelectItemAt indexPath : IndexPath ) { print ( \"Num: \\( indexPath . row ) \" ) print ( \"SectionNum: \\( indexPath . section ) \" ) } /* Cell\u306e\u7dcf\u6570\u3092\u8fd4\u3059 */ func collectionView ( _ collectionView : UICollectionView , numberOfItemsInSection section : Int ) -> Int { // Section\u6bce\u306bCell\u306e\u7dcf\u6570\u3092\u5909\u3048\u308b. switch ( section ){ case 0 : return 5 case 1 : return 8 case 2 : return 20 default : print ( \"error\" ) return 0 } } /* Section\u306b\u5024\u3092\u8a2d\u5b9a\u3059\u308b */ func collectionView ( _ collectionView : UICollectionView , viewForSupplementaryElementOfKind kind : String , at indexPath : IndexPath ) -> UICollectionReusableView { let headerView = collectionView . dequeueReusableSupplementaryView ( ofKind : UICollectionView . elementKindSectionHeader , withReuseIdentifier : \"Section\" , for : indexPath ) headerView . backgroundColor = UIColor . white return headerView } /* Cell\u306b\u5024\u3092\u8a2d\u5b9a\u3059\u308b */ func collectionView ( _ collectionView : UICollectionView , cellForItemAt indexPath : IndexPath ) -> UICollectionViewCell { let cell : CustomUICollectionViewCell = collectionView . dequeueReusableCell ( withReuseIdentifier : \"MyCell\" , for : indexPath as IndexPath ) as ! CustomUICollectionViewCell // Section\u6bce\u306bCell\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u5909\u3048\u308b. switch ( indexPath . section ){ case 0 : cell . backgroundColor = UIColor . red cell . textLabel ?. text = \"0\" case 1 : cell . backgroundColor = UIColor . green cell . textLabel ?. text = \"1\" case 2 : cell . backgroundColor = UIColor . blue cell . textLabel ?. text = \"2\" default : print ( \"section error\" ) cell . backgroundColor = UIColor . white } return cell } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 // // ViewController.swift // UIKit055_3.0 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UICollectionViewDelegate , UICollectionViewDataSource { var myCollectionView : UICollectionView ! override func viewDidLoad () { super . viewDidLoad () // CollectionView\u306e\u30ec\u30a4\u30a2\u30a6\u30c8\u3092\u751f\u6210. let layout = UICollectionViewFlowLayout () // Cell\u4e00\u3064\u4e00\u3064\u306e\u5927\u304d\u3055. layout . itemSize = CGSize ( width : 50 , height : 50 ) // Cell\u306e\u30de\u30fc\u30b8\u30f3. layout . sectionInset = UIEdgeInsetsMake ( 16 , 16 , 32 , 16 ) // \u30bb\u30af\u30b7\u30e7\u30f3\u6bce\u306e\u30d8\u30c3\u30c0\u30fc\u30b5\u30a4\u30ba. layout . headerReferenceSize = CGSize ( width : 100 , height : 50 ) // CollectionView\u3092\u751f\u6210. myCollectionView = UICollectionView ( frame : self . view . frame , collectionViewLayout : layout ) // Cell\u306b\u4f7f\u308f\u308c\u308b\u30af\u30e9\u30b9\u3092\u767b\u9332. myCollectionView . register ( CustomUICollectionViewCell . self , forCellWithReuseIdentifier : \"MyCell\" ) myCollectionView . register ( UICollectionReusableView . self , forSupplementaryViewOfKind : UICollectionElementKindSectionHeader , withReuseIdentifier : \"Section\" ) myCollectionView . delegate = self myCollectionView . dataSource = self self . view . addSubview ( myCollectionView ) } /* Section\u306e\u6570 */ internal func numberOfSections ( in collectionView : UICollectionView ) -> Int { return 3 } /* Cell\u304c\u9078\u629e\u3055\u308c\u305f\u969b\u306b\u547c\u3073\u51fa\u3055\u308c\u308b */ func collectionView ( _ collectionView : UICollectionView , didSelectItemAt indexPath : IndexPath ) { print ( \"Num: \\( indexPath . row ) \" ) print ( \"SectionNum: \\( indexPath . section ) \" ) } /* Cell\u306e\u7dcf\u6570\u3092\u8fd4\u3059 */ func collectionView ( _ collectionView : UICollectionView , numberOfItemsInSection section : Int ) -> Int { // Section\u6bce\u306bCell\u306e\u7dcf\u6570\u3092\u5909\u3048\u308b. switch ( section ){ case 0 : return 5 case 1 : return 8 case 2 : return 20 default : print ( \"error\" ) return 0 } } /* Section\u306b\u5024\u3092\u8a2d\u5b9a\u3059\u308b */ func collectionView ( _ collectionView : UICollectionView , viewForSupplementaryElementOfKind kind : String , at indexPath : IndexPath ) -> UICollectionReusableView { let headerView = collectionView . dequeueReusableSupplementaryView ( ofKind : UICollectionElementKindSectionHeader , withReuseIdentifier : \"Section\" , for : indexPath ) headerView . backgroundColor = UIColor . white return headerView } /* Cell\u306b\u5024\u3092\u8a2d\u5b9a\u3059\u308b */ func collectionView ( _ collectionView : UICollectionView , cellForItemAt indexPath : IndexPath ) -> UICollectionViewCell { let cell : CustomUICollectionViewCell = collectionView . dequeueReusableCell ( withReuseIdentifier : \"MyCell\" , for : indexPath as IndexPath ) as ! CustomUICollectionViewCell // Section\u6bce\u306bCell\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u5909\u3048\u308b. switch ( indexPath . section ){ case 0 : cell . backgroundColor = UIColor . red cell . textLabel ?. text = \"0\" case 1 : cell . backgroundColor = UIColor . green cell . textLabel ?. text = \"1\" case 2 : cell . backgroundColor = UIColor . blue cell . textLabel ?. text = \"2\" default : print ( \"section error\" ) cell . backgroundColor = UIColor . white } return cell } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 // // ViewController.swift // UIKit055_2.3 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UICollectionViewDelegate , UICollectionViewDataSource { var myCollectionView : UICollectionView ! override func viewDidLoad () { super . viewDidLoad () // CollectionView\u306e\u30ec\u30a4\u30a2\u30a6\u30c8\u3092\u751f\u6210. let layout = UICollectionViewFlowLayout () // Cell\u4e00\u3064\u4e00\u3064\u306e\u5927\u304d\u3055. layout . itemSize = CGSizeMake ( 50 , 50 ) // Cell\u306e\u30de\u30fc\u30b8\u30f3. layout . sectionInset = UIEdgeInsetsMake ( 16 , 16 , 32 , 16 ) // \u30bb\u30af\u30b7\u30e7\u30f3\u6bce\u306e\u30d8\u30c3\u30c0\u30fc\u30b5\u30a4\u30ba. layout . headerReferenceSize = CGSizeMake ( 100 , 50 ) // CollectionView\u3092\u751f\u6210. myCollectionView = UICollectionView ( frame : self . view . frame , collectionViewLayout : layout ) // Cell\u306b\u4f7f\u308f\u308c\u308b\u30af\u30e9\u30b9\u3092\u767b\u9332. myCollectionView . registerClass ( CustomUICollectionViewCell . self , forCellWithReuseIdentifier : \"MyCell\" ) myCollectionView . registerClass ( UICollectionReusableView . self , forSupplementaryViewOfKind : UICollectionElementKindSectionHeader , withReuseIdentifier : \"Section\" ) myCollectionView . delegate = self myCollectionView . dataSource = self self . view . addSubview ( myCollectionView ) } /* Section\u306e\u6570 */ func numberOfSectionsInCollectionView ( collectionView : UICollectionView ) -> Int { return 3 } /* Cell\u304c\u9078\u629e\u3055\u308c\u305f\u969b\u306b\u547c\u3073\u51fa\u3055\u308c\u308b */ func collectionView ( collectionView : UICollectionView , didSelectItemAtIndexPath indexPath : NSIndexPath ) { print ( \"Num: \\( indexPath . row ) \" ) print ( \"SectionNum: \\( indexPath . section ) \" ) } /* Cell\u306e\u7dcf\u6570\u3092\u8fd4\u3059 */ func collectionView ( collectionView : UICollectionView , numberOfItemsInSection section : Int ) -> Int { // Section\u6bce\u306bCell\u306e\u7dcf\u6570\u3092\u5909\u3048\u308b. switch ( section ){ case 0 : return 5 case 1 : return 8 case 2 : return 20 default : print ( \"error\" ) return 0 } } /* Section\u306b\u5024\u3092\u8a2d\u5b9a\u3059\u308b */ func collectionView ( collectionView : UICollectionView , viewForSupplementaryElementOfKind kind : String , atIndexPath indexPath : NSIndexPath ) -> UICollectionReusableView { let headerView = collectionView . dequeueReusableSupplementaryViewOfKind ( UICollectionElementKindSectionHeader , withReuseIdentifier : \"Section\" , forIndexPath : indexPath ) headerView . backgroundColor = UIColor . whiteColor () return headerView } /* Cell\u306b\u5024\u3092\u8a2d\u5b9a\u3059\u308b */ func collectionView ( collectionView : UICollectionView , cellForItemAtIndexPath indexPath : NSIndexPath ) -> UICollectionViewCell { let cell : CustomUICollectionViewCell = collectionView . dequeueReusableCellWithReuseIdentifier ( \"MyCell\" , forIndexPath : indexPath ) as ! CustomUICollectionViewCell // Section\u6bce\u306bCell\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u5909\u3048\u308b. switch ( indexPath . section ){ case 0 : cell . backgroundColor = UIColor . redColor () cell . textLabel ?. text = \"0\" case 1 : cell . backgroundColor = UIColor . greenColor () cell . textLabel ?. text = \"1\" case 2 : cell . backgroundColor = UIColor . blueColor () cell . textLabel ?. text = \"2\" default : print ( \"section error\" ) cell . backgroundColor = UIColor . whiteColor () } return cell } } CustomUICollectionViewCell.swift Swift 4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 // // CustomUICollectionViewCell.swift // UIKit055_4.0 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class CustomUICollectionViewCell : UICollectionViewCell { var textLabel : UILabel ? required init ( coder aDecoder : NSCoder ) { super . init ( coder : aDecoder ) ! } override init ( frame : CGRect ) { super . init ( frame : frame ) // UILabel\u3092\u751f\u6210. textLabel = UILabel ( frame : CGRect ( x : 0 , y : 0 , width : frame . width , height : frame . height )) textLabel ?. text = \"nil\" textLabel ?. textAlignment = NSTextAlignment . center // Cell\u306b\u8ffd\u52a0. self . contentView . addSubview ( textLabel !) } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 // // CustomUICollectionViewCell.swift // UIKit055_2.3 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class CustomUICollectionViewCell : UICollectionViewCell { var textLabel : UILabel ? required init ( coder aDecoder : NSCoder ) { super . init ( coder : aDecoder ) ! } override init ( frame : CGRect ) { super . init ( frame : frame ) // UILabel\u3092\u751f\u6210. textLabel = UILabel ( frame : CGRectMake ( 0 , 0 , frame . width , frame . height )) textLabel ?. text = \"nil\" textLabel ?. textAlignment = NSTextAlignment . Center // Cell\u306b\u8ffd\u52a0. self . contentView . addSubview ( textLabel !) } } 3.x\u30684.x\u306e\u5dee\u5206 UIEdgeInsetsMake(16, 16, 32, 16) \u304c UIEdgeInsets(top: 16, left: 16, bottom: 32, right: 16) \u306b\u5909\u66f4 UICollectionElementKindSectionHeader \u304c UICollectionView.elementKindSectionHeader \u306b\u5909\u66f4 2.3\u30683.0\u306e\u5dee\u5206 UIColor\u306e\u53c2\u7167\u65b9\u6cd5\u304c\u5909\u66f4(UIColor.grayColor()->UIColor.gray) CGRect,CGPoint\u306e\u521d\u671f\u5316\u65b9\u6cd5\u306e\u5909\u66f4(CGRectMake,CGPointMake\u306e\u5ec3\u6b62) dequeueReusableSupplementaryViewOfKind \u304c dequeueReusableSupplementaryView \u306b\u5909\u66f4 NSIndexPath\u306e\u5ec3\u6b62\u3001IndexPath\u306b\u5909\u66f4 UICollectionViewDelegate\u306e\u30e1\u30bd\u30c3\u30c9\u306e\u5f15\u6570\u306e\u5909\u66f4 Reference UICollectionViewFlowLayout Class https://developer.apple.com/reference/uikit/uicollectionviewflowlayout UICollectionView Class https://developer.apple.com/reference/uikit/uicollectionview UIEdgeInsetsMake https://developer.apple.com/reference/uikit/1624475-uiedgeinsetsmake?language=objc UICollectionDelegate https://developer.apple.com/reference/uikit/uicollectionviewdelegate UICollectionDataSource https://developer.apple.com/reference/uikit/uicollectionviewdatasource","title":"UICollectionView\u3092\u30bb\u30af\u30b7\u30e7\u30f3\u6bce\u306b\u5206\u3051\u308b"},{"location":"1.uikit/055_sectionuicollectionview/#uicollectionview","text":"","title":"UICollectionView\u3092\u30bb\u30af\u30b7\u30e7\u30f3\u6bce\u306b\u5206\u3051\u308b"},{"location":"1.uikit/055_sectionuicollectionview/#uiviewcontrollerswift","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 // // ViewController.swift // UIKit055_4.0 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UICollectionViewDelegate , UICollectionViewDataSource { var myCollectionView : UICollectionView ! override func viewDidLoad () { super . viewDidLoad () // CollectionView\u306e\u30ec\u30a4\u30a2\u30a6\u30c8\u3092\u751f\u6210. let layout = UICollectionViewFlowLayout () // Cell\u4e00\u3064\u4e00\u3064\u306e\u5927\u304d\u3055. layout . itemSize = CGSize ( width : 50 , height : 50 ) // Cell\u306e\u30de\u30fc\u30b8\u30f3. layout . sectionInset = UIEdgeInsets ( top : 16 , left : 16 , bottom : 32 , right : 16 ) // \u30bb\u30af\u30b7\u30e7\u30f3\u6bce\u306e\u30d8\u30c3\u30c0\u30fc\u30b5\u30a4\u30ba. layout . headerReferenceSize = CGSize ( width : 100 , height : 50 ) // CollectionView\u3092\u751f\u6210. myCollectionView = UICollectionView ( frame : self . view . frame , collectionViewLayout : layout ) // Cell\u306b\u4f7f\u308f\u308c\u308b\u30af\u30e9\u30b9\u3092\u767b\u9332. myCollectionView . register ( CustomUICollectionViewCell . self , forCellWithReuseIdentifier : \"MyCell\" ) myCollectionView . register ( UICollectionReusableView . self , forSupplementaryViewOfKind : UICollectionView . elementKindSectionHeader , withReuseIdentifier : \"Section\" ) myCollectionView . delegate = self myCollectionView . dataSource = self self . view . addSubview ( myCollectionView ) } /* Section\u306e\u6570 */ internal func numberOfSections ( in collectionView : UICollectionView ) -> Int { return 3 } /* Cell\u304c\u9078\u629e\u3055\u308c\u305f\u969b\u306b\u547c\u3073\u51fa\u3055\u308c\u308b */ func collectionView ( _ collectionView : UICollectionView , didSelectItemAt indexPath : IndexPath ) { print ( \"Num: \\( indexPath . row ) \" ) print ( \"SectionNum: \\( indexPath . section ) \" ) } /* Cell\u306e\u7dcf\u6570\u3092\u8fd4\u3059 */ func collectionView ( _ collectionView : UICollectionView , numberOfItemsInSection section : Int ) -> Int { // Section\u6bce\u306bCell\u306e\u7dcf\u6570\u3092\u5909\u3048\u308b. switch ( section ){ case 0 : return 5 case 1 : return 8 case 2 : return 20 default : print ( \"error\" ) return 0 } } /* Section\u306b\u5024\u3092\u8a2d\u5b9a\u3059\u308b */ func collectionView ( _ collectionView : UICollectionView , viewForSupplementaryElementOfKind kind : String , at indexPath : IndexPath ) -> UICollectionReusableView { let headerView = collectionView . dequeueReusableSupplementaryView ( ofKind : UICollectionView . elementKindSectionHeader , withReuseIdentifier : \"Section\" , for : indexPath ) headerView . backgroundColor = UIColor . white return headerView } /* Cell\u306b\u5024\u3092\u8a2d\u5b9a\u3059\u308b */ func collectionView ( _ collectionView : UICollectionView , cellForItemAt indexPath : IndexPath ) -> UICollectionViewCell { let cell : CustomUICollectionViewCell = collectionView . dequeueReusableCell ( withReuseIdentifier : \"MyCell\" , for : indexPath as IndexPath ) as ! CustomUICollectionViewCell // Section\u6bce\u306bCell\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u5909\u3048\u308b. switch ( indexPath . section ){ case 0 : cell . backgroundColor = UIColor . red cell . textLabel ?. text = \"0\" case 1 : cell . backgroundColor = UIColor . green cell . textLabel ?. text = \"1\" case 2 : cell . backgroundColor = UIColor . blue cell . textLabel ?. text = \"2\" default : print ( \"section error\" ) cell . backgroundColor = UIColor . white } return cell } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 // // ViewController.swift // UIKit055_3.0 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UICollectionViewDelegate , UICollectionViewDataSource { var myCollectionView : UICollectionView ! override func viewDidLoad () { super . viewDidLoad () // CollectionView\u306e\u30ec\u30a4\u30a2\u30a6\u30c8\u3092\u751f\u6210. let layout = UICollectionViewFlowLayout () // Cell\u4e00\u3064\u4e00\u3064\u306e\u5927\u304d\u3055. layout . itemSize = CGSize ( width : 50 , height : 50 ) // Cell\u306e\u30de\u30fc\u30b8\u30f3. layout . sectionInset = UIEdgeInsetsMake ( 16 , 16 , 32 , 16 ) // \u30bb\u30af\u30b7\u30e7\u30f3\u6bce\u306e\u30d8\u30c3\u30c0\u30fc\u30b5\u30a4\u30ba. layout . headerReferenceSize = CGSize ( width : 100 , height : 50 ) // CollectionView\u3092\u751f\u6210. myCollectionView = UICollectionView ( frame : self . view . frame , collectionViewLayout : layout ) // Cell\u306b\u4f7f\u308f\u308c\u308b\u30af\u30e9\u30b9\u3092\u767b\u9332. myCollectionView . register ( CustomUICollectionViewCell . self , forCellWithReuseIdentifier : \"MyCell\" ) myCollectionView . register ( UICollectionReusableView . self , forSupplementaryViewOfKind : UICollectionElementKindSectionHeader , withReuseIdentifier : \"Section\" ) myCollectionView . delegate = self myCollectionView . dataSource = self self . view . addSubview ( myCollectionView ) } /* Section\u306e\u6570 */ internal func numberOfSections ( in collectionView : UICollectionView ) -> Int { return 3 } /* Cell\u304c\u9078\u629e\u3055\u308c\u305f\u969b\u306b\u547c\u3073\u51fa\u3055\u308c\u308b */ func collectionView ( _ collectionView : UICollectionView , didSelectItemAt indexPath : IndexPath ) { print ( \"Num: \\( indexPath . row ) \" ) print ( \"SectionNum: \\( indexPath . section ) \" ) } /* Cell\u306e\u7dcf\u6570\u3092\u8fd4\u3059 */ func collectionView ( _ collectionView : UICollectionView , numberOfItemsInSection section : Int ) -> Int { // Section\u6bce\u306bCell\u306e\u7dcf\u6570\u3092\u5909\u3048\u308b. switch ( section ){ case 0 : return 5 case 1 : return 8 case 2 : return 20 default : print ( \"error\" ) return 0 } } /* Section\u306b\u5024\u3092\u8a2d\u5b9a\u3059\u308b */ func collectionView ( _ collectionView : UICollectionView , viewForSupplementaryElementOfKind kind : String , at indexPath : IndexPath ) -> UICollectionReusableView { let headerView = collectionView . dequeueReusableSupplementaryView ( ofKind : UICollectionElementKindSectionHeader , withReuseIdentifier : \"Section\" , for : indexPath ) headerView . backgroundColor = UIColor . white return headerView } /* Cell\u306b\u5024\u3092\u8a2d\u5b9a\u3059\u308b */ func collectionView ( _ collectionView : UICollectionView , cellForItemAt indexPath : IndexPath ) -> UICollectionViewCell { let cell : CustomUICollectionViewCell = collectionView . dequeueReusableCell ( withReuseIdentifier : \"MyCell\" , for : indexPath as IndexPath ) as ! CustomUICollectionViewCell // Section\u6bce\u306bCell\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u5909\u3048\u308b. switch ( indexPath . section ){ case 0 : cell . backgroundColor = UIColor . red cell . textLabel ?. text = \"0\" case 1 : cell . backgroundColor = UIColor . green cell . textLabel ?. text = \"1\" case 2 : cell . backgroundColor = UIColor . blue cell . textLabel ?. text = \"2\" default : print ( \"section error\" ) cell . backgroundColor = UIColor . white } return cell } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 // // ViewController.swift // UIKit055_2.3 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController , UICollectionViewDelegate , UICollectionViewDataSource { var myCollectionView : UICollectionView ! override func viewDidLoad () { super . viewDidLoad () // CollectionView\u306e\u30ec\u30a4\u30a2\u30a6\u30c8\u3092\u751f\u6210. let layout = UICollectionViewFlowLayout () // Cell\u4e00\u3064\u4e00\u3064\u306e\u5927\u304d\u3055. layout . itemSize = CGSizeMake ( 50 , 50 ) // Cell\u306e\u30de\u30fc\u30b8\u30f3. layout . sectionInset = UIEdgeInsetsMake ( 16 , 16 , 32 , 16 ) // \u30bb\u30af\u30b7\u30e7\u30f3\u6bce\u306e\u30d8\u30c3\u30c0\u30fc\u30b5\u30a4\u30ba. layout . headerReferenceSize = CGSizeMake ( 100 , 50 ) // CollectionView\u3092\u751f\u6210. myCollectionView = UICollectionView ( frame : self . view . frame , collectionViewLayout : layout ) // Cell\u306b\u4f7f\u308f\u308c\u308b\u30af\u30e9\u30b9\u3092\u767b\u9332. myCollectionView . registerClass ( CustomUICollectionViewCell . self , forCellWithReuseIdentifier : \"MyCell\" ) myCollectionView . registerClass ( UICollectionReusableView . self , forSupplementaryViewOfKind : UICollectionElementKindSectionHeader , withReuseIdentifier : \"Section\" ) myCollectionView . delegate = self myCollectionView . dataSource = self self . view . addSubview ( myCollectionView ) } /* Section\u306e\u6570 */ func numberOfSectionsInCollectionView ( collectionView : UICollectionView ) -> Int { return 3 } /* Cell\u304c\u9078\u629e\u3055\u308c\u305f\u969b\u306b\u547c\u3073\u51fa\u3055\u308c\u308b */ func collectionView ( collectionView : UICollectionView , didSelectItemAtIndexPath indexPath : NSIndexPath ) { print ( \"Num: \\( indexPath . row ) \" ) print ( \"SectionNum: \\( indexPath . section ) \" ) } /* Cell\u306e\u7dcf\u6570\u3092\u8fd4\u3059 */ func collectionView ( collectionView : UICollectionView , numberOfItemsInSection section : Int ) -> Int { // Section\u6bce\u306bCell\u306e\u7dcf\u6570\u3092\u5909\u3048\u308b. switch ( section ){ case 0 : return 5 case 1 : return 8 case 2 : return 20 default : print ( \"error\" ) return 0 } } /* Section\u306b\u5024\u3092\u8a2d\u5b9a\u3059\u308b */ func collectionView ( collectionView : UICollectionView , viewForSupplementaryElementOfKind kind : String , atIndexPath indexPath : NSIndexPath ) -> UICollectionReusableView { let headerView = collectionView . dequeueReusableSupplementaryViewOfKind ( UICollectionElementKindSectionHeader , withReuseIdentifier : \"Section\" , forIndexPath : indexPath ) headerView . backgroundColor = UIColor . whiteColor () return headerView } /* Cell\u306b\u5024\u3092\u8a2d\u5b9a\u3059\u308b */ func collectionView ( collectionView : UICollectionView , cellForItemAtIndexPath indexPath : NSIndexPath ) -> UICollectionViewCell { let cell : CustomUICollectionViewCell = collectionView . dequeueReusableCellWithReuseIdentifier ( \"MyCell\" , forIndexPath : indexPath ) as ! CustomUICollectionViewCell // Section\u6bce\u306bCell\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u5909\u3048\u308b. switch ( indexPath . section ){ case 0 : cell . backgroundColor = UIColor . redColor () cell . textLabel ?. text = \"0\" case 1 : cell . backgroundColor = UIColor . greenColor () cell . textLabel ?. text = \"1\" case 2 : cell . backgroundColor = UIColor . blueColor () cell . textLabel ?. text = \"2\" default : print ( \"section error\" ) cell . backgroundColor = UIColor . whiteColor () } return cell } }","title":"UIViewController.swift"},{"location":"1.uikit/055_sectionuicollectionview/#customuicollectionviewcellswift","text":"Swift 4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 // // CustomUICollectionViewCell.swift // UIKit055_4.0 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class CustomUICollectionViewCell : UICollectionViewCell { var textLabel : UILabel ? required init ( coder aDecoder : NSCoder ) { super . init ( coder : aDecoder ) ! } override init ( frame : CGRect ) { super . init ( frame : frame ) // UILabel\u3092\u751f\u6210. textLabel = UILabel ( frame : CGRect ( x : 0 , y : 0 , width : frame . width , height : frame . height )) textLabel ?. text = \"nil\" textLabel ?. textAlignment = NSTextAlignment . center // Cell\u306b\u8ffd\u52a0. self . contentView . addSubview ( textLabel !) } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 // // CustomUICollectionViewCell.swift // UIKit055_2.3 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class CustomUICollectionViewCell : UICollectionViewCell { var textLabel : UILabel ? required init ( coder aDecoder : NSCoder ) { super . init ( coder : aDecoder ) ! } override init ( frame : CGRect ) { super . init ( frame : frame ) // UILabel\u3092\u751f\u6210. textLabel = UILabel ( frame : CGRectMake ( 0 , 0 , frame . width , frame . height )) textLabel ?. text = \"nil\" textLabel ?. textAlignment = NSTextAlignment . Center // Cell\u306b\u8ffd\u52a0. self . contentView . addSubview ( textLabel !) } }","title":"CustomUICollectionViewCell.swift"},{"location":"1.uikit/055_sectionuicollectionview/#3x4x","text":"UIEdgeInsetsMake(16, 16, 32, 16) \u304c UIEdgeInsets(top: 16, left: 16, bottom: 32, right: 16) \u306b\u5909\u66f4 UICollectionElementKindSectionHeader \u304c UICollectionView.elementKindSectionHeader \u306b\u5909\u66f4","title":"3.x\u30684.x\u306e\u5dee\u5206"},{"location":"1.uikit/055_sectionuicollectionview/#2330","text":"UIColor\u306e\u53c2\u7167\u65b9\u6cd5\u304c\u5909\u66f4(UIColor.grayColor()->UIColor.gray) CGRect,CGPoint\u306e\u521d\u671f\u5316\u65b9\u6cd5\u306e\u5909\u66f4(CGRectMake,CGPointMake\u306e\u5ec3\u6b62) dequeueReusableSupplementaryViewOfKind \u304c dequeueReusableSupplementaryView \u306b\u5909\u66f4 NSIndexPath\u306e\u5ec3\u6b62\u3001IndexPath\u306b\u5909\u66f4 UICollectionViewDelegate\u306e\u30e1\u30bd\u30c3\u30c9\u306e\u5f15\u6570\u306e\u5909\u66f4","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"1.uikit/055_sectionuicollectionview/#reference","text":"UICollectionViewFlowLayout Class https://developer.apple.com/reference/uikit/uicollectionviewflowlayout UICollectionView Class https://developer.apple.com/reference/uikit/uicollectionview UIEdgeInsetsMake https://developer.apple.com/reference/uikit/1624475-uiedgeinsetsmake?language=objc UICollectionDelegate https://developer.apple.com/reference/uikit/uicollectionviewdelegate UICollectionDataSource https://developer.apple.com/reference/uikit/uicollectionviewdatasource","title":"Reference"},{"location":"1.uikit/056_uiimagepickercontroller/","text":"UIImagePickerController\u3067\u30e9\u30a4\u30d6\u30e9\u30ea\u304b\u3089\u753b\u50cf\u3092\u9078\u629e AppDelegate.swift Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 // // AppDelegate.swift // UIKit051_4.0 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit @UIApplicationMain class AppDelegate : UIResponder , UIApplicationDelegate { var window : UIWindow ? var myViewController : UIViewController ? func application ( _ application : UIApplication , didFinishLaunchingWithOptions launchOptions : [ UIApplication . LaunchOptionsKey : Any ]? = nil ) -> Bool { //ViewController\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316 myViewController = ViewController () //UINavigationController\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316\u3068rootViewController\u306e\u6307\u5b9a let myNavigationController = UINavigationController ( rootViewController : myViewController !) //UIWindow\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316 self . window = UIWindow ( frame : UIScreen . main . bounds ) //UIWindow\u306erootViewController\u306bnavigationController\u3092\u6307\u5b9a self . window ?. rootViewController = myNavigationController //UIWindow\u306e\u8868\u793a self . window ?. makeKeyAndVisible () return true } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 // // AppDelegate.swift // UIKit056 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit @UIApplicationMain class AppDelegate : UIResponder , UIApplicationDelegate { var window : UIWindow ? var myViewController : UIViewController ? func application ( _ application : UIApplication , didFinishLaunchingWithOptions launchOptions : [ NSObject : AnyObject ]?) -> Bool { //ViewController\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316 myViewController = ViewController () //UINavigationController\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316\u3068rootViewController\u306e\u6307\u5b9a let myNavigationController = UINavigationController ( rootViewController : myViewController !) //UIWindow\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316 self . window = UIWindow ( frame : UIScreen . main . bounds ) //UIWindow\u306erootViewController\u306bnavigationController\u3092\u6307\u5b9a self . window ?. rootViewController = myNavigationController //UIWindow\u306e\u8868\u793a self . window ?. makeKeyAndVisible () return true } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 // // AppDelegate.swift // UIKit056 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit @UIApplicationMain class AppDelegate : UIResponder , UIApplicationDelegate { var window : UIWindow ? var myViewController : UIViewController ? func application ( application : UIApplication , didFinishLaunchingWithOptions launchOptions : [ NSObject : AnyObject ]?) -> Bool { //ViewController\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316 myViewController = ViewController () //UINavigationController\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316\u3068rootViewController\u306e\u6307\u5b9a let myNavigationController = UINavigationController ( rootViewController : myViewController !) //UIWindow\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316 self . window = UIWindow ( frame : UIScreen . mainScreen (). bounds ) //UIWindow\u306erootViewController\u306bnavigationController\u3092\u6307\u5b9a self . window ?. rootViewController = myNavigationController //UIWindow\u306e\u8868\u793a self . window ?. makeKeyAndVisible () return true } } ViewController.swift Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 // // ViewController.swift // UIKit056 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController , UINavigationControllerDelegate , UIImagePickerControllerDelegate { var myImagePicker : UIImagePickerController ! var myImageView : UIImageView ! override func viewDidLoad () { super . viewDidLoad () self . title = \"Select a Image\" myImageView = UIImageView ( frame : self . view . bounds ) // \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u751f\u6210 myImagePicker = UIImagePickerController () // \u30c7\u30ea\u30b2\u30fc\u30c8\u8a2d\u5b9a myImagePicker . delegate = self // \u753b\u50cf\u306e\u53d6\u5f97\u5148\u306f\u30d5\u30a9\u30c8\u30e9\u30a4\u30d6\u30e9\u30ea myImagePicker . sourceType = UIImagePickerController . SourceType . photoLibrary // \u753b\u50cf\u53d6\u5f97\u5f8c\u306e\u7de8\u96c6\u3092\u4e0d\u53ef\u306b myImagePicker . allowsEditing = false } override func viewDidAppear ( _ animated : Bool ) { self . present ( myImagePicker , animated : true , completion : nil ) } /** \u753b\u50cf\u304c\u9078\u629e\u3055\u308c\u305f\u6642\u306b\u547c\u3070\u308c\u308b. */ func imagePickerController ( _ picker : UIImagePickerController , didFinishPickingMediaWithInfo info : [ UIImagePickerController . InfoKey : Any ]) { //\u9078\u629e\u3055\u308c\u305f\u753b\u50cf\u3092\u53d6\u5f97. let myImage : AnyObject ? = info [ UIImagePickerController . InfoKey . originalImage ] as AnyObject //\u9078\u629e\u3055\u308c\u305f\u753b\u50cf\u3092\u8868\u793a\u3059\u308bViewController\u3092\u751f\u6210. let secondViewController = SecondViewController () //\u9078\u629e\u3055\u308c\u305f\u753b\u50cf\u3092\u8868\u793a\u3059\u308bViewContorller\u306b\u30bb\u30c3\u30c8\u3059\u308b. secondViewController . mySelectedImage = myImage as ? UIImage myImagePicker . pushViewController ( secondViewController , animated : true ) } /** \u753b\u50cf\u9078\u629e\u304c\u30ad\u30e3\u30f3\u30bb\u30eb\u3055\u308c\u305f\u6642\u306b\u547c\u3070\u308c\u308b. */ func imagePickerControllerDidCancel ( _ picker : UIImagePickerController ) { // \u30e2\u30fc\u30c0\u30eb\u30d3\u30e5\u30fc\u3092\u9589\u3058\u308b self . dismiss ( animated : true , completion : nil ) } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 // // ViewController.swift // UIKit056 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController , UINavigationControllerDelegate , UIImagePickerControllerDelegate { var myImagePicker : UIImagePickerController ! var myImageView : UIImageView ! override func viewDidLoad () { super . viewDidLoad () self . title = \"Select a Image\" myImageView = UIImageView ( frame : self . view . bounds ) // \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u751f\u6210 myImagePicker = UIImagePickerController () // \u30c7\u30ea\u30b2\u30fc\u30c8\u8a2d\u5b9a myImagePicker . delegate = self // \u753b\u50cf\u306e\u53d6\u5f97\u5148\u306f\u30d5\u30a9\u30c8\u30e9\u30a4\u30d6\u30e9\u30ea myImagePicker . sourceType = UIImagePickerControllerSourceType . photoLibrary // \u753b\u50cf\u53d6\u5f97\u5f8c\u306e\u7de8\u96c6\u3092\u4e0d\u53ef\u306b myImagePicker . allowsEditing = false } override func viewDidAppear ( _ animated : Bool ) { self . present ( myImagePicker , animated : true , completion : nil ) } /** \u753b\u50cf\u304c\u9078\u629e\u3055\u308c\u305f\u6642\u306b\u547c\u3070\u308c\u308b. */ func imagePickerController ( _ picker : UIImagePickerController , didFinishPickingMediaWithInfo info : [ String : AnyObject ]) { //\u9078\u629e\u3055\u308c\u305f\u753b\u50cf\u3092\u53d6\u5f97. let myImage : AnyObject ? = info [ UIImagePickerControllerOriginalImage ] //\u9078\u629e\u3055\u308c\u305f\u753b\u50cf\u3092\u8868\u793a\u3059\u308bViewController\u3092\u751f\u6210. let secondViewController = SecondViewController () //\u9078\u629e\u3055\u308c\u305f\u753b\u50cf\u3092\u8868\u793a\u3059\u308bViewContorller\u306b\u30bb\u30c3\u30c8\u3059\u308b. secondViewController . mySelectedImage = myImage as ! UIImage myImagePicker . pushViewController ( secondViewController , animated : true ) } /** \u753b\u50cf\u9078\u629e\u304c\u30ad\u30e3\u30f3\u30bb\u30eb\u3055\u308c\u305f\u6642\u306b\u547c\u3070\u308c\u308b. */ func imagePickerControllerDidCancel ( _ picker : UIImagePickerController ) { // \u30e2\u30fc\u30c0\u30eb\u30d3\u30e5\u30fc\u3092\u9589\u3058\u308b self . dismiss ( animated : true , completion : nil ) } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 // // ViewController.swift // UIKit056 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController , UINavigationControllerDelegate , UIImagePickerControllerDelegate { var myImagePicker : UIImagePickerController ! var myImageView : UIImageView ! override func viewDidLoad () { super . viewDidLoad () self . title = \"Select a Image\" myImageView = UIImageView ( frame : self . view . bounds ) // \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u751f\u6210 myImagePicker = UIImagePickerController () // \u30c7\u30ea\u30b2\u30fc\u30c8\u8a2d\u5b9a myImagePicker . delegate = self // \u753b\u50cf\u306e\u53d6\u5f97\u5148\u306f\u30d5\u30a9\u30c8\u30e9\u30a4\u30d6\u30e9\u30ea myImagePicker . sourceType = UIImagePickerControllerSourceType . PhotoLibrary // \u753b\u50cf\u53d6\u5f97\u5f8c\u306e\u7de8\u96c6\u3092\u4e0d\u53ef\u306b myImagePicker . allowsEditing = false } override func viewDidAppear ( animated : Bool ) { self . presentViewController ( myImagePicker , animated : true , completion : nil ) } /** \u753b\u50cf\u304c\u9078\u629e\u3055\u308c\u305f\u6642\u306b\u547c\u3070\u308c\u308b. */ func imagePickerController ( picker : UIImagePickerController , didFinishPickingMediaWithInfo info : [ String : AnyObject ]) { //\u9078\u629e\u3055\u308c\u305f\u753b\u50cf\u3092\u53d6\u5f97. let myImage : AnyObject ? = info [ UIImagePickerControllerOriginalImage ] //\u9078\u629e\u3055\u308c\u305f\u753b\u50cf\u3092\u8868\u793a\u3059\u308bViewController\u3092\u751f\u6210. let secondViewController = SecondViewController () //\u9078\u629e\u3055\u308c\u305f\u753b\u50cf\u3092\u8868\u793a\u3059\u308bViewContorller\u306b\u30bb\u30c3\u30c8\u3059\u308b. secondViewController . mySelectedImage = myImage as ! UIImage myImagePicker . pushViewController ( secondViewController , animated : true ) } /** \u753b\u50cf\u9078\u629e\u304c\u30ad\u30e3\u30f3\u30bb\u30eb\u3055\u308c\u305f\u6642\u306b\u547c\u3070\u308c\u308b. */ func imagePickerControllerDidCancel ( picker : UIImagePickerController ) { // \u30e2\u30fc\u30c0\u30eb\u30d3\u30e5\u30fc\u3092\u9589\u3058\u308b self . dismissViewControllerAnimated ( true , completion : nil ) } } SecondViewController Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 // // SecondViewController.swift // UIKit056 // // Created by Misato Morino on 2016/08/22. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import Foundation import UIKit class SecondViewController : UIViewController { var mySelectedImage : UIImage ! var mySelectedImageView : UIImageView ! override func viewDidLoad () { self . edgesForExtendedLayout = [] self . view . backgroundColor = UIColor . white setImage () } /** \u9078\u629e\u3055\u308c\u305f\u753b\u50cf\u3092UIImageView\u306b\u30bb\u30c3\u30c8\u3059\u308b. */ func setImage (){ self . title = \"Selected Image\" mySelectedImageView = UIImageView ( frame : self . view . bounds ) mySelectedImageView . contentMode = UIView . ContentMode . scaleAspectFit mySelectedImageView . image = mySelectedImage self . view . addSubview ( mySelectedImageView ) } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 // // SecondViewController.swift // UIKit056 // // Created by Misato Morino on 2016/08/22. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import Foundation import UIKit class SecondViewController : UIViewController { var mySelectedImage : UIImage ! var mySelectedImageView : UIImageView ! override func viewDidLoad () { self . edgesForExtendedLayout = [] self . view . backgroundColor = UIColor . white setImage () } /** \u9078\u629e\u3055\u308c\u305f\u753b\u50cf\u3092UIImageView\u306b\u30bb\u30c3\u30c8\u3059\u308b. */ func setImage (){ self . title = \"Selected Image\" mySelectedImageView = UIImageView ( frame : self . view . bounds ) mySelectedImageView . contentMode = UIViewContentMode . scaleAspectFit mySelectedImageView . image = mySelectedImage self . view . addSubview ( mySelectedImageView ) } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 // // SecondViewController.swift // UIKit056 // // Created by Misato Morino on 2016/08/22. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import Foundation import UIKit class SecondViewController : UIViewController { var mySelectedImage : UIImage ! var mySelectedImageView : UIImageView ! override func viewDidLoad () { self . edgesForExtendedLayout = UIRectEdge . None self . view . backgroundColor = UIColor . whiteColor () setImage () } /** \u9078\u629e\u3055\u308c\u305f\u753b\u50cf\u3092UIImageView\u306b\u30bb\u30c3\u30c8\u3059\u308b. */ func setImage (){ self . title = \"Selected Image\" mySelectedImageView = UIImageView ( frame : self . view . bounds ) mySelectedImageView . contentMode = UIViewContentMode . ScaleAspectFit mySelectedImageView . image = mySelectedImage self . view . addSubview ( mySelectedImageView ) } } Info,plist 1 2 3 4 < key > NSPhotoLibraryUsageDescription </ key > < string > YES </ string > < key > NSAppleMusicUsageDescription </ key > < string > YES </ string > Info.plist\u306b\u4e0a\u8a18\u3092\u8ffd\u52a0\uff082.3\u306b\u306f\u5fc5\u8981\u306a\u3044\uff09 3.x\u30684.x\u306e\u5dee\u5206 func application(_ application: UIApplication, didFinishLaunchingWithOptions launchOptions: [NSObject: AnyObject]?) -> Bool \u304c\u3001 func application(_ application: UIApplication, didFinishLaunchingWithOptions launchOptions: [UIApplication.LaunchOptionsKey : Any]? = nil) -> Bool \u306b\u5909\u66f4 UIImagePickerControllerSourceType \u304c UIImagePickerController.SourceType \u306b\u5909\u66f4 func imagePickerController(_ picker: UIImagePickerController, didFinishPickingMediaWithInfo info: [String : AnyObject]) \u304c func imagePickerController(_ picker: UIImagePickerController, didFinishPickingMediaWithInfo info: [UIImagePickerController.InfoKey : Any]) \u306b\u5909\u66f4 info[UIImagePickerControllerOriginalImage] \u304c info[UIImagePickerController.InfoKey.originalImage] as AnyObject \u306b\u5909\u66f4 myImage as! UIImage \u304c myImage as? UIImage \u306b\u5909\u66f4 UIViewContentMode \u304c` ``UIView.ContentMode``` \u306b\u5909\u66f4 2.3\u30683.0\u306e\u5dee\u5206 func imagePickerController(_ picker: UIImagePickerController, didFinishPickingMediaWithInfo info: [String : AnyObject]) \u304b\u3089 func imagePickerController(_ picker: UIImagePickerController, didFinishPickingMediaWithInfo info: [String : AnyObject]) \u306b\u5909\u66f4 func imagePickerControllerDidCancel(picker: UIImagePickerController) \u304b\u3089 func imagePickerControllerDidCancel(_ picker: UIImagePickerController) \u306b\u5909\u66f4 presentViewController \u304b\u3089 present \u306b\u5909\u66f4 dismissViewControllerAnimated \u304b\u3089 dismiss \u306b\u5909\u66f4 Reference UIImagePickerController https://developer.apple.com/reference/uikit/uiimagepickercontroller","title":"UIImagePickerController\u3067\u30e9\u30a4\u30d6\u30e9\u30ea\u304b\u3089\u753b\u50cf\u3092\u9078\u629e"},{"location":"1.uikit/056_uiimagepickercontroller/#uiimagepickercontroller","text":"","title":"UIImagePickerController\u3067\u30e9\u30a4\u30d6\u30e9\u30ea\u304b\u3089\u753b\u50cf\u3092\u9078\u629e"},{"location":"1.uikit/056_uiimagepickercontroller/#appdelegateswift","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 // // AppDelegate.swift // UIKit051_4.0 // // Created by KimikoWatanabe on 2016/08/21. // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit @UIApplicationMain class AppDelegate : UIResponder , UIApplicationDelegate { var window : UIWindow ? var myViewController : UIViewController ? func application ( _ application : UIApplication , didFinishLaunchingWithOptions launchOptions : [ UIApplication . LaunchOptionsKey : Any ]? = nil ) -> Bool { //ViewController\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316 myViewController = ViewController () //UINavigationController\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316\u3068rootViewController\u306e\u6307\u5b9a let myNavigationController = UINavigationController ( rootViewController : myViewController !) //UIWindow\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316 self . window = UIWindow ( frame : UIScreen . main . bounds ) //UIWindow\u306erootViewController\u306bnavigationController\u3092\u6307\u5b9a self . window ?. rootViewController = myNavigationController //UIWindow\u306e\u8868\u793a self . window ?. makeKeyAndVisible () return true } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 // // AppDelegate.swift // UIKit056 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit @UIApplicationMain class AppDelegate : UIResponder , UIApplicationDelegate { var window : UIWindow ? var myViewController : UIViewController ? func application ( _ application : UIApplication , didFinishLaunchingWithOptions launchOptions : [ NSObject : AnyObject ]?) -> Bool { //ViewController\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316 myViewController = ViewController () //UINavigationController\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316\u3068rootViewController\u306e\u6307\u5b9a let myNavigationController = UINavigationController ( rootViewController : myViewController !) //UIWindow\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316 self . window = UIWindow ( frame : UIScreen . main . bounds ) //UIWindow\u306erootViewController\u306bnavigationController\u3092\u6307\u5b9a self . window ?. rootViewController = myNavigationController //UIWindow\u306e\u8868\u793a self . window ?. makeKeyAndVisible () return true } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 // // AppDelegate.swift // UIKit056 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit @UIApplicationMain class AppDelegate : UIResponder , UIApplicationDelegate { var window : UIWindow ? var myViewController : UIViewController ? func application ( application : UIApplication , didFinishLaunchingWithOptions launchOptions : [ NSObject : AnyObject ]?) -> Bool { //ViewController\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316 myViewController = ViewController () //UINavigationController\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316\u3068rootViewController\u306e\u6307\u5b9a let myNavigationController = UINavigationController ( rootViewController : myViewController !) //UIWindow\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316 self . window = UIWindow ( frame : UIScreen . mainScreen (). bounds ) //UIWindow\u306erootViewController\u306bnavigationController\u3092\u6307\u5b9a self . window ?. rootViewController = myNavigationController //UIWindow\u306e\u8868\u793a self . window ?. makeKeyAndVisible () return true } }","title":"AppDelegate.swift"},{"location":"1.uikit/056_uiimagepickercontroller/#viewcontrollerswift","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 // // ViewController.swift // UIKit056 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController , UINavigationControllerDelegate , UIImagePickerControllerDelegate { var myImagePicker : UIImagePickerController ! var myImageView : UIImageView ! override func viewDidLoad () { super . viewDidLoad () self . title = \"Select a Image\" myImageView = UIImageView ( frame : self . view . bounds ) // \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u751f\u6210 myImagePicker = UIImagePickerController () // \u30c7\u30ea\u30b2\u30fc\u30c8\u8a2d\u5b9a myImagePicker . delegate = self // \u753b\u50cf\u306e\u53d6\u5f97\u5148\u306f\u30d5\u30a9\u30c8\u30e9\u30a4\u30d6\u30e9\u30ea myImagePicker . sourceType = UIImagePickerController . SourceType . photoLibrary // \u753b\u50cf\u53d6\u5f97\u5f8c\u306e\u7de8\u96c6\u3092\u4e0d\u53ef\u306b myImagePicker . allowsEditing = false } override func viewDidAppear ( _ animated : Bool ) { self . present ( myImagePicker , animated : true , completion : nil ) } /** \u753b\u50cf\u304c\u9078\u629e\u3055\u308c\u305f\u6642\u306b\u547c\u3070\u308c\u308b. */ func imagePickerController ( _ picker : UIImagePickerController , didFinishPickingMediaWithInfo info : [ UIImagePickerController . InfoKey : Any ]) { //\u9078\u629e\u3055\u308c\u305f\u753b\u50cf\u3092\u53d6\u5f97. let myImage : AnyObject ? = info [ UIImagePickerController . InfoKey . originalImage ] as AnyObject //\u9078\u629e\u3055\u308c\u305f\u753b\u50cf\u3092\u8868\u793a\u3059\u308bViewController\u3092\u751f\u6210. let secondViewController = SecondViewController () //\u9078\u629e\u3055\u308c\u305f\u753b\u50cf\u3092\u8868\u793a\u3059\u308bViewContorller\u306b\u30bb\u30c3\u30c8\u3059\u308b. secondViewController . mySelectedImage = myImage as ? UIImage myImagePicker . pushViewController ( secondViewController , animated : true ) } /** \u753b\u50cf\u9078\u629e\u304c\u30ad\u30e3\u30f3\u30bb\u30eb\u3055\u308c\u305f\u6642\u306b\u547c\u3070\u308c\u308b. */ func imagePickerControllerDidCancel ( _ picker : UIImagePickerController ) { // \u30e2\u30fc\u30c0\u30eb\u30d3\u30e5\u30fc\u3092\u9589\u3058\u308b self . dismiss ( animated : true , completion : nil ) } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 // // ViewController.swift // UIKit056 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController , UINavigationControllerDelegate , UIImagePickerControllerDelegate { var myImagePicker : UIImagePickerController ! var myImageView : UIImageView ! override func viewDidLoad () { super . viewDidLoad () self . title = \"Select a Image\" myImageView = UIImageView ( frame : self . view . bounds ) // \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u751f\u6210 myImagePicker = UIImagePickerController () // \u30c7\u30ea\u30b2\u30fc\u30c8\u8a2d\u5b9a myImagePicker . delegate = self // \u753b\u50cf\u306e\u53d6\u5f97\u5148\u306f\u30d5\u30a9\u30c8\u30e9\u30a4\u30d6\u30e9\u30ea myImagePicker . sourceType = UIImagePickerControllerSourceType . photoLibrary // \u753b\u50cf\u53d6\u5f97\u5f8c\u306e\u7de8\u96c6\u3092\u4e0d\u53ef\u306b myImagePicker . allowsEditing = false } override func viewDidAppear ( _ animated : Bool ) { self . present ( myImagePicker , animated : true , completion : nil ) } /** \u753b\u50cf\u304c\u9078\u629e\u3055\u308c\u305f\u6642\u306b\u547c\u3070\u308c\u308b. */ func imagePickerController ( _ picker : UIImagePickerController , didFinishPickingMediaWithInfo info : [ String : AnyObject ]) { //\u9078\u629e\u3055\u308c\u305f\u753b\u50cf\u3092\u53d6\u5f97. let myImage : AnyObject ? = info [ UIImagePickerControllerOriginalImage ] //\u9078\u629e\u3055\u308c\u305f\u753b\u50cf\u3092\u8868\u793a\u3059\u308bViewController\u3092\u751f\u6210. let secondViewController = SecondViewController () //\u9078\u629e\u3055\u308c\u305f\u753b\u50cf\u3092\u8868\u793a\u3059\u308bViewContorller\u306b\u30bb\u30c3\u30c8\u3059\u308b. secondViewController . mySelectedImage = myImage as ! UIImage myImagePicker . pushViewController ( secondViewController , animated : true ) } /** \u753b\u50cf\u9078\u629e\u304c\u30ad\u30e3\u30f3\u30bb\u30eb\u3055\u308c\u305f\u6642\u306b\u547c\u3070\u308c\u308b. */ func imagePickerControllerDidCancel ( _ picker : UIImagePickerController ) { // \u30e2\u30fc\u30c0\u30eb\u30d3\u30e5\u30fc\u3092\u9589\u3058\u308b self . dismiss ( animated : true , completion : nil ) } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 // // ViewController.swift // UIKit056 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController , UINavigationControllerDelegate , UIImagePickerControllerDelegate { var myImagePicker : UIImagePickerController ! var myImageView : UIImageView ! override func viewDidLoad () { super . viewDidLoad () self . title = \"Select a Image\" myImageView = UIImageView ( frame : self . view . bounds ) // \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u751f\u6210 myImagePicker = UIImagePickerController () // \u30c7\u30ea\u30b2\u30fc\u30c8\u8a2d\u5b9a myImagePicker . delegate = self // \u753b\u50cf\u306e\u53d6\u5f97\u5148\u306f\u30d5\u30a9\u30c8\u30e9\u30a4\u30d6\u30e9\u30ea myImagePicker . sourceType = UIImagePickerControllerSourceType . PhotoLibrary // \u753b\u50cf\u53d6\u5f97\u5f8c\u306e\u7de8\u96c6\u3092\u4e0d\u53ef\u306b myImagePicker . allowsEditing = false } override func viewDidAppear ( animated : Bool ) { self . presentViewController ( myImagePicker , animated : true , completion : nil ) } /** \u753b\u50cf\u304c\u9078\u629e\u3055\u308c\u305f\u6642\u306b\u547c\u3070\u308c\u308b. */ func imagePickerController ( picker : UIImagePickerController , didFinishPickingMediaWithInfo info : [ String : AnyObject ]) { //\u9078\u629e\u3055\u308c\u305f\u753b\u50cf\u3092\u53d6\u5f97. let myImage : AnyObject ? = info [ UIImagePickerControllerOriginalImage ] //\u9078\u629e\u3055\u308c\u305f\u753b\u50cf\u3092\u8868\u793a\u3059\u308bViewController\u3092\u751f\u6210. let secondViewController = SecondViewController () //\u9078\u629e\u3055\u308c\u305f\u753b\u50cf\u3092\u8868\u793a\u3059\u308bViewContorller\u306b\u30bb\u30c3\u30c8\u3059\u308b. secondViewController . mySelectedImage = myImage as ! UIImage myImagePicker . pushViewController ( secondViewController , animated : true ) } /** \u753b\u50cf\u9078\u629e\u304c\u30ad\u30e3\u30f3\u30bb\u30eb\u3055\u308c\u305f\u6642\u306b\u547c\u3070\u308c\u308b. */ func imagePickerControllerDidCancel ( picker : UIImagePickerController ) { // \u30e2\u30fc\u30c0\u30eb\u30d3\u30e5\u30fc\u3092\u9589\u3058\u308b self . dismissViewControllerAnimated ( true , completion : nil ) } }","title":"ViewController.swift"},{"location":"1.uikit/056_uiimagepickercontroller/#secondviewcontroller","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 // // SecondViewController.swift // UIKit056 // // Created by Misato Morino on 2016/08/22. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import Foundation import UIKit class SecondViewController : UIViewController { var mySelectedImage : UIImage ! var mySelectedImageView : UIImageView ! override func viewDidLoad () { self . edgesForExtendedLayout = [] self . view . backgroundColor = UIColor . white setImage () } /** \u9078\u629e\u3055\u308c\u305f\u753b\u50cf\u3092UIImageView\u306b\u30bb\u30c3\u30c8\u3059\u308b. */ func setImage (){ self . title = \"Selected Image\" mySelectedImageView = UIImageView ( frame : self . view . bounds ) mySelectedImageView . contentMode = UIView . ContentMode . scaleAspectFit mySelectedImageView . image = mySelectedImage self . view . addSubview ( mySelectedImageView ) } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 // // SecondViewController.swift // UIKit056 // // Created by Misato Morino on 2016/08/22. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import Foundation import UIKit class SecondViewController : UIViewController { var mySelectedImage : UIImage ! var mySelectedImageView : UIImageView ! override func viewDidLoad () { self . edgesForExtendedLayout = [] self . view . backgroundColor = UIColor . white setImage () } /** \u9078\u629e\u3055\u308c\u305f\u753b\u50cf\u3092UIImageView\u306b\u30bb\u30c3\u30c8\u3059\u308b. */ func setImage (){ self . title = \"Selected Image\" mySelectedImageView = UIImageView ( frame : self . view . bounds ) mySelectedImageView . contentMode = UIViewContentMode . scaleAspectFit mySelectedImageView . image = mySelectedImage self . view . addSubview ( mySelectedImageView ) } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 // // SecondViewController.swift // UIKit056 // // Created by Misato Morino on 2016/08/22. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import Foundation import UIKit class SecondViewController : UIViewController { var mySelectedImage : UIImage ! var mySelectedImageView : UIImageView ! override func viewDidLoad () { self . edgesForExtendedLayout = UIRectEdge . None self . view . backgroundColor = UIColor . whiteColor () setImage () } /** \u9078\u629e\u3055\u308c\u305f\u753b\u50cf\u3092UIImageView\u306b\u30bb\u30c3\u30c8\u3059\u308b. */ func setImage (){ self . title = \"Selected Image\" mySelectedImageView = UIImageView ( frame : self . view . bounds ) mySelectedImageView . contentMode = UIViewContentMode . ScaleAspectFit mySelectedImageView . image = mySelectedImage self . view . addSubview ( mySelectedImageView ) } }","title":"SecondViewController"},{"location":"1.uikit/056_uiimagepickercontroller/#infoplist","text":"1 2 3 4 < key > NSPhotoLibraryUsageDescription </ key > < string > YES </ string > < key > NSAppleMusicUsageDescription </ key > < string > YES </ string > Info.plist\u306b\u4e0a\u8a18\u3092\u8ffd\u52a0\uff082.3\u306b\u306f\u5fc5\u8981\u306a\u3044\uff09","title":"Info,plist"},{"location":"1.uikit/056_uiimagepickercontroller/#3x4x","text":"func application(_ application: UIApplication, didFinishLaunchingWithOptions launchOptions: [NSObject: AnyObject]?) -> Bool \u304c\u3001 func application(_ application: UIApplication, didFinishLaunchingWithOptions launchOptions: [UIApplication.LaunchOptionsKey : Any]? = nil) -> Bool \u306b\u5909\u66f4 UIImagePickerControllerSourceType \u304c UIImagePickerController.SourceType \u306b\u5909\u66f4 func imagePickerController(_ picker: UIImagePickerController, didFinishPickingMediaWithInfo info: [String : AnyObject]) \u304c func imagePickerController(_ picker: UIImagePickerController, didFinishPickingMediaWithInfo info: [UIImagePickerController.InfoKey : Any]) \u306b\u5909\u66f4 info[UIImagePickerControllerOriginalImage] \u304c info[UIImagePickerController.InfoKey.originalImage] as AnyObject \u306b\u5909\u66f4 myImage as! UIImage \u304c myImage as? UIImage \u306b\u5909\u66f4 UIViewContentMode \u304c` ``UIView.ContentMode``` \u306b\u5909\u66f4","title":"3.x\u30684.x\u306e\u5dee\u5206"},{"location":"1.uikit/056_uiimagepickercontroller/#2330","text":"func imagePickerController(_ picker: UIImagePickerController, didFinishPickingMediaWithInfo info: [String : AnyObject]) \u304b\u3089 func imagePickerController(_ picker: UIImagePickerController, didFinishPickingMediaWithInfo info: [String : AnyObject]) \u306b\u5909\u66f4 func imagePickerControllerDidCancel(picker: UIImagePickerController) \u304b\u3089 func imagePickerControllerDidCancel(_ picker: UIImagePickerController) \u306b\u5909\u66f4 presentViewController \u304b\u3089 present \u306b\u5909\u66f4 dismissViewControllerAnimated \u304b\u3089 dismiss \u306b\u5909\u66f4","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"1.uikit/056_uiimagepickercontroller/#reference","text":"UIImagePickerController https://developer.apple.com/reference/uikit/uiimagepickercontroller","title":"Reference"},{"location":"1.uikit/057_uiimage/","text":"UIImage\u3067\u753b\u50cf\u306e\u900f\u904e Swift4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 // // ViewController.swift // UIKit057 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit extension UIImage { // Resize\u306e\u30af\u30e9\u30b9\u30e1\u30bd\u30c3\u30c9\u3092\u4f5c\u308b. class func Resize\u00dcIImage ( image : UIImage , width : CGFloat , height : CGFloat )-> UIImage !{ // \u6307\u5b9a\u3055\u308c\u305f\u753b\u50cf\u306e\u5927\u304d\u3055\u306e\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u7528\u610f. UIGraphicsBeginImageContext ( CGSize ( width : width , height : height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u306b\u753b\u50cf\u3092\u63cf\u753b\u3059\u308b. image . draw ( in : CGRect ( x : 0 , y : 0 , width : width , height : height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u304b\u3089UIImage\u3092\u4f5c\u308b. let newImage = UIGraphicsGetImageFromCurrentImageContext () // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u9589\u3058\u308b. UIGraphicsEndImageContext () return newImage } } class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // \u753b\u50cf\u306e\u8a2d\u5b9a. let myImage : UIImage = UIImage ( named : \"sample1\" ) ! // \u30ea\u30b5\u30a4\u30ba\u3055\u308c\u305fUIImage\u3092\u6307\u5b9a\u3057\u3066\u3001UIImageView\u3092\u4f5c\u308b. let myImageView = UIImageView ( image : UIImage . Resize\u00dcIImage ( image : myImage , width : self . view . frame . maxX , height : self . view . frame . maxY )) // \u900f\u904e\u3059\u308b. myImageView . alpha = 0.05 // view\u306bUIImageView\u3092\u8ffd\u52a0. self . view . addSubview ( myImageView ) } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 // // ViewController.swift // UIKit057 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit extension UIImage { // Resize\u306e\u30af\u30e9\u30b9\u30e1\u30bd\u30c3\u30c9\u3092\u4f5c\u308b. class func Resize\u00dcIImage ( image : UIImage , width : CGFloat , height : CGFloat )-> UIImage !{ // \u6307\u5b9a\u3055\u308c\u305f\u753b\u50cf\u306e\u5927\u304d\u3055\u306e\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u7528\u610f. UIGraphicsBeginImageContext ( CGSizeMake ( width , height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u306b\u753b\u50cf\u3092\u63cf\u753b\u3059\u308b. image . drawInRect ( CGRectMake ( 0 , 0 , width , height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u304b\u3089UIImage\u3092\u4f5c\u308b. let newImage = UIGraphicsGetImageFromCurrentImageContext () // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u9589\u3058\u308b. UIGraphicsEndImageContext () return newImage } } class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // \u753b\u50cf\u306e\u8a2d\u5b9a. let myImage : UIImage = UIImage ( named : \"sample1\" ) ! // \u30ea\u30b5\u30a4\u30ba\u3055\u308c\u305fUIImage\u3092\u6307\u5b9a\u3057\u3066\u3001UIImageView\u3092\u4f5c\u308b. let myImageView = UIImageView ( image : UIImage . Resize\u00dcIImage ( myImage , width : self . view . frame . maxX , height : self . view . frame . maxY )) // \u900f\u904e\u3059\u308b. myImageView . alpha = 0.05 // view\u306bUIImageView\u3092\u8ffd\u52a0. self . view . addSubview ( myImageView ) } } 2.3\u30683.0\u306e\u5dee\u5206 CGSizeMake \u3001 CGRectMake \u304c\u5ec3\u6b62 Reference UIImage https://developer.apple.com/reference/uikit/uiimage","title":"UIImage\u3067\u753b\u50cf\u306e\u900f\u904e"},{"location":"1.uikit/057_uiimage/#uiimage","text":"Swift4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 // // ViewController.swift // UIKit057 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit extension UIImage { // Resize\u306e\u30af\u30e9\u30b9\u30e1\u30bd\u30c3\u30c9\u3092\u4f5c\u308b. class func Resize\u00dcIImage ( image : UIImage , width : CGFloat , height : CGFloat )-> UIImage !{ // \u6307\u5b9a\u3055\u308c\u305f\u753b\u50cf\u306e\u5927\u304d\u3055\u306e\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u7528\u610f. UIGraphicsBeginImageContext ( CGSize ( width : width , height : height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u306b\u753b\u50cf\u3092\u63cf\u753b\u3059\u308b. image . draw ( in : CGRect ( x : 0 , y : 0 , width : width , height : height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u304b\u3089UIImage\u3092\u4f5c\u308b. let newImage = UIGraphicsGetImageFromCurrentImageContext () // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u9589\u3058\u308b. UIGraphicsEndImageContext () return newImage } } class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // \u753b\u50cf\u306e\u8a2d\u5b9a. let myImage : UIImage = UIImage ( named : \"sample1\" ) ! // \u30ea\u30b5\u30a4\u30ba\u3055\u308c\u305fUIImage\u3092\u6307\u5b9a\u3057\u3066\u3001UIImageView\u3092\u4f5c\u308b. let myImageView = UIImageView ( image : UIImage . Resize\u00dcIImage ( image : myImage , width : self . view . frame . maxX , height : self . view . frame . maxY )) // \u900f\u904e\u3059\u308b. myImageView . alpha = 0.05 // view\u306bUIImageView\u3092\u8ffd\u52a0. self . view . addSubview ( myImageView ) } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 // // ViewController.swift // UIKit057 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit extension UIImage { // Resize\u306e\u30af\u30e9\u30b9\u30e1\u30bd\u30c3\u30c9\u3092\u4f5c\u308b. class func Resize\u00dcIImage ( image : UIImage , width : CGFloat , height : CGFloat )-> UIImage !{ // \u6307\u5b9a\u3055\u308c\u305f\u753b\u50cf\u306e\u5927\u304d\u3055\u306e\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u7528\u610f. UIGraphicsBeginImageContext ( CGSizeMake ( width , height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u306b\u753b\u50cf\u3092\u63cf\u753b\u3059\u308b. image . drawInRect ( CGRectMake ( 0 , 0 , width , height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u304b\u3089UIImage\u3092\u4f5c\u308b. let newImage = UIGraphicsGetImageFromCurrentImageContext () // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u9589\u3058\u308b. UIGraphicsEndImageContext () return newImage } } class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // \u753b\u50cf\u306e\u8a2d\u5b9a. let myImage : UIImage = UIImage ( named : \"sample1\" ) ! // \u30ea\u30b5\u30a4\u30ba\u3055\u308c\u305fUIImage\u3092\u6307\u5b9a\u3057\u3066\u3001UIImageView\u3092\u4f5c\u308b. let myImageView = UIImageView ( image : UIImage . Resize\u00dcIImage ( myImage , width : self . view . frame . maxX , height : self . view . frame . maxY )) // \u900f\u904e\u3059\u308b. myImageView . alpha = 0.05 // view\u306bUIImageView\u3092\u8ffd\u52a0. self . view . addSubview ( myImageView ) } }","title":"UIImage\u3067\u753b\u50cf\u306e\u900f\u904e"},{"location":"1.uikit/057_uiimage/#2330","text":"CGSizeMake \u3001 CGRectMake \u304c\u5ec3\u6b62","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"1.uikit/057_uiimage/#reference","text":"UIImage https://developer.apple.com/reference/uikit/uiimage","title":"Reference"},{"location":"1.uikit/058_image/","text":"UIImage\u3092\u307c\u304b\u3059 Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 // // ViewController.swift // swiftdocs // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit extension UIImage { // \u753b\u50cf\u3092Resize\u3059\u308b\u30af\u30e9\u30b9\u30e1\u30bd\u30c3\u30c9. class func Resize\u00dcIImage ( image : UIImage , width : CGFloat , height : CGFloat )-> UIImage !{ // \u6307\u5b9a\u3055\u308c\u305f\u753b\u50cf\u306e\u5927\u304d\u3055\u306e\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u7528\u610f. UIGraphicsBeginImageContext ( CGSize ( width : width , height : height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u306b\u753b\u50cf\u3092\u63cf\u753b\u3059\u308b. image . draw ( in : CGRect ( x : 0 , y : 0 , width : width , height : height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u304b\u3089UIImage\u3092\u4f5c\u308b. let newImage = UIGraphicsGetImageFromCurrentImageContext () // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u9589\u3058\u308b. UIGraphicsEndImageContext () return newImage } } class ViewController : UIViewController { var myImageView : UIImageView ? override func viewDidLoad () { // \u30e9\u30b9\u30bf\u30e9\u30a4\u30ba\u5316\u306e\u521d\u671f\u5316\u5024. let initRasterizeValue : CGFloat = 1.0 // \u30b9\u30e9\u30a4\u30c0\u30fc\u3092\u7528\u610f. let rasterizeSlider = UISlider () rasterizeSlider . layer . position = CGPoint ( x : self . view . frame . midX , y : self . view . frame . maxY - 50 ) rasterizeSlider . layer . zPosition = 1 rasterizeSlider . minimumValue = 0.1 rasterizeSlider . maximumValue = 1.0 rasterizeSlider . value = Float ( 1.0 - initRasterizeValue ) rasterizeSlider . addTarget ( self , action : #selector ( ViewController . onValueChanged ( slider :)), for : UIControl . Event . valueChanged ) self . view . addSubview ( rasterizeSlider ) // UIImage\u3092\u4f5c\u308b. let myImage = UIImage ( named : \"temple.jpg\" ) ! // \u30ea\u30b5\u30a4\u30ba\u3055\u308c\u305fUIImage\u3092\u6307\u5b9a\u3057\u3066\u3001UIImageView\u3092\u4f5c\u308b. myImageView = UIImageView ( image : UIImage . Resize\u00dcIImage ( image : myImage , width : self . view . frame . maxX , height : self . view . frame . maxY )) if myImageView != nil { // \u30e9\u30b9\u30bf\u30e9\u30a4\u30ba\u5316\u3059\u308b. myImageView !. layer . shouldRasterize = true // \u5024\u306e\u521d\u671f\u5316. myImageView !. layer . rasterizationScale = initRasterizeValue self . view . addSubview ( myImageView !) } } /* Slider\u306e\u5024\u304c\u5909\u308f\u3063\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ @objc func onValueChanged ( slider : UISlider ){ if myImageView != nil { // \u30e9\u30b9\u30bf\u30e9\u30a4\u30ba\u5316\u3059\u308b. myImageView !. layer . rasterizationScale = CGFloat ( 1.1 - slider . value ) } } } Swift3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 // // ViewController.swift // swiftdocs // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit extension UIImage { // \u753b\u50cf\u3092Resize\u3059\u308b\u30af\u30e9\u30b9\u30e1\u30bd\u30c3\u30c9. class func Resize\u00dcIImage ( image : UIImage , width : CGFloat , height : CGFloat )-> UIImage !{ // \u6307\u5b9a\u3055\u308c\u305f\u753b\u50cf\u306e\u5927\u304d\u3055\u306e\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u7528\u610f. UIGraphicsBeginImageContext ( CGSize ( width : width , height : height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u306b\u753b\u50cf\u3092\u63cf\u753b\u3059\u308b. image . draw ( in : CGRect ( x : 0 , y : 0 , width : width , height : height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u304b\u3089UIImage\u3092\u4f5c\u308b. let newImage = UIGraphicsGetImageFromCurrentImageContext () // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u9589\u3058\u308b. UIGraphicsEndImageContext () return newImage } } class ViewController : UIViewController { var myImageView : UIImageView ? override func viewDidLoad () { // \u30e9\u30b9\u30bf\u30e9\u30a4\u30ba\u5316\u306e\u521d\u671f\u5316\u5024. let initRasterizeValue : CGFloat = 1.0 // \u30b9\u30e9\u30a4\u30c0\u30fc\u3092\u7528\u610f. let rasterizeSlider = UISlider () rasterizeSlider . layer . position = CGPoint ( x : self . view . frame . midX , y : self . view . frame . maxY - 50 ) rasterizeSlider . layer . zPosition = 1 rasterizeSlider . minimumValue = 0.1 rasterizeSlider . maximumValue = 1.0 rasterizeSlider . value = Float ( 1.0 - initRasterizeValue ) rasterizeSlider . addTarget ( self , action : #selector ( ViewController . onValueChanged ( slider :)), for : UIControlEvents . valueChanged ) self . view . addSubview ( rasterizeSlider ) // UIImage\u3092\u4f5c\u308b. let myImage = UIImage ( named : \"sample2\" ) ! // \u30ea\u30b5\u30a4\u30ba\u3055\u308c\u305fUIImage\u3092\u6307\u5b9a\u3057\u3066\u3001UIImageView\u3092\u4f5c\u308b. myImageView = UIImageView ( image : UIImage . Resize\u00dcIImage ( image : myImage , width : self . view . frame . maxX , height : self . view . frame . maxY )) if myImageView != nil { // \u30e9\u30b9\u30bf\u30e9\u30a4\u30ba\u5316\u3059\u308b. myImageView !. layer . shouldRasterize = true // \u5024\u306e\u521d\u671f\u5316. myImageView !. layer . rasterizationScale = initRasterizeValue self . view . addSubview ( myImageView !) } } /* Slider\u306e\u5024\u304c\u5909\u308f\u3063\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func onValueChanged ( slider : UISlider ){ if myImageView != nil { // \u30e9\u30b9\u30bf\u30e9\u30a4\u30ba\u5316\u3059\u308b. myImageView !. layer . rasterizationScale = CGFloat ( 1.1 - slider . value ) } } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 // // ViewController.swift // UIKit058 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit extension UIImage { // \u753b\u50cf\u3092Resize\u3059\u308b\u30af\u30e9\u30b9\u30e1\u30bd\u30c3\u30c9. class func Resize\u00dcIImage ( image : UIImage , width : CGFloat , height : CGFloat )-> UIImage !{ // \u6307\u5b9a\u3055\u308c\u305f\u753b\u50cf\u306e\u5927\u304d\u3055\u306e\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u7528\u610f. UIGraphicsBeginImageContext ( CGSizeMake ( width , height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u306b\u753b\u50cf\u3092\u63cf\u753b\u3059\u308b. image . drawInRect ( CGRectMake ( 0 , 0 , width , height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u304b\u3089UIImage\u3092\u4f5c\u308b. let newImage = UIGraphicsGetImageFromCurrentImageContext () // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u9589\u3058\u308b. UIGraphicsEndImageContext () return newImage } } class ViewController : UIViewController { var myImageView : UIImageView ? override func viewDidLoad () { // \u30e9\u30b9\u30bf\u30e9\u30a4\u30ba\u5316\u306e\u521d\u671f\u5316\u5024. let initRasterizeValue : CGFloat = 1.0 // \u30b9\u30e9\u30a4\u30c0\u30fc\u3092\u7528\u610f. let rasterizeSlider = UISlider () rasterizeSlider . layer . position = CGPointMake ( self . view . frame . midX , self . view . frame . maxY - 50 ) rasterizeSlider . layer . zPosition = 1 rasterizeSlider . minimumValue = 0.1 rasterizeSlider . maximumValue = 1.0 rasterizeSlider . value = Float ( 1.0 - initRasterizeValue ) rasterizeSlider . addTarget ( self , action : #selector ( ViewController . onValueChanged ( _ :)), forControlEvents : UIControlEvents . ValueChanged ) self . view . addSubview ( rasterizeSlider ) // UIImage\u3092\u4f5c\u308b. let myImage = UIImage ( named : \"sample2\" ) ! // \u30ea\u30b5\u30a4\u30ba\u3055\u308c\u305fUIImage\u3092\u6307\u5b9a\u3057\u3066\u3001UIImageView\u3092\u4f5c\u308b. myImageView = UIImageView ( image : UIImage . Resize\u00dcIImage ( myImage , width : self . view . frame . maxX , height : self . view . frame . maxY )) if myImageView != nil { // \u30e9\u30b9\u30bf\u30e9\u30a4\u30ba\u5316\u3059\u308b. myImageView !. layer . shouldRasterize = true // \u5024\u306e\u521d\u671f\u5316. myImageView !. layer . rasterizationScale = initRasterizeValue self . view . addSubview ( myImageView !) } } /* Slider\u306e\u5024\u304c\u5909\u308f\u3063\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func onValueChanged ( slider : UISlider ){ if myImageView != nil { // \u30e9\u30b9\u30bf\u30e9\u30a4\u30ba\u5316\u3059\u308b. myImageView !. layer . rasterizationScale = CGFloat ( 1.1 - slider . value ) } } } 3.x\u30684.x\u306e\u5dee\u5206 func onValueChanged(slider : UISlider) \u306b @objc \u3092\u8ffd\u52a0 UIControlEvents.valueChanged \u304c UIControl.Event.valueChanged \u306b\u5909\u66f4 2.3\u30683.0\u306e\u5dee\u5206 CGSizeMake \u3001 CGRectMake \u3001 CGPointMake \u304c\u5ec3\u6b62 Reference UIImage https://developer.apple.com/reference/uikit/uiimage","title":"UIImage\u3092\u307c\u304b\u3059"},{"location":"1.uikit/058_image/#uiimage","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 // // ViewController.swift // swiftdocs // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit extension UIImage { // \u753b\u50cf\u3092Resize\u3059\u308b\u30af\u30e9\u30b9\u30e1\u30bd\u30c3\u30c9. class func Resize\u00dcIImage ( image : UIImage , width : CGFloat , height : CGFloat )-> UIImage !{ // \u6307\u5b9a\u3055\u308c\u305f\u753b\u50cf\u306e\u5927\u304d\u3055\u306e\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u7528\u610f. UIGraphicsBeginImageContext ( CGSize ( width : width , height : height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u306b\u753b\u50cf\u3092\u63cf\u753b\u3059\u308b. image . draw ( in : CGRect ( x : 0 , y : 0 , width : width , height : height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u304b\u3089UIImage\u3092\u4f5c\u308b. let newImage = UIGraphicsGetImageFromCurrentImageContext () // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u9589\u3058\u308b. UIGraphicsEndImageContext () return newImage } } class ViewController : UIViewController { var myImageView : UIImageView ? override func viewDidLoad () { // \u30e9\u30b9\u30bf\u30e9\u30a4\u30ba\u5316\u306e\u521d\u671f\u5316\u5024. let initRasterizeValue : CGFloat = 1.0 // \u30b9\u30e9\u30a4\u30c0\u30fc\u3092\u7528\u610f. let rasterizeSlider = UISlider () rasterizeSlider . layer . position = CGPoint ( x : self . view . frame . midX , y : self . view . frame . maxY - 50 ) rasterizeSlider . layer . zPosition = 1 rasterizeSlider . minimumValue = 0.1 rasterizeSlider . maximumValue = 1.0 rasterizeSlider . value = Float ( 1.0 - initRasterizeValue ) rasterizeSlider . addTarget ( self , action : #selector ( ViewController . onValueChanged ( slider :)), for : UIControl . Event . valueChanged ) self . view . addSubview ( rasterizeSlider ) // UIImage\u3092\u4f5c\u308b. let myImage = UIImage ( named : \"temple.jpg\" ) ! // \u30ea\u30b5\u30a4\u30ba\u3055\u308c\u305fUIImage\u3092\u6307\u5b9a\u3057\u3066\u3001UIImageView\u3092\u4f5c\u308b. myImageView = UIImageView ( image : UIImage . Resize\u00dcIImage ( image : myImage , width : self . view . frame . maxX , height : self . view . frame . maxY )) if myImageView != nil { // \u30e9\u30b9\u30bf\u30e9\u30a4\u30ba\u5316\u3059\u308b. myImageView !. layer . shouldRasterize = true // \u5024\u306e\u521d\u671f\u5316. myImageView !. layer . rasterizationScale = initRasterizeValue self . view . addSubview ( myImageView !) } } /* Slider\u306e\u5024\u304c\u5909\u308f\u3063\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ @objc func onValueChanged ( slider : UISlider ){ if myImageView != nil { // \u30e9\u30b9\u30bf\u30e9\u30a4\u30ba\u5316\u3059\u308b. myImageView !. layer . rasterizationScale = CGFloat ( 1.1 - slider . value ) } } } Swift3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 // // ViewController.swift // swiftdocs // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit extension UIImage { // \u753b\u50cf\u3092Resize\u3059\u308b\u30af\u30e9\u30b9\u30e1\u30bd\u30c3\u30c9. class func Resize\u00dcIImage ( image : UIImage , width : CGFloat , height : CGFloat )-> UIImage !{ // \u6307\u5b9a\u3055\u308c\u305f\u753b\u50cf\u306e\u5927\u304d\u3055\u306e\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u7528\u610f. UIGraphicsBeginImageContext ( CGSize ( width : width , height : height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u306b\u753b\u50cf\u3092\u63cf\u753b\u3059\u308b. image . draw ( in : CGRect ( x : 0 , y : 0 , width : width , height : height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u304b\u3089UIImage\u3092\u4f5c\u308b. let newImage = UIGraphicsGetImageFromCurrentImageContext () // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u9589\u3058\u308b. UIGraphicsEndImageContext () return newImage } } class ViewController : UIViewController { var myImageView : UIImageView ? override func viewDidLoad () { // \u30e9\u30b9\u30bf\u30e9\u30a4\u30ba\u5316\u306e\u521d\u671f\u5316\u5024. let initRasterizeValue : CGFloat = 1.0 // \u30b9\u30e9\u30a4\u30c0\u30fc\u3092\u7528\u610f. let rasterizeSlider = UISlider () rasterizeSlider . layer . position = CGPoint ( x : self . view . frame . midX , y : self . view . frame . maxY - 50 ) rasterizeSlider . layer . zPosition = 1 rasterizeSlider . minimumValue = 0.1 rasterizeSlider . maximumValue = 1.0 rasterizeSlider . value = Float ( 1.0 - initRasterizeValue ) rasterizeSlider . addTarget ( self , action : #selector ( ViewController . onValueChanged ( slider :)), for : UIControlEvents . valueChanged ) self . view . addSubview ( rasterizeSlider ) // UIImage\u3092\u4f5c\u308b. let myImage = UIImage ( named : \"sample2\" ) ! // \u30ea\u30b5\u30a4\u30ba\u3055\u308c\u305fUIImage\u3092\u6307\u5b9a\u3057\u3066\u3001UIImageView\u3092\u4f5c\u308b. myImageView = UIImageView ( image : UIImage . Resize\u00dcIImage ( image : myImage , width : self . view . frame . maxX , height : self . view . frame . maxY )) if myImageView != nil { // \u30e9\u30b9\u30bf\u30e9\u30a4\u30ba\u5316\u3059\u308b. myImageView !. layer . shouldRasterize = true // \u5024\u306e\u521d\u671f\u5316. myImageView !. layer . rasterizationScale = initRasterizeValue self . view . addSubview ( myImageView !) } } /* Slider\u306e\u5024\u304c\u5909\u308f\u3063\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func onValueChanged ( slider : UISlider ){ if myImageView != nil { // \u30e9\u30b9\u30bf\u30e9\u30a4\u30ba\u5316\u3059\u308b. myImageView !. layer . rasterizationScale = CGFloat ( 1.1 - slider . value ) } } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 // // ViewController.swift // UIKit058 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit extension UIImage { // \u753b\u50cf\u3092Resize\u3059\u308b\u30af\u30e9\u30b9\u30e1\u30bd\u30c3\u30c9. class func Resize\u00dcIImage ( image : UIImage , width : CGFloat , height : CGFloat )-> UIImage !{ // \u6307\u5b9a\u3055\u308c\u305f\u753b\u50cf\u306e\u5927\u304d\u3055\u306e\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u7528\u610f. UIGraphicsBeginImageContext ( CGSizeMake ( width , height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u306b\u753b\u50cf\u3092\u63cf\u753b\u3059\u308b. image . drawInRect ( CGRectMake ( 0 , 0 , width , height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u304b\u3089UIImage\u3092\u4f5c\u308b. let newImage = UIGraphicsGetImageFromCurrentImageContext () // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u9589\u3058\u308b. UIGraphicsEndImageContext () return newImage } } class ViewController : UIViewController { var myImageView : UIImageView ? override func viewDidLoad () { // \u30e9\u30b9\u30bf\u30e9\u30a4\u30ba\u5316\u306e\u521d\u671f\u5316\u5024. let initRasterizeValue : CGFloat = 1.0 // \u30b9\u30e9\u30a4\u30c0\u30fc\u3092\u7528\u610f. let rasterizeSlider = UISlider () rasterizeSlider . layer . position = CGPointMake ( self . view . frame . midX , self . view . frame . maxY - 50 ) rasterizeSlider . layer . zPosition = 1 rasterizeSlider . minimumValue = 0.1 rasterizeSlider . maximumValue = 1.0 rasterizeSlider . value = Float ( 1.0 - initRasterizeValue ) rasterizeSlider . addTarget ( self , action : #selector ( ViewController . onValueChanged ( _ :)), forControlEvents : UIControlEvents . ValueChanged ) self . view . addSubview ( rasterizeSlider ) // UIImage\u3092\u4f5c\u308b. let myImage = UIImage ( named : \"sample2\" ) ! // \u30ea\u30b5\u30a4\u30ba\u3055\u308c\u305fUIImage\u3092\u6307\u5b9a\u3057\u3066\u3001UIImageView\u3092\u4f5c\u308b. myImageView = UIImageView ( image : UIImage . Resize\u00dcIImage ( myImage , width : self . view . frame . maxX , height : self . view . frame . maxY )) if myImageView != nil { // \u30e9\u30b9\u30bf\u30e9\u30a4\u30ba\u5316\u3059\u308b. myImageView !. layer . shouldRasterize = true // \u5024\u306e\u521d\u671f\u5316. myImageView !. layer . rasterizationScale = initRasterizeValue self . view . addSubview ( myImageView !) } } /* Slider\u306e\u5024\u304c\u5909\u308f\u3063\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func onValueChanged ( slider : UISlider ){ if myImageView != nil { // \u30e9\u30b9\u30bf\u30e9\u30a4\u30ba\u5316\u3059\u308b. myImageView !. layer . rasterizationScale = CGFloat ( 1.1 - slider . value ) } } }","title":"UIImage\u3092\u307c\u304b\u3059"},{"location":"1.uikit/058_image/#3x4x","text":"func onValueChanged(slider : UISlider) \u306b @objc \u3092\u8ffd\u52a0 UIControlEvents.valueChanged \u304c UIControl.Event.valueChanged \u306b\u5909\u66f4","title":"3.x\u30684.x\u306e\u5dee\u5206"},{"location":"1.uikit/058_image/#2330","text":"CGSizeMake \u3001 CGRectMake \u3001 CGPointMake \u304c\u5ec3\u6b62","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"1.uikit/058_image/#reference","text":"UIImage https://developer.apple.com/reference/uikit/uiimage","title":"Reference"},{"location":"1.uikit/059_uiimage/","text":"UIImage\u3092\u30ea\u30b5\u30a4\u30ba\u3059\u308b Swift 4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 // // ViewController.swift // UIKit059 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit extension UIImage { // Resize\u3059\u308b\u30af\u30e9\u30b9\u30e1\u30bd\u30c3\u30c9. func Resize\u00dcIImage ( width : CGFloat , height : CGFloat )-> UIImage !{ // \u6307\u5b9a\u3055\u308c\u305f\u753b\u50cf\u306e\u5927\u304d\u3055\u306e\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u7528\u610f. UIGraphicsBeginImageContext ( CGSize ( width : width , height : height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u306b\u81ea\u8eab\u306b\u8a2d\u5b9a\u3055\u308c\u305f\u753b\u50cf\u3092\u63cf\u753b\u3059\u308b. self . draw ( in : CGRect ( x : 0 , y : 0 , width : width , height : height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u304b\u3089UIImage\u3092\u4f5c\u308b. let newImage = UIGraphicsGetImageFromCurrentImageContext () // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u9589\u3058\u308b. UIGraphicsEndImageContext () return newImage } } class ViewController : UIViewController { override func viewDidLoad () { // \u80cc\u666f\u3092\u9ed2\u8272\u306b\u8a2d\u5b9a. self . view . backgroundColor = UIColor . black // \u30ea\u30b5\u30a4\u30ba\u5bfe\u8c61\u306eUIImage\u3092\u7528\u610f. let myImage = UIImage ( named : \"sample1.png\" ) ! // \u30ea\u30b5\u30a4\u30ba\u5f8c\u306eUIImage\u3092\u7528\u610f. let resize = myImage . Resize\u00dcIImage ( width : self . view . frame . midX , height : self . view . frame . midY ) // UIImageView\u306b\u30ea\u30b5\u30a4\u30ba\u5f8c\u306eUIImage\u3092\u8a2d\u5b9a. let myImageView = UIImageView ( image : resize ) myImageView . layer . position = CGPoint ( x : self . view . frame . midX , y : self . view . frame . midY ) self . view . addSubview ( myImageView ) } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 // // ViewController.swift // UIKit059 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit extension UIImage { // Resize\u3059\u308b\u30af\u30e9\u30b9\u30e1\u30bd\u30c3\u30c9. func Resize\u00dcIImage ( width : CGFloat , height : CGFloat )-> UIImage !{ // \u6307\u5b9a\u3055\u308c\u305f\u753b\u50cf\u306e\u5927\u304d\u3055\u306e\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u7528\u610f. UIGraphicsBeginImageContext ( CGSizeMake ( width , height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u306b\u81ea\u8eab\u306b\u8a2d\u5b9a\u3055\u308c\u305f\u753b\u50cf\u3092\u63cf\u753b\u3059\u308b. self . drawInRect ( CGRectMake ( 0 , 0 , width , height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u304b\u3089UIImage\u3092\u4f5c\u308b. let newImage = UIGraphicsGetImageFromCurrentImageContext () // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u9589\u3058\u308b. UIGraphicsEndImageContext () return newImage } } class ViewController : UIViewController { override func viewDidLoad () { // \u80cc\u666f\u3092\u9ed2\u8272\u306b\u8a2d\u5b9a. self . view . backgroundColor = UIColor . blackColor () // \u30ea\u30b5\u30a4\u30ba\u5bfe\u8c61\u306eUIImage\u3092\u7528\u610f. let myImage = UIImage ( named : \"sample1.png\" ) ! // \u30ea\u30b5\u30a4\u30ba\u5f8c\u306eUIImage\u3092\u7528\u610f. let resize = myImage . Resize\u00dcIImage ( self . view . frame . midX , height : self . view . frame . midY ) // UIImageView\u306b\u30ea\u30b5\u30a4\u30ba\u5f8c\u306eUIImage\u3092\u8a2d\u5b9a. let myImageView = UIImageView ( image : resize ) myImageView . layer . position = CGPointMake ( self . view . frame . midX , self . view . frame . midY ) self . view . addSubview ( myImageView ) } } 2.3\u30683.0\u306e\u5dee\u5206 CGRectMake\u304c\u5ec3\u6b62 drawInRect() \u3067\u306f\u306a\u304f draw(in:) \u3092\u4f7f\u3046 Reference UIImage https://developer.apple.com/reference/uiimage/uiimage","title":"UIImage\u3092\u30ea\u30b5\u30a4\u30ba\u3059\u308b"},{"location":"1.uikit/059_uiimage/#uiimage","text":"Swift 4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 // // ViewController.swift // UIKit059 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit extension UIImage { // Resize\u3059\u308b\u30af\u30e9\u30b9\u30e1\u30bd\u30c3\u30c9. func Resize\u00dcIImage ( width : CGFloat , height : CGFloat )-> UIImage !{ // \u6307\u5b9a\u3055\u308c\u305f\u753b\u50cf\u306e\u5927\u304d\u3055\u306e\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u7528\u610f. UIGraphicsBeginImageContext ( CGSize ( width : width , height : height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u306b\u81ea\u8eab\u306b\u8a2d\u5b9a\u3055\u308c\u305f\u753b\u50cf\u3092\u63cf\u753b\u3059\u308b. self . draw ( in : CGRect ( x : 0 , y : 0 , width : width , height : height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u304b\u3089UIImage\u3092\u4f5c\u308b. let newImage = UIGraphicsGetImageFromCurrentImageContext () // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u9589\u3058\u308b. UIGraphicsEndImageContext () return newImage } } class ViewController : UIViewController { override func viewDidLoad () { // \u80cc\u666f\u3092\u9ed2\u8272\u306b\u8a2d\u5b9a. self . view . backgroundColor = UIColor . black // \u30ea\u30b5\u30a4\u30ba\u5bfe\u8c61\u306eUIImage\u3092\u7528\u610f. let myImage = UIImage ( named : \"sample1.png\" ) ! // \u30ea\u30b5\u30a4\u30ba\u5f8c\u306eUIImage\u3092\u7528\u610f. let resize = myImage . Resize\u00dcIImage ( width : self . view . frame . midX , height : self . view . frame . midY ) // UIImageView\u306b\u30ea\u30b5\u30a4\u30ba\u5f8c\u306eUIImage\u3092\u8a2d\u5b9a. let myImageView = UIImageView ( image : resize ) myImageView . layer . position = CGPoint ( x : self . view . frame . midX , y : self . view . frame . midY ) self . view . addSubview ( myImageView ) } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 // // ViewController.swift // UIKit059 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit extension UIImage { // Resize\u3059\u308b\u30af\u30e9\u30b9\u30e1\u30bd\u30c3\u30c9. func Resize\u00dcIImage ( width : CGFloat , height : CGFloat )-> UIImage !{ // \u6307\u5b9a\u3055\u308c\u305f\u753b\u50cf\u306e\u5927\u304d\u3055\u306e\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u7528\u610f. UIGraphicsBeginImageContext ( CGSizeMake ( width , height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u306b\u81ea\u8eab\u306b\u8a2d\u5b9a\u3055\u308c\u305f\u753b\u50cf\u3092\u63cf\u753b\u3059\u308b. self . drawInRect ( CGRectMake ( 0 , 0 , width , height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u304b\u3089UIImage\u3092\u4f5c\u308b. let newImage = UIGraphicsGetImageFromCurrentImageContext () // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u9589\u3058\u308b. UIGraphicsEndImageContext () return newImage } } class ViewController : UIViewController { override func viewDidLoad () { // \u80cc\u666f\u3092\u9ed2\u8272\u306b\u8a2d\u5b9a. self . view . backgroundColor = UIColor . blackColor () // \u30ea\u30b5\u30a4\u30ba\u5bfe\u8c61\u306eUIImage\u3092\u7528\u610f. let myImage = UIImage ( named : \"sample1.png\" ) ! // \u30ea\u30b5\u30a4\u30ba\u5f8c\u306eUIImage\u3092\u7528\u610f. let resize = myImage . Resize\u00dcIImage ( self . view . frame . midX , height : self . view . frame . midY ) // UIImageView\u306b\u30ea\u30b5\u30a4\u30ba\u5f8c\u306eUIImage\u3092\u8a2d\u5b9a. let myImageView = UIImageView ( image : resize ) myImageView . layer . position = CGPointMake ( self . view . frame . midX , self . view . frame . midY ) self . view . addSubview ( myImageView ) } }","title":"UIImage\u3092\u30ea\u30b5\u30a4\u30ba\u3059\u308b"},{"location":"1.uikit/059_uiimage/#2330","text":"CGRectMake\u304c\u5ec3\u6b62 drawInRect() \u3067\u306f\u306a\u304f draw(in:) \u3092\u4f7f\u3046","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"1.uikit/059_uiimage/#reference","text":"UIImage https://developer.apple.com/reference/uiimage/uiimage","title":"Reference"},{"location":"1.uikit/060_uiimage/","text":"UIImage\u3092\u5408\u6210\u3059\u308b Swift 4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 // // ViewController.swift // UIKit060 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit extension UIImage { /* \u753b\u50cf\u3092Resize\u3059\u308b\u30af\u30e9\u30b9\u30e1\u30bd\u30c3\u30c9. */ class func Resize\u00dcIImage ( image : UIImage , width : CGFloat , height : CGFloat )-> UIImage !{ // \u6307\u5b9a\u3055\u308c\u305f\u753b\u50cf\u306e\u5927\u304d\u3055\u306e\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u7528\u610f. UIGraphicsBeginImageContext ( CGSize ( width : width , height : height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u306b\u753b\u50cf\u3092\u63cf\u753b\u3059\u308b. image . draw ( in : CGRect ( x : 0 , y : 0 , width : width , height : height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u304b\u3089UIImage\u3092\u4f5c\u308b. let newImage = UIGraphicsGetImageFromCurrentImageContext () // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u9589\u3058\u308b. UIGraphicsEndImageContext () return newImage } /* \u753b\u50cf\u3092\u5408\u6210\u3059\u308b\u30af\u30e9\u30b9\u30e1\u30bd\u30c3\u30c9. */ class func ComposeUIImage ( UIImageArray : [ UIImage ], width : CGFloat , height : CGFloat )-> UIImage !{ // \u6307\u5b9a\u3055\u308c\u305f\u753b\u50cf\u306e\u5927\u304d\u3055\u306e\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u7528\u610f. UIGraphicsBeginImageContext ( CGSize ( width : width , height : height )) // UIImage\u306e\u3042\u308b\u5206\u56de\u3059. for image : UIImage in UIImageArray { // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u306b\u753b\u50cf\u3092\u63cf\u753b\u3059\u308b. image . draw ( in : CGRect ( x : 0 , y : 0 , width : image . size . width , height : image . size . height )) } // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u304b\u3089UIImage\u3092\u4f5c\u308b. let newImage = UIGraphicsGetImageFromCurrentImageContext () // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u9589\u3058\u308b. UIGraphicsEndImageContext () return newImage } } class ViewController : UIViewController { override func viewDidLoad () { // 1\u3064\u76ee\u306eUIImage\u3092\u4f5c\u308b. var myImage1 = UIImage ( named : \"sample1\" ) ! // \u30ea\u30b5\u30a4\u30ba\u3059\u308b. myImage1 = UIImage . Resize\u00dcIImage ( image : myImage1 , width : self . view . frame . maxX , height : self . view . frame . maxY ) // 2\u3064\u76ee\u306eUIImage\u3092\u4f5c\u308b. var myImage2 = UIImage ( named : \"sample2\" ) ! // \u30ea\u30b5\u30a4\u30ba\u3059\u308b. myImage2 = UIImage . Resize\u00dcIImage ( image : myImage2 , width : self . view . frame . midX , height : self . view . frame . midY ) // \u753b\u50cf\u3092\u5408\u6210\u3059\u308b. let ComposedImage = UIImage . ComposeUIImage ( UIImageArray : [ myImage1 , myImage2 ], width : self . view . frame . maxX , height : self . view . frame . maxY ) // UIImageView\u306b\u5408\u6210\u3055\u308c\u305fUIImage\u3092\u6307\u5b9a\u3059\u308b. let myImageView = UIImageView ( image : ComposedImage ) self . view . addSubview ( myImageView ) } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 // // ViewController.swift // UIKit060 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit extension UIImage { /* \u753b\u50cf\u3092Resize\u3059\u308b\u30af\u30e9\u30b9\u30e1\u30bd\u30c3\u30c9. */ class func Resize\u00dcIImage ( image : UIImage , width : CGFloat , height : CGFloat )-> UIImage !{ // \u6307\u5b9a\u3055\u308c\u305f\u753b\u50cf\u306e\u5927\u304d\u3055\u306e\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u7528\u610f. UIGraphicsBeginImageContext ( CGSizeMake ( width , height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u306b\u753b\u50cf\u3092\u63cf\u753b\u3059\u308b. image . drawInRect ( CGRectMake ( 0 , 0 , width , height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u304b\u3089UIImage\u3092\u4f5c\u308b. let newImage = UIGraphicsGetImageFromCurrentImageContext () // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u9589\u3058\u308b. UIGraphicsEndImageContext () return newImage } /* \u753b\u50cf\u3092\u5408\u6210\u3059\u308b\u30af\u30e9\u30b9\u30e1\u30bd\u30c3\u30c9. */ class func ComposeUIImage ( UIImageArray : [ UIImage ], width : CGFloat , height : CGFloat )-> UIImage !{ // \u6307\u5b9a\u3055\u308c\u305f\u753b\u50cf\u306e\u5927\u304d\u3055\u306e\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u7528\u610f. UIGraphicsBeginImageContext ( CGSizeMake ( width , height )) // UIImage\u306e\u3042\u308b\u5206\u56de\u3059. for image : UIImage in UIImageArray { // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u306b\u753b\u50cf\u3092\u63cf\u753b\u3059\u308b. image . drawInRect ( CGRectMake ( 0 , 0 , image . size . width , image . size . height )) } // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u304b\u3089UIImage\u3092\u4f5c\u308b. let newImage = UIGraphicsGetImageFromCurrentImageContext () // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u9589\u3058\u308b. UIGraphicsEndImageContext () return newImage } } class ViewController : UIViewController { override func viewDidLoad () { // 1\u3064\u76ee\u306eUIImage\u3092\u4f5c\u308b. var myImage1 = UIImage ( named : \"sample1\" ) ! // \u30ea\u30b5\u30a4\u30ba\u3059\u308b. myImage1 = UIImage . Resize\u00dcIImage ( myImage1 , width : self . view . frame . maxX , height : self . view . frame . maxY ) // 2\u3064\u76ee\u306eUIImage\u3092\u4f5c\u308b. var myImage2 = UIImage ( named : \"sample2\" ) ! // \u30ea\u30b5\u30a4\u30ba\u3059\u308b. myImage2 = UIImage . Resize\u00dcIImage ( myImage2 , width : self . view . frame . midX , height : self . view . frame . midY ) // \u753b\u50cf\u3092\u5408\u6210\u3059\u308b. let ComposedImage = UIImage . ComposeUIImage ([ myImage1 , myImage2 ], width : self . view . frame . maxX , height : self . view . frame . maxY ) // UIImageView\u306b\u5408\u6210\u3055\u308c\u305fUIImage\u3092\u6307\u5b9a\u3059\u308b. let myImageView = UIImageView ( image : ComposedImage ) self . view . addSubview ( myImageView ) } } 2.3\u30683.0\u306e\u5dee\u5206 CGRectMake\u304c\u5ec3\u6b62 drawInRect() \u3067\u306f\u306a\u304f draw(in:) \u3092\u4f7f\u3046 Reference UIImage https://developer.apple.com/reference/uiimage/uiimage","title":"UIImage\u3092\u5408\u6210\u3059\u308b"},{"location":"1.uikit/060_uiimage/#uiimage","text":"Swift 4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 // // ViewController.swift // UIKit060 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit extension UIImage { /* \u753b\u50cf\u3092Resize\u3059\u308b\u30af\u30e9\u30b9\u30e1\u30bd\u30c3\u30c9. */ class func Resize\u00dcIImage ( image : UIImage , width : CGFloat , height : CGFloat )-> UIImage !{ // \u6307\u5b9a\u3055\u308c\u305f\u753b\u50cf\u306e\u5927\u304d\u3055\u306e\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u7528\u610f. UIGraphicsBeginImageContext ( CGSize ( width : width , height : height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u306b\u753b\u50cf\u3092\u63cf\u753b\u3059\u308b. image . draw ( in : CGRect ( x : 0 , y : 0 , width : width , height : height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u304b\u3089UIImage\u3092\u4f5c\u308b. let newImage = UIGraphicsGetImageFromCurrentImageContext () // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u9589\u3058\u308b. UIGraphicsEndImageContext () return newImage } /* \u753b\u50cf\u3092\u5408\u6210\u3059\u308b\u30af\u30e9\u30b9\u30e1\u30bd\u30c3\u30c9. */ class func ComposeUIImage ( UIImageArray : [ UIImage ], width : CGFloat , height : CGFloat )-> UIImage !{ // \u6307\u5b9a\u3055\u308c\u305f\u753b\u50cf\u306e\u5927\u304d\u3055\u306e\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u7528\u610f. UIGraphicsBeginImageContext ( CGSize ( width : width , height : height )) // UIImage\u306e\u3042\u308b\u5206\u56de\u3059. for image : UIImage in UIImageArray { // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u306b\u753b\u50cf\u3092\u63cf\u753b\u3059\u308b. image . draw ( in : CGRect ( x : 0 , y : 0 , width : image . size . width , height : image . size . height )) } // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u304b\u3089UIImage\u3092\u4f5c\u308b. let newImage = UIGraphicsGetImageFromCurrentImageContext () // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u9589\u3058\u308b. UIGraphicsEndImageContext () return newImage } } class ViewController : UIViewController { override func viewDidLoad () { // 1\u3064\u76ee\u306eUIImage\u3092\u4f5c\u308b. var myImage1 = UIImage ( named : \"sample1\" ) ! // \u30ea\u30b5\u30a4\u30ba\u3059\u308b. myImage1 = UIImage . Resize\u00dcIImage ( image : myImage1 , width : self . view . frame . maxX , height : self . view . frame . maxY ) // 2\u3064\u76ee\u306eUIImage\u3092\u4f5c\u308b. var myImage2 = UIImage ( named : \"sample2\" ) ! // \u30ea\u30b5\u30a4\u30ba\u3059\u308b. myImage2 = UIImage . Resize\u00dcIImage ( image : myImage2 , width : self . view . frame . midX , height : self . view . frame . midY ) // \u753b\u50cf\u3092\u5408\u6210\u3059\u308b. let ComposedImage = UIImage . ComposeUIImage ( UIImageArray : [ myImage1 , myImage2 ], width : self . view . frame . maxX , height : self . view . frame . maxY ) // UIImageView\u306b\u5408\u6210\u3055\u308c\u305fUIImage\u3092\u6307\u5b9a\u3059\u308b. let myImageView = UIImageView ( image : ComposedImage ) self . view . addSubview ( myImageView ) } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 // // ViewController.swift // UIKit060 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit extension UIImage { /* \u753b\u50cf\u3092Resize\u3059\u308b\u30af\u30e9\u30b9\u30e1\u30bd\u30c3\u30c9. */ class func Resize\u00dcIImage ( image : UIImage , width : CGFloat , height : CGFloat )-> UIImage !{ // \u6307\u5b9a\u3055\u308c\u305f\u753b\u50cf\u306e\u5927\u304d\u3055\u306e\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u7528\u610f. UIGraphicsBeginImageContext ( CGSizeMake ( width , height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u306b\u753b\u50cf\u3092\u63cf\u753b\u3059\u308b. image . drawInRect ( CGRectMake ( 0 , 0 , width , height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u304b\u3089UIImage\u3092\u4f5c\u308b. let newImage = UIGraphicsGetImageFromCurrentImageContext () // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u9589\u3058\u308b. UIGraphicsEndImageContext () return newImage } /* \u753b\u50cf\u3092\u5408\u6210\u3059\u308b\u30af\u30e9\u30b9\u30e1\u30bd\u30c3\u30c9. */ class func ComposeUIImage ( UIImageArray : [ UIImage ], width : CGFloat , height : CGFloat )-> UIImage !{ // \u6307\u5b9a\u3055\u308c\u305f\u753b\u50cf\u306e\u5927\u304d\u3055\u306e\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u7528\u610f. UIGraphicsBeginImageContext ( CGSizeMake ( width , height )) // UIImage\u306e\u3042\u308b\u5206\u56de\u3059. for image : UIImage in UIImageArray { // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u306b\u753b\u50cf\u3092\u63cf\u753b\u3059\u308b. image . drawInRect ( CGRectMake ( 0 , 0 , image . size . width , image . size . height )) } // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u304b\u3089UIImage\u3092\u4f5c\u308b. let newImage = UIGraphicsGetImageFromCurrentImageContext () // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u9589\u3058\u308b. UIGraphicsEndImageContext () return newImage } } class ViewController : UIViewController { override func viewDidLoad () { // 1\u3064\u76ee\u306eUIImage\u3092\u4f5c\u308b. var myImage1 = UIImage ( named : \"sample1\" ) ! // \u30ea\u30b5\u30a4\u30ba\u3059\u308b. myImage1 = UIImage . Resize\u00dcIImage ( myImage1 , width : self . view . frame . maxX , height : self . view . frame . maxY ) // 2\u3064\u76ee\u306eUIImage\u3092\u4f5c\u308b. var myImage2 = UIImage ( named : \"sample2\" ) ! // \u30ea\u30b5\u30a4\u30ba\u3059\u308b. myImage2 = UIImage . Resize\u00dcIImage ( myImage2 , width : self . view . frame . midX , height : self . view . frame . midY ) // \u753b\u50cf\u3092\u5408\u6210\u3059\u308b. let ComposedImage = UIImage . ComposeUIImage ([ myImage1 , myImage2 ], width : self . view . frame . maxX , height : self . view . frame . maxY ) // UIImageView\u306b\u5408\u6210\u3055\u308c\u305fUIImage\u3092\u6307\u5b9a\u3059\u308b. let myImageView = UIImageView ( image : ComposedImage ) self . view . addSubview ( myImageView ) } }","title":"UIImage\u3092\u5408\u6210\u3059\u308b"},{"location":"1.uikit/060_uiimage/#2330","text":"CGRectMake\u304c\u5ec3\u6b62 drawInRect() \u3067\u306f\u306a\u304f draw(in:) \u3092\u4f7f\u3046","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"1.uikit/060_uiimage/#reference","text":"UIImage https://developer.apple.com/reference/uiimage/uiimage","title":"Reference"},{"location":"1.uikit/061_screenshot/","text":"UIView\u304b\u3089UIImage\u3092\u53d6\u5f97\u3059\u308b\uff08\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8\uff09 Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 // // ViewController.swift // UIKit061 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit extension UIView { func GetImage () -> UIImage { // \u30ad\u30e3\u30d7\u30c1\u30e3\u3059\u308b\u7bc4\u56f2\u3092\u53d6\u5f97. let rect = self . bounds // \u30d3\u30c3\u30c8\u30de\u30c3\u30d7\u753b\u50cf\u306econtext\u3092\u4f5c\u6210. UIGraphicsBeginImageContextWithOptions ( rect . size , false , 0.0 ) let context : CGContext = UIGraphicsGetCurrentContext () ! // \u5bfe\u8c61\u306eview\u5185\u306e\u63cf\u753b\u3092context\u306b\u8907\u5199\u3059\u308b. self . layer . render ( in : context ) // \u73fe\u5728\u306econtext\u306e\u30d3\u30c3\u30c8\u30de\u30c3\u30d7\u3092UIImage\u3068\u3057\u3066\u53d6\u5f97. let capturedImage : UIImage = UIGraphicsGetImageFromCurrentImageContext () ! // context\u3092\u9589\u3058\u308b. UIGraphicsEndImageContext () return capturedImage } } class ViewController : UIViewController { var myLabel : UILabel ! var myImageView : UIImageView ! override func viewDidLoad () { // Label\u3092\u751f\u6210. myLabel = UILabel ( frame : CGRect ( x : 0 , y : 0 , width : 100 , height : 100 )) myLabel . text = \"test\" myLabel . textColor = UIColor . white myLabel . layer . cornerRadius = 50.0 myLabel . layer . masksToBounds = true myLabel . backgroundColor = UIColor . blue myLabel . textAlignment = NSTextAlignment . center myLabel . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height / 2 - 100 ) // ImageView\u3092\u751f\u6210. myImageView = UIImageView ( frame : CGRect ( x : 0 , y : 0 , width : 150 , height : 150 )) myImageView . layer . borderColor = UIColor . black . cgColor myImageView . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 200 ) myImageView . layer . borderWidth = 0.5 // Button\u3092\u751f\u6210. let myButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 50 , height : 20 )) myButton . setTitle ( \"push\" , for : UIControl . State . normal ) myButton . setTitleColor ( UIColor . blue , for : UIControl . State . normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : UIControl . Event . touchUpInside ) myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 50 ) // view\u306b\u305d\u308c\u305e\u308c\u3092\u8ffd\u52a0. self . view . addSubview ( myLabel ) self . view . addSubview ( myImageView ) self . view . addSubview ( myButton ) } /* Button\u304c\u62bc\u3055\u308c\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ @objc func onClickMyButton ( sender : UIButton ) { // \u30ad\u30e3\u30d7\u30c1\u30e3\u753b\u50cf\u3092\u53d6\u5f97. let myImage = myLabel . GetImage () as UIImage // ImageView\u306eimage\u306b\u30bb\u30c3\u30c8. myImageView . image = myImage // \u7e26\u6a2a\u6bd4\u7387\u3092\u4fdd\u3061\u3064\u3064\u753b\u50cf\u3092UIImageView\u306e\u5927\u304d\u3055\u306b\u5408\u308f\u305b\u308b. myImageView . contentMode = UIView . ContentMode . scaleAspectFit } } Swift3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 // // ViewController.swift // UIKit061 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit extension UIView { func GetImage () -> UIImage { // \u30ad\u30e3\u30d7\u30c1\u30e3\u3059\u308b\u7bc4\u56f2\u3092\u53d6\u5f97. let rect = self . bounds // \u30d3\u30c3\u30c8\u30de\u30c3\u30d7\u753b\u50cf\u306econtext\u3092\u4f5c\u6210. UIGraphicsBeginImageContextWithOptions ( rect . size , false , 0.0 ) let context : CGContext = UIGraphicsGetCurrentContext () ! // \u5bfe\u8c61\u306eview\u5185\u306e\u63cf\u753b\u3092context\u306b\u8907\u5199\u3059\u308b. self . layer . render ( in : context ) // \u73fe\u5728\u306econtext\u306e\u30d3\u30c3\u30c8\u30de\u30c3\u30d7\u3092UIImage\u3068\u3057\u3066\u53d6\u5f97. let capturedImage : UIImage = UIGraphicsGetImageFromCurrentImageContext () ! // context\u3092\u9589\u3058\u308b. UIGraphicsEndImageContext () return capturedImage } } class ViewController : UIViewController { var myLabel : UILabel ! var myImageView : UIImageView ! override func viewDidLoad () { // Label\u3092\u751f\u6210. myLabel = UILabel ( frame : CGRect ( x : 0 , y : 0 , width : 100 , height : 100 )) myLabel . text = \"test\" myLabel . textColor = UIColor . white myLabel . layer . cornerRadius = 50.0 myLabel . layer . masksToBounds = true myLabel . backgroundColor = UIColor . blue myLabel . textAlignment = NSTextAlignment . center myLabel . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height / 2 - 100 ) // ImageView\u3092\u751f\u6210. myImageView = UIImageView ( frame : CGRect ( x : 0 , y : 0 , width : 150 , height : 150 )) myImageView . layer . borderColor = UIColor . black . cgColor myImageView . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 200 ) myImageView . layer . borderWidth = 0.5 // Button\u3092\u751f\u6210. let myButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 50 , height : 20 )) myButton . setTitle ( \"push\" , for : UIControlState . normal ) myButton . setTitleColor ( UIColor . blue , for : UIControlState . normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : UIControlEvents . touchUpInside ) myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 50 ) // view\u306b\u305d\u308c\u305e\u308c\u3092\u8ffd\u52a0. self . view . addSubview ( myLabel ) self . view . addSubview ( myImageView ) self . view . addSubview ( myButton ) } /* Button\u304c\u62bc\u3055\u308c\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func onClickMyButton ( sender : UIButton ) { // \u30ad\u30e3\u30d7\u30c1\u30e3\u753b\u50cf\u3092\u53d6\u5f97. let myImage = myLabel . GetImage () as UIImage // ImageView\u306eimage\u306b\u30bb\u30c3\u30c8. myImageView . image = myImage // \u7e26\u6a2a\u6bd4\u7387\u3092\u4fdd\u3061\u3064\u3064\u753b\u50cf\u3092UIImageView\u306e\u5927\u304d\u3055\u306b\u5408\u308f\u305b\u308b. myImageView . contentMode = UIViewContentMode . scaleAspectFit } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 // // ViewController.swift // UIKit061 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit extension UIView { func GetImage () -> UIImage { // \u30ad\u30e3\u30d7\u30c1\u30e3\u3059\u308b\u7bc4\u56f2\u3092\u53d6\u5f97. let rect = self . bounds // \u30d3\u30c3\u30c8\u30de\u30c3\u30d7\u753b\u50cf\u306econtext\u3092\u4f5c\u6210. UIGraphicsBeginImageContextWithOptions ( rect . size , false , 0.0 ) let context : CGContextRef = UIGraphicsGetCurrentContext () ! // \u5bfe\u8c61\u306eview\u5185\u306e\u63cf\u753b\u3092context\u306b\u8907\u5199\u3059\u308b. self . layer . renderInContext ( context ) // \u73fe\u5728\u306econtext\u306e\u30d3\u30c3\u30c8\u30de\u30c3\u30d7\u3092UIImage\u3068\u3057\u3066\u53d6\u5f97. let capturedImage : UIImage = UIGraphicsGetImageFromCurrentImageContext () // context\u3092\u9589\u3058\u308b. UIGraphicsEndImageContext () return capturedImage } } class ViewController : UIViewController { var myLabel : UILabel ! var myImageView : UIImageView ! override func viewDidLoad () { // Label\u3092\u751f\u6210. myLabel = UILabel ( frame : CGRectMake ( 0 , 0 , 100 , 100 )) myLabel . text = \"test\" myLabel . textColor = UIColor . whiteColor () myLabel . layer . cornerRadius = 50.0 myLabel . layer . masksToBounds = true myLabel . backgroundColor = UIColor . blueColor () myLabel . textAlignment = NSTextAlignment . Center myLabel . layer . position = CGPointMake ( self . view . frame . width / 2 , self . view . frame . height / 2 - 100 ) // ImageView\u3092\u751f\u6210. myImageView = UIImageView ( frame : CGRectMake ( 0 , 0 , 150 , 150 )) myImageView . layer . borderColor = UIColor . blackColor (). CGColor myImageView . layer . position = CGPointMake ( self . view . frame . width / 2 , self . view . frame . height - 200 ) myImageView . layer . borderWidth = 0.5 // Button\u3092\u751f\u6210. let myButton = UIButton ( frame : CGRectMake ( 0 , 0 , 50 , 20 )) myButton . setTitle ( \"push\" , forState : UIControlState . Normal ) myButton . setTitleColor ( UIColor . blueColor (), forState : UIControlState . Normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : UIControlEvents . TouchUpInside ) myButton . layer . position = CGPointMake ( self . view . frame . width / 2 , self . view . frame . height - 50 ) // view\u306b\u305d\u308c\u305e\u308c\u3092\u8ffd\u52a0. self . view . addSubview ( myLabel ) self . view . addSubview ( myImageView ) self . view . addSubview ( myButton ) } /* Button\u304c\u62bc\u3055\u308c\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func onClickMyButton ( sender : UIButton ) { // \u30ad\u30e3\u30d7\u30c1\u30e3\u753b\u50cf\u3092\u53d6\u5f97. let myImage = myLabel . GetImage () as UIImage // ImageView\u306eimage\u306b\u30bb\u30c3\u30c8. myImageView . image = myImage // \u7e26\u6a2a\u6bd4\u7387\u3092\u4fdd\u3061\u3064\u3064\u753b\u50cf\u3092UIImageView\u306e\u5927\u304d\u3055\u306b\u5408\u308f\u305b\u308b. myImageView . contentMode = UIViewContentMode . ScaleAspectFit } } 3.x\u30684.x\u306e\u5dee\u5206 UIControlState \u304c UIControl.State \u306b\u5909\u66f4 func onClickMyButton(sender: UIButton) \u306b @objc \u3092\u8ffd\u52a0 UIControlEvents \u304c UIControl.Event \u306b\u5909\u66f4 UIViewContentMode \u304c UIView.ContentMode \u306b\u5909\u66f4 2.3\u30683.0\u306e\u5dee\u5206 CGRectMake\u304c\u5ec3\u6b62 CGContextRef \u3067\u306f\u306a\u304f CGContext \u3092\u4f7f\u3046 Reference CGContextRef https://developer.apple.com/reference/coregraphics/cgcontextref CGContext https://developer.apple.com/reference/coregraphics/cgcontext","title":"UIView\u304b\u3089UIImage\u3092\u53d6\u5f97\u3059\u308b\uff08\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8\uff09"},{"location":"1.uikit/061_screenshot/#uiviewuiimage","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 // // ViewController.swift // UIKit061 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit extension UIView { func GetImage () -> UIImage { // \u30ad\u30e3\u30d7\u30c1\u30e3\u3059\u308b\u7bc4\u56f2\u3092\u53d6\u5f97. let rect = self . bounds // \u30d3\u30c3\u30c8\u30de\u30c3\u30d7\u753b\u50cf\u306econtext\u3092\u4f5c\u6210. UIGraphicsBeginImageContextWithOptions ( rect . size , false , 0.0 ) let context : CGContext = UIGraphicsGetCurrentContext () ! // \u5bfe\u8c61\u306eview\u5185\u306e\u63cf\u753b\u3092context\u306b\u8907\u5199\u3059\u308b. self . layer . render ( in : context ) // \u73fe\u5728\u306econtext\u306e\u30d3\u30c3\u30c8\u30de\u30c3\u30d7\u3092UIImage\u3068\u3057\u3066\u53d6\u5f97. let capturedImage : UIImage = UIGraphicsGetImageFromCurrentImageContext () ! // context\u3092\u9589\u3058\u308b. UIGraphicsEndImageContext () return capturedImage } } class ViewController : UIViewController { var myLabel : UILabel ! var myImageView : UIImageView ! override func viewDidLoad () { // Label\u3092\u751f\u6210. myLabel = UILabel ( frame : CGRect ( x : 0 , y : 0 , width : 100 , height : 100 )) myLabel . text = \"test\" myLabel . textColor = UIColor . white myLabel . layer . cornerRadius = 50.0 myLabel . layer . masksToBounds = true myLabel . backgroundColor = UIColor . blue myLabel . textAlignment = NSTextAlignment . center myLabel . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height / 2 - 100 ) // ImageView\u3092\u751f\u6210. myImageView = UIImageView ( frame : CGRect ( x : 0 , y : 0 , width : 150 , height : 150 )) myImageView . layer . borderColor = UIColor . black . cgColor myImageView . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 200 ) myImageView . layer . borderWidth = 0.5 // Button\u3092\u751f\u6210. let myButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 50 , height : 20 )) myButton . setTitle ( \"push\" , for : UIControl . State . normal ) myButton . setTitleColor ( UIColor . blue , for : UIControl . State . normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : UIControl . Event . touchUpInside ) myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 50 ) // view\u306b\u305d\u308c\u305e\u308c\u3092\u8ffd\u52a0. self . view . addSubview ( myLabel ) self . view . addSubview ( myImageView ) self . view . addSubview ( myButton ) } /* Button\u304c\u62bc\u3055\u308c\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ @objc func onClickMyButton ( sender : UIButton ) { // \u30ad\u30e3\u30d7\u30c1\u30e3\u753b\u50cf\u3092\u53d6\u5f97. let myImage = myLabel . GetImage () as UIImage // ImageView\u306eimage\u306b\u30bb\u30c3\u30c8. myImageView . image = myImage // \u7e26\u6a2a\u6bd4\u7387\u3092\u4fdd\u3061\u3064\u3064\u753b\u50cf\u3092UIImageView\u306e\u5927\u304d\u3055\u306b\u5408\u308f\u305b\u308b. myImageView . contentMode = UIView . ContentMode . scaleAspectFit } } Swift3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 // // ViewController.swift // UIKit061 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit extension UIView { func GetImage () -> UIImage { // \u30ad\u30e3\u30d7\u30c1\u30e3\u3059\u308b\u7bc4\u56f2\u3092\u53d6\u5f97. let rect = self . bounds // \u30d3\u30c3\u30c8\u30de\u30c3\u30d7\u753b\u50cf\u306econtext\u3092\u4f5c\u6210. UIGraphicsBeginImageContextWithOptions ( rect . size , false , 0.0 ) let context : CGContext = UIGraphicsGetCurrentContext () ! // \u5bfe\u8c61\u306eview\u5185\u306e\u63cf\u753b\u3092context\u306b\u8907\u5199\u3059\u308b. self . layer . render ( in : context ) // \u73fe\u5728\u306econtext\u306e\u30d3\u30c3\u30c8\u30de\u30c3\u30d7\u3092UIImage\u3068\u3057\u3066\u53d6\u5f97. let capturedImage : UIImage = UIGraphicsGetImageFromCurrentImageContext () ! // context\u3092\u9589\u3058\u308b. UIGraphicsEndImageContext () return capturedImage } } class ViewController : UIViewController { var myLabel : UILabel ! var myImageView : UIImageView ! override func viewDidLoad () { // Label\u3092\u751f\u6210. myLabel = UILabel ( frame : CGRect ( x : 0 , y : 0 , width : 100 , height : 100 )) myLabel . text = \"test\" myLabel . textColor = UIColor . white myLabel . layer . cornerRadius = 50.0 myLabel . layer . masksToBounds = true myLabel . backgroundColor = UIColor . blue myLabel . textAlignment = NSTextAlignment . center myLabel . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height / 2 - 100 ) // ImageView\u3092\u751f\u6210. myImageView = UIImageView ( frame : CGRect ( x : 0 , y : 0 , width : 150 , height : 150 )) myImageView . layer . borderColor = UIColor . black . cgColor myImageView . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 200 ) myImageView . layer . borderWidth = 0.5 // Button\u3092\u751f\u6210. let myButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 50 , height : 20 )) myButton . setTitle ( \"push\" , for : UIControlState . normal ) myButton . setTitleColor ( UIColor . blue , for : UIControlState . normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : UIControlEvents . touchUpInside ) myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 50 ) // view\u306b\u305d\u308c\u305e\u308c\u3092\u8ffd\u52a0. self . view . addSubview ( myLabel ) self . view . addSubview ( myImageView ) self . view . addSubview ( myButton ) } /* Button\u304c\u62bc\u3055\u308c\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func onClickMyButton ( sender : UIButton ) { // \u30ad\u30e3\u30d7\u30c1\u30e3\u753b\u50cf\u3092\u53d6\u5f97. let myImage = myLabel . GetImage () as UIImage // ImageView\u306eimage\u306b\u30bb\u30c3\u30c8. myImageView . image = myImage // \u7e26\u6a2a\u6bd4\u7387\u3092\u4fdd\u3061\u3064\u3064\u753b\u50cf\u3092UIImageView\u306e\u5927\u304d\u3055\u306b\u5408\u308f\u305b\u308b. myImageView . contentMode = UIViewContentMode . scaleAspectFit } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 // // ViewController.swift // UIKit061 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit extension UIView { func GetImage () -> UIImage { // \u30ad\u30e3\u30d7\u30c1\u30e3\u3059\u308b\u7bc4\u56f2\u3092\u53d6\u5f97. let rect = self . bounds // \u30d3\u30c3\u30c8\u30de\u30c3\u30d7\u753b\u50cf\u306econtext\u3092\u4f5c\u6210. UIGraphicsBeginImageContextWithOptions ( rect . size , false , 0.0 ) let context : CGContextRef = UIGraphicsGetCurrentContext () ! // \u5bfe\u8c61\u306eview\u5185\u306e\u63cf\u753b\u3092context\u306b\u8907\u5199\u3059\u308b. self . layer . renderInContext ( context ) // \u73fe\u5728\u306econtext\u306e\u30d3\u30c3\u30c8\u30de\u30c3\u30d7\u3092UIImage\u3068\u3057\u3066\u53d6\u5f97. let capturedImage : UIImage = UIGraphicsGetImageFromCurrentImageContext () // context\u3092\u9589\u3058\u308b. UIGraphicsEndImageContext () return capturedImage } } class ViewController : UIViewController { var myLabel : UILabel ! var myImageView : UIImageView ! override func viewDidLoad () { // Label\u3092\u751f\u6210. myLabel = UILabel ( frame : CGRectMake ( 0 , 0 , 100 , 100 )) myLabel . text = \"test\" myLabel . textColor = UIColor . whiteColor () myLabel . layer . cornerRadius = 50.0 myLabel . layer . masksToBounds = true myLabel . backgroundColor = UIColor . blueColor () myLabel . textAlignment = NSTextAlignment . Center myLabel . layer . position = CGPointMake ( self . view . frame . width / 2 , self . view . frame . height / 2 - 100 ) // ImageView\u3092\u751f\u6210. myImageView = UIImageView ( frame : CGRectMake ( 0 , 0 , 150 , 150 )) myImageView . layer . borderColor = UIColor . blackColor (). CGColor myImageView . layer . position = CGPointMake ( self . view . frame . width / 2 , self . view . frame . height - 200 ) myImageView . layer . borderWidth = 0.5 // Button\u3092\u751f\u6210. let myButton = UIButton ( frame : CGRectMake ( 0 , 0 , 50 , 20 )) myButton . setTitle ( \"push\" , forState : UIControlState . Normal ) myButton . setTitleColor ( UIColor . blueColor (), forState : UIControlState . Normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : UIControlEvents . TouchUpInside ) myButton . layer . position = CGPointMake ( self . view . frame . width / 2 , self . view . frame . height - 50 ) // view\u306b\u305d\u308c\u305e\u308c\u3092\u8ffd\u52a0. self . view . addSubview ( myLabel ) self . view . addSubview ( myImageView ) self . view . addSubview ( myButton ) } /* Button\u304c\u62bc\u3055\u308c\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func onClickMyButton ( sender : UIButton ) { // \u30ad\u30e3\u30d7\u30c1\u30e3\u753b\u50cf\u3092\u53d6\u5f97. let myImage = myLabel . GetImage () as UIImage // ImageView\u306eimage\u306b\u30bb\u30c3\u30c8. myImageView . image = myImage // \u7e26\u6a2a\u6bd4\u7387\u3092\u4fdd\u3061\u3064\u3064\u753b\u50cf\u3092UIImageView\u306e\u5927\u304d\u3055\u306b\u5408\u308f\u305b\u308b. myImageView . contentMode = UIViewContentMode . ScaleAspectFit } }","title":"UIView\u304b\u3089UIImage\u3092\u53d6\u5f97\u3059\u308b\uff08\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8\uff09"},{"location":"1.uikit/061_screenshot/#3x4x","text":"UIControlState \u304c UIControl.State \u306b\u5909\u66f4 func onClickMyButton(sender: UIButton) \u306b @objc \u3092\u8ffd\u52a0 UIControlEvents \u304c UIControl.Event \u306b\u5909\u66f4 UIViewContentMode \u304c UIView.ContentMode \u306b\u5909\u66f4","title":"3.x\u30684.x\u306e\u5dee\u5206"},{"location":"1.uikit/061_screenshot/#2330","text":"CGRectMake\u304c\u5ec3\u6b62 CGContextRef \u3067\u306f\u306a\u304f CGContext \u3092\u4f7f\u3046","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"1.uikit/061_screenshot/#reference","text":"CGContextRef https://developer.apple.com/reference/coregraphics/cgcontextref CGContext https://developer.apple.com/reference/coregraphics/cgcontext","title":"Reference"},{"location":"1.uikit/062_uipopover/","text":"UIPopoverController\u3092\u4f7f\u3063\u3066View\u3092\u30dd\u30c3\u30d7\u3055\u305b\u308b(iPad\u5c02\u7528) Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 // // ViewController.swift // swiftdocs // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { // Button\u3092\u4f5c\u308b. let myButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 50 )) myButton . layer . position = self . view . center myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 20.0 myButton . backgroundColor = UIColor . orange myButton . setTitle ( \"Present!\" , for : UIControl . State . normal ) myButton . addTarget ( self , action : #selector ( ViewController . onMyButtonClick ( sender :)), for : UIControl . Event . touchUpInside ) // view\u306bButton\u3092\u8ffd\u52a0. self . view . addSubview ( myButton ) } /* \u30dc\u30bf\u30f3\u304c\u30bf\u30c3\u30d7\u3055\u308c\u305f\u6642\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ @objc func onMyButtonClick ( sender : UIButton ){ // \u30b3\u30f3\u30c6\u30f3\u30c4\u306eViewController\u3092\u751f\u6210. let popover = UIViewController () // \u30b3\u30f3\u30c6\u30f3\u30c4ViewController\u306e\u30b5\u30a4\u30ba\u3092\u6307\u5b9a. popover . preferredContentSize = CGSize ( width : 200 , height : 200 ) // \u30b3\u30f3\u30c6\u30f3\u30c4ViewController\u306e\u80cc\u666f\u3092\u9752\u8272\u306b\u8a2d\u5b9a. popover . view . backgroundColor = UIColor . blue popover . modalPresentationStyle = . popover if let presentationController = popover . popoverPresentationController { presentationController . permittedArrowDirections = . any presentationController . sourceView = sender presentationController . sourceRect = sender . bounds } present ( popover , animated : true , completion : nil ) } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 // // ViewController.swift // swiftdocs // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { // Button\u3092\u4f5c\u308b. let myButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 50 )) myButton . layer . position = self . view . center myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 20.0 myButton . backgroundColor = UIColor . orange myButton . setTitle ( \"Present!\" , for : UIControlState . normal ) myButton . addTarget ( self , action : #selector ( ViewController . onMyButtonClick ( sender :)), for : UIControlEvents . touchUpInside ) // view\u306bButton\u3092\u8ffd\u52a0. self . view . addSubview ( myButton ) } /* \u30dc\u30bf\u30f3\u304c\u30bf\u30c3\u30d7\u3055\u308c\u305f\u6642\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func onMyButtonClick ( sender : UIButton ){ // \u30b3\u30f3\u30c6\u30f3\u30c4\u306eViewController\u3092\u751f\u6210. let popover = UIViewController () // \u30b3\u30f3\u30c6\u30f3\u30c4ViewController\u306e\u30b5\u30a4\u30ba\u3092\u6307\u5b9a. popover . preferredContentSize = CGSize ( width : 200 , height : 200 ) // \u30b3\u30f3\u30c6\u30f3\u30c4ViewController\u306e\u80cc\u666f\u3092\u9752\u8272\u306b\u8a2d\u5b9a. popover . view . backgroundColor = UIColor . blue popover . modalPresentationStyle = . popover if let presentationController = popover . popoverPresentationController { presentationController . permittedArrowDirections = . any presentationController . sourceView = sender presentationController . sourceRect = sender . bounds } present ( popover , animated : true , completion : nil ) } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 // // ViewController.swift // UIKit062 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { // Button\u3092\u4f5c\u308b. let myButton = UIButton ( frame : CGRectMake ( 0 , 0 , 200 , 50 )) myButton . layer . position = self . view . center myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 20.0 myButton . backgroundColor = UIColor . orangeColor () myButton . setTitle ( \"Present!\" , forState : UIControlState . Normal ) myButton . addTarget ( self , action : #selector ( ViewController . onMyButtonClick ( _ :)), forControlEvents : UIControlEvents . TouchUpInside ) // view\u306bButton\u3092\u8ffd\u52a0. self . view . addSubview ( myButton ) } /* \u30dc\u30bf\u30f3\u304c\u30bf\u30c3\u30d7\u3055\u308c\u305f\u6642\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func onMyButtonClick ( sender : UIButton ){ // \u30b3\u30f3\u30c6\u30f3\u30c4\u306eViewController\u3092\u751f\u6210. let popover = UIViewController () // \u30b3\u30f3\u30c6\u30f3\u30c4ViewController\u306e\u30b5\u30a4\u30ba\u3092\u6307\u5b9a. popover . preferredContentSize = CGSize ( width : 200 , height : 200 ) // \u30b3\u30f3\u30c6\u30f3\u30c4ViewController\u306e\u80cc\u666f\u3092\u9752\u8272\u306b\u8a2d\u5b9a. popover . view . backgroundColor = UIColor . blueColor () popover . modalPresentationStyle = . Popover if let presentationController = popover . popoverPresentationController { presentationController . permittedArrowDirections = . Any presentationController . sourceView = sender presentationController . sourceRect = sender . bounds } presentViewController ( popover , animated : true , completion : nil ) } } 3.x\u30684.x\u306e\u5dee\u5206 UIControlState \u304c UIControl.State \u306b\u5909\u66f4 UIControlEvents \u304c UIControl.Event \u306b\u5909\u66f4 func onMyButtonClick(sender : UIButton) \u306b @objc \u3092\u8ffd\u52a0 2.3\u30683.0\u306e\u5dee\u5206 CGRectMake\u304c\u5ec3\u6b62 presentViewController \u304b\u3089 present \u306b\u5909\u66f4 Reference UIViewController https://developer.apple.com/reference/uikit/uiviewcontroller UIPopverController https://developer.apple.com/reference/uikit/uipopovercontroller","title":"UIPopoverController\u3092\u4f7f\u3063\u3066View\u3092\u30dd\u30c3\u30d7\u3055\u305b\u308b(iPad\u5c02\u7528)"},{"location":"1.uikit/062_uipopover/#uipopovercontrollerviewipad","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 // // ViewController.swift // swiftdocs // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { // Button\u3092\u4f5c\u308b. let myButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 50 )) myButton . layer . position = self . view . center myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 20.0 myButton . backgroundColor = UIColor . orange myButton . setTitle ( \"Present!\" , for : UIControl . State . normal ) myButton . addTarget ( self , action : #selector ( ViewController . onMyButtonClick ( sender :)), for : UIControl . Event . touchUpInside ) // view\u306bButton\u3092\u8ffd\u52a0. self . view . addSubview ( myButton ) } /* \u30dc\u30bf\u30f3\u304c\u30bf\u30c3\u30d7\u3055\u308c\u305f\u6642\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ @objc func onMyButtonClick ( sender : UIButton ){ // \u30b3\u30f3\u30c6\u30f3\u30c4\u306eViewController\u3092\u751f\u6210. let popover = UIViewController () // \u30b3\u30f3\u30c6\u30f3\u30c4ViewController\u306e\u30b5\u30a4\u30ba\u3092\u6307\u5b9a. popover . preferredContentSize = CGSize ( width : 200 , height : 200 ) // \u30b3\u30f3\u30c6\u30f3\u30c4ViewController\u306e\u80cc\u666f\u3092\u9752\u8272\u306b\u8a2d\u5b9a. popover . view . backgroundColor = UIColor . blue popover . modalPresentationStyle = . popover if let presentationController = popover . popoverPresentationController { presentationController . permittedArrowDirections = . any presentationController . sourceView = sender presentationController . sourceRect = sender . bounds } present ( popover , animated : true , completion : nil ) } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 // // ViewController.swift // swiftdocs // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { // Button\u3092\u4f5c\u308b. let myButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 50 )) myButton . layer . position = self . view . center myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 20.0 myButton . backgroundColor = UIColor . orange myButton . setTitle ( \"Present!\" , for : UIControlState . normal ) myButton . addTarget ( self , action : #selector ( ViewController . onMyButtonClick ( sender :)), for : UIControlEvents . touchUpInside ) // view\u306bButton\u3092\u8ffd\u52a0. self . view . addSubview ( myButton ) } /* \u30dc\u30bf\u30f3\u304c\u30bf\u30c3\u30d7\u3055\u308c\u305f\u6642\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func onMyButtonClick ( sender : UIButton ){ // \u30b3\u30f3\u30c6\u30f3\u30c4\u306eViewController\u3092\u751f\u6210. let popover = UIViewController () // \u30b3\u30f3\u30c6\u30f3\u30c4ViewController\u306e\u30b5\u30a4\u30ba\u3092\u6307\u5b9a. popover . preferredContentSize = CGSize ( width : 200 , height : 200 ) // \u30b3\u30f3\u30c6\u30f3\u30c4ViewController\u306e\u80cc\u666f\u3092\u9752\u8272\u306b\u8a2d\u5b9a. popover . view . backgroundColor = UIColor . blue popover . modalPresentationStyle = . popover if let presentationController = popover . popoverPresentationController { presentationController . permittedArrowDirections = . any presentationController . sourceView = sender presentationController . sourceRect = sender . bounds } present ( popover , animated : true , completion : nil ) } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 // // ViewController.swift // UIKit062 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { // Button\u3092\u4f5c\u308b. let myButton = UIButton ( frame : CGRectMake ( 0 , 0 , 200 , 50 )) myButton . layer . position = self . view . center myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 20.0 myButton . backgroundColor = UIColor . orangeColor () myButton . setTitle ( \"Present!\" , forState : UIControlState . Normal ) myButton . addTarget ( self , action : #selector ( ViewController . onMyButtonClick ( _ :)), forControlEvents : UIControlEvents . TouchUpInside ) // view\u306bButton\u3092\u8ffd\u52a0. self . view . addSubview ( myButton ) } /* \u30dc\u30bf\u30f3\u304c\u30bf\u30c3\u30d7\u3055\u308c\u305f\u6642\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func onMyButtonClick ( sender : UIButton ){ // \u30b3\u30f3\u30c6\u30f3\u30c4\u306eViewController\u3092\u751f\u6210. let popover = UIViewController () // \u30b3\u30f3\u30c6\u30f3\u30c4ViewController\u306e\u30b5\u30a4\u30ba\u3092\u6307\u5b9a. popover . preferredContentSize = CGSize ( width : 200 , height : 200 ) // \u30b3\u30f3\u30c6\u30f3\u30c4ViewController\u306e\u80cc\u666f\u3092\u9752\u8272\u306b\u8a2d\u5b9a. popover . view . backgroundColor = UIColor . blueColor () popover . modalPresentationStyle = . Popover if let presentationController = popover . popoverPresentationController { presentationController . permittedArrowDirections = . Any presentationController . sourceView = sender presentationController . sourceRect = sender . bounds } presentViewController ( popover , animated : true , completion : nil ) } }","title":"UIPopoverController\u3092\u4f7f\u3063\u3066View\u3092\u30dd\u30c3\u30d7\u3055\u305b\u308b(iPad\u5c02\u7528)"},{"location":"1.uikit/062_uipopover/#3x4x","text":"UIControlState \u304c UIControl.State \u306b\u5909\u66f4 UIControlEvents \u304c UIControl.Event \u306b\u5909\u66f4 func onMyButtonClick(sender : UIButton) \u306b @objc \u3092\u8ffd\u52a0","title":"3.x\u30684.x\u306e\u5dee\u5206"},{"location":"1.uikit/062_uipopover/#2330","text":"CGRectMake\u304c\u5ec3\u6b62 presentViewController \u304b\u3089 present \u306b\u5909\u66f4","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"1.uikit/062_uipopover/#reference","text":"UIViewController https://developer.apple.com/reference/uikit/uiviewcontroller UIPopverController https://developer.apple.com/reference/uikit/uipopovercontroller","title":"Reference"},{"location":"1.uikit/063_uitextchecker/","text":"UITextChecker\u3067\u30b9\u30da\u30eb\u30c1\u30a7\u30c3\u30af Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 // // ViewController.swift // swiftdocs // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController , UITextFieldDelegate { var myTextField : UITextField ! var suggestTextField : UITextView ! override func viewDidLoad () { super . viewDidLoad () // Button\u3092\u751f\u6210. let myButton = UIButton () myButton . frame = CGRect ( x : 0 , y : 0 , width : 200 , height : 40 ) myButton . backgroundColor = UIColor . red myButton . layer . masksToBounds = true myButton . setTitle ( \"\u30c1\u30a7\u30c3\u30af\u3059\u308b\" , for : UIControl . State . normal ) myButton . setTitleColor ( UIColor . white , for : UIControl . State . normal ) myButton . setTitleColor ( UIColor . black , for : UIControl . State . highlighted ) myButton . layer . cornerRadius = 20.0 myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : 200 ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchUpInside ) self . view . addSubview ( myButton ) // \u5019\u88dc\u7528TextField\u3092\u751f\u6210. suggestTextField = UITextView ( frame : CGRect ( x : 0 , y : 0 , width : 300 , height : 250 )) suggestTextField . layer . position = CGPoint ( x : self . view . frame . midX , y : self . view . frame . midY + 150 ) suggestTextField . backgroundColor = UIColor . black suggestTextField . textColor = UIColor . white suggestTextField . textAlignment = NSTextAlignment . left suggestTextField . text = \"\u3082\u3057\u304b\u3057\u3066: \" suggestTextField . font = UIFont . systemFont ( ofSize : CGFloat ( 20 )) suggestTextField . isEditable = false self . view . addSubview ( suggestTextField !) // \u30b9\u30da\u30eb\u5165\u529b\u7528UITextField\u3092\u4f5c\u6210. myTextField = UITextField ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 30 )) myTextField . borderStyle = UITextField . BorderStyle . roundedRect myTextField . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 100 ) self . view . addSubview ( myTextField ) } /* Button\u304c\u62bc\u3055\u308c\u305f\u3068\u304d\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ @objc func onClickMyButton ( sender : UIButton ){ // \u30b9\u30da\u30eb\u30c1\u30a7\u30c3\u30af\u3092\u884c\u3046. suggestUpdate () } /* \u30b9\u30da\u30eb\u30c1\u30a7\u30c3\u30af\u3059\u308b\u30e1\u30bd\u30c3\u30c9. */ func suggestUpdate (){ // UITextChecker\u306e\u5ba3\u8a00. let checker : UITextChecker = UITextChecker () // text\u306e\u6587\u5b57\u6570\u3092\u53d6\u5f97. let length = myTextField . text ?. characters . count // \u30b9\u30da\u30eb\u30c1\u30a7\u30c3\u30af\u3092\u3059\u308b\u7bc4\u56f2(0~\u5165\u529b\u3055\u308c\u305f\u6587\u5b57\u6570)\u3092\u6307\u5b9a. let checkRange : NSRange = NSMakeRange ( 0 , length !) // \u7bc4\u56f2\u306e\u4e2d\u304b\u3089\u9593\u9055\u3063\u305f\u30b9\u30da\u30eb\u306e\u7269\u3092\u63a2\u3059. let misspelledRange : NSRange = checker . rangeOfMisspelledWord ( // \u30c1\u30a7\u30c3\u30af\u3059\u308b\u6587\u5b57\u3092\u6307\u5b9a. in : myTextField . text !, // \u30c1\u30a7\u30c3\u30af\u3059\u308b\u7bc4\u56f2\u3092\u6307\u5b9a. range : checkRange , // \u958b\u59cb\u4f4d\u7f6e\u3092\u7bc4\u56f2\u306e\u5148\u982d\u306b\u6307\u5b9a. startingAt : checkRange . location , // \u6307\u5b9a\u3055\u308c\u305f\u7bc4\u56f2\u5185\u306b\u30df\u30b9\u304c\u898b\u3064\u304b\u3089\u306a\u304f\u3066\u3082range\u306e\u958b\u59cb\u4f4d\u7f6e\u304b\u3089\u63a2\u3057\u59cb\u3081\u308b.(false\u306a\u3089\u30df\u30b9\u304c\u898b\u3064\u304b\u3089\u306a\u304b\u3063\u305f\u672b\u5c3e\u306e\u4f4d\u7f6e\u3092\u4fdd\u6301\u3059\u308b) wrap : true , // \u8a00\u8a9e\u3092\u82f1\u8a9e\u306b\u6307\u5b9a. language : \"en_US\" ) // \u30b9\u30da\u30eb\u30df\u30b9\u304c\u898b\u3064\u304b\u3063\u305f\u5834\u5408. if misspelledRange . location != NSNotFound { // \u6b63\u3057\u3044\u30b9\u30da\u30eb\u306e\u5019\u88dc\u3092\u53d6\u5f97. let candidateArray : NSArray = checker . guesses ( // \u30b9\u30da\u30eb\u30df\u30b9\u304c\u3042\u308b\u7bc4\u56f2. forWordRange : misspelledRange , // \u30b9\u30da\u30eb\u30df\u30b9\u3092\u542b\u3080\u6587\u5b57(range\u5185). in : myTextField . text !, // \u8a00\u8a9e\u3092\u6307\u5b9a. language : \"en_US\" ) ! as NSArray var str = \"\u3082\u3057\u304b\u3057\u3066: \\n \" // \u5019\u88dc\u3092\u914d\u5217\u304b\u30891\u3064\u305a\u3064\u53d6\u308a\u51fa\u3059. for text in candidateArray { str += ( text as AnyObject ). description ! str += \", \" } suggestTextField ?. text = str } } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 // // ViewController.swift // swiftdocs // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController , UITextFieldDelegate { var myTextField : UITextField ! var suggestTextField : UITextView ! override func viewDidLoad () { super . viewDidLoad () // Button\u3092\u751f\u6210. let myButton = UIButton () myButton . frame = CGRect ( x : 0 , y : 0 , width : 200 , height : 40 ) myButton . backgroundColor = UIColor . red myButton . layer . masksToBounds = true myButton . setTitle ( \"\u30c1\u30a7\u30c3\u30af\u3059\u308b\" , for : UIControlState . normal ) myButton . setTitleColor ( UIColor . white , for : UIControlState . normal ) myButton . setTitleColor ( UIColor . black , for : UIControlState . highlighted ) myButton . layer . cornerRadius = 20.0 myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : 200 ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchUpInside ) self . view . addSubview ( myButton ) // \u5019\u88dc\u7528TextField\u3092\u751f\u6210. suggestTextField = UITextView ( frame : CGRect ( x : 0 , y : 0 , width : 300 , height : 250 )) suggestTextField . layer . position = CGPoint ( x : self . view . frame . midX , y : self . view . frame . midY + 150 ) suggestTextField . backgroundColor = UIColor . black suggestTextField . textColor = UIColor . white suggestTextField . textAlignment = NSTextAlignment . left suggestTextField . text = \"\u3082\u3057\u304b\u3057\u3066: \" suggestTextField . font = UIFont . systemFont ( ofSize : CGFloat ( 20 )) suggestTextField . isEditable = false self . view . addSubview ( suggestTextField !) // \u30b9\u30da\u30eb\u5165\u529b\u7528UITextField\u3092\u4f5c\u6210. myTextField = UITextField ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 30 )) myTextField . borderStyle = UITextBorderStyle . roundedRect myTextField . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 100 ) self . view . addSubview ( myTextField ) } /* Button\u304c\u62bc\u3055\u308c\u305f\u3068\u304d\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func onClickMyButton ( sender : UIButton ){ // \u30b9\u30da\u30eb\u30c1\u30a7\u30c3\u30af\u3092\u884c\u3046. suggestUpdate () } /* \u30b9\u30da\u30eb\u30c1\u30a7\u30c3\u30af\u3059\u308b\u30e1\u30bd\u30c3\u30c9. */ func suggestUpdate (){ // UITextChecker\u306e\u5ba3\u8a00. let checker : UITextChecker = UITextChecker () // text\u306e\u6587\u5b57\u6570\u3092\u53d6\u5f97. let length = myTextField . text ?. characters . count // \u30b9\u30da\u30eb\u30c1\u30a7\u30c3\u30af\u3092\u3059\u308b\u7bc4\u56f2(0~\u5165\u529b\u3055\u308c\u305f\u6587\u5b57\u6570)\u3092\u6307\u5b9a. let checkRange : NSRange = NSMakeRange ( 0 , length !) // \u7bc4\u56f2\u306e\u4e2d\u304b\u3089\u9593\u9055\u3063\u305f\u30b9\u30da\u30eb\u306e\u7269\u3092\u63a2\u3059. let misspelledRange : NSRange = checker . rangeOfMisspelledWord ( // \u30c1\u30a7\u30c3\u30af\u3059\u308b\u6587\u5b57\u3092\u6307\u5b9a. in : myTextField . text !, // \u30c1\u30a7\u30c3\u30af\u3059\u308b\u7bc4\u56f2\u3092\u6307\u5b9a. range : checkRange , // \u958b\u59cb\u4f4d\u7f6e\u3092\u7bc4\u56f2\u306e\u5148\u982d\u306b\u6307\u5b9a. startingAt : checkRange . location , // \u6307\u5b9a\u3055\u308c\u305f\u7bc4\u56f2\u5185\u306b\u30df\u30b9\u304c\u898b\u3064\u304b\u3089\u306a\u304f\u3066\u3082range\u306e\u958b\u59cb\u4f4d\u7f6e\u304b\u3089\u63a2\u3057\u59cb\u3081\u308b.(false\u306a\u3089\u30df\u30b9\u304c\u898b\u3064\u304b\u3089\u306a\u304b\u3063\u305f\u672b\u5c3e\u306e\u4f4d\u7f6e\u3092\u4fdd\u6301\u3059\u308b) wrap : true , // \u8a00\u8a9e\u3092\u82f1\u8a9e\u306b\u6307\u5b9a. language : \"en_US\" ) // \u30b9\u30da\u30eb\u30df\u30b9\u304c\u898b\u3064\u304b\u3063\u305f\u5834\u5408. if misspelledRange . location != NSNotFound { // \u6b63\u3057\u3044\u30b9\u30da\u30eb\u306e\u5019\u88dc\u3092\u53d6\u5f97. let candidateArray : NSArray = checker . guesses ( // \u30b9\u30da\u30eb\u30df\u30b9\u304c\u3042\u308b\u7bc4\u56f2. forWordRange : misspelledRange , // \u30b9\u30da\u30eb\u30df\u30b9\u3092\u542b\u3080\u6587\u5b57(range\u5185). in : myTextField . text !, // \u8a00\u8a9e\u3092\u6307\u5b9a. language : \"en_US\" ) ! var str = \"\u3082\u3057\u304b\u3057\u3066: \\n \" // \u5019\u88dc\u3092\u914d\u5217\u304b\u30891\u3064\u305a\u3064\u53d6\u308a\u51fa\u3059. for text in candidateArray { str += text . description ! str += \", \" } suggestTextField ?. text = str } } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 // // ViewController.swift // swiftdocs // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController , UITextFieldDelegate { var myTextField : UITextField ! var suggestTextField : UITextView ! override func viewDidLoad () { super . viewDidLoad () // Button\u3092\u751f\u6210. let myButton = UIButton () myButton . frame = CGRectMake ( 0 , 0 , 200 , 40 ) myButton . backgroundColor = UIColor . redColor () myButton . layer . masksToBounds = true myButton . setTitle ( \"\u30c1\u30a7\u30c3\u30af\u3059\u308b\" , forState : UIControlState . Normal ) myButton . setTitleColor ( UIColor . whiteColor (), forState : UIControlState . Normal ) myButton . setTitleColor ( UIColor . blackColor (), forState : UIControlState . Highlighted ) myButton . layer . cornerRadius = 20.0 myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : 200 ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : . TouchUpInside ) self . view . addSubview ( myButton ) // \u5019\u88dc\u7528TextField\u3092\u751f\u6210. suggestTextField = UITextView ( frame : CGRectMake ( 0 , 0 , 300 , 250 )) suggestTextField . layer . position = CGPointMake ( self . view . frame . midX , self . view . frame . midY + 150 ) suggestTextField . backgroundColor = UIColor . blackColor () suggestTextField . textColor = UIColor . whiteColor () suggestTextField . textAlignment = NSTextAlignment . Left suggestTextField . text = \"\u3082\u3057\u304b\u3057\u3066: \" suggestTextField . font = UIFont . systemFontOfSize ( CGFloat ( 20 )) suggestTextField . editable = false self . view . addSubview ( suggestTextField !) // \u30b9\u30da\u30eb\u5165\u529b\u7528UITextField\u3092\u4f5c\u6210. myTextField = UITextField ( frame : CGRectMake ( 0 , 0 , 200 , 30 )) myTextField . borderStyle = UITextBorderStyle . RoundedRect myTextField . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 100 ) self . view . addSubview ( myTextField ) } /* Button\u304c\u62bc\u3055\u308c\u305f\u3068\u304d\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func onClickMyButton ( sender : UIButton ){ // \u30b9\u30da\u30eb\u30c1\u30a7\u30c3\u30af\u3092\u884c\u3046. suggestUpdate () } /* \u30b9\u30da\u30eb\u30c1\u30a7\u30c3\u30af\u3059\u308b\u30e1\u30bd\u30c3\u30c9. */ func suggestUpdate (){ // UITextChecker\u306e\u5ba3\u8a00. let checker : UITextChecker = UITextChecker () // text\u306e\u6587\u5b57\u6570\u3092\u53d6\u5f97. let length = myTextField . text ?. characters . count // \u30b9\u30da\u30eb\u30c1\u30a7\u30c3\u30af\u3092\u3059\u308b\u7bc4\u56f2(0~\u5165\u529b\u3055\u308c\u305f\u6587\u5b57\u6570)\u3092\u6307\u5b9a. let checkRange : NSRange = NSMakeRange ( 0 , length !) // \u7bc4\u56f2\u306e\u4e2d\u304b\u3089\u9593\u9055\u3063\u305f\u30b9\u30da\u30eb\u306e\u7269\u3092\u63a2\u3059. let misspelledRange : NSRange = checker . rangeOfMisspelledWordInString ( // \u30c1\u30a7\u30c3\u30af\u3059\u308b\u6587\u5b57\u3092\u6307\u5b9a. myTextField . text !, // \u30c1\u30a7\u30c3\u30af\u3059\u308b\u7bc4\u56f2\u3092\u6307\u5b9a. range : checkRange , // \u958b\u59cb\u4f4d\u7f6e\u3092\u7bc4\u56f2\u306e\u5148\u982d\u306b\u6307\u5b9a. startingAt : checkRange . location , // \u6307\u5b9a\u3055\u308c\u305f\u7bc4\u56f2\u5185\u306b\u30df\u30b9\u304c\u898b\u3064\u304b\u3089\u306a\u304f\u3066\u3082range\u306e\u958b\u59cb\u4f4d\u7f6e\u304b\u3089\u63a2\u3057\u59cb\u3081\u308b.(false\u306a\u3089\u30df\u30b9\u304c\u898b\u3064\u304b\u3089\u306a\u304b\u3063\u305f\u672b\u5c3e\u306e\u4f4d\u7f6e\u3092\u4fdd\u6301\u3059\u308b) wrap : true , // \u8a00\u8a9e\u3092\u82f1\u8a9e\u306b\u6307\u5b9a. language : \"en_US\" ) // \u30b9\u30da\u30eb\u30df\u30b9\u304c\u898b\u3064\u304b\u3063\u305f\u5834\u5408. if misspelledRange . location != NSNotFound { // \u6b63\u3057\u3044\u30b9\u30da\u30eb\u306e\u5019\u88dc\u3092\u53d6\u5f97. let candidateArray : NSArray = checker . guessesForWordRange ( // \u30b9\u30da\u30eb\u30df\u30b9\u304c\u3042\u308b\u7bc4\u56f2. misspelledRange , // \u30b9\u30da\u30eb\u30df\u30b9\u3092\u542b\u3080\u6587\u5b57(range\u5185). inString : myTextField . text !, // \u8a00\u8a9e\u3092\u6307\u5b9a. language : \"en_US\" ) ! var str = \"\u3082\u3057\u304b\u3057\u3066: \\n \" // \u5019\u88dc\u3092\u914d\u5217\u304b\u30891\u3064\u305a\u3064\u53d6\u308a\u51fa\u3059. for text in candidateArray { str += text . description ! str += \", \" } suggestTextField ?. text = str } } } 3.x\u30684.x\u306e\u5dee\u5206 UIControlState \u304c UIControl.State \u306b\u5909\u66f4 func onClickMyButton(sender : UIButton) \u306b @objc \u3092\u8ffd\u52a0 UITextBorderStyle \u304c UITextField.BorderStyle \u306b\u5909\u66f4 let candidateArray: NSArray = checker.guesses(forWordRange: misspelledRange, in: myTextField.text!, language: \"en_US\") ! \u304c let candidateArray: NSArray = checker.guesses(forWordRange: misspelledRange, in: myTextField.text!, language: \"en_US\") ! as NSArray \u306b\u5909\u66f4 text.description! \u3092 (text as AnyObject).description! \u306b\u5909\u66f4 2.3\u30683.0\u306e\u5dee\u5206 rangeOfMisspelledWordInString \u304b\u3089 rangeOfMisspelledWord \u306b\u5909\u66f4 guessesForWordRange \u304b\u3089 guesses \u306b\u5909\u66f4 \u8a00\u8a9e \u8a00\u8a9e\u30b3\u30fc\u30c9 \u82f1\u8a9e / \u30a2\u30e1\u30ea\u30ab en_US \u82f1\u8a9e / \u30ab\u30ca\u30c0 en_CA \u30c7\u30f3\u30de\u30fc\u30af\u8a9e / \u30c7\u30f3\u30de\u30fc\u30af da_DK \u82f1\u8a9e / \u30a4\u30f3\u30c9 en_IN \u30aa\u30e9\u30f3\u30c0\u8a9e / \u30aa\u30e9\u30f3\u30c0 nl_NL \u82f1\u8a9e / \u30aa\u30fc\u30b9\u30c8\u30e9\u30ea\u30a2 en_AU \u30d5\u30e9\u30f3\u30b9\u8a9e / \u30d5\u30e9\u30f3\u30b9 fr_FR \u30dd\u30eb\u30c8\u30ac\u30eb\u8a9e / \u30dd\u30eb\u30c8\u30ac\u30eb pt_PT \u82f1\u8a9e / \u30a4\u30ae\u30ea\u30b9 en_GB \u30ab\u30bf\u30ed\u30cb\u30a2\u8a9e / \u30b9\u30da\u30a4\u30f3 es_ES \u30b9\u30a6\u30a7\u30fc\u30c7\u30f3\u8a9e / \u30b9\u30a6\u30a7\u30fc\u30c7\u30f3 sv_SE \u30ed\u30b7\u30a2\u8a9e / \u30ed\u30b7\u30a2 ru_RU \u30c9\u30a4\u30c4\u8a9e / \u30c9\u30a4\u30c4 de_DE \u30c8\u30eb\u30b3\u8a9e / \u30c8\u30eb\u30b3 tr_TR \u30a4\u30bf\u30ea\u30a2\u8a9e / \u30a4\u30bf\u30ea\u30a2 it_IT \u30dd\u30eb\u30c8\u30ac\u30eb\u8a9e / \u30d6\u30e9\u30b8\u30eb pt_BR Reference UITextChecker https://developer.apple.com/reference/uikit/uitextchecker UITextField https://developer.apple.com/reference/uikit/uitextfield","title":"UITextChecker\u3067\u30b9\u30da\u30eb\u30c1\u30a7\u30c3\u30af"},{"location":"1.uikit/063_uitextchecker/#uitextchecker","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 // // ViewController.swift // swiftdocs // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController , UITextFieldDelegate { var myTextField : UITextField ! var suggestTextField : UITextView ! override func viewDidLoad () { super . viewDidLoad () // Button\u3092\u751f\u6210. let myButton = UIButton () myButton . frame = CGRect ( x : 0 , y : 0 , width : 200 , height : 40 ) myButton . backgroundColor = UIColor . red myButton . layer . masksToBounds = true myButton . setTitle ( \"\u30c1\u30a7\u30c3\u30af\u3059\u308b\" , for : UIControl . State . normal ) myButton . setTitleColor ( UIColor . white , for : UIControl . State . normal ) myButton . setTitleColor ( UIColor . black , for : UIControl . State . highlighted ) myButton . layer . cornerRadius = 20.0 myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : 200 ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchUpInside ) self . view . addSubview ( myButton ) // \u5019\u88dc\u7528TextField\u3092\u751f\u6210. suggestTextField = UITextView ( frame : CGRect ( x : 0 , y : 0 , width : 300 , height : 250 )) suggestTextField . layer . position = CGPoint ( x : self . view . frame . midX , y : self . view . frame . midY + 150 ) suggestTextField . backgroundColor = UIColor . black suggestTextField . textColor = UIColor . white suggestTextField . textAlignment = NSTextAlignment . left suggestTextField . text = \"\u3082\u3057\u304b\u3057\u3066: \" suggestTextField . font = UIFont . systemFont ( ofSize : CGFloat ( 20 )) suggestTextField . isEditable = false self . view . addSubview ( suggestTextField !) // \u30b9\u30da\u30eb\u5165\u529b\u7528UITextField\u3092\u4f5c\u6210. myTextField = UITextField ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 30 )) myTextField . borderStyle = UITextField . BorderStyle . roundedRect myTextField . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 100 ) self . view . addSubview ( myTextField ) } /* Button\u304c\u62bc\u3055\u308c\u305f\u3068\u304d\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ @objc func onClickMyButton ( sender : UIButton ){ // \u30b9\u30da\u30eb\u30c1\u30a7\u30c3\u30af\u3092\u884c\u3046. suggestUpdate () } /* \u30b9\u30da\u30eb\u30c1\u30a7\u30c3\u30af\u3059\u308b\u30e1\u30bd\u30c3\u30c9. */ func suggestUpdate (){ // UITextChecker\u306e\u5ba3\u8a00. let checker : UITextChecker = UITextChecker () // text\u306e\u6587\u5b57\u6570\u3092\u53d6\u5f97. let length = myTextField . text ?. characters . count // \u30b9\u30da\u30eb\u30c1\u30a7\u30c3\u30af\u3092\u3059\u308b\u7bc4\u56f2(0~\u5165\u529b\u3055\u308c\u305f\u6587\u5b57\u6570)\u3092\u6307\u5b9a. let checkRange : NSRange = NSMakeRange ( 0 , length !) // \u7bc4\u56f2\u306e\u4e2d\u304b\u3089\u9593\u9055\u3063\u305f\u30b9\u30da\u30eb\u306e\u7269\u3092\u63a2\u3059. let misspelledRange : NSRange = checker . rangeOfMisspelledWord ( // \u30c1\u30a7\u30c3\u30af\u3059\u308b\u6587\u5b57\u3092\u6307\u5b9a. in : myTextField . text !, // \u30c1\u30a7\u30c3\u30af\u3059\u308b\u7bc4\u56f2\u3092\u6307\u5b9a. range : checkRange , // \u958b\u59cb\u4f4d\u7f6e\u3092\u7bc4\u56f2\u306e\u5148\u982d\u306b\u6307\u5b9a. startingAt : checkRange . location , // \u6307\u5b9a\u3055\u308c\u305f\u7bc4\u56f2\u5185\u306b\u30df\u30b9\u304c\u898b\u3064\u304b\u3089\u306a\u304f\u3066\u3082range\u306e\u958b\u59cb\u4f4d\u7f6e\u304b\u3089\u63a2\u3057\u59cb\u3081\u308b.(false\u306a\u3089\u30df\u30b9\u304c\u898b\u3064\u304b\u3089\u306a\u304b\u3063\u305f\u672b\u5c3e\u306e\u4f4d\u7f6e\u3092\u4fdd\u6301\u3059\u308b) wrap : true , // \u8a00\u8a9e\u3092\u82f1\u8a9e\u306b\u6307\u5b9a. language : \"en_US\" ) // \u30b9\u30da\u30eb\u30df\u30b9\u304c\u898b\u3064\u304b\u3063\u305f\u5834\u5408. if misspelledRange . location != NSNotFound { // \u6b63\u3057\u3044\u30b9\u30da\u30eb\u306e\u5019\u88dc\u3092\u53d6\u5f97. let candidateArray : NSArray = checker . guesses ( // \u30b9\u30da\u30eb\u30df\u30b9\u304c\u3042\u308b\u7bc4\u56f2. forWordRange : misspelledRange , // \u30b9\u30da\u30eb\u30df\u30b9\u3092\u542b\u3080\u6587\u5b57(range\u5185). in : myTextField . text !, // \u8a00\u8a9e\u3092\u6307\u5b9a. language : \"en_US\" ) ! as NSArray var str = \"\u3082\u3057\u304b\u3057\u3066: \\n \" // \u5019\u88dc\u3092\u914d\u5217\u304b\u30891\u3064\u305a\u3064\u53d6\u308a\u51fa\u3059. for text in candidateArray { str += ( text as AnyObject ). description ! str += \", \" } suggestTextField ?. text = str } } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 // // ViewController.swift // swiftdocs // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController , UITextFieldDelegate { var myTextField : UITextField ! var suggestTextField : UITextView ! override func viewDidLoad () { super . viewDidLoad () // Button\u3092\u751f\u6210. let myButton = UIButton () myButton . frame = CGRect ( x : 0 , y : 0 , width : 200 , height : 40 ) myButton . backgroundColor = UIColor . red myButton . layer . masksToBounds = true myButton . setTitle ( \"\u30c1\u30a7\u30c3\u30af\u3059\u308b\" , for : UIControlState . normal ) myButton . setTitleColor ( UIColor . white , for : UIControlState . normal ) myButton . setTitleColor ( UIColor . black , for : UIControlState . highlighted ) myButton . layer . cornerRadius = 20.0 myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : 200 ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchUpInside ) self . view . addSubview ( myButton ) // \u5019\u88dc\u7528TextField\u3092\u751f\u6210. suggestTextField = UITextView ( frame : CGRect ( x : 0 , y : 0 , width : 300 , height : 250 )) suggestTextField . layer . position = CGPoint ( x : self . view . frame . midX , y : self . view . frame . midY + 150 ) suggestTextField . backgroundColor = UIColor . black suggestTextField . textColor = UIColor . white suggestTextField . textAlignment = NSTextAlignment . left suggestTextField . text = \"\u3082\u3057\u304b\u3057\u3066: \" suggestTextField . font = UIFont . systemFont ( ofSize : CGFloat ( 20 )) suggestTextField . isEditable = false self . view . addSubview ( suggestTextField !) // \u30b9\u30da\u30eb\u5165\u529b\u7528UITextField\u3092\u4f5c\u6210. myTextField = UITextField ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 30 )) myTextField . borderStyle = UITextBorderStyle . roundedRect myTextField . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 100 ) self . view . addSubview ( myTextField ) } /* Button\u304c\u62bc\u3055\u308c\u305f\u3068\u304d\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func onClickMyButton ( sender : UIButton ){ // \u30b9\u30da\u30eb\u30c1\u30a7\u30c3\u30af\u3092\u884c\u3046. suggestUpdate () } /* \u30b9\u30da\u30eb\u30c1\u30a7\u30c3\u30af\u3059\u308b\u30e1\u30bd\u30c3\u30c9. */ func suggestUpdate (){ // UITextChecker\u306e\u5ba3\u8a00. let checker : UITextChecker = UITextChecker () // text\u306e\u6587\u5b57\u6570\u3092\u53d6\u5f97. let length = myTextField . text ?. characters . count // \u30b9\u30da\u30eb\u30c1\u30a7\u30c3\u30af\u3092\u3059\u308b\u7bc4\u56f2(0~\u5165\u529b\u3055\u308c\u305f\u6587\u5b57\u6570)\u3092\u6307\u5b9a. let checkRange : NSRange = NSMakeRange ( 0 , length !) // \u7bc4\u56f2\u306e\u4e2d\u304b\u3089\u9593\u9055\u3063\u305f\u30b9\u30da\u30eb\u306e\u7269\u3092\u63a2\u3059. let misspelledRange : NSRange = checker . rangeOfMisspelledWord ( // \u30c1\u30a7\u30c3\u30af\u3059\u308b\u6587\u5b57\u3092\u6307\u5b9a. in : myTextField . text !, // \u30c1\u30a7\u30c3\u30af\u3059\u308b\u7bc4\u56f2\u3092\u6307\u5b9a. range : checkRange , // \u958b\u59cb\u4f4d\u7f6e\u3092\u7bc4\u56f2\u306e\u5148\u982d\u306b\u6307\u5b9a. startingAt : checkRange . location , // \u6307\u5b9a\u3055\u308c\u305f\u7bc4\u56f2\u5185\u306b\u30df\u30b9\u304c\u898b\u3064\u304b\u3089\u306a\u304f\u3066\u3082range\u306e\u958b\u59cb\u4f4d\u7f6e\u304b\u3089\u63a2\u3057\u59cb\u3081\u308b.(false\u306a\u3089\u30df\u30b9\u304c\u898b\u3064\u304b\u3089\u306a\u304b\u3063\u305f\u672b\u5c3e\u306e\u4f4d\u7f6e\u3092\u4fdd\u6301\u3059\u308b) wrap : true , // \u8a00\u8a9e\u3092\u82f1\u8a9e\u306b\u6307\u5b9a. language : \"en_US\" ) // \u30b9\u30da\u30eb\u30df\u30b9\u304c\u898b\u3064\u304b\u3063\u305f\u5834\u5408. if misspelledRange . location != NSNotFound { // \u6b63\u3057\u3044\u30b9\u30da\u30eb\u306e\u5019\u88dc\u3092\u53d6\u5f97. let candidateArray : NSArray = checker . guesses ( // \u30b9\u30da\u30eb\u30df\u30b9\u304c\u3042\u308b\u7bc4\u56f2. forWordRange : misspelledRange , // \u30b9\u30da\u30eb\u30df\u30b9\u3092\u542b\u3080\u6587\u5b57(range\u5185). in : myTextField . text !, // \u8a00\u8a9e\u3092\u6307\u5b9a. language : \"en_US\" ) ! var str = \"\u3082\u3057\u304b\u3057\u3066: \\n \" // \u5019\u88dc\u3092\u914d\u5217\u304b\u30891\u3064\u305a\u3064\u53d6\u308a\u51fa\u3059. for text in candidateArray { str += text . description ! str += \", \" } suggestTextField ?. text = str } } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 // // ViewController.swift // swiftdocs // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController , UITextFieldDelegate { var myTextField : UITextField ! var suggestTextField : UITextView ! override func viewDidLoad () { super . viewDidLoad () // Button\u3092\u751f\u6210. let myButton = UIButton () myButton . frame = CGRectMake ( 0 , 0 , 200 , 40 ) myButton . backgroundColor = UIColor . redColor () myButton . layer . masksToBounds = true myButton . setTitle ( \"\u30c1\u30a7\u30c3\u30af\u3059\u308b\" , forState : UIControlState . Normal ) myButton . setTitleColor ( UIColor . whiteColor (), forState : UIControlState . Normal ) myButton . setTitleColor ( UIColor . blackColor (), forState : UIControlState . Highlighted ) myButton . layer . cornerRadius = 20.0 myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : 200 ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : . TouchUpInside ) self . view . addSubview ( myButton ) // \u5019\u88dc\u7528TextField\u3092\u751f\u6210. suggestTextField = UITextView ( frame : CGRectMake ( 0 , 0 , 300 , 250 )) suggestTextField . layer . position = CGPointMake ( self . view . frame . midX , self . view . frame . midY + 150 ) suggestTextField . backgroundColor = UIColor . blackColor () suggestTextField . textColor = UIColor . whiteColor () suggestTextField . textAlignment = NSTextAlignment . Left suggestTextField . text = \"\u3082\u3057\u304b\u3057\u3066: \" suggestTextField . font = UIFont . systemFontOfSize ( CGFloat ( 20 )) suggestTextField . editable = false self . view . addSubview ( suggestTextField !) // \u30b9\u30da\u30eb\u5165\u529b\u7528UITextField\u3092\u4f5c\u6210. myTextField = UITextField ( frame : CGRectMake ( 0 , 0 , 200 , 30 )) myTextField . borderStyle = UITextBorderStyle . RoundedRect myTextField . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 100 ) self . view . addSubview ( myTextField ) } /* Button\u304c\u62bc\u3055\u308c\u305f\u3068\u304d\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func onClickMyButton ( sender : UIButton ){ // \u30b9\u30da\u30eb\u30c1\u30a7\u30c3\u30af\u3092\u884c\u3046. suggestUpdate () } /* \u30b9\u30da\u30eb\u30c1\u30a7\u30c3\u30af\u3059\u308b\u30e1\u30bd\u30c3\u30c9. */ func suggestUpdate (){ // UITextChecker\u306e\u5ba3\u8a00. let checker : UITextChecker = UITextChecker () // text\u306e\u6587\u5b57\u6570\u3092\u53d6\u5f97. let length = myTextField . text ?. characters . count // \u30b9\u30da\u30eb\u30c1\u30a7\u30c3\u30af\u3092\u3059\u308b\u7bc4\u56f2(0~\u5165\u529b\u3055\u308c\u305f\u6587\u5b57\u6570)\u3092\u6307\u5b9a. let checkRange : NSRange = NSMakeRange ( 0 , length !) // \u7bc4\u56f2\u306e\u4e2d\u304b\u3089\u9593\u9055\u3063\u305f\u30b9\u30da\u30eb\u306e\u7269\u3092\u63a2\u3059. let misspelledRange : NSRange = checker . rangeOfMisspelledWordInString ( // \u30c1\u30a7\u30c3\u30af\u3059\u308b\u6587\u5b57\u3092\u6307\u5b9a. myTextField . text !, // \u30c1\u30a7\u30c3\u30af\u3059\u308b\u7bc4\u56f2\u3092\u6307\u5b9a. range : checkRange , // \u958b\u59cb\u4f4d\u7f6e\u3092\u7bc4\u56f2\u306e\u5148\u982d\u306b\u6307\u5b9a. startingAt : checkRange . location , // \u6307\u5b9a\u3055\u308c\u305f\u7bc4\u56f2\u5185\u306b\u30df\u30b9\u304c\u898b\u3064\u304b\u3089\u306a\u304f\u3066\u3082range\u306e\u958b\u59cb\u4f4d\u7f6e\u304b\u3089\u63a2\u3057\u59cb\u3081\u308b.(false\u306a\u3089\u30df\u30b9\u304c\u898b\u3064\u304b\u3089\u306a\u304b\u3063\u305f\u672b\u5c3e\u306e\u4f4d\u7f6e\u3092\u4fdd\u6301\u3059\u308b) wrap : true , // \u8a00\u8a9e\u3092\u82f1\u8a9e\u306b\u6307\u5b9a. language : \"en_US\" ) // \u30b9\u30da\u30eb\u30df\u30b9\u304c\u898b\u3064\u304b\u3063\u305f\u5834\u5408. if misspelledRange . location != NSNotFound { // \u6b63\u3057\u3044\u30b9\u30da\u30eb\u306e\u5019\u88dc\u3092\u53d6\u5f97. let candidateArray : NSArray = checker . guessesForWordRange ( // \u30b9\u30da\u30eb\u30df\u30b9\u304c\u3042\u308b\u7bc4\u56f2. misspelledRange , // \u30b9\u30da\u30eb\u30df\u30b9\u3092\u542b\u3080\u6587\u5b57(range\u5185). inString : myTextField . text !, // \u8a00\u8a9e\u3092\u6307\u5b9a. language : \"en_US\" ) ! var str = \"\u3082\u3057\u304b\u3057\u3066: \\n \" // \u5019\u88dc\u3092\u914d\u5217\u304b\u30891\u3064\u305a\u3064\u53d6\u308a\u51fa\u3059. for text in candidateArray { str += text . description ! str += \", \" } suggestTextField ?. text = str } } }","title":"UITextChecker\u3067\u30b9\u30da\u30eb\u30c1\u30a7\u30c3\u30af"},{"location":"1.uikit/063_uitextchecker/#3x4x","text":"UIControlState \u304c UIControl.State \u306b\u5909\u66f4 func onClickMyButton(sender : UIButton) \u306b @objc \u3092\u8ffd\u52a0 UITextBorderStyle \u304c UITextField.BorderStyle \u306b\u5909\u66f4 let candidateArray: NSArray = checker.guesses(forWordRange: misspelledRange, in: myTextField.text!, language: \"en_US\") ! \u304c let candidateArray: NSArray = checker.guesses(forWordRange: misspelledRange, in: myTextField.text!, language: \"en_US\") ! as NSArray \u306b\u5909\u66f4 text.description! \u3092 (text as AnyObject).description! \u306b\u5909\u66f4","title":"3.x\u30684.x\u306e\u5dee\u5206"},{"location":"1.uikit/063_uitextchecker/#2330","text":"rangeOfMisspelledWordInString \u304b\u3089 rangeOfMisspelledWord \u306b\u5909\u66f4 guessesForWordRange \u304b\u3089 guesses \u306b\u5909\u66f4 \u8a00\u8a9e \u8a00\u8a9e\u30b3\u30fc\u30c9 \u82f1\u8a9e / \u30a2\u30e1\u30ea\u30ab en_US \u82f1\u8a9e / \u30ab\u30ca\u30c0 en_CA \u30c7\u30f3\u30de\u30fc\u30af\u8a9e / \u30c7\u30f3\u30de\u30fc\u30af da_DK \u82f1\u8a9e / \u30a4\u30f3\u30c9 en_IN \u30aa\u30e9\u30f3\u30c0\u8a9e / \u30aa\u30e9\u30f3\u30c0 nl_NL \u82f1\u8a9e / \u30aa\u30fc\u30b9\u30c8\u30e9\u30ea\u30a2 en_AU \u30d5\u30e9\u30f3\u30b9\u8a9e / \u30d5\u30e9\u30f3\u30b9 fr_FR \u30dd\u30eb\u30c8\u30ac\u30eb\u8a9e / \u30dd\u30eb\u30c8\u30ac\u30eb pt_PT \u82f1\u8a9e / \u30a4\u30ae\u30ea\u30b9 en_GB \u30ab\u30bf\u30ed\u30cb\u30a2\u8a9e / \u30b9\u30da\u30a4\u30f3 es_ES \u30b9\u30a6\u30a7\u30fc\u30c7\u30f3\u8a9e / \u30b9\u30a6\u30a7\u30fc\u30c7\u30f3 sv_SE \u30ed\u30b7\u30a2\u8a9e / \u30ed\u30b7\u30a2 ru_RU \u30c9\u30a4\u30c4\u8a9e / \u30c9\u30a4\u30c4 de_DE \u30c8\u30eb\u30b3\u8a9e / \u30c8\u30eb\u30b3 tr_TR \u30a4\u30bf\u30ea\u30a2\u8a9e / \u30a4\u30bf\u30ea\u30a2 it_IT \u30dd\u30eb\u30c8\u30ac\u30eb\u8a9e / \u30d6\u30e9\u30b8\u30eb pt_BR","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"1.uikit/063_uitextchecker/#reference","text":"UITextChecker https://developer.apple.com/reference/uikit/uitextchecker UITextField https://developer.apple.com/reference/uikit/uitextfield","title":"Reference"},{"location":"1.uikit/064_uiview/","text":"UIView\u306b\u30a2\u30bf\u30c3\u30c1\u30e1\u30f3\u30c8\u3092\u9069\u7528\u3055\u305b\u308b Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 // // ViewController.swift // UIKit064 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { // UIDynamicAnimator\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u4fdd\u5b58\u3057\u306a\u3051\u308c\u3070\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u304c\u5b9f\u884c\u3055\u308c\u306a\u3044. var animator : UIDynamicAnimator ! var gravity : UIGravityBehavior ! override func viewDidLoad () { super . viewDidLoad () self . view . backgroundColor = UIColor . cyan // Button\u3092\u4f5c\u6210. let myButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 50 )) myButton . layer . position = self . view . center myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 20.0 myButton . setTitleColor ( UIColor . white , for : UIControl . State . normal ) myButton . setTitleColor ( UIColor . black , for : UIControl . State . highlighted ) myButton . backgroundColor = UIColor . red myButton . setTitle ( \"Dropped!\" , for : UIControl . State . normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : UIControl . Event . touchUpInside ) self . view . addSubview ( myButton ) // myButton\u3092\u7e4b\u3050\u30b9\u30d7\u30ea\u30f3\u30b0\u3092\u4f5c\u6210. let springView = UIView ( frame : CGRect ( x : 0 , y : 0 , width : 5 , height : 50 )) springView . layer . position = self . view . center springView . backgroundColor = UIColor . brown self . view . addSubview ( springView ) // UIDynamicAnimator\u306e\u751f\u6210\u3068\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u4fdd\u5b58. animator = UIDynamicAnimator ( referenceView : self . view ) // \u91cd\u529b\u3092\u751f\u6210\u3057\u3066Button\u306b\u4ed8\u968f\u3055\u305b\u308b. gravity = UIGravityBehavior ( items : [ myButton ]) // \u30a2\u30bf\u30c3\u30c1\u3092\u751f\u6210. let attach = UIAttachmentBehavior ( item : myButton , attachedToAnchor : self . view . center ) // \u6e1b\u8870\u5024. attach . damping = 0.01 // \u632f\u5e45. attach . frequency = 1.0 // \u30d2\u30e2\u306e\u9577\u3055. attach . length = 100 // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u304c\u52d5\u3044\u3066\u308b\u969b\u306b\u547c\u3070\u308c\u308b\u30d6\u30ed\u30c3\u30af\u6587\u3092\u8a2d\u5b9a. attach . action = { var rect = springView . frame rect . size . height = myButton . frame . origin . y - rect . origin . y springView . frame = rect } // UIDynamicAnimator\u306b\u30a2\u30bf\u30c3\u30c1\u3092\u8ffd\u52a0. animator . addBehavior ( attach ) } /* Button\u3092\u62bc\u3057\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ @objc func onClickMyButton ( sender : UIButton ){ // UIDynamicAnimator\u306b\u91cd\u529b\u3092\u8ffd\u52a0. animator . addBehavior ( gravity ) } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 // // ViewController.swift // UIKit064 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { // UIDynamicAnimator\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u4fdd\u5b58\u3057\u306a\u3051\u308c\u3070\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u304c\u5b9f\u884c\u3055\u308c\u306a\u3044. var animator : UIDynamicAnimator ! var gravity : UIGravityBehavior ! override func viewDidLoad () { super . viewDidLoad () self . view . backgroundColor = UIColor . cyan // Button\u3092\u4f5c\u6210. let myButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 50 )) myButton . layer . position = self . view . center myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 20.0 myButton . setTitleColor ( UIColor . white , for : UIControlState . normal ) myButton . setTitleColor ( UIColor . black , for : UIControlState . highlighted ) myButton . backgroundColor = UIColor . red myButton . setTitle ( \"Dropped!\" , for : UIControlState . normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : UIControlEvents . touchUpInside ) self . view . addSubview ( myButton ) // myButton\u3092\u7e4b\u3050\u30b9\u30d7\u30ea\u30f3\u30b0\u3092\u4f5c\u6210. let springView = UIView ( frame : CGRect ( x : 0 , y : 0 , width : 5 , height : 50 )) springView . layer . position = self . view . center springView . backgroundColor = UIColor . brown self . view . addSubview ( springView ) // UIDynamicAnimator\u306e\u751f\u6210\u3068\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u4fdd\u5b58. animator = UIDynamicAnimator ( referenceView : self . view ) // \u91cd\u529b\u3092\u751f\u6210\u3057\u3066Button\u306b\u4ed8\u968f\u3055\u305b\u308b. gravity = UIGravityBehavior ( items : [ myButton ]) // \u30a2\u30bf\u30c3\u30c1\u3092\u751f\u6210. let attach = UIAttachmentBehavior ( item : myButton , attachedToAnchor : self . view . center ) // \u6e1b\u8870\u5024. attach . damping = 0.01 // \u632f\u5e45. attach . frequency = 1.0 // \u30d2\u30e2\u306e\u9577\u3055. attach . length = 100 // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u304c\u52d5\u3044\u3066\u308b\u969b\u306b\u547c\u3070\u308c\u308b\u30d6\u30ed\u30c3\u30af\u6587\u3092\u8a2d\u5b9a. attach . action = { var rect = springView . frame rect . size . height = myButton . frame . origin . y - rect . origin . y springView . frame = rect } // UIDynamicAnimator\u306b\u30a2\u30bf\u30c3\u30c1\u3092\u8ffd\u52a0. animator . addBehavior ( attach ) } /* Button\u3092\u62bc\u3057\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func onClickMyButton ( sender : UIButton ){ // UIDynamicAnimator\u306b\u91cd\u529b\u3092\u8ffd\u52a0. animator . addBehavior ( gravity ) } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 // // ViewController.swift // UIKit064 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { // UIDynamicAnimator\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u4fdd\u5b58\u3057\u306a\u3051\u308c\u3070\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u304c\u5b9f\u884c\u3055\u308c\u306a\u3044. var animator : UIDynamicAnimator ! var gravity : UIGravityBehavior ! override func viewDidLoad () { super . viewDidLoad () self . view . backgroundColor = UIColor . cyanColor () // Button\u3092\u4f5c\u6210. let myButton = UIButton ( frame : CGRectMake ( 0 , 0 , 200 , 50 )) myButton . layer . position = self . view . center myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 20.0 myButton . setTitleColor ( UIColor . whiteColor (), forState : UIControlState . Normal ) myButton . setTitleColor ( UIColor . blackColor (), forState : UIControlState . Highlighted ) myButton . backgroundColor = UIColor . redColor () myButton . setTitle ( \"Dropped!\" , forState : UIControlState . Normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : UIControlEvents . TouchUpInside ) self . view . addSubview ( myButton ) // myButton\u3092\u7e4b\u3050\u30b9\u30d7\u30ea\u30f3\u30b0\u3092\u4f5c\u6210. let springView = UIView ( frame : CGRectMake ( 0 , 0 , 5 , 50 )) springView . layer . position = self . view . center springView . backgroundColor = UIColor . brownColor () self . view . addSubview ( springView ) // UIDynamicAnimator\u306e\u751f\u6210\u3068\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u4fdd\u5b58. animator = UIDynamicAnimator ( referenceView : self . view ) // \u91cd\u529b\u3092\u751f\u6210\u3057\u3066Button\u306b\u4ed8\u968f\u3055\u305b\u308b. gravity = UIGravityBehavior ( items : [ myButton ]) // \u30a2\u30bf\u30c3\u30c1\u3092\u751f\u6210. let attach = UIAttachmentBehavior ( item : myButton , attachedToAnchor : self . view . center ) // \u6e1b\u8870\u5024. attach . damping = 0.01 // \u632f\u5e45. attach . frequency = 1.0 // \u30d2\u30e2\u306e\u9577\u3055. attach . length = 100 // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u304c\u52d5\u3044\u3066\u308b\u969b\u306b\u547c\u3070\u308c\u308b\u30d6\u30ed\u30c3\u30af\u6587\u3092\u8a2d\u5b9a. attach . action = { var rect = springView . frame rect . size . height = myButton . frame . origin . y - rect . origin . y springView . frame = rect } // UIDynamicAnimator\u306b\u30a2\u30bf\u30c3\u30c1\u3092\u8ffd\u52a0. animator . addBehavior ( attach ) } /* Button\u3092\u62bc\u3057\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func onClickMyButton ( sender : UIButton ){ // UIDynamicAnimator\u306b\u91cd\u529b\u3092\u8ffd\u52a0. animator . addBehavior ( gravity ) } } 3.x\u30684.x\u306e\u5dee\u5206 UIControlState \u304c UIControl.State \u306b\u5909\u66f4 UIControlEvents \u304c UIControl.Event \u306b\u5909\u66f4 func onClickMyButton(sender : UIButton) \u306b @objc \u3092\u8ffd\u52a0 2.3\u30683.0\u306e\u5dee\u5206 CGRectMake\u304c\u5ec3\u6b62 Reference UIView https://developer.apple.com/reference/uikit/uiview UIGravityBehavior https://developer.apple.com/reference/uikit/uigravitybehavior UIAttachmentBehavior https://developer.apple.com/reference/uikit/uiattachmentbehavior UIDynamicAnimator https://developer.apple.com/reference/uikit/UIDynamicAnimator","title":"UIView\u306b\u30a2\u30bf\u30c3\u30c1\u30e1\u30f3\u30c8\u3092\u9069\u7528\u3055\u305b\u308b"},{"location":"1.uikit/064_uiview/#uiview","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 // // ViewController.swift // UIKit064 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { // UIDynamicAnimator\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u4fdd\u5b58\u3057\u306a\u3051\u308c\u3070\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u304c\u5b9f\u884c\u3055\u308c\u306a\u3044. var animator : UIDynamicAnimator ! var gravity : UIGravityBehavior ! override func viewDidLoad () { super . viewDidLoad () self . view . backgroundColor = UIColor . cyan // Button\u3092\u4f5c\u6210. let myButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 50 )) myButton . layer . position = self . view . center myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 20.0 myButton . setTitleColor ( UIColor . white , for : UIControl . State . normal ) myButton . setTitleColor ( UIColor . black , for : UIControl . State . highlighted ) myButton . backgroundColor = UIColor . red myButton . setTitle ( \"Dropped!\" , for : UIControl . State . normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : UIControl . Event . touchUpInside ) self . view . addSubview ( myButton ) // myButton\u3092\u7e4b\u3050\u30b9\u30d7\u30ea\u30f3\u30b0\u3092\u4f5c\u6210. let springView = UIView ( frame : CGRect ( x : 0 , y : 0 , width : 5 , height : 50 )) springView . layer . position = self . view . center springView . backgroundColor = UIColor . brown self . view . addSubview ( springView ) // UIDynamicAnimator\u306e\u751f\u6210\u3068\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u4fdd\u5b58. animator = UIDynamicAnimator ( referenceView : self . view ) // \u91cd\u529b\u3092\u751f\u6210\u3057\u3066Button\u306b\u4ed8\u968f\u3055\u305b\u308b. gravity = UIGravityBehavior ( items : [ myButton ]) // \u30a2\u30bf\u30c3\u30c1\u3092\u751f\u6210. let attach = UIAttachmentBehavior ( item : myButton , attachedToAnchor : self . view . center ) // \u6e1b\u8870\u5024. attach . damping = 0.01 // \u632f\u5e45. attach . frequency = 1.0 // \u30d2\u30e2\u306e\u9577\u3055. attach . length = 100 // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u304c\u52d5\u3044\u3066\u308b\u969b\u306b\u547c\u3070\u308c\u308b\u30d6\u30ed\u30c3\u30af\u6587\u3092\u8a2d\u5b9a. attach . action = { var rect = springView . frame rect . size . height = myButton . frame . origin . y - rect . origin . y springView . frame = rect } // UIDynamicAnimator\u306b\u30a2\u30bf\u30c3\u30c1\u3092\u8ffd\u52a0. animator . addBehavior ( attach ) } /* Button\u3092\u62bc\u3057\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ @objc func onClickMyButton ( sender : UIButton ){ // UIDynamicAnimator\u306b\u91cd\u529b\u3092\u8ffd\u52a0. animator . addBehavior ( gravity ) } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 // // ViewController.swift // UIKit064 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { // UIDynamicAnimator\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u4fdd\u5b58\u3057\u306a\u3051\u308c\u3070\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u304c\u5b9f\u884c\u3055\u308c\u306a\u3044. var animator : UIDynamicAnimator ! var gravity : UIGravityBehavior ! override func viewDidLoad () { super . viewDidLoad () self . view . backgroundColor = UIColor . cyan // Button\u3092\u4f5c\u6210. let myButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 50 )) myButton . layer . position = self . view . center myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 20.0 myButton . setTitleColor ( UIColor . white , for : UIControlState . normal ) myButton . setTitleColor ( UIColor . black , for : UIControlState . highlighted ) myButton . backgroundColor = UIColor . red myButton . setTitle ( \"Dropped!\" , for : UIControlState . normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : UIControlEvents . touchUpInside ) self . view . addSubview ( myButton ) // myButton\u3092\u7e4b\u3050\u30b9\u30d7\u30ea\u30f3\u30b0\u3092\u4f5c\u6210. let springView = UIView ( frame : CGRect ( x : 0 , y : 0 , width : 5 , height : 50 )) springView . layer . position = self . view . center springView . backgroundColor = UIColor . brown self . view . addSubview ( springView ) // UIDynamicAnimator\u306e\u751f\u6210\u3068\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u4fdd\u5b58. animator = UIDynamicAnimator ( referenceView : self . view ) // \u91cd\u529b\u3092\u751f\u6210\u3057\u3066Button\u306b\u4ed8\u968f\u3055\u305b\u308b. gravity = UIGravityBehavior ( items : [ myButton ]) // \u30a2\u30bf\u30c3\u30c1\u3092\u751f\u6210. let attach = UIAttachmentBehavior ( item : myButton , attachedToAnchor : self . view . center ) // \u6e1b\u8870\u5024. attach . damping = 0.01 // \u632f\u5e45. attach . frequency = 1.0 // \u30d2\u30e2\u306e\u9577\u3055. attach . length = 100 // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u304c\u52d5\u3044\u3066\u308b\u969b\u306b\u547c\u3070\u308c\u308b\u30d6\u30ed\u30c3\u30af\u6587\u3092\u8a2d\u5b9a. attach . action = { var rect = springView . frame rect . size . height = myButton . frame . origin . y - rect . origin . y springView . frame = rect } // UIDynamicAnimator\u306b\u30a2\u30bf\u30c3\u30c1\u3092\u8ffd\u52a0. animator . addBehavior ( attach ) } /* Button\u3092\u62bc\u3057\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func onClickMyButton ( sender : UIButton ){ // UIDynamicAnimator\u306b\u91cd\u529b\u3092\u8ffd\u52a0. animator . addBehavior ( gravity ) } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 // // ViewController.swift // UIKit064 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { // UIDynamicAnimator\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u4fdd\u5b58\u3057\u306a\u3051\u308c\u3070\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u304c\u5b9f\u884c\u3055\u308c\u306a\u3044. var animator : UIDynamicAnimator ! var gravity : UIGravityBehavior ! override func viewDidLoad () { super . viewDidLoad () self . view . backgroundColor = UIColor . cyanColor () // Button\u3092\u4f5c\u6210. let myButton = UIButton ( frame : CGRectMake ( 0 , 0 , 200 , 50 )) myButton . layer . position = self . view . center myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 20.0 myButton . setTitleColor ( UIColor . whiteColor (), forState : UIControlState . Normal ) myButton . setTitleColor ( UIColor . blackColor (), forState : UIControlState . Highlighted ) myButton . backgroundColor = UIColor . redColor () myButton . setTitle ( \"Dropped!\" , forState : UIControlState . Normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : UIControlEvents . TouchUpInside ) self . view . addSubview ( myButton ) // myButton\u3092\u7e4b\u3050\u30b9\u30d7\u30ea\u30f3\u30b0\u3092\u4f5c\u6210. let springView = UIView ( frame : CGRectMake ( 0 , 0 , 5 , 50 )) springView . layer . position = self . view . center springView . backgroundColor = UIColor . brownColor () self . view . addSubview ( springView ) // UIDynamicAnimator\u306e\u751f\u6210\u3068\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u4fdd\u5b58. animator = UIDynamicAnimator ( referenceView : self . view ) // \u91cd\u529b\u3092\u751f\u6210\u3057\u3066Button\u306b\u4ed8\u968f\u3055\u305b\u308b. gravity = UIGravityBehavior ( items : [ myButton ]) // \u30a2\u30bf\u30c3\u30c1\u3092\u751f\u6210. let attach = UIAttachmentBehavior ( item : myButton , attachedToAnchor : self . view . center ) // \u6e1b\u8870\u5024. attach . damping = 0.01 // \u632f\u5e45. attach . frequency = 1.0 // \u30d2\u30e2\u306e\u9577\u3055. attach . length = 100 // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u304c\u52d5\u3044\u3066\u308b\u969b\u306b\u547c\u3070\u308c\u308b\u30d6\u30ed\u30c3\u30af\u6587\u3092\u8a2d\u5b9a. attach . action = { var rect = springView . frame rect . size . height = myButton . frame . origin . y - rect . origin . y springView . frame = rect } // UIDynamicAnimator\u306b\u30a2\u30bf\u30c3\u30c1\u3092\u8ffd\u52a0. animator . addBehavior ( attach ) } /* Button\u3092\u62bc\u3057\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func onClickMyButton ( sender : UIButton ){ // UIDynamicAnimator\u306b\u91cd\u529b\u3092\u8ffd\u52a0. animator . addBehavior ( gravity ) } }","title":"UIView\u306b\u30a2\u30bf\u30c3\u30c1\u30e1\u30f3\u30c8\u3092\u9069\u7528\u3055\u305b\u308b"},{"location":"1.uikit/064_uiview/#3x4x","text":"UIControlState \u304c UIControl.State \u306b\u5909\u66f4 UIControlEvents \u304c UIControl.Event \u306b\u5909\u66f4 func onClickMyButton(sender : UIButton) \u306b @objc \u3092\u8ffd\u52a0","title":"3.x\u30684.x\u306e\u5dee\u5206"},{"location":"1.uikit/064_uiview/#2330","text":"CGRectMake\u304c\u5ec3\u6b62","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"1.uikit/064_uiview/#reference","text":"UIView https://developer.apple.com/reference/uikit/uiview UIGravityBehavior https://developer.apple.com/reference/uikit/uigravitybehavior UIAttachmentBehavior https://developer.apple.com/reference/uikit/uiattachmentbehavior UIDynamicAnimator https://developer.apple.com/reference/uikit/UIDynamicAnimator","title":"Reference"},{"location":"1.uikit/065_collision/","text":"UIWebView\u3067\u30d5\u30a1\u30a4\u30eb\u306e\u8868\u793a Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 // // ViewController.swift // UIKit065 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { // UIDynamicAnimator\u306f\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u4fdd\u5b58\u3057\u306a\u3051\u308c\u3070\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u304c\u5b9f\u884c\u3055\u308c\u306a\u3044. var animator : UIDynamicAnimator ! var gravity : UIGravityBehavior ! override func viewDidLoad () { super . viewDidLoad () self . view . backgroundColor = UIColor . cyan // Label\u3092\u4f5c\u6210. let myLabel : UILabel = UILabel ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 40 )) myLabel . backgroundColor = UIColor . orange myLabel . layer . masksToBounds = true myLabel . layer . cornerRadius = 20.0 myLabel . text = \"Hello Swift!!\" myLabel . textColor = UIColor . white myLabel . shadowColor = UIColor . gray myLabel . textAlignment = NSTextAlignment . center myLabel . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : - 200 ) self . view . addSubview ( myLabel ) // \u969c\u5bb3\u7269\u3092\u4f5c\u6210. let myBoxView = UIView ( frame : CGRect ( x : 0 , y : 0 , width : 50 , height : 40 )) myBoxView . backgroundColor = UIColor . blue myBoxView . layer . masksToBounds = true myBoxView . layer . position = CGPoint ( x : self . view . frame . midX - 50 , y : self . view . frame . midY ) self . view . addSubview ( myBoxView ) // DropButton\u3092\u4f5c\u6210. let myButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 50 )) myButton . layer . position = CGPoint ( x : self . view . frame . midX , y : 500 ) myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 20.0 myButton . setTitleColor ( UIColor . white , for : UIControl . State . normal ) myButton . setTitleColor ( UIColor . black , for : UIControl . State . highlighted ) myButton . backgroundColor = UIColor . red myButton . setTitle ( \"Dropped!\" , for : UIControl . State . normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : UIControl . Event . touchUpInside ) myButton . tag = 0 self . view . addSubview ( myButton ) // ResetButton\u3092\u4f5c\u6210. let myResetButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 50 )) myResetButton . layer . position = CGPoint ( x : self . view . frame . midX , y : 400 ) myResetButton . layer . masksToBounds = true myResetButton . layer . cornerRadius = 20.0 myResetButton . setTitleColor ( UIColor . white , for : UIControl . State . normal ) myResetButton . setTitleColor ( UIColor . black , for : UIControl . State . highlighted ) myResetButton . backgroundColor = UIColor . blue myResetButton . setTitle ( \"Reset!\" , for : UIControl . State . normal ) myResetButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : UIControl . Event . touchUpInside ) myResetButton . tag = 1 self . view . addSubview ( myResetButton ) // UIDynamiAnimator\u306e\u751f\u6210\u3068\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u4fdd\u5b58. animator = UIDynamicAnimator ( referenceView : self . view ) // \u91cd\u529b\u3092\u4f5c\u308a\u3001View\u306b\u9069\u7528\u3055\u305b\u308b. gravity = UIGravityBehavior ( items : [ myLabel ]) // Collision\u3092\u4f5c\u6210\u3001View\u306b\u9069\u7528\u3055\u305b\u308b. let collision = UICollisionBehavior ( items : [ myLabel , myBoxView ]) // Collision\u306e\u6319\u52d5\u3092\u6307\u5b9a. collision . addBoundary ( withIdentifier : \"barrier\" as NSCopying , for : UIBezierPath ( rect : myBoxView . frame )) // Collision\u306e\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u884c. animator . addBehavior ( collision ) } @objc func onClickMyButton ( sender : UIButton ){ switch ( sender . tag ) { // DropButton. case 0 : // Gravity\u306e\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u884c. animator . addBehavior ( gravity ) // ResetButton. case 1 : let next = ViewController () self . present ( next , animated : false , completion : nil ) default : print ( \"error!\" ) } } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 // // ViewController.swift // UIKit065 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { // UIDynamicAnimator\u306f\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u4fdd\u5b58\u3057\u306a\u3051\u308c\u3070\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u304c\u5b9f\u884c\u3055\u308c\u306a\u3044. var animator : UIDynamicAnimator ! var gravity : UIGravityBehavior ! override func viewDidLoad () { super . viewDidLoad () self . view . backgroundColor = UIColor . cyan // Label\u3092\u4f5c\u6210. let myLabel : UILabel = UILabel ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 40 )) myLabel . backgroundColor = UIColor . orange myLabel . layer . masksToBounds = true myLabel . layer . cornerRadius = 20.0 myLabel . text = \"Hello Swift!!\" myLabel . textColor = UIColor . white myLabel . shadowColor = UIColor . gray myLabel . textAlignment = NSTextAlignment . center myLabel . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : - 200 ) self . view . addSubview ( myLabel ) // \u969c\u5bb3\u7269\u3092\u4f5c\u6210. let myBoxView = UIView ( frame : CGRect ( x : 0 , y : 0 , width : 50 , height : 40 )) myBoxView . backgroundColor = UIColor . blue myBoxView . layer . masksToBounds = true myBoxView . layer . position = CGPoint ( x : self . view . frame . midX - 50 , y : self . view . frame . midY ) self . view . addSubview ( myBoxView ) // DropButton\u3092\u4f5c\u6210. let myButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 50 )) myButton . layer . position = CGPoint ( x : self . view . frame . midX , y : 500 ) myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 20.0 myButton . setTitleColor ( UIColor . white , for : UIControlState . normal ) myButton . setTitleColor ( UIColor . black , for : UIControlState . highlighted ) myButton . backgroundColor = UIColor . red myButton . setTitle ( \"Dropped!\" , for : UIControlState . normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : UIControlEvents . touchUpInside ) myButton . tag = 0 self . view . addSubview ( myButton ) // ResetButton\u3092\u4f5c\u6210. let myResetButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 50 )) myResetButton . layer . position = CGPoint ( x : self . view . frame . midX , y : 400 ) myResetButton . layer . masksToBounds = true myResetButton . layer . cornerRadius = 20.0 myResetButton . setTitleColor ( UIColor . white , for : UIControlState . normal ) myResetButton . setTitleColor ( UIColor . black , for : UIControlState . highlighted ) myResetButton . backgroundColor = UIColor . blue myResetButton . setTitle ( \"Reset!\" , for : UIControlState . normal ) myResetButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : UIControlEvents . touchUpInside ) myResetButton . tag = 1 self . view . addSubview ( myResetButton ) // UIDynamiAnimator\u306e\u751f\u6210\u3068\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u4fdd\u5b58. animator = UIDynamicAnimator ( referenceView : self . view ) // \u91cd\u529b\u3092\u4f5c\u308a\u3001View\u306b\u9069\u7528\u3055\u305b\u308b. gravity = UIGravityBehavior ( items : [ myLabel ]) // Collision\u3092\u4f5c\u6210\u3001View\u306b\u9069\u7528\u3055\u305b\u308b. let collision = UICollisionBehavior ( items : [ myLabel , myBoxView ]) // Collision\u306e\u6319\u52d5\u3092\u6307\u5b9a. collision . addBoundary ( withIdentifier : \"barrier\" , for : UIBezierPath ( rect : myBoxView . frame )) // Collision\u306e\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u884c. animator . addBehavior ( collision ) } func onClickMyButton ( sender : UIButton ){ switch ( sender . tag ) { // DropButton. case 0 : // Gravity\u306e\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u884c. animator . addBehavior ( gravity ) // ResetButton. case 1 : let next = ViewController () self . present ( next , animated : false , completion : nil ) default : print ( \"error!\" ) } } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 // // ViewController.swift // UIKit065 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { // UIDynamicAnimator\u306f\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u4fdd\u5b58\u3057\u306a\u3051\u308c\u3070\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u304c\u5b9f\u884c\u3055\u308c\u306a\u3044. var animator : UIDynamicAnimator ! var gravity : UIGravityBehavior ! override func viewDidLoad () { super . viewDidLoad () self . view . backgroundColor = UIColor . cyanColor () // Label\u3092\u4f5c\u6210. let myLabel : UILabel = UILabel ( frame : CGRectMake ( 0 , 0 , 200 , 40 )) myLabel . backgroundColor = UIColor . orangeColor () myLabel . layer . masksToBounds = true myLabel . layer . cornerRadius = 20.0 myLabel . text = \"Hello Swift!!\" myLabel . textColor = UIColor . whiteColor () myLabel . shadowColor = UIColor . grayColor () myLabel . textAlignment = NSTextAlignment . Center myLabel . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : - 200 ) self . view . addSubview ( myLabel ) // \u969c\u5bb3\u7269\u3092\u4f5c\u6210. let myBoxView = UIView ( frame : CGRectMake ( 0 , 0 , 50 , 40 )) myBoxView . backgroundColor = UIColor . blueColor () myBoxView . layer . masksToBounds = true myBoxView . layer . position = CGPointMake ( self . view . frame . midX - 50 , self . view . frame . midY ) self . view . addSubview ( myBoxView ) // DropButton\u3092\u4f5c\u6210. let myButton = UIButton ( frame : CGRectMake ( 0 , 0 , 200 , 50 )) myButton . layer . position = CGPointMake ( self . view . frame . midX , 500 ) myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 20.0 myButton . setTitleColor ( UIColor . whiteColor (), forState : UIControlState . Normal ) myButton . setTitleColor ( UIColor . blackColor (), forState : UIControlState . Highlighted ) myButton . backgroundColor = UIColor . redColor () myButton . setTitle ( \"Dropped!\" , forState : UIControlState . Normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : UIControlEvents . TouchUpInside ) myButton . tag = 0 self . view . addSubview ( myButton ) // ResetButton\u3092\u4f5c\u6210. let myResetButton = UIButton ( frame : CGRectMake ( 0 , 0 , 200 , 50 )) myResetButton . layer . position = CGPointMake ( self . view . frame . midX , 400 ) myResetButton . layer . masksToBounds = true myResetButton . layer . cornerRadius = 20.0 myResetButton . setTitleColor ( UIColor . whiteColor (), forState : UIControlState . Normal ) myResetButton . setTitleColor ( UIColor . blackColor (), forState : UIControlState . Highlighted ) myResetButton . backgroundColor = UIColor . blueColor () myResetButton . setTitle ( \"Reset!\" , forState : UIControlState . Normal ) myResetButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : UIControlEvents . TouchUpInside ) myResetButton . tag = 1 self . view . addSubview ( myResetButton ) // UIDynamiAnimator\u306e\u751f\u6210\u3068\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u4fdd\u5b58. animator = UIDynamicAnimator ( referenceView : self . view ) // \u91cd\u529b\u3092\u4f5c\u308a\u3001View\u306b\u9069\u7528\u3055\u305b\u308b. gravity = UIGravityBehavior ( items : [ myLabel ]) // Collision\u3092\u4f5c\u6210\u3001View\u306b\u9069\u7528\u3055\u305b\u308b. let collision = UICollisionBehavior ( items : [ myLabel , myBoxView ]) // Collision\u306e\u6319\u52d5\u3092\u6307\u5b9a. collision . addBoundaryWithIdentifier ( \"barrier\" , forPath : UIBezierPath ( rect : myBoxView . frame )) // Collision\u306e\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u884c. animator . addBehavior ( collision ) } func onClickMyButton ( sender : UIButton ){ switch ( sender . tag ) { // DropButton. case 0 : // Gravity\u306e\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u884c. animator . addBehavior ( gravity ) // ResetButton. case 1 : let next = ViewController () self . presentViewController ( next , animated : false , completion : nil ) default : print ( \"error!\" ) } } } 3.x\u30684.x\u306e\u5dee\u5206 UIControlState \u304c UIControl.Staten \u306b\u5909\u66f4 UIControlEvents \u304c UIControl.Event \u306b\u5909\u66f4 func onClickMyButton(sender : UIButton) \u306b @objc \u3092\u8ffd\u52a0 \"barrier\" \u3092 \"barrier\" as NSCopying \u306b\u5909\u66f4 2.3\u30683.0\u306e\u5dee\u5206 CGRectMake, CGPointMake\u304c\u5ec3\u6b62 Reference UIView https://developer.apple.com/reference/uikit/uiview UIGravityBehavior https://developer.apple.com/reference/uikit/uigravitybehavior UICollisionBehavior https://developer.apple.com/reference/uikit/uicollisionbehavior UIDynamicAnimator https://developer.apple.com/reference/uikit/UIDynamicAnimator","title":"UIWebView\u3067\u30d5\u30a1\u30a4\u30eb\u306e\u8868\u793a"},{"location":"1.uikit/065_collision/#uiwebview","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 // // ViewController.swift // UIKit065 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { // UIDynamicAnimator\u306f\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u4fdd\u5b58\u3057\u306a\u3051\u308c\u3070\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u304c\u5b9f\u884c\u3055\u308c\u306a\u3044. var animator : UIDynamicAnimator ! var gravity : UIGravityBehavior ! override func viewDidLoad () { super . viewDidLoad () self . view . backgroundColor = UIColor . cyan // Label\u3092\u4f5c\u6210. let myLabel : UILabel = UILabel ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 40 )) myLabel . backgroundColor = UIColor . orange myLabel . layer . masksToBounds = true myLabel . layer . cornerRadius = 20.0 myLabel . text = \"Hello Swift!!\" myLabel . textColor = UIColor . white myLabel . shadowColor = UIColor . gray myLabel . textAlignment = NSTextAlignment . center myLabel . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : - 200 ) self . view . addSubview ( myLabel ) // \u969c\u5bb3\u7269\u3092\u4f5c\u6210. let myBoxView = UIView ( frame : CGRect ( x : 0 , y : 0 , width : 50 , height : 40 )) myBoxView . backgroundColor = UIColor . blue myBoxView . layer . masksToBounds = true myBoxView . layer . position = CGPoint ( x : self . view . frame . midX - 50 , y : self . view . frame . midY ) self . view . addSubview ( myBoxView ) // DropButton\u3092\u4f5c\u6210. let myButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 50 )) myButton . layer . position = CGPoint ( x : self . view . frame . midX , y : 500 ) myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 20.0 myButton . setTitleColor ( UIColor . white , for : UIControl . State . normal ) myButton . setTitleColor ( UIColor . black , for : UIControl . State . highlighted ) myButton . backgroundColor = UIColor . red myButton . setTitle ( \"Dropped!\" , for : UIControl . State . normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : UIControl . Event . touchUpInside ) myButton . tag = 0 self . view . addSubview ( myButton ) // ResetButton\u3092\u4f5c\u6210. let myResetButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 50 )) myResetButton . layer . position = CGPoint ( x : self . view . frame . midX , y : 400 ) myResetButton . layer . masksToBounds = true myResetButton . layer . cornerRadius = 20.0 myResetButton . setTitleColor ( UIColor . white , for : UIControl . State . normal ) myResetButton . setTitleColor ( UIColor . black , for : UIControl . State . highlighted ) myResetButton . backgroundColor = UIColor . blue myResetButton . setTitle ( \"Reset!\" , for : UIControl . State . normal ) myResetButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : UIControl . Event . touchUpInside ) myResetButton . tag = 1 self . view . addSubview ( myResetButton ) // UIDynamiAnimator\u306e\u751f\u6210\u3068\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u4fdd\u5b58. animator = UIDynamicAnimator ( referenceView : self . view ) // \u91cd\u529b\u3092\u4f5c\u308a\u3001View\u306b\u9069\u7528\u3055\u305b\u308b. gravity = UIGravityBehavior ( items : [ myLabel ]) // Collision\u3092\u4f5c\u6210\u3001View\u306b\u9069\u7528\u3055\u305b\u308b. let collision = UICollisionBehavior ( items : [ myLabel , myBoxView ]) // Collision\u306e\u6319\u52d5\u3092\u6307\u5b9a. collision . addBoundary ( withIdentifier : \"barrier\" as NSCopying , for : UIBezierPath ( rect : myBoxView . frame )) // Collision\u306e\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u884c. animator . addBehavior ( collision ) } @objc func onClickMyButton ( sender : UIButton ){ switch ( sender . tag ) { // DropButton. case 0 : // Gravity\u306e\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u884c. animator . addBehavior ( gravity ) // ResetButton. case 1 : let next = ViewController () self . present ( next , animated : false , completion : nil ) default : print ( \"error!\" ) } } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 // // ViewController.swift // UIKit065 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { // UIDynamicAnimator\u306f\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u4fdd\u5b58\u3057\u306a\u3051\u308c\u3070\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u304c\u5b9f\u884c\u3055\u308c\u306a\u3044. var animator : UIDynamicAnimator ! var gravity : UIGravityBehavior ! override func viewDidLoad () { super . viewDidLoad () self . view . backgroundColor = UIColor . cyan // Label\u3092\u4f5c\u6210. let myLabel : UILabel = UILabel ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 40 )) myLabel . backgroundColor = UIColor . orange myLabel . layer . masksToBounds = true myLabel . layer . cornerRadius = 20.0 myLabel . text = \"Hello Swift!!\" myLabel . textColor = UIColor . white myLabel . shadowColor = UIColor . gray myLabel . textAlignment = NSTextAlignment . center myLabel . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : - 200 ) self . view . addSubview ( myLabel ) // \u969c\u5bb3\u7269\u3092\u4f5c\u6210. let myBoxView = UIView ( frame : CGRect ( x : 0 , y : 0 , width : 50 , height : 40 )) myBoxView . backgroundColor = UIColor . blue myBoxView . layer . masksToBounds = true myBoxView . layer . position = CGPoint ( x : self . view . frame . midX - 50 , y : self . view . frame . midY ) self . view . addSubview ( myBoxView ) // DropButton\u3092\u4f5c\u6210. let myButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 50 )) myButton . layer . position = CGPoint ( x : self . view . frame . midX , y : 500 ) myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 20.0 myButton . setTitleColor ( UIColor . white , for : UIControlState . normal ) myButton . setTitleColor ( UIColor . black , for : UIControlState . highlighted ) myButton . backgroundColor = UIColor . red myButton . setTitle ( \"Dropped!\" , for : UIControlState . normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : UIControlEvents . touchUpInside ) myButton . tag = 0 self . view . addSubview ( myButton ) // ResetButton\u3092\u4f5c\u6210. let myResetButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 50 )) myResetButton . layer . position = CGPoint ( x : self . view . frame . midX , y : 400 ) myResetButton . layer . masksToBounds = true myResetButton . layer . cornerRadius = 20.0 myResetButton . setTitleColor ( UIColor . white , for : UIControlState . normal ) myResetButton . setTitleColor ( UIColor . black , for : UIControlState . highlighted ) myResetButton . backgroundColor = UIColor . blue myResetButton . setTitle ( \"Reset!\" , for : UIControlState . normal ) myResetButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : UIControlEvents . touchUpInside ) myResetButton . tag = 1 self . view . addSubview ( myResetButton ) // UIDynamiAnimator\u306e\u751f\u6210\u3068\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u4fdd\u5b58. animator = UIDynamicAnimator ( referenceView : self . view ) // \u91cd\u529b\u3092\u4f5c\u308a\u3001View\u306b\u9069\u7528\u3055\u305b\u308b. gravity = UIGravityBehavior ( items : [ myLabel ]) // Collision\u3092\u4f5c\u6210\u3001View\u306b\u9069\u7528\u3055\u305b\u308b. let collision = UICollisionBehavior ( items : [ myLabel , myBoxView ]) // Collision\u306e\u6319\u52d5\u3092\u6307\u5b9a. collision . addBoundary ( withIdentifier : \"barrier\" , for : UIBezierPath ( rect : myBoxView . frame )) // Collision\u306e\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u884c. animator . addBehavior ( collision ) } func onClickMyButton ( sender : UIButton ){ switch ( sender . tag ) { // DropButton. case 0 : // Gravity\u306e\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u884c. animator . addBehavior ( gravity ) // ResetButton. case 1 : let next = ViewController () self . present ( next , animated : false , completion : nil ) default : print ( \"error!\" ) } } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 // // ViewController.swift // UIKit065 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { // UIDynamicAnimator\u306f\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u4fdd\u5b58\u3057\u306a\u3051\u308c\u3070\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u304c\u5b9f\u884c\u3055\u308c\u306a\u3044. var animator : UIDynamicAnimator ! var gravity : UIGravityBehavior ! override func viewDidLoad () { super . viewDidLoad () self . view . backgroundColor = UIColor . cyanColor () // Label\u3092\u4f5c\u6210. let myLabel : UILabel = UILabel ( frame : CGRectMake ( 0 , 0 , 200 , 40 )) myLabel . backgroundColor = UIColor . orangeColor () myLabel . layer . masksToBounds = true myLabel . layer . cornerRadius = 20.0 myLabel . text = \"Hello Swift!!\" myLabel . textColor = UIColor . whiteColor () myLabel . shadowColor = UIColor . grayColor () myLabel . textAlignment = NSTextAlignment . Center myLabel . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : - 200 ) self . view . addSubview ( myLabel ) // \u969c\u5bb3\u7269\u3092\u4f5c\u6210. let myBoxView = UIView ( frame : CGRectMake ( 0 , 0 , 50 , 40 )) myBoxView . backgroundColor = UIColor . blueColor () myBoxView . layer . masksToBounds = true myBoxView . layer . position = CGPointMake ( self . view . frame . midX - 50 , self . view . frame . midY ) self . view . addSubview ( myBoxView ) // DropButton\u3092\u4f5c\u6210. let myButton = UIButton ( frame : CGRectMake ( 0 , 0 , 200 , 50 )) myButton . layer . position = CGPointMake ( self . view . frame . midX , 500 ) myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 20.0 myButton . setTitleColor ( UIColor . whiteColor (), forState : UIControlState . Normal ) myButton . setTitleColor ( UIColor . blackColor (), forState : UIControlState . Highlighted ) myButton . backgroundColor = UIColor . redColor () myButton . setTitle ( \"Dropped!\" , forState : UIControlState . Normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : UIControlEvents . TouchUpInside ) myButton . tag = 0 self . view . addSubview ( myButton ) // ResetButton\u3092\u4f5c\u6210. let myResetButton = UIButton ( frame : CGRectMake ( 0 , 0 , 200 , 50 )) myResetButton . layer . position = CGPointMake ( self . view . frame . midX , 400 ) myResetButton . layer . masksToBounds = true myResetButton . layer . cornerRadius = 20.0 myResetButton . setTitleColor ( UIColor . whiteColor (), forState : UIControlState . Normal ) myResetButton . setTitleColor ( UIColor . blackColor (), forState : UIControlState . Highlighted ) myResetButton . backgroundColor = UIColor . blueColor () myResetButton . setTitle ( \"Reset!\" , forState : UIControlState . Normal ) myResetButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : UIControlEvents . TouchUpInside ) myResetButton . tag = 1 self . view . addSubview ( myResetButton ) // UIDynamiAnimator\u306e\u751f\u6210\u3068\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u4fdd\u5b58. animator = UIDynamicAnimator ( referenceView : self . view ) // \u91cd\u529b\u3092\u4f5c\u308a\u3001View\u306b\u9069\u7528\u3055\u305b\u308b. gravity = UIGravityBehavior ( items : [ myLabel ]) // Collision\u3092\u4f5c\u6210\u3001View\u306b\u9069\u7528\u3055\u305b\u308b. let collision = UICollisionBehavior ( items : [ myLabel , myBoxView ]) // Collision\u306e\u6319\u52d5\u3092\u6307\u5b9a. collision . addBoundaryWithIdentifier ( \"barrier\" , forPath : UIBezierPath ( rect : myBoxView . frame )) // Collision\u306e\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u884c. animator . addBehavior ( collision ) } func onClickMyButton ( sender : UIButton ){ switch ( sender . tag ) { // DropButton. case 0 : // Gravity\u306e\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u884c. animator . addBehavior ( gravity ) // ResetButton. case 1 : let next = ViewController () self . presentViewController ( next , animated : false , completion : nil ) default : print ( \"error!\" ) } } }","title":"UIWebView\u3067\u30d5\u30a1\u30a4\u30eb\u306e\u8868\u793a"},{"location":"1.uikit/065_collision/#3x4x","text":"UIControlState \u304c UIControl.Staten \u306b\u5909\u66f4 UIControlEvents \u304c UIControl.Event \u306b\u5909\u66f4 func onClickMyButton(sender : UIButton) \u306b @objc \u3092\u8ffd\u52a0 \"barrier\" \u3092 \"barrier\" as NSCopying \u306b\u5909\u66f4","title":"3.x\u30684.x\u306e\u5dee\u5206"},{"location":"1.uikit/065_collision/#2330","text":"CGRectMake, CGPointMake\u304c\u5ec3\u6b62","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"1.uikit/065_collision/#reference","text":"UIView https://developer.apple.com/reference/uikit/uiview UIGravityBehavior https://developer.apple.com/reference/uikit/uigravitybehavior UICollisionBehavior https://developer.apple.com/reference/uikit/uicollisionbehavior UIDynamicAnimator https://developer.apple.com/reference/uikit/UIDynamicAnimator","title":"Reference"},{"location":"1.uikit/066_uiview/","text":"UIView\u306b\u91cd\u529b\u3092\u9069\u7528\u3055\u305b\u308b Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 // // ViewController.swift // UIKit075 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { //UIDynamicAnimator\u306f\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u4fdd\u5b58\u3057\u306a\u3051\u308c\u3070\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u304c\u5b9f\u884c\u3055\u308c\u306a\u3044 var animator : UIDynamicAnimator ! var gravity : UIGravityBehavior ! override func viewDidLoad () { super . viewDidLoad () self . view . backgroundColor = UIColor . cyan // Label\u3092\u4f5c\u6210. let myLabel : UILabel = UILabel ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 40 )) myLabel . backgroundColor = UIColor . orange myLabel . layer . masksToBounds = true myLabel . layer . cornerRadius = 20.0 myLabel . text = \"Hello Swift!!\" myLabel . textColor = UIColor . white myLabel . shadowColor = UIColor . gray myLabel . textAlignment = NSTextAlignment . center myLabel . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : - 200 ) self . view . addSubview ( myLabel ) // Button\u3092\u4f5c\u6210. let myButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 50 )) myButton . layer . position = CGPoint ( x : self . view . frame . midX , y : 500 ) myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 20.0 myButton . setTitleColor ( UIColor . white , for : UIControl . State . normal ) myButton . setTitleColor ( UIColor . black , for : UIControl . State . highlighted ) myButton . backgroundColor = UIColor . red myButton . setTitle ( \"Dropped!\" , for : UIControl . State . normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : UIControl . Event . touchUpInside ) self . view . addSubview ( myButton ) // UIDynamiAnimator\u306e\u751f\u6210\u3068\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u4fdd\u5b58. animator = UIDynamicAnimator ( referenceView : self . view ) // \u91cd\u91cf\u3092\u4f5c\u308a\u3001View\u306b\u9069\u7528\u3055\u305b\u308b. gravity = UIGravityBehavior ( items : [ myLabel ]) // Collision\u3092\u4f5c\u6210\u3001View\u306b\u9069\u7528\u3055\u305b\u308b. let collision = UICollisionBehavior ( items : [ myLabel ]) // \u900f\u660e\u306a\u56db\u89d2\u5f62\u306e\u5f53\u305f\u308a\u5224\u5b9a\u3092\u4f5c\u308b. collision . addBoundary ( // Identifier. withIdentifier : \"barrier\" as NSCopying , // \u30d9\u30b8\u30a8\u3067\u56db\u89d2\u5f62\u306e\u56f3\u5f62\u3092\u4f5c\u308b. for : UIBezierPath ( rect : CGRect ( x : self . view . frame . midX , y : self . view . frame . midY , width : self . view . frame . maxX , height : 10 ) ) ) // Collision\u306e\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u884c. animator . addBehavior ( collision ) } @objc func onClickMyButton ( sender : UIButton ){ // Gravity\u306e\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u884c. animator . addBehavior ( gravity ) } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 // // ViewController.swift // UIKit075 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { //UIDynamicAnimator\u306f\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u4fdd\u5b58\u3057\u306a\u3051\u308c\u3070\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u304c\u5b9f\u884c\u3055\u308c\u306a\u3044 var animator : UIDynamicAnimator ! var gravity : UIGravityBehavior ! override func viewDidLoad () { super . viewDidLoad () self . view . backgroundColor = UIColor . cyan // Label\u3092\u4f5c\u6210. let myLabel : UILabel = UILabel ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 40 )) myLabel . backgroundColor = UIColor . orange myLabel . layer . masksToBounds = true myLabel . layer . cornerRadius = 20.0 myLabel . text = \"Hello Swift!!\" myLabel . textColor = UIColor . white myLabel . shadowColor = UIColor . gray myLabel . textAlignment = NSTextAlignment . center myLabel . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : - 200 ) self . view . addSubview ( myLabel ) // Button\u3092\u4f5c\u6210. let myButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 50 )) myButton . layer . position = CGPoint ( x : self . view . frame . midX , y : 500 ) myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 20.0 myButton . setTitleColor ( UIColor . white , for : UIControlState . normal ) myButton . setTitleColor ( UIColor . black , for : UIControlState . highlighted ) myButton . backgroundColor = UIColor . red myButton . setTitle ( \"Dropped!\" , for : UIControlState . normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : UIControlEvents . touchUpInside ) self . view . addSubview ( myButton ) // UIDynamiAnimator\u306e\u751f\u6210\u3068\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u4fdd\u5b58. animator = UIDynamicAnimator ( referenceView : self . view ) // \u91cd\u91cf\u3092\u4f5c\u308a\u3001View\u306b\u9069\u7528\u3055\u305b\u308b. gravity = UIGravityBehavior ( items : [ myLabel ]) // Collision\u3092\u4f5c\u6210\u3001View\u306b\u9069\u7528\u3055\u305b\u308b. let collision = UICollisionBehavior ( items : [ myLabel ]) // \u900f\u660e\u306a\u56db\u89d2\u5f62\u306e\u5f53\u305f\u308a\u5224\u5b9a\u3092\u4f5c\u308b. collision . addBoundary ( // Identifier. withIdentifier : \"barrier\" , // \u30d9\u30b8\u30a8\u3067\u56db\u89d2\u5f62\u306e\u56f3\u5f62\u3092\u4f5c\u308b. for : UIBezierPath ( rect : CGRect ( x : self . view . frame . midX , y : self . view . frame . midY , width : self . view . frame . maxX , height : 10 ) ) ) // Collision\u306e\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u884c. animator . addBehavior ( collision ) } func onClickMyButton ( sender : UIButton ){ // Gravity\u306e\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u884c. animator . addBehavior ( gravity ) } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 // // ViewController.swift // UIKit075 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { //UIDynamicAnimator\u306f\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u4fdd\u5b58\u3057\u306a\u3051\u308c\u3070\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u304c\u5b9f\u884c\u3055\u308c\u306a\u3044 var animator : UIDynamicAnimator ! var gravity : UIGravityBehavior ! override func viewDidLoad () { super . viewDidLoad () self . view . backgroundColor = UIColor . cyanColor () // Label\u3092\u4f5c\u6210. let myLabel : UILabel = UILabel ( frame : CGRectMake ( 0 , 0 , 200 , 40 )) myLabel . backgroundColor = UIColor . orangeColor () myLabel . layer . masksToBounds = true myLabel . layer . cornerRadius = 20.0 myLabel . text = \"Hello Swift!!\" myLabel . textColor = UIColor . whiteColor () myLabel . shadowColor = UIColor . grayColor () myLabel . textAlignment = NSTextAlignment . Center myLabel . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : - 200 ) self . view . addSubview ( myLabel ) // Button\u3092\u4f5c\u6210. let myButton = UIButton ( frame : CGRectMake ( 0 , 0 , 200 , 50 )) myButton . layer . position = CGPointMake ( self . view . frame . midX , 500 ) myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 20.0 myButton . setTitleColor ( UIColor . whiteColor (), forState : UIControlState . Normal ) myButton . setTitleColor ( UIColor . blackColor (), forState : UIControlState . Highlighted ) myButton . backgroundColor = UIColor . redColor () myButton . setTitle ( \"Dropped!\" , forState : UIControlState . Normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : UIControlEvents . TouchUpInside ) self . view . addSubview ( myButton ) // UIDynamiAnimator\u306e\u751f\u6210\u3068\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u4fdd\u5b58. animator = UIDynamicAnimator ( referenceView : self . view ) // \u91cd\u91cf\u3092\u4f5c\u308a\u3001View\u306b\u9069\u7528\u3055\u305b\u308b. gravity = UIGravityBehavior ( items : [ myLabel ]) // Collision\u3092\u4f5c\u6210\u3001View\u306b\u9069\u7528\u3055\u305b\u308b. let collision = UICollisionBehavior ( items : [ myLabel ]) // \u900f\u660e\u306a\u56db\u89d2\u5f62\u306e\u5f53\u305f\u308a\u5224\u5b9a\u3092\u4f5c\u308b. collision . addBoundaryWithIdentifier ( // Identifier. \"barrier\" , // \u30d9\u30b8\u30a8\u3067\u56db\u89d2\u5f62\u306e\u56f3\u5f62\u3092\u4f5c\u308b. forPath : UIBezierPath ( rect : CGRectMake ( self . view . frame . midX , self . view . frame . midY , self . view . frame . maxX , 10 ) ) ) // Collision\u306e\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u884c. animator . addBehavior ( collision ) } func onClickMyButton ( sender : UIButton ){ // Gravity\u306e\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u884c. animator . addBehavior ( gravity ) } } 3.x\u30684.x\u306e\u5dee\u5206 UIControlState \u3092 UIControl.State \u306b\u5909\u66f4 UIControlEvents \u3092 UIControl.Event \u306b\u5909\u66f4 \"barrier\" \u3092 \"barrier\" as NSCopying \u306b\u5909\u66f4 func onClickMyButton(sender : UIButton) \u306b @objc \u3092\u8ffd\u52a0 2.3\u30683.0\u306e\u5dee\u5206 addBoundaryWithIdentifier \u304b\u3089 addBoundary \u306b\u5909\u66f4 Reference UIDynamicAnimator https://developer.apple.com/reference/uikit/uidynamicanimator UIGravityBehavior https://developer.apple.com/reference/uikit/uigravitybehavior UICollisionBehavior https://developer.apple.com/reference/uikit/uicollisionbehavior UIBezierPath https://developer.apple.com/reference/uikit/uibezierpath","title":"UIView\u306b\u91cd\u529b\u3092\u9069\u7528\u3055\u305b\u308b"},{"location":"1.uikit/066_uiview/#uiview","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 // // ViewController.swift // UIKit075 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { //UIDynamicAnimator\u306f\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u4fdd\u5b58\u3057\u306a\u3051\u308c\u3070\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u304c\u5b9f\u884c\u3055\u308c\u306a\u3044 var animator : UIDynamicAnimator ! var gravity : UIGravityBehavior ! override func viewDidLoad () { super . viewDidLoad () self . view . backgroundColor = UIColor . cyan // Label\u3092\u4f5c\u6210. let myLabel : UILabel = UILabel ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 40 )) myLabel . backgroundColor = UIColor . orange myLabel . layer . masksToBounds = true myLabel . layer . cornerRadius = 20.0 myLabel . text = \"Hello Swift!!\" myLabel . textColor = UIColor . white myLabel . shadowColor = UIColor . gray myLabel . textAlignment = NSTextAlignment . center myLabel . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : - 200 ) self . view . addSubview ( myLabel ) // Button\u3092\u4f5c\u6210. let myButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 50 )) myButton . layer . position = CGPoint ( x : self . view . frame . midX , y : 500 ) myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 20.0 myButton . setTitleColor ( UIColor . white , for : UIControl . State . normal ) myButton . setTitleColor ( UIColor . black , for : UIControl . State . highlighted ) myButton . backgroundColor = UIColor . red myButton . setTitle ( \"Dropped!\" , for : UIControl . State . normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : UIControl . Event . touchUpInside ) self . view . addSubview ( myButton ) // UIDynamiAnimator\u306e\u751f\u6210\u3068\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u4fdd\u5b58. animator = UIDynamicAnimator ( referenceView : self . view ) // \u91cd\u91cf\u3092\u4f5c\u308a\u3001View\u306b\u9069\u7528\u3055\u305b\u308b. gravity = UIGravityBehavior ( items : [ myLabel ]) // Collision\u3092\u4f5c\u6210\u3001View\u306b\u9069\u7528\u3055\u305b\u308b. let collision = UICollisionBehavior ( items : [ myLabel ]) // \u900f\u660e\u306a\u56db\u89d2\u5f62\u306e\u5f53\u305f\u308a\u5224\u5b9a\u3092\u4f5c\u308b. collision . addBoundary ( // Identifier. withIdentifier : \"barrier\" as NSCopying , // \u30d9\u30b8\u30a8\u3067\u56db\u89d2\u5f62\u306e\u56f3\u5f62\u3092\u4f5c\u308b. for : UIBezierPath ( rect : CGRect ( x : self . view . frame . midX , y : self . view . frame . midY , width : self . view . frame . maxX , height : 10 ) ) ) // Collision\u306e\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u884c. animator . addBehavior ( collision ) } @objc func onClickMyButton ( sender : UIButton ){ // Gravity\u306e\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u884c. animator . addBehavior ( gravity ) } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 // // ViewController.swift // UIKit075 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { //UIDynamicAnimator\u306f\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u4fdd\u5b58\u3057\u306a\u3051\u308c\u3070\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u304c\u5b9f\u884c\u3055\u308c\u306a\u3044 var animator : UIDynamicAnimator ! var gravity : UIGravityBehavior ! override func viewDidLoad () { super . viewDidLoad () self . view . backgroundColor = UIColor . cyan // Label\u3092\u4f5c\u6210. let myLabel : UILabel = UILabel ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 40 )) myLabel . backgroundColor = UIColor . orange myLabel . layer . masksToBounds = true myLabel . layer . cornerRadius = 20.0 myLabel . text = \"Hello Swift!!\" myLabel . textColor = UIColor . white myLabel . shadowColor = UIColor . gray myLabel . textAlignment = NSTextAlignment . center myLabel . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : - 200 ) self . view . addSubview ( myLabel ) // Button\u3092\u4f5c\u6210. let myButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 50 )) myButton . layer . position = CGPoint ( x : self . view . frame . midX , y : 500 ) myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 20.0 myButton . setTitleColor ( UIColor . white , for : UIControlState . normal ) myButton . setTitleColor ( UIColor . black , for : UIControlState . highlighted ) myButton . backgroundColor = UIColor . red myButton . setTitle ( \"Dropped!\" , for : UIControlState . normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : UIControlEvents . touchUpInside ) self . view . addSubview ( myButton ) // UIDynamiAnimator\u306e\u751f\u6210\u3068\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u4fdd\u5b58. animator = UIDynamicAnimator ( referenceView : self . view ) // \u91cd\u91cf\u3092\u4f5c\u308a\u3001View\u306b\u9069\u7528\u3055\u305b\u308b. gravity = UIGravityBehavior ( items : [ myLabel ]) // Collision\u3092\u4f5c\u6210\u3001View\u306b\u9069\u7528\u3055\u305b\u308b. let collision = UICollisionBehavior ( items : [ myLabel ]) // \u900f\u660e\u306a\u56db\u89d2\u5f62\u306e\u5f53\u305f\u308a\u5224\u5b9a\u3092\u4f5c\u308b. collision . addBoundary ( // Identifier. withIdentifier : \"barrier\" , // \u30d9\u30b8\u30a8\u3067\u56db\u89d2\u5f62\u306e\u56f3\u5f62\u3092\u4f5c\u308b. for : UIBezierPath ( rect : CGRect ( x : self . view . frame . midX , y : self . view . frame . midY , width : self . view . frame . maxX , height : 10 ) ) ) // Collision\u306e\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u884c. animator . addBehavior ( collision ) } func onClickMyButton ( sender : UIButton ){ // Gravity\u306e\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u884c. animator . addBehavior ( gravity ) } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 // // ViewController.swift // UIKit075 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { //UIDynamicAnimator\u306f\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u4fdd\u5b58\u3057\u306a\u3051\u308c\u3070\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u304c\u5b9f\u884c\u3055\u308c\u306a\u3044 var animator : UIDynamicAnimator ! var gravity : UIGravityBehavior ! override func viewDidLoad () { super . viewDidLoad () self . view . backgroundColor = UIColor . cyanColor () // Label\u3092\u4f5c\u6210. let myLabel : UILabel = UILabel ( frame : CGRectMake ( 0 , 0 , 200 , 40 )) myLabel . backgroundColor = UIColor . orangeColor () myLabel . layer . masksToBounds = true myLabel . layer . cornerRadius = 20.0 myLabel . text = \"Hello Swift!!\" myLabel . textColor = UIColor . whiteColor () myLabel . shadowColor = UIColor . grayColor () myLabel . textAlignment = NSTextAlignment . Center myLabel . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : - 200 ) self . view . addSubview ( myLabel ) // Button\u3092\u4f5c\u6210. let myButton = UIButton ( frame : CGRectMake ( 0 , 0 , 200 , 50 )) myButton . layer . position = CGPointMake ( self . view . frame . midX , 500 ) myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 20.0 myButton . setTitleColor ( UIColor . whiteColor (), forState : UIControlState . Normal ) myButton . setTitleColor ( UIColor . blackColor (), forState : UIControlState . Highlighted ) myButton . backgroundColor = UIColor . redColor () myButton . setTitle ( \"Dropped!\" , forState : UIControlState . Normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : UIControlEvents . TouchUpInside ) self . view . addSubview ( myButton ) // UIDynamiAnimator\u306e\u751f\u6210\u3068\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u4fdd\u5b58. animator = UIDynamicAnimator ( referenceView : self . view ) // \u91cd\u91cf\u3092\u4f5c\u308a\u3001View\u306b\u9069\u7528\u3055\u305b\u308b. gravity = UIGravityBehavior ( items : [ myLabel ]) // Collision\u3092\u4f5c\u6210\u3001View\u306b\u9069\u7528\u3055\u305b\u308b. let collision = UICollisionBehavior ( items : [ myLabel ]) // \u900f\u660e\u306a\u56db\u89d2\u5f62\u306e\u5f53\u305f\u308a\u5224\u5b9a\u3092\u4f5c\u308b. collision . addBoundaryWithIdentifier ( // Identifier. \"barrier\" , // \u30d9\u30b8\u30a8\u3067\u56db\u89d2\u5f62\u306e\u56f3\u5f62\u3092\u4f5c\u308b. forPath : UIBezierPath ( rect : CGRectMake ( self . view . frame . midX , self . view . frame . midY , self . view . frame . maxX , 10 ) ) ) // Collision\u306e\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u884c. animator . addBehavior ( collision ) } func onClickMyButton ( sender : UIButton ){ // Gravity\u306e\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u884c. animator . addBehavior ( gravity ) } }","title":"UIView\u306b\u91cd\u529b\u3092\u9069\u7528\u3055\u305b\u308b"},{"location":"1.uikit/066_uiview/#3x4x","text":"UIControlState \u3092 UIControl.State \u306b\u5909\u66f4 UIControlEvents \u3092 UIControl.Event \u306b\u5909\u66f4 \"barrier\" \u3092 \"barrier\" as NSCopying \u306b\u5909\u66f4 func onClickMyButton(sender : UIButton) \u306b @objc \u3092\u8ffd\u52a0","title":"3.x\u30684.x\u306e\u5dee\u5206"},{"location":"1.uikit/066_uiview/#2330","text":"addBoundaryWithIdentifier \u304b\u3089 addBoundary \u306b\u5909\u66f4","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"1.uikit/066_uiview/#reference","text":"UIDynamicAnimator https://developer.apple.com/reference/uikit/uidynamicanimator UIGravityBehavior https://developer.apple.com/reference/uikit/uigravitybehavior UICollisionBehavior https://developer.apple.com/reference/uikit/uicollisionbehavior UIBezierPath https://developer.apple.com/reference/uikit/uibezierpath","title":"Reference"},{"location":"1.uikit/067_uiview/","text":"UIView\u3092\u30b9\u30ca\u30c3\u30d7\u3055\u305b\u308b Swift 4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 // // ViewController.swift // UIKit067 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { // UIDynamicAnimator\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u4fdd\u5b58\u3057\u306a\u3051\u308c\u3070\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u304c\u5b9f\u884c\u3055\u308c\u306a\u3044. var animator : UIDynamicAnimator ! var myLabel : UILabel ! override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u3092\u6c34\u8272\u306b\u8a2d\u5b9a. self . view . backgroundColor = UIColor . cyan // Label\u3092\u4f5c\u6210. myLabel = UILabel ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 50 )) myLabel . backgroundColor = UIColor . orange myLabel . layer . masksToBounds = true myLabel . layer . cornerRadius = 20.0 myLabel . text = \"Hello Swift!!\" myLabel . textColor = UIColor . white myLabel . shadowColor = UIColor . gray myLabel . textAlignment = NSTextAlignment . center myLabel . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 200 ) self . view . backgroundColor = UIColor . cyan self . view . addSubview ( myLabel ) // UIDynamiAnimator\u306e\u751f\u6210\u3068\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u4fdd\u5b58. animator = UIDynamicAnimator ( referenceView : self . view ) } /* \u30bf\u30c3\u30d7\u3092\u611f\u77e5\u3057\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ override func touchesBegan ( _ touches : Set < UITouch >, with event : UIEvent ?) { for touch : AnyObject in touches { // \u30bf\u30c3\u30c1\u3055\u308c\u305f\u5ea7\u6a19\u3092\u53d6\u5f97. let location = touch . location ( in : self . view ) // animator\u306b\u767b\u9332\u3055\u308c\u3066\u3044\u305fBahavior\u3092\u5168\u3066\u524a\u9664. animator . removeAllBehaviors () // UIView\u3092\u30b9\u30ca\u30c3\u30d7\u3055\u305b\u308bUISnapBehavior\u3092\u751f\u6210. let snap = UISnapBehavior ( item : myLabel , snapTo : location ) // \u30b9\u30ca\u30c3\u30d7\u3092\u9069\u7528\u3055\u305b\u308b. animator . addBehavior ( snap ) } } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 // // ViewController.swift // UIKit067 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { // UIDynamicAnimator\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u4fdd\u5b58\u3057\u306a\u3051\u308c\u3070\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u304c\u5b9f\u884c\u3055\u308c\u306a\u3044. var animator : UIDynamicAnimator ! var myLabel : UILabel ! override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u3092\u6c34\u8272\u306b\u8a2d\u5b9a. self . view . backgroundColor = UIColor . cyanColor () // Label\u3092\u4f5c\u6210. myLabel = UILabel ( frame : CGRectMake ( 0 , 0 , 200 , 50 )) myLabel . backgroundColor = UIColor . orangeColor () myLabel . layer . masksToBounds = true myLabel . layer . cornerRadius = 20.0 myLabel . text = \"Hello Swift!!\" myLabel . textColor = UIColor . whiteColor () myLabel . shadowColor = UIColor . grayColor () myLabel . textAlignment = NSTextAlignment . Center myLabel . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 200 ) self . view . backgroundColor = UIColor . cyanColor () self . view . addSubview ( myLabel ) // UIDynamiAnimator\u306e\u751f\u6210\u3068\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u4fdd\u5b58. animator = UIDynamicAnimator ( referenceView : self . view ) } /* \u30bf\u30c3\u30d7\u3092\u611f\u77e5\u3057\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ override func touchesBegan ( touches : Set < UITouch >, withEvent event : UIEvent ?) { for touch : AnyObject in touches { // \u30bf\u30c3\u30c1\u3055\u308c\u305f\u5ea7\u6a19\u3092\u53d6\u5f97. let location = touch . locationInView ( self . view ) // animator\u306b\u767b\u9332\u3055\u308c\u3066\u3044\u305fBahavior\u3092\u5168\u3066\u524a\u9664. animator . removeAllBehaviors () // UIView\u3092\u30b9\u30ca\u30c3\u30d7\u3055\u305b\u308bUISnapBehavior\u3092\u751f\u6210. let snap = UISnapBehavior ( item : myLabel , snapToPoint : location ) // \u30b9\u30ca\u30c3\u30d7\u3092\u9069\u7528\u3055\u305b\u308b. animator . addBehavior ( snap ) } } } 2.3\u30683.0\u306e\u5dee\u5206 touch.locationInView(self.view) \u304b\u3089 touch.location(in: self.view) \u306b\u5909\u66f4 UISnapBehavior(item: myLabel, snapToPoint: location) \u304b\u3089 UISnapBehavior(item: myLabel, snapTo: location) \u306b\u5909\u66f4 Reference UIDynamicAnimator https://developer.apple.com/reference/uikit/uidynamianimator UISnapBehavior https://developer.apple.com/reference/uikit/uisnapbehavior UIView https://developer.apple.com/reference/uikit/uipushbehavioe","title":"UIView\u3092\u30b9\u30ca\u30c3\u30d7\u3055\u305b\u308b"},{"location":"1.uikit/067_uiview/#uiview","text":"Swift 4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 // // ViewController.swift // UIKit067 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { // UIDynamicAnimator\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u4fdd\u5b58\u3057\u306a\u3051\u308c\u3070\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u304c\u5b9f\u884c\u3055\u308c\u306a\u3044. var animator : UIDynamicAnimator ! var myLabel : UILabel ! override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u3092\u6c34\u8272\u306b\u8a2d\u5b9a. self . view . backgroundColor = UIColor . cyan // Label\u3092\u4f5c\u6210. myLabel = UILabel ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 50 )) myLabel . backgroundColor = UIColor . orange myLabel . layer . masksToBounds = true myLabel . layer . cornerRadius = 20.0 myLabel . text = \"Hello Swift!!\" myLabel . textColor = UIColor . white myLabel . shadowColor = UIColor . gray myLabel . textAlignment = NSTextAlignment . center myLabel . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 200 ) self . view . backgroundColor = UIColor . cyan self . view . addSubview ( myLabel ) // UIDynamiAnimator\u306e\u751f\u6210\u3068\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u4fdd\u5b58. animator = UIDynamicAnimator ( referenceView : self . view ) } /* \u30bf\u30c3\u30d7\u3092\u611f\u77e5\u3057\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ override func touchesBegan ( _ touches : Set < UITouch >, with event : UIEvent ?) { for touch : AnyObject in touches { // \u30bf\u30c3\u30c1\u3055\u308c\u305f\u5ea7\u6a19\u3092\u53d6\u5f97. let location = touch . location ( in : self . view ) // animator\u306b\u767b\u9332\u3055\u308c\u3066\u3044\u305fBahavior\u3092\u5168\u3066\u524a\u9664. animator . removeAllBehaviors () // UIView\u3092\u30b9\u30ca\u30c3\u30d7\u3055\u305b\u308bUISnapBehavior\u3092\u751f\u6210. let snap = UISnapBehavior ( item : myLabel , snapTo : location ) // \u30b9\u30ca\u30c3\u30d7\u3092\u9069\u7528\u3055\u305b\u308b. animator . addBehavior ( snap ) } } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 // // ViewController.swift // UIKit067 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { // UIDynamicAnimator\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u4fdd\u5b58\u3057\u306a\u3051\u308c\u3070\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u304c\u5b9f\u884c\u3055\u308c\u306a\u3044. var animator : UIDynamicAnimator ! var myLabel : UILabel ! override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u3092\u6c34\u8272\u306b\u8a2d\u5b9a. self . view . backgroundColor = UIColor . cyanColor () // Label\u3092\u4f5c\u6210. myLabel = UILabel ( frame : CGRectMake ( 0 , 0 , 200 , 50 )) myLabel . backgroundColor = UIColor . orangeColor () myLabel . layer . masksToBounds = true myLabel . layer . cornerRadius = 20.0 myLabel . text = \"Hello Swift!!\" myLabel . textColor = UIColor . whiteColor () myLabel . shadowColor = UIColor . grayColor () myLabel . textAlignment = NSTextAlignment . Center myLabel . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 200 ) self . view . backgroundColor = UIColor . cyanColor () self . view . addSubview ( myLabel ) // UIDynamiAnimator\u306e\u751f\u6210\u3068\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u4fdd\u5b58. animator = UIDynamicAnimator ( referenceView : self . view ) } /* \u30bf\u30c3\u30d7\u3092\u611f\u77e5\u3057\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ override func touchesBegan ( touches : Set < UITouch >, withEvent event : UIEvent ?) { for touch : AnyObject in touches { // \u30bf\u30c3\u30c1\u3055\u308c\u305f\u5ea7\u6a19\u3092\u53d6\u5f97. let location = touch . locationInView ( self . view ) // animator\u306b\u767b\u9332\u3055\u308c\u3066\u3044\u305fBahavior\u3092\u5168\u3066\u524a\u9664. animator . removeAllBehaviors () // UIView\u3092\u30b9\u30ca\u30c3\u30d7\u3055\u305b\u308bUISnapBehavior\u3092\u751f\u6210. let snap = UISnapBehavior ( item : myLabel , snapToPoint : location ) // \u30b9\u30ca\u30c3\u30d7\u3092\u9069\u7528\u3055\u305b\u308b. animator . addBehavior ( snap ) } } }","title":"UIView\u3092\u30b9\u30ca\u30c3\u30d7\u3055\u305b\u308b"},{"location":"1.uikit/067_uiview/#2330","text":"touch.locationInView(self.view) \u304b\u3089 touch.location(in: self.view) \u306b\u5909\u66f4 UISnapBehavior(item: myLabel, snapToPoint: location) \u304b\u3089 UISnapBehavior(item: myLabel, snapTo: location) \u306b\u5909\u66f4","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"1.uikit/067_uiview/#reference","text":"UIDynamicAnimator https://developer.apple.com/reference/uikit/uidynamianimator UISnapBehavior https://developer.apple.com/reference/uikit/uisnapbehavior UIView https://developer.apple.com/reference/uikit/uipushbehavioe","title":"Reference"},{"location":"1.uikit/068_uiview/","text":"UIView\u3092\u52d5\u7684\u306b\u52d5\u304b\u3059 Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 // // ViewController.swift // UIKit068 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { // UIDynamicAnimator\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u4fdd\u5b58\u3057\u306a\u3051\u308c\u3070\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u304c\u5b9f\u884c\u3055\u308c\u306a\u3044. var animator : UIDynamicAnimator ! var continuousPush : UIPushBehavior ! var instantaneousPush : UIPushBehavior ! override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u3092\u6c34\u8272\u306b\u8a2d\u5b9a. self . view . backgroundColor = UIColor . cyan // ContinuousButton\u3092\u4f5c\u6210. let myButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 50 )) myButton . layer . position = CGPoint ( x : self . view . center . x , y : self . view . bounds . maxY - myButton . bounds . midY ) myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 20.0 myButton . setTitleColor ( UIColor . white , for : UIControl . State . normal ) myButton . setTitleColor ( UIColor . black , for : UIControl . State . highlighted ) myButton . backgroundColor = UIColor . red myButton . setTitle ( \"Continuous!!\" , for : UIControl . State . normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : UIControl . Event . touchUpInside ) myButton . tag = 1 self . view . addSubview ( myButton ) // InstaneousButton\u3092\u4f5c\u6210. let myButton2 = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 50 )) myButton2 . layer . position = CGPoint ( x : self . view . center . x , y : self . view . bounds . minY + myButton . bounds . midY ) myButton2 . layer . masksToBounds = true myButton2 . layer . cornerRadius = 20.0 myButton2 . setTitleColor ( UIColor . white , for : UIControl . State . normal ) myButton2 . setTitleColor ( UIColor . black , for : UIControl . State . highlighted ) myButton2 . backgroundColor = UIColor . red myButton2 . setTitle ( \"Instantaneous!!\" , for : UIControl . State . normal ) myButton2 . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : UIControl . Event . touchUpInside ) myButton2 . tag = 2 self . view . addSubview ( myButton2 ) // UIDynamiAnimator\u306e\u751f\u6210\u3068\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u4fdd\u5b58. animator = UIDynamicAnimator ( referenceView : self . view ) // UIView\u3092\u7b49\u52a0\u901f\u5ea6\u904b\u52d5\u3067\u52d5\u304b\u3059UIPushBehavior\u3092\u751f\u6210. continuousPush = UIPushBehavior ( items : [ myButton ], mode : UIPushBehavior . Mode . continuous ) continuousPush . pushDirection = CGVector ( dx : 0.0 , dy : - 1.0 ) // UIView\u3092\u7b49\u901f\u904b\u52d5\u3067\u52d5\u304b\u3059UIPushBehavior\u3092\u751f\u6210. instantaneousPush = UIPushBehavior ( items : [ myButton2 ], mode : UIPushBehavior . Mode . instantaneous ) instantaneousPush . pushDirection = CGVector ( dx : 0.0 , dy : 1.0 ) } /* Button\u304c\u62bc\u3055\u308c\u305f\u3068\u304d\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ @objc func onClickMyButton ( sender : UIButton ){ switch ( sender . tag ){ case 1 : animator . addBehavior ( continuousPush ) case 2 : animator . addBehavior ( instantaneousPush ) default : print ( \"Error\" ) } } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 // // ViewController.swift // UIKit068 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { // UIDynamicAnimator\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u4fdd\u5b58\u3057\u306a\u3051\u308c\u3070\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u304c\u5b9f\u884c\u3055\u308c\u306a\u3044. var animator : UIDynamicAnimator ! var continuousPush : UIPushBehavior ! var instantaneousPush : UIPushBehavior ! override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u3092\u6c34\u8272\u306b\u8a2d\u5b9a. self . view . backgroundColor = UIColor . cyan // ContinuousButton\u3092\u4f5c\u6210. let myButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 50 )) myButton . layer . position = CGPoint ( x : self . view . center . x , y : self . view . bounds . maxY - myButton . bounds . midY ) myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 20.0 myButton . setTitleColor ( UIColor . white , for : UIControlState . normal ) myButton . setTitleColor ( UIColor . black , for : UIControlState . highlighted ) myButton . backgroundColor = UIColor . red myButton . setTitle ( \"Continuous!!\" , for : UIControlState . normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : UIControlEvents . touchUpInside ) myButton . tag = 1 self . view . addSubview ( myButton ) // InstaneousButton\u3092\u4f5c\u6210. let myButton2 = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 50 )) myButton2 . layer . position = CGPoint ( x : self . view . center . x , y : self . view . bounds . minY + myButton . bounds . midY ) myButton2 . layer . masksToBounds = true myButton2 . layer . cornerRadius = 20.0 myButton2 . setTitleColor ( UIColor . white , for : UIControlState . normal ) myButton2 . setTitleColor ( UIColor . black , for : UIControlState . highlighted ) myButton2 . backgroundColor = UIColor . red myButton2 . setTitle ( \"Instantaneous!!\" , for : UIControlState . normal ) myButton2 . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : UIControlEvents . touchUpInside ) myButton2 . tag = 2 self . view . addSubview ( myButton2 ) // UIDynamiAnimator\u306e\u751f\u6210\u3068\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u4fdd\u5b58. animator = UIDynamicAnimator ( referenceView : self . view ) // UIView\u3092\u7b49\u52a0\u901f\u5ea6\u904b\u52d5\u3067\u52d5\u304b\u3059UIPushBehavior\u3092\u751f\u6210. continuousPush = UIPushBehavior ( items : [ myButton ], mode : UIPushBehaviorMode . continuous ) continuousPush . pushDirection = CGVector ( dx : 0.0 , dy : - 1.0 ) // UIView\u3092\u7b49\u901f\u904b\u52d5\u3067\u52d5\u304b\u3059UIPushBehavior\u3092\u751f\u6210. instantaneousPush = UIPushBehavior ( items : [ myButton2 ], mode : UIPushBehaviorMode . instantaneous ) instantaneousPush . pushDirection = CGVector ( dx : 0.0 , dy : 1.0 ) } /* Button\u304c\u62bc\u3055\u308c\u305f\u3068\u304d\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func onClickMyButton ( sender : UIButton ){ switch ( sender . tag ){ case 1 : animator . addBehavior ( continuousPush ) case 2 : animator . addBehavior ( instantaneousPush ) default : print ( \"Error\" ) } } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 // // ViewController.swift // UIKit068 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { // UIDynamicAnimator\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u4fdd\u5b58\u3057\u306a\u3051\u308c\u3070\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u304c\u5b9f\u884c\u3055\u308c\u306a\u3044. var animator : UIDynamicAnimator ! var continuousPush : UIPushBehavior ! var instantaneousPush : UIPushBehavior ! override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u3092\u6c34\u8272\u306b\u8a2d\u5b9a. self . view . backgroundColor = UIColor . cyanColor () // ContinuousButton\u3092\u4f5c\u6210. let myButton = UIButton ( frame : CGRectMake ( 0 , 0 , 200 , 50 )) myButton . layer . position = CGPointMake ( self . view . center . x , self . view . bounds . maxY - myButton . bounds . midY ) myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 20.0 myButton . setTitleColor ( UIColor . whiteColor (), forState : UIControlState . Normal ) myButton . setTitleColor ( UIColor . blackColor (), forState : UIControlState . Highlighted ) myButton . backgroundColor = UIColor . redColor () myButton . setTitle ( \"Continuous!!\" , forState : UIControlState . Normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : UIControlEvents . TouchUpInside ) myButton . tag = 1 self . view . addSubview ( myButton ) // InstaneousButton\u3092\u4f5c\u6210. let myButton2 = UIButton ( frame : CGRectMake ( 0 , 0 , 200 , 50 )) myButton2 . layer . position = CGPointMake ( self . view . center . x , self . view . bounds . minY + myButton . bounds . midY ) myButton2 . layer . masksToBounds = true myButton2 . layer . cornerRadius = 20.0 myButton2 . setTitleColor ( UIColor . whiteColor (), forState : UIControlState . Normal ) myButton2 . setTitleColor ( UIColor . blackColor (), forState : UIControlState . Highlighted ) myButton2 . backgroundColor = UIColor . redColor () myButton2 . setTitle ( \"Instantaneous!!\" , forState : UIControlState . Normal ) myButton2 . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : UIControlEvents . TouchUpInside ) myButton2 . tag = 2 self . view . addSubview ( myButton2 ) // UIDynamiAnimator\u306e\u751f\u6210\u3068\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u4fdd\u5b58. animator = UIDynamicAnimator ( referenceView : self . view ) // UIView\u3092\u7b49\u52a0\u901f\u5ea6\u904b\u52d5\u3067\u52d5\u304b\u3059UIPushBehavior\u3092\u751f\u6210. continuousPush = UIPushBehavior ( items : [ myButton ], mode : UIPushBehaviorMode . Continuous ) continuousPush . pushDirection = CGVectorMake ( 0.0 , - 1.0 ) // UIView\u3092\u7b49\u901f\u904b\u52d5\u3067\u52d5\u304b\u3059UIPushBehavior\u3092\u751f\u6210. instantaneousPush = UIPushBehavior ( items : [ myButton2 ], mode : UIPushBehaviorMode . Instantaneous ) instantaneousPush . pushDirection = CGVector ( dx : 0.0 , dy : 1.0 ) } /* Button\u304c\u62bc\u3055\u308c\u305f\u3068\u304d\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func onClickMyButton ( sender : UIButton ){ switch ( sender . tag ){ case 1 : animator . addBehavior ( continuousPush ) case 2 : animator . addBehavior ( instantaneousPush ) default : print ( \"Error\" ) } } } 3.x\u30684.x\u306e\u5dee\u5206 UIControlState \u3092 UIControl.State \u306b\u5909\u66f4 UIControlEvents \u3092 UIControl.Event \u306b\u5909\u66f4 func onClickMyButton(sender : UIButton) \u306b @objc \u3092\u8ffd\u52a0 UIPushBehaviorMode \u3092 UIPushBehavior.Mode \u306b\u5909\u66f4 2.3\u30683.0\u306e\u5dee\u5206 CGVectorMake\u304c\u5ec3\u6b62 Reference UIDynamicBehavior https://developer.apple.com/reference/uikit/uidynamicbehavior UIPushBehavior https://developer.apple.com/reference/uikit/uipushbehavior","title":"UIView\u3092\u52d5\u7684\u306b\u52d5\u304b\u3059"},{"location":"1.uikit/068_uiview/#uiview","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 // // ViewController.swift // UIKit068 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { // UIDynamicAnimator\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u4fdd\u5b58\u3057\u306a\u3051\u308c\u3070\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u304c\u5b9f\u884c\u3055\u308c\u306a\u3044. var animator : UIDynamicAnimator ! var continuousPush : UIPushBehavior ! var instantaneousPush : UIPushBehavior ! override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u3092\u6c34\u8272\u306b\u8a2d\u5b9a. self . view . backgroundColor = UIColor . cyan // ContinuousButton\u3092\u4f5c\u6210. let myButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 50 )) myButton . layer . position = CGPoint ( x : self . view . center . x , y : self . view . bounds . maxY - myButton . bounds . midY ) myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 20.0 myButton . setTitleColor ( UIColor . white , for : UIControl . State . normal ) myButton . setTitleColor ( UIColor . black , for : UIControl . State . highlighted ) myButton . backgroundColor = UIColor . red myButton . setTitle ( \"Continuous!!\" , for : UIControl . State . normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : UIControl . Event . touchUpInside ) myButton . tag = 1 self . view . addSubview ( myButton ) // InstaneousButton\u3092\u4f5c\u6210. let myButton2 = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 50 )) myButton2 . layer . position = CGPoint ( x : self . view . center . x , y : self . view . bounds . minY + myButton . bounds . midY ) myButton2 . layer . masksToBounds = true myButton2 . layer . cornerRadius = 20.0 myButton2 . setTitleColor ( UIColor . white , for : UIControl . State . normal ) myButton2 . setTitleColor ( UIColor . black , for : UIControl . State . highlighted ) myButton2 . backgroundColor = UIColor . red myButton2 . setTitle ( \"Instantaneous!!\" , for : UIControl . State . normal ) myButton2 . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : UIControl . Event . touchUpInside ) myButton2 . tag = 2 self . view . addSubview ( myButton2 ) // UIDynamiAnimator\u306e\u751f\u6210\u3068\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u4fdd\u5b58. animator = UIDynamicAnimator ( referenceView : self . view ) // UIView\u3092\u7b49\u52a0\u901f\u5ea6\u904b\u52d5\u3067\u52d5\u304b\u3059UIPushBehavior\u3092\u751f\u6210. continuousPush = UIPushBehavior ( items : [ myButton ], mode : UIPushBehavior . Mode . continuous ) continuousPush . pushDirection = CGVector ( dx : 0.0 , dy : - 1.0 ) // UIView\u3092\u7b49\u901f\u904b\u52d5\u3067\u52d5\u304b\u3059UIPushBehavior\u3092\u751f\u6210. instantaneousPush = UIPushBehavior ( items : [ myButton2 ], mode : UIPushBehavior . Mode . instantaneous ) instantaneousPush . pushDirection = CGVector ( dx : 0.0 , dy : 1.0 ) } /* Button\u304c\u62bc\u3055\u308c\u305f\u3068\u304d\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ @objc func onClickMyButton ( sender : UIButton ){ switch ( sender . tag ){ case 1 : animator . addBehavior ( continuousPush ) case 2 : animator . addBehavior ( instantaneousPush ) default : print ( \"Error\" ) } } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 // // ViewController.swift // UIKit068 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { // UIDynamicAnimator\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u4fdd\u5b58\u3057\u306a\u3051\u308c\u3070\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u304c\u5b9f\u884c\u3055\u308c\u306a\u3044. var animator : UIDynamicAnimator ! var continuousPush : UIPushBehavior ! var instantaneousPush : UIPushBehavior ! override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u3092\u6c34\u8272\u306b\u8a2d\u5b9a. self . view . backgroundColor = UIColor . cyan // ContinuousButton\u3092\u4f5c\u6210. let myButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 50 )) myButton . layer . position = CGPoint ( x : self . view . center . x , y : self . view . bounds . maxY - myButton . bounds . midY ) myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 20.0 myButton . setTitleColor ( UIColor . white , for : UIControlState . normal ) myButton . setTitleColor ( UIColor . black , for : UIControlState . highlighted ) myButton . backgroundColor = UIColor . red myButton . setTitle ( \"Continuous!!\" , for : UIControlState . normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : UIControlEvents . touchUpInside ) myButton . tag = 1 self . view . addSubview ( myButton ) // InstaneousButton\u3092\u4f5c\u6210. let myButton2 = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 50 )) myButton2 . layer . position = CGPoint ( x : self . view . center . x , y : self . view . bounds . minY + myButton . bounds . midY ) myButton2 . layer . masksToBounds = true myButton2 . layer . cornerRadius = 20.0 myButton2 . setTitleColor ( UIColor . white , for : UIControlState . normal ) myButton2 . setTitleColor ( UIColor . black , for : UIControlState . highlighted ) myButton2 . backgroundColor = UIColor . red myButton2 . setTitle ( \"Instantaneous!!\" , for : UIControlState . normal ) myButton2 . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : UIControlEvents . touchUpInside ) myButton2 . tag = 2 self . view . addSubview ( myButton2 ) // UIDynamiAnimator\u306e\u751f\u6210\u3068\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u4fdd\u5b58. animator = UIDynamicAnimator ( referenceView : self . view ) // UIView\u3092\u7b49\u52a0\u901f\u5ea6\u904b\u52d5\u3067\u52d5\u304b\u3059UIPushBehavior\u3092\u751f\u6210. continuousPush = UIPushBehavior ( items : [ myButton ], mode : UIPushBehaviorMode . continuous ) continuousPush . pushDirection = CGVector ( dx : 0.0 , dy : - 1.0 ) // UIView\u3092\u7b49\u901f\u904b\u52d5\u3067\u52d5\u304b\u3059UIPushBehavior\u3092\u751f\u6210. instantaneousPush = UIPushBehavior ( items : [ myButton2 ], mode : UIPushBehaviorMode . instantaneous ) instantaneousPush . pushDirection = CGVector ( dx : 0.0 , dy : 1.0 ) } /* Button\u304c\u62bc\u3055\u308c\u305f\u3068\u304d\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func onClickMyButton ( sender : UIButton ){ switch ( sender . tag ){ case 1 : animator . addBehavior ( continuousPush ) case 2 : animator . addBehavior ( instantaneousPush ) default : print ( \"Error\" ) } } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 // // ViewController.swift // UIKit068 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { // UIDynamicAnimator\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u4fdd\u5b58\u3057\u306a\u3051\u308c\u3070\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u304c\u5b9f\u884c\u3055\u308c\u306a\u3044. var animator : UIDynamicAnimator ! var continuousPush : UIPushBehavior ! var instantaneousPush : UIPushBehavior ! override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u3092\u6c34\u8272\u306b\u8a2d\u5b9a. self . view . backgroundColor = UIColor . cyanColor () // ContinuousButton\u3092\u4f5c\u6210. let myButton = UIButton ( frame : CGRectMake ( 0 , 0 , 200 , 50 )) myButton . layer . position = CGPointMake ( self . view . center . x , self . view . bounds . maxY - myButton . bounds . midY ) myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 20.0 myButton . setTitleColor ( UIColor . whiteColor (), forState : UIControlState . Normal ) myButton . setTitleColor ( UIColor . blackColor (), forState : UIControlState . Highlighted ) myButton . backgroundColor = UIColor . redColor () myButton . setTitle ( \"Continuous!!\" , forState : UIControlState . Normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : UIControlEvents . TouchUpInside ) myButton . tag = 1 self . view . addSubview ( myButton ) // InstaneousButton\u3092\u4f5c\u6210. let myButton2 = UIButton ( frame : CGRectMake ( 0 , 0 , 200 , 50 )) myButton2 . layer . position = CGPointMake ( self . view . center . x , self . view . bounds . minY + myButton . bounds . midY ) myButton2 . layer . masksToBounds = true myButton2 . layer . cornerRadius = 20.0 myButton2 . setTitleColor ( UIColor . whiteColor (), forState : UIControlState . Normal ) myButton2 . setTitleColor ( UIColor . blackColor (), forState : UIControlState . Highlighted ) myButton2 . backgroundColor = UIColor . redColor () myButton2 . setTitle ( \"Instantaneous!!\" , forState : UIControlState . Normal ) myButton2 . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : UIControlEvents . TouchUpInside ) myButton2 . tag = 2 self . view . addSubview ( myButton2 ) // UIDynamiAnimator\u306e\u751f\u6210\u3068\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u4fdd\u5b58. animator = UIDynamicAnimator ( referenceView : self . view ) // UIView\u3092\u7b49\u52a0\u901f\u5ea6\u904b\u52d5\u3067\u52d5\u304b\u3059UIPushBehavior\u3092\u751f\u6210. continuousPush = UIPushBehavior ( items : [ myButton ], mode : UIPushBehaviorMode . Continuous ) continuousPush . pushDirection = CGVectorMake ( 0.0 , - 1.0 ) // UIView\u3092\u7b49\u901f\u904b\u52d5\u3067\u52d5\u304b\u3059UIPushBehavior\u3092\u751f\u6210. instantaneousPush = UIPushBehavior ( items : [ myButton2 ], mode : UIPushBehaviorMode . Instantaneous ) instantaneousPush . pushDirection = CGVector ( dx : 0.0 , dy : 1.0 ) } /* Button\u304c\u62bc\u3055\u308c\u305f\u3068\u304d\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func onClickMyButton ( sender : UIButton ){ switch ( sender . tag ){ case 1 : animator . addBehavior ( continuousPush ) case 2 : animator . addBehavior ( instantaneousPush ) default : print ( \"Error\" ) } } }","title":"UIView\u3092\u52d5\u7684\u306b\u52d5\u304b\u3059"},{"location":"1.uikit/068_uiview/#3x4x","text":"UIControlState \u3092 UIControl.State \u306b\u5909\u66f4 UIControlEvents \u3092 UIControl.Event \u306b\u5909\u66f4 func onClickMyButton(sender : UIButton) \u306b @objc \u3092\u8ffd\u52a0 UIPushBehaviorMode \u3092 UIPushBehavior.Mode \u306b\u5909\u66f4","title":"3.x\u30684.x\u306e\u5dee\u5206"},{"location":"1.uikit/068_uiview/#2330","text":"CGVectorMake\u304c\u5ec3\u6b62","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"1.uikit/068_uiview/#reference","text":"UIDynamicBehavior https://developer.apple.com/reference/uikit/uidynamicbehavior UIPushBehavior https://developer.apple.com/reference/uikit/uipushbehavior","title":"Reference"},{"location":"1.uikit/069_animation/","text":"UIView\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u307e\u3068\u3081 Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 // // ViewController.swift // UIKit069 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { var myLabel : UILabel ! override func viewDidLoad () { super . viewDidLoad () // Label\u3092\u751f\u6210 myLabel = UILabel ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 50 )) myLabel . backgroundColor = UIColor ( red : 0.561 , green : 0.737 , blue : 0.561 , alpha : 1.0 ) myLabel . center = self . view . center myLabel . text = \"*\uff65\u309c\uff9f\uff65*:.\uff61..\uff61.:*\uff65\u309c\" myLabel . textAlignment = NSTextAlignment . center myLabel . textColor = UIColor . white // SegmentesController\u3092\u751f\u6210. let mySegcon = UISegmentedControl ( items : [ \"Spring\" , \"Invert\" , \"Rotate\" , \"Scaling\" , \"Move\" ]) mySegcon . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 50 ) mySegcon . tintColor = UIColor . blue mySegcon . addTarget ( self , action : #selector ( ViewController . changedValue ( sender :)), for : UIControl . Event . valueChanged ) // Label\u3092view\u306b\u8ffd\u52a0 self . view . addSubview ( myLabel ) // SegmentedController\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( mySegcon ) } /* SegmentedController\u306e\u5024\u304c\u5909\u308f\u3063\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ @objc func changedValue ( sender : UISegmentedControl ) { myLabel . center = self . view . center // \u5404\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u306e\u51e6\u7406. switch ( sender . selectedSegmentIndex ) { /* \u30d0\u30cd\u306e\u3088\u3046\u306a\u52d5\u304d\u3092\u3059\u308b\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3. */ case 0 : // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u306e\u6642\u9593\u30922\u79d2\u306b\u8a2d\u5b9a. UIView . animate ( withDuration : 2.0 , // \u9045\u5ef6\u6642\u9593. delay : 0.0 , // \u30d0\u30cd\u306e\u5f3e\u6027\u529b. \u5c0f\u3055\u3044\u307b\u3069\u5f3e\u6027\u529b\u306f\u5927\u304d\u304f\u306a\u308b. usingSpringWithDamping : 0.2 , // \u521d\u901f\u5ea6. initialSpringVelocity : 1.5 , // \u4e00\u5b9a\u306e\u901f\u5ea6. options : UIView . AnimationOptions . curveLinear , animations : { () -> Void in self . myLabel . layer . position = CGPoint ( x : self . view . frame . width - 50 , y : 100 ) // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u5b8c\u4e86\u6642\u306e\u51e6\u7406 }) { ( Bool ) -> Void in self . myLabel . center = self . view . center } /* X, Y\u65b9\u5411\u306b\u305d\u308c\u305e\u308c\u53cd\u8ee2\u3059\u308b\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3. */ case 1 : // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u306e\u6642\u9593\u30923\u79d2\u306b\u8a2d\u5b9a UIView . animate ( withDuration : 3.0 , // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u4e2d\u306e\u51e6\u7406 animations : { () -> Void in // X\u65b9\u5411\u306b\u53cd\u8ee2\u7528\u306e\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u4f5c\u6210 self . myLabel . transform = self . myLabel . transform . scaledBy ( x : - 1.0 , y : 1.0 ) // \u9023\u7d9a\u3057\u305f\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u51e6\u7406. }) { ( Bool ) -> Void in UIView . animate ( withDuration : 3.0 , // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u4e2d\u306e\u51e6\u7406 animations : { () -> Void in // Y\u65b9\u5411\u306b\u53cd\u8ee2\u7528\u306e\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u4f5c\u6210 self . myLabel . transform = self . myLabel . transform . scaledBy ( x : 1.0 , y : - 1.0 ) // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u5b8c\u4e86\u6642\u306e\u51e6\u7406 }) { ( Bool ) -> Void in } } /* \u56de\u8ee2\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3. */ case 2 : // \u521d\u671f\u5316. self . myLabel . transform = CGAffineTransform ( rotationAngle : 0 ) // radian\u3067\u56de\u8ee2\u89d2\u5ea6\u3092\u6307\u5b9a(90\u5ea6). let angle : CGFloat = CGFloat ( M_PI_2 ) // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u306e\u79d2\u6570\u3092\u8a2d\u5b9a(3\u79d2). UIView . animate ( withDuration : 3.0 , animations : { () -> Void in // \u56de\u8ee2\u7528\u306e\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u3092\u751f\u6210. self . myLabel . transform = CGAffineTransform ( rotationAngle : angle ) }, completion : { ( Bool ) -> Void in }) /* \u62e1\u7e2e\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3. */ case 3 : self . myLabel . transform = CGAffineTransform ( scaleX : 1 , y : 1 ) // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u306e\u6642\u9593\u30923\u79d2\u306b\u8a2d\u5b9a. UIView . animate ( withDuration : 3.0 , animations : { () -> Void in // \u7e2e\u5c0f\u7528\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u3092\u4f5c\u6210. self . myLabel . transform = CGAffineTransform ( scaleX : 1.5 , y : 1.5 ) }) // \u9023\u7d9a\u3057\u305f\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u51e6\u7406. { ( Bool ) -> Void in UIView . animate ( withDuration : 3.0 , // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u4e2d\u306e\u51e6\u7406. animations : { () -> Void in // \u62e1\u5927\u7528\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u3092\u4f5c\u6210. self . myLabel . transform = CGAffineTransform ( scaleX : 0.5 , y : 0.5 ) }) // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u5b8c\u4e86\u6642\u306e\u51e6\u7406. { ( Bool ) -> Void in // \u5927\u304d\u3055\u3092\u5143\u306b\u623b\u3059. self . myLabel . transform = CGAffineTransform ( scaleX : 1 , y : 1 ) } } /* \u79fb\u52d5\u3059\u308b\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3. */ case 4 : myLabel . layer . position = CGPoint ( x : - 30 , y : - 30 ) // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u51e6\u7406 UIView . animate ( withDuration : TimeInterval ( CGFloat ( 3.0 )), animations : {() -> Void in // \u79fb\u52d5\u5148\u306e\u5ea7\u6a19\u3092\u6307\u5b9a\u3059\u308b. self . myLabel . center = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height / 2 ); }, completion : {( Bool ) -> Void in }) default : print ( \"error!\" ) } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 // // ViewController.swift // UIKit069 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { var myLabel : UILabel ! override func viewDidLoad () { super . viewDidLoad () // Label\u3092\u751f\u6210 myLabel = UILabel ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 50 )) myLabel . backgroundColor = UIColor ( red : 0.561 , green : 0.737 , blue : 0.561 , alpha : 1.0 ) myLabel . center = self . view . center myLabel . text = \"*\uff65\u309c\uff9f\uff65*:.\uff61..\uff61.:*\uff65\u309c\" myLabel . textAlignment = NSTextAlignment . center myLabel . textColor = UIColor . white // SegmentesController\u3092\u751f\u6210. let mySegcon = UISegmentedControl ( items : [ \"Spring\" , \"Invert\" , \"Rotate\" , \"Scaling\" , \"Move\" ]) mySegcon . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 50 ) mySegcon . tintColor = UIColor . blue mySegcon . addTarget ( self , action : #selector ( ViewController . changedValue ( sender :)), for : UIControlEvents . valueChanged ) // Label\u3092view\u306b\u8ffd\u52a0 self . view . addSubview ( myLabel ) // SegmentedController\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( mySegcon ) } /* SegmentedController\u306e\u5024\u304c\u5909\u308f\u3063\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func changedValue ( sender : UISegmentedControl ) { myLabel . center = self . view . center // \u5404\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u306e\u51e6\u7406. switch ( sender . selectedSegmentIndex ) { /* \u30d0\u30cd\u306e\u3088\u3046\u306a\u52d5\u304d\u3092\u3059\u308b\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3. */ case 0 : // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u306e\u6642\u9593\u30922\u79d2\u306b\u8a2d\u5b9a. UIView . animate ( withDuration : 2.0 , // \u9045\u5ef6\u6642\u9593. delay : 0.0 , // \u30d0\u30cd\u306e\u5f3e\u6027\u529b. \u5c0f\u3055\u3044\u307b\u3069\u5f3e\u6027\u529b\u306f\u5927\u304d\u304f\u306a\u308b. usingSpringWithDamping : 0.2 , // \u521d\u901f\u5ea6. initialSpringVelocity : 1.5 , // \u4e00\u5b9a\u306e\u901f\u5ea6. options : UIViewAnimationOptions . curveLinear , animations : { () -> Void in self . myLabel . layer . position = CGPoint ( x : self . view . frame . width - 50 , y : 100 ) // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u5b8c\u4e86\u6642\u306e\u51e6\u7406 }) { ( Bool ) -> Void in self . myLabel . center = self . view . center } /* X, Y\u65b9\u5411\u306b\u305d\u308c\u305e\u308c\u53cd\u8ee2\u3059\u308b\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3. */ case 1 : // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u306e\u6642\u9593\u30923\u79d2\u306b\u8a2d\u5b9a UIView . animate ( withDuration : 3.0 , // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u4e2d\u306e\u51e6\u7406 animations : { () -> Void in // X\u65b9\u5411\u306b\u53cd\u8ee2\u7528\u306e\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u4f5c\u6210 self . myLabel . transform = self . myLabel . transform . scaledBy ( x : - 1.0 , y : 1.0 ) // \u9023\u7d9a\u3057\u305f\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u51e6\u7406. }) { ( Bool ) -> Void in UIView . animate ( withDuration : 3.0 , // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u4e2d\u306e\u51e6\u7406 animations : { () -> Void in // Y\u65b9\u5411\u306b\u53cd\u8ee2\u7528\u306e\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u4f5c\u6210 self . myLabel . transform = self . myLabel . transform . scaledBy ( x : 1.0 , y : - 1.0 ) // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u5b8c\u4e86\u6642\u306e\u51e6\u7406 }) { ( Bool ) -> Void in } } /* \u56de\u8ee2\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3. */ case 2 : // \u521d\u671f\u5316. self . myLabel . transform = CGAffineTransform ( rotationAngle : 0 ) // radian\u3067\u56de\u8ee2\u89d2\u5ea6\u3092\u6307\u5b9a(90\u5ea6). let angle : CGFloat = CGFloat ( M_PI_2 ) // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u306e\u79d2\u6570\u3092\u8a2d\u5b9a(3\u79d2). UIView . animate ( withDuration : 3.0 , animations : { () -> Void in // \u56de\u8ee2\u7528\u306e\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u3092\u751f\u6210. self . myLabel . transform = CGAffineTransform ( rotationAngle : angle ) }, completion : { ( Bool ) -> Void in }) /* \u62e1\u7e2e\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3. */ case 3 : self . myLabel . transform = CGAffineTransform ( scaleX : 1 , y : 1 ) // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u306e\u6642\u9593\u30923\u79d2\u306b\u8a2d\u5b9a. UIView . animate ( withDuration : 3.0 , animations : { () -> Void in // \u7e2e\u5c0f\u7528\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u3092\u4f5c\u6210. self . myLabel . transform = CGAffineTransform ( scaleX : 1.5 , y : 1.5 ) }) // \u9023\u7d9a\u3057\u305f\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u51e6\u7406. { ( Bool ) -> Void in UIView . animate ( withDuration : 3.0 , // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u4e2d\u306e\u51e6\u7406. animations : { () -> Void in // \u62e1\u5927\u7528\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u3092\u4f5c\u6210. self . myLabel . transform = CGAffineTransform ( scaleX : 0.5 , y : 0.5 ) }) // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u5b8c\u4e86\u6642\u306e\u51e6\u7406. { ( Bool ) -> Void in // \u5927\u304d\u3055\u3092\u5143\u306b\u623b\u3059. self . myLabel . transform = CGAffineTransform ( scaleX : 1 , y : 1 ) } } /* \u79fb\u52d5\u3059\u308b\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3. */ case 4 : myLabel . layer . position = CGPoint ( x : - 30 , y : - 30 ) // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u51e6\u7406 UIView . animate ( withDuration : TimeInterval ( CGFloat ( 3.0 )), animations : {() -> Void in // \u79fb\u52d5\u5148\u306e\u5ea7\u6a19\u3092\u6307\u5b9a\u3059\u308b. self . myLabel . center = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height / 2 ); }, completion : {( Bool ) -> Void in }) default : print ( \"error!\" ) } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 // // ViewController.swift // UIKit069 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { var myLabel : UILabel ! override func viewDidLoad () { super . viewDidLoad () // Label\u3092\u751f\u6210 myLabel = UILabel ( frame : CGRectMake ( 0 , 0 , 200 , 50 )) myLabel . backgroundColor = UIColor ( red : 0.561 , green : 0.737 , blue : 0.561 , alpha : 1.0 ) myLabel . center = self . view . center myLabel . text = \"*\uff65\u309c\uff9f\uff65*:.\uff61..\uff61.:*\uff65\u309c\" myLabel . textAlignment = NSTextAlignment . Center myLabel . textColor = UIColor . whiteColor () // SegmentesController\u3092\u751f\u6210. let mySegcon = UISegmentedControl ( items : [ \"Spring\" , \"Invert\" , \"Rotate\" , \"Scaling\" , \"Move\" ]) mySegcon . layer . position = CGPointMake ( self . view . frame . width / 2 , self . view . frame . height - 50 ) mySegcon . tintColor = UIColor . blueColor () mySegcon . addTarget ( self , action : #selector ( ViewController . changedValue ( _ :)), forControlEvents : UIControlEvents . ValueChanged ) // Label\u3092view\u306b\u8ffd\u52a0 self . view . addSubview ( myLabel ) // SegmentedController\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( mySegcon ) } /* SegmentedController\u306e\u5024\u304c\u5909\u308f\u3063\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func changedValue ( sender : UISegmentedControl ) { myLabel . center = self . view . center // \u5404\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u306e\u51e6\u7406. switch ( sender . selectedSegmentIndex ) { /* \u30d0\u30cd\u306e\u3088\u3046\u306a\u52d5\u304d\u3092\u3059\u308b\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3. */ case 0 : // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u306e\u6642\u9593\u30922\u79d2\u306b\u8a2d\u5b9a. UIView . animateWithDuration ( 2.0 , // \u9045\u5ef6\u6642\u9593. delay : 0.0 , // \u30d0\u30cd\u306e\u5f3e\u6027\u529b. \u5c0f\u3055\u3044\u307b\u3069\u5f3e\u6027\u529b\u306f\u5927\u304d\u304f\u306a\u308b. usingSpringWithDamping : 0.2 , // \u521d\u901f\u5ea6. initialSpringVelocity : 1.5 , // \u4e00\u5b9a\u306e\u901f\u5ea6. options : UIViewAnimationOptions . CurveLinear , animations : { () -> Void in self . myLabel . layer . position = CGPointMake ( self . view . frame . width - 50 , 100 ) // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u5b8c\u4e86\u6642\u306e\u51e6\u7406 }) { ( Bool ) -> Void in self . myLabel . center = self . view . center } /* X, Y\u65b9\u5411\u306b\u305d\u308c\u305e\u308c\u53cd\u8ee2\u3059\u308b\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3. */ case 1 : // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u306e\u6642\u9593\u30923\u79d2\u306b\u8a2d\u5b9a UIView . animateWithDuration ( 3.0 , // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u4e2d\u306e\u51e6\u7406 animations : { () -> Void in // X\u65b9\u5411\u306b\u53cd\u8ee2\u7528\u306e\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u4f5c\u6210 self . myLabel . transform = CGAffineTransformScale ( self . myLabel . transform , - 1.0 , 1.0 ) // \u9023\u7d9a\u3057\u305f\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u51e6\u7406. }) { ( Bool ) -> Void in UIView . animateWithDuration ( 3.0 , // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u4e2d\u306e\u51e6\u7406 animations : { () -> Void in // Y\u65b9\u5411\u306b\u53cd\u8ee2\u7528\u306e\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u4f5c\u6210 self . myLabel . transform = CGAffineTransformScale ( self . myLabel . transform , 1.0 , - 1.0 ) // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u5b8c\u4e86\u6642\u306e\u51e6\u7406 }) { ( Bool ) -> Void in } } /* \u56de\u8ee2\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3. */ case 2 : // \u521d\u671f\u5316. self . myLabel . transform = CGAffineTransformMakeRotation ( 0 ) // radian\u3067\u56de\u8ee2\u89d2\u5ea6\u3092\u6307\u5b9a(90\u5ea6). let angle : CGFloat = CGFloat ( M_PI_2 ) // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u306e\u79d2\u6570\u3092\u8a2d\u5b9a(3\u79d2). UIView . animateWithDuration ( 3.0 , animations : { () -> Void in // \u56de\u8ee2\u7528\u306e\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u3092\u751f\u6210. self . myLabel . transform = CGAffineTransformMakeRotation ( angle ) }, completion : { ( Bool ) -> Void in }) /* \u62e1\u7e2e\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3. */ case 3 : self . myLabel . transform = CGAffineTransformMakeScale ( 1 , 1 ) // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u306e\u6642\u9593\u30923\u79d2\u306b\u8a2d\u5b9a. UIView . animateWithDuration ( 3.0 , animations : { () -> Void in // \u7e2e\u5c0f\u7528\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u3092\u4f5c\u6210. self . myLabel . transform = CGAffineTransformMakeScale ( 1.5 , 1.5 ) }) // \u9023\u7d9a\u3057\u305f\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u51e6\u7406. { ( Bool ) -> Void in UIView . animateWithDuration ( 3.0 , // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u4e2d\u306e\u51e6\u7406. animations : { () -> Void in // \u62e1\u5927\u7528\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u3092\u4f5c\u6210. self . myLabel . transform = CGAffineTransformMakeScale ( 0.5 , 0.5 ) }) // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u5b8c\u4e86\u6642\u306e\u51e6\u7406. { ( Bool ) -> Void in // \u5927\u304d\u3055\u3092\u5143\u306b\u623b\u3059. self . myLabel . transform = CGAffineTransformMakeScale ( 1 , 1 ) } } /* \u79fb\u52d5\u3059\u308b\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3. */ case 4 : myLabel . layer . position = CGPointMake ( - 30 , - 30 ) // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u51e6\u7406 UIView . animateWithDuration ( NSTimeInterval ( CGFloat ( 3.0 )), animations : {() -> Void in // \u79fb\u52d5\u5148\u306e\u5ea7\u6a19\u3092\u6307\u5b9a\u3059\u308b. self . myLabel . center = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height / 2 ); }, completion : {( Bool ) -> Void in }) default : print ( \"error!\" ) } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } 3.x\u30684.x\u306e\u5dee\u5206 UIControlEvents \u304c UIControl.Event \u306b\u5909\u66f4 func changedValue(sender: UISegmentedControl) \u306b @objc \u3092\u8ffd\u52a0 UIViewAnimationOptions \u3092 UIView.AnimationOptions \u306b\u5909\u66f4 2.3\u30683.0\u306e\u5dee\u5206 CGPointMake\u304c\u5ec3\u6b62 CGRectMake\u304c\u5ec3\u6b62 Reference UIView https://developer.apple.com/reference/uikit/uiview","title":"UIView\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u307e\u3068\u3081"},{"location":"1.uikit/069_animation/#uiview","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 // // ViewController.swift // UIKit069 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { var myLabel : UILabel ! override func viewDidLoad () { super . viewDidLoad () // Label\u3092\u751f\u6210 myLabel = UILabel ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 50 )) myLabel . backgroundColor = UIColor ( red : 0.561 , green : 0.737 , blue : 0.561 , alpha : 1.0 ) myLabel . center = self . view . center myLabel . text = \"*\uff65\u309c\uff9f\uff65*:.\uff61..\uff61.:*\uff65\u309c\" myLabel . textAlignment = NSTextAlignment . center myLabel . textColor = UIColor . white // SegmentesController\u3092\u751f\u6210. let mySegcon = UISegmentedControl ( items : [ \"Spring\" , \"Invert\" , \"Rotate\" , \"Scaling\" , \"Move\" ]) mySegcon . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 50 ) mySegcon . tintColor = UIColor . blue mySegcon . addTarget ( self , action : #selector ( ViewController . changedValue ( sender :)), for : UIControl . Event . valueChanged ) // Label\u3092view\u306b\u8ffd\u52a0 self . view . addSubview ( myLabel ) // SegmentedController\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( mySegcon ) } /* SegmentedController\u306e\u5024\u304c\u5909\u308f\u3063\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ @objc func changedValue ( sender : UISegmentedControl ) { myLabel . center = self . view . center // \u5404\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u306e\u51e6\u7406. switch ( sender . selectedSegmentIndex ) { /* \u30d0\u30cd\u306e\u3088\u3046\u306a\u52d5\u304d\u3092\u3059\u308b\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3. */ case 0 : // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u306e\u6642\u9593\u30922\u79d2\u306b\u8a2d\u5b9a. UIView . animate ( withDuration : 2.0 , // \u9045\u5ef6\u6642\u9593. delay : 0.0 , // \u30d0\u30cd\u306e\u5f3e\u6027\u529b. \u5c0f\u3055\u3044\u307b\u3069\u5f3e\u6027\u529b\u306f\u5927\u304d\u304f\u306a\u308b. usingSpringWithDamping : 0.2 , // \u521d\u901f\u5ea6. initialSpringVelocity : 1.5 , // \u4e00\u5b9a\u306e\u901f\u5ea6. options : UIView . AnimationOptions . curveLinear , animations : { () -> Void in self . myLabel . layer . position = CGPoint ( x : self . view . frame . width - 50 , y : 100 ) // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u5b8c\u4e86\u6642\u306e\u51e6\u7406 }) { ( Bool ) -> Void in self . myLabel . center = self . view . center } /* X, Y\u65b9\u5411\u306b\u305d\u308c\u305e\u308c\u53cd\u8ee2\u3059\u308b\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3. */ case 1 : // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u306e\u6642\u9593\u30923\u79d2\u306b\u8a2d\u5b9a UIView . animate ( withDuration : 3.0 , // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u4e2d\u306e\u51e6\u7406 animations : { () -> Void in // X\u65b9\u5411\u306b\u53cd\u8ee2\u7528\u306e\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u4f5c\u6210 self . myLabel . transform = self . myLabel . transform . scaledBy ( x : - 1.0 , y : 1.0 ) // \u9023\u7d9a\u3057\u305f\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u51e6\u7406. }) { ( Bool ) -> Void in UIView . animate ( withDuration : 3.0 , // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u4e2d\u306e\u51e6\u7406 animations : { () -> Void in // Y\u65b9\u5411\u306b\u53cd\u8ee2\u7528\u306e\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u4f5c\u6210 self . myLabel . transform = self . myLabel . transform . scaledBy ( x : 1.0 , y : - 1.0 ) // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u5b8c\u4e86\u6642\u306e\u51e6\u7406 }) { ( Bool ) -> Void in } } /* \u56de\u8ee2\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3. */ case 2 : // \u521d\u671f\u5316. self . myLabel . transform = CGAffineTransform ( rotationAngle : 0 ) // radian\u3067\u56de\u8ee2\u89d2\u5ea6\u3092\u6307\u5b9a(90\u5ea6). let angle : CGFloat = CGFloat ( M_PI_2 ) // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u306e\u79d2\u6570\u3092\u8a2d\u5b9a(3\u79d2). UIView . animate ( withDuration : 3.0 , animations : { () -> Void in // \u56de\u8ee2\u7528\u306e\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u3092\u751f\u6210. self . myLabel . transform = CGAffineTransform ( rotationAngle : angle ) }, completion : { ( Bool ) -> Void in }) /* \u62e1\u7e2e\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3. */ case 3 : self . myLabel . transform = CGAffineTransform ( scaleX : 1 , y : 1 ) // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u306e\u6642\u9593\u30923\u79d2\u306b\u8a2d\u5b9a. UIView . animate ( withDuration : 3.0 , animations : { () -> Void in // \u7e2e\u5c0f\u7528\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u3092\u4f5c\u6210. self . myLabel . transform = CGAffineTransform ( scaleX : 1.5 , y : 1.5 ) }) // \u9023\u7d9a\u3057\u305f\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u51e6\u7406. { ( Bool ) -> Void in UIView . animate ( withDuration : 3.0 , // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u4e2d\u306e\u51e6\u7406. animations : { () -> Void in // \u62e1\u5927\u7528\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u3092\u4f5c\u6210. self . myLabel . transform = CGAffineTransform ( scaleX : 0.5 , y : 0.5 ) }) // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u5b8c\u4e86\u6642\u306e\u51e6\u7406. { ( Bool ) -> Void in // \u5927\u304d\u3055\u3092\u5143\u306b\u623b\u3059. self . myLabel . transform = CGAffineTransform ( scaleX : 1 , y : 1 ) } } /* \u79fb\u52d5\u3059\u308b\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3. */ case 4 : myLabel . layer . position = CGPoint ( x : - 30 , y : - 30 ) // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u51e6\u7406 UIView . animate ( withDuration : TimeInterval ( CGFloat ( 3.0 )), animations : {() -> Void in // \u79fb\u52d5\u5148\u306e\u5ea7\u6a19\u3092\u6307\u5b9a\u3059\u308b. self . myLabel . center = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height / 2 ); }, completion : {( Bool ) -> Void in }) default : print ( \"error!\" ) } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 // // ViewController.swift // UIKit069 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { var myLabel : UILabel ! override func viewDidLoad () { super . viewDidLoad () // Label\u3092\u751f\u6210 myLabel = UILabel ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 50 )) myLabel . backgroundColor = UIColor ( red : 0.561 , green : 0.737 , blue : 0.561 , alpha : 1.0 ) myLabel . center = self . view . center myLabel . text = \"*\uff65\u309c\uff9f\uff65*:.\uff61..\uff61.:*\uff65\u309c\" myLabel . textAlignment = NSTextAlignment . center myLabel . textColor = UIColor . white // SegmentesController\u3092\u751f\u6210. let mySegcon = UISegmentedControl ( items : [ \"Spring\" , \"Invert\" , \"Rotate\" , \"Scaling\" , \"Move\" ]) mySegcon . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 50 ) mySegcon . tintColor = UIColor . blue mySegcon . addTarget ( self , action : #selector ( ViewController . changedValue ( sender :)), for : UIControlEvents . valueChanged ) // Label\u3092view\u306b\u8ffd\u52a0 self . view . addSubview ( myLabel ) // SegmentedController\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( mySegcon ) } /* SegmentedController\u306e\u5024\u304c\u5909\u308f\u3063\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func changedValue ( sender : UISegmentedControl ) { myLabel . center = self . view . center // \u5404\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u306e\u51e6\u7406. switch ( sender . selectedSegmentIndex ) { /* \u30d0\u30cd\u306e\u3088\u3046\u306a\u52d5\u304d\u3092\u3059\u308b\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3. */ case 0 : // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u306e\u6642\u9593\u30922\u79d2\u306b\u8a2d\u5b9a. UIView . animate ( withDuration : 2.0 , // \u9045\u5ef6\u6642\u9593. delay : 0.0 , // \u30d0\u30cd\u306e\u5f3e\u6027\u529b. \u5c0f\u3055\u3044\u307b\u3069\u5f3e\u6027\u529b\u306f\u5927\u304d\u304f\u306a\u308b. usingSpringWithDamping : 0.2 , // \u521d\u901f\u5ea6. initialSpringVelocity : 1.5 , // \u4e00\u5b9a\u306e\u901f\u5ea6. options : UIViewAnimationOptions . curveLinear , animations : { () -> Void in self . myLabel . layer . position = CGPoint ( x : self . view . frame . width - 50 , y : 100 ) // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u5b8c\u4e86\u6642\u306e\u51e6\u7406 }) { ( Bool ) -> Void in self . myLabel . center = self . view . center } /* X, Y\u65b9\u5411\u306b\u305d\u308c\u305e\u308c\u53cd\u8ee2\u3059\u308b\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3. */ case 1 : // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u306e\u6642\u9593\u30923\u79d2\u306b\u8a2d\u5b9a UIView . animate ( withDuration : 3.0 , // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u4e2d\u306e\u51e6\u7406 animations : { () -> Void in // X\u65b9\u5411\u306b\u53cd\u8ee2\u7528\u306e\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u4f5c\u6210 self . myLabel . transform = self . myLabel . transform . scaledBy ( x : - 1.0 , y : 1.0 ) // \u9023\u7d9a\u3057\u305f\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u51e6\u7406. }) { ( Bool ) -> Void in UIView . animate ( withDuration : 3.0 , // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u4e2d\u306e\u51e6\u7406 animations : { () -> Void in // Y\u65b9\u5411\u306b\u53cd\u8ee2\u7528\u306e\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u4f5c\u6210 self . myLabel . transform = self . myLabel . transform . scaledBy ( x : 1.0 , y : - 1.0 ) // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u5b8c\u4e86\u6642\u306e\u51e6\u7406 }) { ( Bool ) -> Void in } } /* \u56de\u8ee2\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3. */ case 2 : // \u521d\u671f\u5316. self . myLabel . transform = CGAffineTransform ( rotationAngle : 0 ) // radian\u3067\u56de\u8ee2\u89d2\u5ea6\u3092\u6307\u5b9a(90\u5ea6). let angle : CGFloat = CGFloat ( M_PI_2 ) // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u306e\u79d2\u6570\u3092\u8a2d\u5b9a(3\u79d2). UIView . animate ( withDuration : 3.0 , animations : { () -> Void in // \u56de\u8ee2\u7528\u306e\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u3092\u751f\u6210. self . myLabel . transform = CGAffineTransform ( rotationAngle : angle ) }, completion : { ( Bool ) -> Void in }) /* \u62e1\u7e2e\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3. */ case 3 : self . myLabel . transform = CGAffineTransform ( scaleX : 1 , y : 1 ) // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u306e\u6642\u9593\u30923\u79d2\u306b\u8a2d\u5b9a. UIView . animate ( withDuration : 3.0 , animations : { () -> Void in // \u7e2e\u5c0f\u7528\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u3092\u4f5c\u6210. self . myLabel . transform = CGAffineTransform ( scaleX : 1.5 , y : 1.5 ) }) // \u9023\u7d9a\u3057\u305f\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u51e6\u7406. { ( Bool ) -> Void in UIView . animate ( withDuration : 3.0 , // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u4e2d\u306e\u51e6\u7406. animations : { () -> Void in // \u62e1\u5927\u7528\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u3092\u4f5c\u6210. self . myLabel . transform = CGAffineTransform ( scaleX : 0.5 , y : 0.5 ) }) // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u5b8c\u4e86\u6642\u306e\u51e6\u7406. { ( Bool ) -> Void in // \u5927\u304d\u3055\u3092\u5143\u306b\u623b\u3059. self . myLabel . transform = CGAffineTransform ( scaleX : 1 , y : 1 ) } } /* \u79fb\u52d5\u3059\u308b\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3. */ case 4 : myLabel . layer . position = CGPoint ( x : - 30 , y : - 30 ) // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u51e6\u7406 UIView . animate ( withDuration : TimeInterval ( CGFloat ( 3.0 )), animations : {() -> Void in // \u79fb\u52d5\u5148\u306e\u5ea7\u6a19\u3092\u6307\u5b9a\u3059\u308b. self . myLabel . center = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height / 2 ); }, completion : {( Bool ) -> Void in }) default : print ( \"error!\" ) } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 // // ViewController.swift // UIKit069 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { var myLabel : UILabel ! override func viewDidLoad () { super . viewDidLoad () // Label\u3092\u751f\u6210 myLabel = UILabel ( frame : CGRectMake ( 0 , 0 , 200 , 50 )) myLabel . backgroundColor = UIColor ( red : 0.561 , green : 0.737 , blue : 0.561 , alpha : 1.0 ) myLabel . center = self . view . center myLabel . text = \"*\uff65\u309c\uff9f\uff65*:.\uff61..\uff61.:*\uff65\u309c\" myLabel . textAlignment = NSTextAlignment . Center myLabel . textColor = UIColor . whiteColor () // SegmentesController\u3092\u751f\u6210. let mySegcon = UISegmentedControl ( items : [ \"Spring\" , \"Invert\" , \"Rotate\" , \"Scaling\" , \"Move\" ]) mySegcon . layer . position = CGPointMake ( self . view . frame . width / 2 , self . view . frame . height - 50 ) mySegcon . tintColor = UIColor . blueColor () mySegcon . addTarget ( self , action : #selector ( ViewController . changedValue ( _ :)), forControlEvents : UIControlEvents . ValueChanged ) // Label\u3092view\u306b\u8ffd\u52a0 self . view . addSubview ( myLabel ) // SegmentedController\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( mySegcon ) } /* SegmentedController\u306e\u5024\u304c\u5909\u308f\u3063\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func changedValue ( sender : UISegmentedControl ) { myLabel . center = self . view . center // \u5404\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u306e\u51e6\u7406. switch ( sender . selectedSegmentIndex ) { /* \u30d0\u30cd\u306e\u3088\u3046\u306a\u52d5\u304d\u3092\u3059\u308b\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3. */ case 0 : // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u306e\u6642\u9593\u30922\u79d2\u306b\u8a2d\u5b9a. UIView . animateWithDuration ( 2.0 , // \u9045\u5ef6\u6642\u9593. delay : 0.0 , // \u30d0\u30cd\u306e\u5f3e\u6027\u529b. \u5c0f\u3055\u3044\u307b\u3069\u5f3e\u6027\u529b\u306f\u5927\u304d\u304f\u306a\u308b. usingSpringWithDamping : 0.2 , // \u521d\u901f\u5ea6. initialSpringVelocity : 1.5 , // \u4e00\u5b9a\u306e\u901f\u5ea6. options : UIViewAnimationOptions . CurveLinear , animations : { () -> Void in self . myLabel . layer . position = CGPointMake ( self . view . frame . width - 50 , 100 ) // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u5b8c\u4e86\u6642\u306e\u51e6\u7406 }) { ( Bool ) -> Void in self . myLabel . center = self . view . center } /* X, Y\u65b9\u5411\u306b\u305d\u308c\u305e\u308c\u53cd\u8ee2\u3059\u308b\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3. */ case 1 : // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u306e\u6642\u9593\u30923\u79d2\u306b\u8a2d\u5b9a UIView . animateWithDuration ( 3.0 , // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u4e2d\u306e\u51e6\u7406 animations : { () -> Void in // X\u65b9\u5411\u306b\u53cd\u8ee2\u7528\u306e\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u4f5c\u6210 self . myLabel . transform = CGAffineTransformScale ( self . myLabel . transform , - 1.0 , 1.0 ) // \u9023\u7d9a\u3057\u305f\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u51e6\u7406. }) { ( Bool ) -> Void in UIView . animateWithDuration ( 3.0 , // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u4e2d\u306e\u51e6\u7406 animations : { () -> Void in // Y\u65b9\u5411\u306b\u53cd\u8ee2\u7528\u306e\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u4f5c\u6210 self . myLabel . transform = CGAffineTransformScale ( self . myLabel . transform , 1.0 , - 1.0 ) // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u5b8c\u4e86\u6642\u306e\u51e6\u7406 }) { ( Bool ) -> Void in } } /* \u56de\u8ee2\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3. */ case 2 : // \u521d\u671f\u5316. self . myLabel . transform = CGAffineTransformMakeRotation ( 0 ) // radian\u3067\u56de\u8ee2\u89d2\u5ea6\u3092\u6307\u5b9a(90\u5ea6). let angle : CGFloat = CGFloat ( M_PI_2 ) // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u306e\u79d2\u6570\u3092\u8a2d\u5b9a(3\u79d2). UIView . animateWithDuration ( 3.0 , animations : { () -> Void in // \u56de\u8ee2\u7528\u306e\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u3092\u751f\u6210. self . myLabel . transform = CGAffineTransformMakeRotation ( angle ) }, completion : { ( Bool ) -> Void in }) /* \u62e1\u7e2e\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3. */ case 3 : self . myLabel . transform = CGAffineTransformMakeScale ( 1 , 1 ) // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u306e\u6642\u9593\u30923\u79d2\u306b\u8a2d\u5b9a. UIView . animateWithDuration ( 3.0 , animations : { () -> Void in // \u7e2e\u5c0f\u7528\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u3092\u4f5c\u6210. self . myLabel . transform = CGAffineTransformMakeScale ( 1.5 , 1.5 ) }) // \u9023\u7d9a\u3057\u305f\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u51e6\u7406. { ( Bool ) -> Void in UIView . animateWithDuration ( 3.0 , // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u4e2d\u306e\u51e6\u7406. animations : { () -> Void in // \u62e1\u5927\u7528\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u3092\u4f5c\u6210. self . myLabel . transform = CGAffineTransformMakeScale ( 0.5 , 0.5 ) }) // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u5b8c\u4e86\u6642\u306e\u51e6\u7406. { ( Bool ) -> Void in // \u5927\u304d\u3055\u3092\u5143\u306b\u623b\u3059. self . myLabel . transform = CGAffineTransformMakeScale ( 1 , 1 ) } } /* \u79fb\u52d5\u3059\u308b\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3. */ case 4 : myLabel . layer . position = CGPointMake ( - 30 , - 30 ) // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u51e6\u7406 UIView . animateWithDuration ( NSTimeInterval ( CGFloat ( 3.0 )), animations : {() -> Void in // \u79fb\u52d5\u5148\u306e\u5ea7\u6a19\u3092\u6307\u5b9a\u3059\u308b. self . myLabel . center = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height / 2 ); }, completion : {( Bool ) -> Void in }) default : print ( \"error!\" ) } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } }","title":"UIView\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u307e\u3068\u3081"},{"location":"1.uikit/069_animation/#3x4x","text":"UIControlEvents \u304c UIControl.Event \u306b\u5909\u66f4 func changedValue(sender: UISegmentedControl) \u306b @objc \u3092\u8ffd\u52a0 UIViewAnimationOptions \u3092 UIView.AnimationOptions \u306b\u5909\u66f4","title":"3.x\u30684.x\u306e\u5dee\u5206"},{"location":"1.uikit/069_animation/#2330","text":"CGPointMake\u304c\u5ec3\u6b62 CGRectMake\u304c\u5ec3\u6b62","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"1.uikit/069_animation/#reference","text":"UIView https://developer.apple.com/reference/uikit/uiview","title":"Reference"},{"location":"1.uikit/070_uitouch/","text":"\u30c9\u30e9\u30c3\u30b0\u3067View\u3092\u79fb\u52d5\u3055\u305b\u308b Swift 4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 // // ViewController.swift // UIKit070 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { var myLabel : UILabel ! override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u3092\u9ed2\u8272\u306b\u8a2d\u5b9a. self . view . backgroundColor = UIColor . black // Label\u3092\u751f\u6210. myLabel = UILabel ( frame : CGRect ( x : 0 , y : 0 , width : 80 , height : 80 )) myLabel . text = \"Drag!\" myLabel . textAlignment = NSTextAlignment . center myLabel . backgroundColor = UIColor . red myLabel . layer . masksToBounds = true myLabel . center = self . view . center myLabel . layer . cornerRadius = 40.0 // Label\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( myLabel ) } /* \u30bf\u30c3\u30c1\u3092\u611f\u77e5\u3057\u305f\u969b\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ override func touchesBegan ( _ touches : Set < UITouch >, with event : UIEvent ?) { print ( \"touchesBegan\" ) // Label\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3. UIView . animate ( withDuration : 0.06 , // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u4e2d\u306e\u51e6\u7406. animations : { () -> Void in // \u7e2e\u5c0f\u7528\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u3092\u4f5c\u6210\u3059\u308b. self . myLabel . transform = CGAffineTransform ( scaleX : 0.9 , y : 0.9 ) }) { ( Bool ) -> Void in } } /* \u30c9\u30e9\u30c3\u30b0\u3092\u611f\u77e5\u3057\u305f\u969b\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. (\u30c9\u30e9\u30c3\u30b0\u4e2d\u4f55\u5ea6\u3082\u547c\u3070\u308c\u308b) */ override func touchesMoved ( _ touches : Set < UITouch >, with event : UIEvent ?) { print ( \"touchesMoved\" ) // \u30bf\u30c3\u30c1\u30a4\u30d9\u30f3\u30c8\u3092\u53d6\u5f97. let aTouch : UITouch = touches . first ! // \u79fb\u52d5\u3057\u305f\u5148\u306e\u5ea7\u6a19\u3092\u53d6\u5f97. let location = aTouch . location ( in : self . view ) // \u79fb\u52d5\u3059\u308b\u524d\u306e\u5ea7\u6a19\u3092\u53d6\u5f97. let prevLocation = aTouch . previousLocation ( in : self . view ) // CGRect\u751f\u6210. var myFrame : CGRect = self . view . frame // \u30c9\u30e9\u30c3\u30b0\u3067\u79fb\u52d5\u3057\u305fx, y\u8ddd\u96e2\u3092\u3068\u308b. let deltaX : CGFloat = location . x - prevLocation . x let deltaY : CGFloat = location . y - prevLocation . y // \u79fb\u52d5\u3057\u305f\u5206\u306e\u8ddd\u96e2\u3092myFrame\u306e\u5ea7\u6a19\u306b\u30d7\u30e9\u30b9\u3059\u308b. myFrame . origin . x += deltaX myFrame . origin . y += deltaY // frame\u306bmyFrame\u3092\u8ffd\u52a0. self . view . frame = myFrame } /* \u6307\u304c\u96e2\u308c\u305f\u3053\u3068\u3092\u611f\u77e5\u3057\u305f\u969b\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ override func touchesEnded ( _ touches : Set < UITouch >, with event : UIEvent ?) { print ( \"touchesEnded\" ) // Label\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3. UIView . animate ( withDuration : 0.1 , // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u4e2d\u306e\u51e6\u7406. animations : { () -> Void in // \u62e1\u5927\u7528\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u3092\u4f5c\u6210\u3059\u308b. self . myLabel . transform = CGAffineTransform ( scaleX : 0.4 , y : 0.4 ) // \u7e2e\u5c0f\u7528\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u3092\u4f5c\u6210\u3059\u308b. self . myLabel . transform = CGAffineTransform ( scaleX : 1.0 , y : 1.0 ) }) { ( Bool ) -> Void in } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 // // ViewController.swift // UIKit070 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { var myLabel : UILabel ! override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u3092\u9ed2\u8272\u306b\u8a2d\u5b9a. self . view . backgroundColor = UIColor . blackColor () // Label\u3092\u751f\u6210. myLabel = UILabel ( frame : CGRectMake ( 0 , 0 , 80 , 80 )) myLabel . text = \"Drag!\" myLabel . textAlignment = NSTextAlignment . Center myLabel . backgroundColor = UIColor . redColor () myLabel . layer . masksToBounds = true myLabel . center = self . view . center myLabel . layer . cornerRadius = 40.0 // Label\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( myLabel ) } /* \u30bf\u30c3\u30c1\u3092\u611f\u77e5\u3057\u305f\u969b\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ override func touchesBegan ( touches : Set < UITouch >, withEvent event : UIEvent ?) { print ( \"touchesBegan\" ) // Label\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3. UIView . animateWithDuration ( 0.06 , // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u4e2d\u306e\u51e6\u7406. animations : { () -> Void in // \u7e2e\u5c0f\u7528\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u3092\u4f5c\u6210\u3059\u308b. self . myLabel . transform = CGAffineTransformMakeScale ( 0.9 , 0.9 ) }) { ( Bool ) -> Void in } } /* \u30c9\u30e9\u30c3\u30b0\u3092\u611f\u77e5\u3057\u305f\u969b\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. (\u30c9\u30e9\u30c3\u30b0\u4e2d\u4f55\u5ea6\u3082\u547c\u3070\u308c\u308b) */ override func touchesMoved ( touches : Set < UITouch >, withEvent event : UIEvent ?) { print ( \"touchesMoved\" ) // \u30bf\u30c3\u30c1\u30a4\u30d9\u30f3\u30c8\u3092\u53d6\u5f97. let aTouch : UITouch = touches . first ! // \u79fb\u52d5\u3057\u305f\u5148\u306e\u5ea7\u6a19\u3092\u53d6\u5f97. let location = aTouch . locationInView ( self . view ) // \u79fb\u52d5\u3059\u308b\u524d\u306e\u5ea7\u6a19\u3092\u53d6\u5f97. let prevLocation = aTouch . previousLocationInView ( self . view ) // CGRect\u751f\u6210. var myFrame : CGRect = self . view . frame // \u30c9\u30e9\u30c3\u30b0\u3067\u79fb\u52d5\u3057\u305fx, y\u8ddd\u96e2\u3092\u3068\u308b. let deltaX : CGFloat = location . x - prevLocation . x let deltaY : CGFloat = location . y - prevLocation . y // \u79fb\u52d5\u3057\u305f\u5206\u306e\u8ddd\u96e2\u3092myFrame\u306e\u5ea7\u6a19\u306b\u30d7\u30e9\u30b9\u3059\u308b. myFrame . origin . x += deltaX myFrame . origin . y += deltaY // frame\u306bmyFrame\u3092\u8ffd\u52a0. self . view . frame = myFrame } /* \u6307\u304c\u96e2\u308c\u305f\u3053\u3068\u3092\u611f\u77e5\u3057\u305f\u969b\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ override func touchesEnded ( touches : Set < UITouch >, withEvent event : UIEvent ?) { print ( \"touchesEnded\" ) // Label\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3. UIView . animateWithDuration ( 0.1 , // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u4e2d\u306e\u51e6\u7406. animations : { () -> Void in // \u62e1\u5927\u7528\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u3092\u4f5c\u6210\u3059\u308b. self . myLabel . transform = CGAffineTransformMakeScale ( 0.4 , 0.4 ) // \u7e2e\u5c0f\u7528\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u3092\u4f5c\u6210\u3059\u308b. self . myLabel . transform = CGAffineTransformMakeScale ( 1.0 , 1.0 ) }) { ( Bool ) -> Void in } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } 2.3\u30683.0\u306e\u5dee\u5206 touchesBegan(touches: Set<UITouch>, withEvent event: UIEvent?) \u304b\u3089 touchesBegan(_ touches: Set<UITouch>, with event: UIEvent?) \u306b\u5909\u66f4 Reference UITouch https://developer.apple.com/reference/uikit/uitouch","title":"\u30c9\u30e9\u30c3\u30b0\u3067View\u3092\u79fb\u52d5\u3055\u305b\u308b"},{"location":"1.uikit/070_uitouch/#view","text":"Swift 4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 // // ViewController.swift // UIKit070 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { var myLabel : UILabel ! override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u3092\u9ed2\u8272\u306b\u8a2d\u5b9a. self . view . backgroundColor = UIColor . black // Label\u3092\u751f\u6210. myLabel = UILabel ( frame : CGRect ( x : 0 , y : 0 , width : 80 , height : 80 )) myLabel . text = \"Drag!\" myLabel . textAlignment = NSTextAlignment . center myLabel . backgroundColor = UIColor . red myLabel . layer . masksToBounds = true myLabel . center = self . view . center myLabel . layer . cornerRadius = 40.0 // Label\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( myLabel ) } /* \u30bf\u30c3\u30c1\u3092\u611f\u77e5\u3057\u305f\u969b\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ override func touchesBegan ( _ touches : Set < UITouch >, with event : UIEvent ?) { print ( \"touchesBegan\" ) // Label\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3. UIView . animate ( withDuration : 0.06 , // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u4e2d\u306e\u51e6\u7406. animations : { () -> Void in // \u7e2e\u5c0f\u7528\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u3092\u4f5c\u6210\u3059\u308b. self . myLabel . transform = CGAffineTransform ( scaleX : 0.9 , y : 0.9 ) }) { ( Bool ) -> Void in } } /* \u30c9\u30e9\u30c3\u30b0\u3092\u611f\u77e5\u3057\u305f\u969b\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. (\u30c9\u30e9\u30c3\u30b0\u4e2d\u4f55\u5ea6\u3082\u547c\u3070\u308c\u308b) */ override func touchesMoved ( _ touches : Set < UITouch >, with event : UIEvent ?) { print ( \"touchesMoved\" ) // \u30bf\u30c3\u30c1\u30a4\u30d9\u30f3\u30c8\u3092\u53d6\u5f97. let aTouch : UITouch = touches . first ! // \u79fb\u52d5\u3057\u305f\u5148\u306e\u5ea7\u6a19\u3092\u53d6\u5f97. let location = aTouch . location ( in : self . view ) // \u79fb\u52d5\u3059\u308b\u524d\u306e\u5ea7\u6a19\u3092\u53d6\u5f97. let prevLocation = aTouch . previousLocation ( in : self . view ) // CGRect\u751f\u6210. var myFrame : CGRect = self . view . frame // \u30c9\u30e9\u30c3\u30b0\u3067\u79fb\u52d5\u3057\u305fx, y\u8ddd\u96e2\u3092\u3068\u308b. let deltaX : CGFloat = location . x - prevLocation . x let deltaY : CGFloat = location . y - prevLocation . y // \u79fb\u52d5\u3057\u305f\u5206\u306e\u8ddd\u96e2\u3092myFrame\u306e\u5ea7\u6a19\u306b\u30d7\u30e9\u30b9\u3059\u308b. myFrame . origin . x += deltaX myFrame . origin . y += deltaY // frame\u306bmyFrame\u3092\u8ffd\u52a0. self . view . frame = myFrame } /* \u6307\u304c\u96e2\u308c\u305f\u3053\u3068\u3092\u611f\u77e5\u3057\u305f\u969b\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ override func touchesEnded ( _ touches : Set < UITouch >, with event : UIEvent ?) { print ( \"touchesEnded\" ) // Label\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3. UIView . animate ( withDuration : 0.1 , // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u4e2d\u306e\u51e6\u7406. animations : { () -> Void in // \u62e1\u5927\u7528\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u3092\u4f5c\u6210\u3059\u308b. self . myLabel . transform = CGAffineTransform ( scaleX : 0.4 , y : 0.4 ) // \u7e2e\u5c0f\u7528\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u3092\u4f5c\u6210\u3059\u308b. self . myLabel . transform = CGAffineTransform ( scaleX : 1.0 , y : 1.0 ) }) { ( Bool ) -> Void in } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 // // ViewController.swift // UIKit070 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { var myLabel : UILabel ! override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u3092\u9ed2\u8272\u306b\u8a2d\u5b9a. self . view . backgroundColor = UIColor . blackColor () // Label\u3092\u751f\u6210. myLabel = UILabel ( frame : CGRectMake ( 0 , 0 , 80 , 80 )) myLabel . text = \"Drag!\" myLabel . textAlignment = NSTextAlignment . Center myLabel . backgroundColor = UIColor . redColor () myLabel . layer . masksToBounds = true myLabel . center = self . view . center myLabel . layer . cornerRadius = 40.0 // Label\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( myLabel ) } /* \u30bf\u30c3\u30c1\u3092\u611f\u77e5\u3057\u305f\u969b\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ override func touchesBegan ( touches : Set < UITouch >, withEvent event : UIEvent ?) { print ( \"touchesBegan\" ) // Label\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3. UIView . animateWithDuration ( 0.06 , // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u4e2d\u306e\u51e6\u7406. animations : { () -> Void in // \u7e2e\u5c0f\u7528\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u3092\u4f5c\u6210\u3059\u308b. self . myLabel . transform = CGAffineTransformMakeScale ( 0.9 , 0.9 ) }) { ( Bool ) -> Void in } } /* \u30c9\u30e9\u30c3\u30b0\u3092\u611f\u77e5\u3057\u305f\u969b\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. (\u30c9\u30e9\u30c3\u30b0\u4e2d\u4f55\u5ea6\u3082\u547c\u3070\u308c\u308b) */ override func touchesMoved ( touches : Set < UITouch >, withEvent event : UIEvent ?) { print ( \"touchesMoved\" ) // \u30bf\u30c3\u30c1\u30a4\u30d9\u30f3\u30c8\u3092\u53d6\u5f97. let aTouch : UITouch = touches . first ! // \u79fb\u52d5\u3057\u305f\u5148\u306e\u5ea7\u6a19\u3092\u53d6\u5f97. let location = aTouch . locationInView ( self . view ) // \u79fb\u52d5\u3059\u308b\u524d\u306e\u5ea7\u6a19\u3092\u53d6\u5f97. let prevLocation = aTouch . previousLocationInView ( self . view ) // CGRect\u751f\u6210. var myFrame : CGRect = self . view . frame // \u30c9\u30e9\u30c3\u30b0\u3067\u79fb\u52d5\u3057\u305fx, y\u8ddd\u96e2\u3092\u3068\u308b. let deltaX : CGFloat = location . x - prevLocation . x let deltaY : CGFloat = location . y - prevLocation . y // \u79fb\u52d5\u3057\u305f\u5206\u306e\u8ddd\u96e2\u3092myFrame\u306e\u5ea7\u6a19\u306b\u30d7\u30e9\u30b9\u3059\u308b. myFrame . origin . x += deltaX myFrame . origin . y += deltaY // frame\u306bmyFrame\u3092\u8ffd\u52a0. self . view . frame = myFrame } /* \u6307\u304c\u96e2\u308c\u305f\u3053\u3068\u3092\u611f\u77e5\u3057\u305f\u969b\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ override func touchesEnded ( touches : Set < UITouch >, withEvent event : UIEvent ?) { print ( \"touchesEnded\" ) // Label\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3. UIView . animateWithDuration ( 0.1 , // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u4e2d\u306e\u51e6\u7406. animations : { () -> Void in // \u62e1\u5927\u7528\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u3092\u4f5c\u6210\u3059\u308b. self . myLabel . transform = CGAffineTransformMakeScale ( 0.4 , 0.4 ) // \u7e2e\u5c0f\u7528\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u3092\u4f5c\u6210\u3059\u308b. self . myLabel . transform = CGAffineTransformMakeScale ( 1.0 , 1.0 ) }) { ( Bool ) -> Void in } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } }","title":"\u30c9\u30e9\u30c3\u30b0\u3067View\u3092\u79fb\u52d5\u3055\u305b\u308b"},{"location":"1.uikit/070_uitouch/#2330","text":"touchesBegan(touches: Set<UITouch>, withEvent event: UIEvent?) \u304b\u3089 touchesBegan(_ touches: Set<UITouch>, with event: UIEvent?) \u306b\u5909\u66f4","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"1.uikit/070_uitouch/#reference","text":"UITouch https://developer.apple.com/reference/uikit/uitouch","title":"Reference"},{"location":"1.uikit/071_modal/","text":"\u30e2\u30fc\u30c0\u30eb\u8868\u793a\u3055\u305b\u308b ViewController.swift Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 // // ViewController.swift // UIKit071 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { // PopButton\u3092\u751f\u6210. let myButton = UIButton () myButton . frame = CGRect ( x : 0 , y : 0 , width : 200 , height : 40 ) myButton . backgroundColor = UIColor . red myButton . layer . masksToBounds = true myButton . setTitle ( \"PopOver\" , for : UIControl . State . normal ) myButton . setTitleColor ( UIColor . white , for : UIControl . State . normal ) myButton . setTitleColor ( UIColor . black , for : UIControl . State . highlighted ) myButton . layer . cornerRadius = 20.0 myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : 200 ) myButton . tag = 0 myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchUpInside ) // view\u306bButton\u3092\u8ffd\u52a0. self . view . addSubview ( myButton ) } /* Button\u304c\u62bc\u3055\u308c\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ @objc func onClickMyButton ( sender : UIButton ){ // secondViewController\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u751f\u6210. let second = SecondViewController () // navigationController\u306erootViewController\u306bsecondViewController\u3092\u30bb\u30c3\u30c8. let nav = UINavigationController ( rootViewController : second ) // \u753b\u9762\u9077\u79fb. self . present ( nav , animated : true , completion : nil ) } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 // // ViewController.swift // UIKit071 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { // PopButton\u3092\u751f\u6210. let myButton = UIButton () myButton . frame = CGRect ( x : 0 , y : 0 , width : 200 , height : 40 ) myButton . backgroundColor = UIColor . red myButton . layer . masksToBounds = true myButton . setTitle ( \"PopOver\" , for : UIControlState . normal ) myButton . setTitleColor ( UIColor . white , for : UIControlState . normal ) myButton . setTitleColor ( UIColor . black , for : UIControlState . highlighted ) myButton . layer . cornerRadius = 20.0 myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : 200 ) myButton . tag = 0 myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchUpInside ) // view\u306bButton\u3092\u8ffd\u52a0. self . view . addSubview ( myButton ) } /* Button\u304c\u62bc\u3055\u308c\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func onClickMyButton ( sender : UIButton ){ // secondViewController\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u751f\u6210. let second = SecondViewController () // navigationController\u306erootViewController\u306bsecondViewController\u3092\u30bb\u30c3\u30c8. let nav = UINavigationController ( rootViewController : second ) // \u753b\u9762\u9077\u79fb. self . present ( nav , animated : true , completion : nil ) } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 // // ViewController.swift // UIKit071 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { // PopButton\u3092\u751f\u6210. let myButton = UIButton () myButton . frame = CGRectMake ( 0 , 0 , 200 , 40 ) myButton . backgroundColor = UIColor . redColor () myButton . layer . masksToBounds = true myButton . setTitle ( \"PopOver\" , forState : UIControlState . Normal ) myButton . setTitleColor ( UIColor . whiteColor (), forState : UIControlState . Normal ) myButton . setTitleColor ( UIColor . blackColor (), forState : UIControlState . Highlighted ) myButton . layer . cornerRadius = 20.0 myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : 200 ) myButton . tag = 0 myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : . TouchUpInside ) // view\u306bButton\u3092\u8ffd\u52a0. self . view . addSubview ( myButton ) } /* Button\u304c\u62bc\u3055\u308c\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func onClickMyButton ( sender : UIButton ){ // secondViewController\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u751f\u6210. let second = SecondViewController () // navigationController\u306erootViewController\u306bsecondViewController\u3092\u30bb\u30c3\u30c8. let nav = UINavigationController ( rootViewController : second ) // \u753b\u9762\u9077\u79fb. self . presentViewController ( nav , animated : true , completion : nil ) } } SecondViewController.swift Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 // // SecondViewController.swift // UIKit071 // // Created by Misato Morino on 2016/08/19. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class SecondViewController : UIViewController { override func viewDidLoad () { self . view . backgroundColor = UIColor . black // \u3082\u3069\u308bButton\u3092\u751f\u6210. let myButton = UIButton () myButton . frame = CGRect ( x : 0 , y : 0 , width : 200 , height : 40 ) myButton . backgroundColor = UIColor . red myButton . layer . masksToBounds = true myButton . setTitle ( \"\u3082\u3069\u308b\" , for : UIControl . State . normal ) myButton . setTitleColor ( UIColor . white , for : UIControl . State . normal ) myButton . setTitleColor ( UIColor . black , for : UIControl . State . highlighted ) myButton . layer . cornerRadius = 20.0 myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : 200 ) myButton . tag = 1 myButton . addTarget ( self , action : #selector ( SecondViewController . onClickMyButton ( sender :)), for : . touchUpInside ) // view\u306bButton\u3092\u8ffd\u52a0. self . view . addSubview ( myButton ) } /* Button\u3092\u62bc\u3057\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ @objc func onClickMyButton ( sender : UIButton ){ // view\u3092\u9589\u3058\u308b. self . navigationController ?. dismiss ( animated : true , completion : nil ) } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 // // SecondViewController.swift // UIKit071 // // Created by Misato Morino on 2016/08/19. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class SecondViewController : UIViewController { override func viewDidLoad () { self . view . backgroundColor = UIColor . black // \u3082\u3069\u308bButton\u3092\u751f\u6210. let myButton = UIButton () myButton . frame = CGRect ( x : 0 , y : 0 , width : 200 , height : 40 ) myButton . backgroundColor = UIColor . red myButton . layer . masksToBounds = true myButton . setTitle ( \"\u3082\u3069\u308b\" , for : UIControlState . normal ) myButton . setTitleColor ( UIColor . white , for : UIControlState . normal ) myButton . setTitleColor ( UIColor . black , for : UIControlState . highlighted ) myButton . layer . cornerRadius = 20.0 myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : 200 ) myButton . tag = 1 myButton . addTarget ( self , action : #selector ( SecondViewController . onClickMyButton ( sender :)), for : . touchUpInside ) // view\u306bButton\u3092\u8ffd\u52a0. self . view . addSubview ( myButton ) } /* Button\u3092\u62bc\u3057\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func onClickMyButton ( sender : UIButton ){ // view\u3092\u9589\u3058\u308b. self . navigationController ?. dismiss ( animated : true , completion : nil ) } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 // // SecondViewController.swift // UIKit071 // // Created by Misato Morino on 2016/08/19. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class SecondViewController : UIViewController { override func viewDidLoad () { self . view . backgroundColor = UIColor . blackColor () // \u3082\u3069\u308bButton\u3092\u751f\u6210. let myButton = UIButton () myButton . frame = CGRectMake ( 0 , 0 , 200 , 40 ) myButton . backgroundColor = UIColor . redColor () myButton . layer . masksToBounds = true myButton . setTitle ( \"\u3082\u3069\u308b\" , forState : UIControlState . Normal ) myButton . setTitleColor ( UIColor . whiteColor (), forState : UIControlState . Normal ) myButton . setTitleColor ( UIColor . blackColor (), forState : UIControlState . Highlighted ) myButton . layer . cornerRadius = 20.0 myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : 200 ) myButton . tag = 1 myButton . addTarget ( self , action : #selector ( SecondViewController . onClickMyButton ( _ :)), forControlEvents : . TouchUpInside ) // view\u306bButton\u3092\u8ffd\u52a0. self . view . addSubview ( myButton ) } /* Button\u3092\u62bc\u3057\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func onClickMyButton ( sender : UIButton ){ // view\u3092\u9589\u3058\u308b. self . navigationController ?. dismissViewControllerAnimated ( true , completion : nil ) } } 3.x\u30684.x\u306e\u5dee\u5206 UIControlState \u304c UIControl.State \u306b\u5909\u66f4 func onClickMyButton(sender : UIButton) \u306b @objc \u3092\u8ffd\u52a0 2.3\u30683.0\u306e\u5dee\u5206 CGRectMake\u304c\u5ec3\u6b62 \u30bb\u30ec\u30af\u30bf\u304c Selector(\"onDownMainButton:\") \u304b\u3089 #selector(myCusButton.onDownMainButton(sender:) \u306b\u5909\u66f4 Reference UINavigationController https://developer.apple.com/reference/uikit/uinavigationcontroller UIViewController https://developer.apple.com/reference/uikit/uiviewcontroller","title":"\u30e2\u30fc\u30c0\u30eb\u8868\u793a\u3055\u305b\u308b"},{"location":"1.uikit/071_modal/#_1","text":"","title":"\u30e2\u30fc\u30c0\u30eb\u8868\u793a\u3055\u305b\u308b"},{"location":"1.uikit/071_modal/#viewcontrollerswift","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 // // ViewController.swift // UIKit071 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { // PopButton\u3092\u751f\u6210. let myButton = UIButton () myButton . frame = CGRect ( x : 0 , y : 0 , width : 200 , height : 40 ) myButton . backgroundColor = UIColor . red myButton . layer . masksToBounds = true myButton . setTitle ( \"PopOver\" , for : UIControl . State . normal ) myButton . setTitleColor ( UIColor . white , for : UIControl . State . normal ) myButton . setTitleColor ( UIColor . black , for : UIControl . State . highlighted ) myButton . layer . cornerRadius = 20.0 myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : 200 ) myButton . tag = 0 myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchUpInside ) // view\u306bButton\u3092\u8ffd\u52a0. self . view . addSubview ( myButton ) } /* Button\u304c\u62bc\u3055\u308c\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ @objc func onClickMyButton ( sender : UIButton ){ // secondViewController\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u751f\u6210. let second = SecondViewController () // navigationController\u306erootViewController\u306bsecondViewController\u3092\u30bb\u30c3\u30c8. let nav = UINavigationController ( rootViewController : second ) // \u753b\u9762\u9077\u79fb. self . present ( nav , animated : true , completion : nil ) } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 // // ViewController.swift // UIKit071 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { // PopButton\u3092\u751f\u6210. let myButton = UIButton () myButton . frame = CGRect ( x : 0 , y : 0 , width : 200 , height : 40 ) myButton . backgroundColor = UIColor . red myButton . layer . masksToBounds = true myButton . setTitle ( \"PopOver\" , for : UIControlState . normal ) myButton . setTitleColor ( UIColor . white , for : UIControlState . normal ) myButton . setTitleColor ( UIColor . black , for : UIControlState . highlighted ) myButton . layer . cornerRadius = 20.0 myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : 200 ) myButton . tag = 0 myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchUpInside ) // view\u306bButton\u3092\u8ffd\u52a0. self . view . addSubview ( myButton ) } /* Button\u304c\u62bc\u3055\u308c\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func onClickMyButton ( sender : UIButton ){ // secondViewController\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u751f\u6210. let second = SecondViewController () // navigationController\u306erootViewController\u306bsecondViewController\u3092\u30bb\u30c3\u30c8. let nav = UINavigationController ( rootViewController : second ) // \u753b\u9762\u9077\u79fb. self . present ( nav , animated : true , completion : nil ) } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 // // ViewController.swift // UIKit071 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { // PopButton\u3092\u751f\u6210. let myButton = UIButton () myButton . frame = CGRectMake ( 0 , 0 , 200 , 40 ) myButton . backgroundColor = UIColor . redColor () myButton . layer . masksToBounds = true myButton . setTitle ( \"PopOver\" , forState : UIControlState . Normal ) myButton . setTitleColor ( UIColor . whiteColor (), forState : UIControlState . Normal ) myButton . setTitleColor ( UIColor . blackColor (), forState : UIControlState . Highlighted ) myButton . layer . cornerRadius = 20.0 myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : 200 ) myButton . tag = 0 myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : . TouchUpInside ) // view\u306bButton\u3092\u8ffd\u52a0. self . view . addSubview ( myButton ) } /* Button\u304c\u62bc\u3055\u308c\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func onClickMyButton ( sender : UIButton ){ // secondViewController\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u751f\u6210. let second = SecondViewController () // navigationController\u306erootViewController\u306bsecondViewController\u3092\u30bb\u30c3\u30c8. let nav = UINavigationController ( rootViewController : second ) // \u753b\u9762\u9077\u79fb. self . presentViewController ( nav , animated : true , completion : nil ) } }","title":"ViewController.swift"},{"location":"1.uikit/071_modal/#secondviewcontrollerswift","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 // // SecondViewController.swift // UIKit071 // // Created by Misato Morino on 2016/08/19. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class SecondViewController : UIViewController { override func viewDidLoad () { self . view . backgroundColor = UIColor . black // \u3082\u3069\u308bButton\u3092\u751f\u6210. let myButton = UIButton () myButton . frame = CGRect ( x : 0 , y : 0 , width : 200 , height : 40 ) myButton . backgroundColor = UIColor . red myButton . layer . masksToBounds = true myButton . setTitle ( \"\u3082\u3069\u308b\" , for : UIControl . State . normal ) myButton . setTitleColor ( UIColor . white , for : UIControl . State . normal ) myButton . setTitleColor ( UIColor . black , for : UIControl . State . highlighted ) myButton . layer . cornerRadius = 20.0 myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : 200 ) myButton . tag = 1 myButton . addTarget ( self , action : #selector ( SecondViewController . onClickMyButton ( sender :)), for : . touchUpInside ) // view\u306bButton\u3092\u8ffd\u52a0. self . view . addSubview ( myButton ) } /* Button\u3092\u62bc\u3057\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ @objc func onClickMyButton ( sender : UIButton ){ // view\u3092\u9589\u3058\u308b. self . navigationController ?. dismiss ( animated : true , completion : nil ) } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 // // SecondViewController.swift // UIKit071 // // Created by Misato Morino on 2016/08/19. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class SecondViewController : UIViewController { override func viewDidLoad () { self . view . backgroundColor = UIColor . black // \u3082\u3069\u308bButton\u3092\u751f\u6210. let myButton = UIButton () myButton . frame = CGRect ( x : 0 , y : 0 , width : 200 , height : 40 ) myButton . backgroundColor = UIColor . red myButton . layer . masksToBounds = true myButton . setTitle ( \"\u3082\u3069\u308b\" , for : UIControlState . normal ) myButton . setTitleColor ( UIColor . white , for : UIControlState . normal ) myButton . setTitleColor ( UIColor . black , for : UIControlState . highlighted ) myButton . layer . cornerRadius = 20.0 myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : 200 ) myButton . tag = 1 myButton . addTarget ( self , action : #selector ( SecondViewController . onClickMyButton ( sender :)), for : . touchUpInside ) // view\u306bButton\u3092\u8ffd\u52a0. self . view . addSubview ( myButton ) } /* Button\u3092\u62bc\u3057\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func onClickMyButton ( sender : UIButton ){ // view\u3092\u9589\u3058\u308b. self . navigationController ?. dismiss ( animated : true , completion : nil ) } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 // // SecondViewController.swift // UIKit071 // // Created by Misato Morino on 2016/08/19. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class SecondViewController : UIViewController { override func viewDidLoad () { self . view . backgroundColor = UIColor . blackColor () // \u3082\u3069\u308bButton\u3092\u751f\u6210. let myButton = UIButton () myButton . frame = CGRectMake ( 0 , 0 , 200 , 40 ) myButton . backgroundColor = UIColor . redColor () myButton . layer . masksToBounds = true myButton . setTitle ( \"\u3082\u3069\u308b\" , forState : UIControlState . Normal ) myButton . setTitleColor ( UIColor . whiteColor (), forState : UIControlState . Normal ) myButton . setTitleColor ( UIColor . blackColor (), forState : UIControlState . Highlighted ) myButton . layer . cornerRadius = 20.0 myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : 200 ) myButton . tag = 1 myButton . addTarget ( self , action : #selector ( SecondViewController . onClickMyButton ( _ :)), forControlEvents : . TouchUpInside ) // view\u306bButton\u3092\u8ffd\u52a0. self . view . addSubview ( myButton ) } /* Button\u3092\u62bc\u3057\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func onClickMyButton ( sender : UIButton ){ // view\u3092\u9589\u3058\u308b. self . navigationController ?. dismissViewControllerAnimated ( true , completion : nil ) } }","title":"SecondViewController.swift"},{"location":"1.uikit/071_modal/#3x4x","text":"UIControlState \u304c UIControl.State \u306b\u5909\u66f4 func onClickMyButton(sender : UIButton) \u306b @objc \u3092\u8ffd\u52a0","title":"3.x\u30684.x\u306e\u5dee\u5206"},{"location":"1.uikit/071_modal/#2330","text":"CGRectMake\u304c\u5ec3\u6b62 \u30bb\u30ec\u30af\u30bf\u304c Selector(\"onDownMainButton:\") \u304b\u3089 #selector(myCusButton.onDownMainButton(sender:) \u306b\u5909\u66f4","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"1.uikit/071_modal/#reference","text":"UINavigationController https://developer.apple.com/reference/uikit/uinavigationcontroller UIViewController https://developer.apple.com/reference/uikit/uiviewcontroller","title":"Reference"},{"location":"1.uikit/072_custombutton/","text":"\u4e00\u3064\u306e\u30dc\u30bf\u30f3\u304b\u3089\u8907\u6570\u306e\u30dc\u30bf\u30f3\u304c\u98db\u3073\u51fa\u3059 ViewController.swift Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 // // ViewController.swift // UIKit072 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { var mainButton : UIButton = UIButton () override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u3092\u9ed2\u8272\u306b\u8a2d\u5b9a. self . view . backgroundColor = UIColor . black // main\u30dc\u30bf\u30f3\u751f\u6210. mainButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 100 , height : 100 )) mainButton . center = self . view . center // myCustomButton\u30af\u30e9\u30b9\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u751f\u6210. let myCusButton : MyCustomButton = MyCustomButton ( frame : self . view . frame ) myCusButton . mainButton = self . mainButton myCusButton . mainPosition = self . mainButton . layer . position // \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( myCusButton ) // main\u30dc\u30bf\u30f3\u5404\u8a2d\u5b9a. mainButton . layer . masksToBounds = true mainButton . layer . cornerRadius = 50.0 mainButton . backgroundColor = UIColor . red mainButton . setTitle ( \"Fire!\" , for : . normal ) mainButton . setTitleColor ( UIColor . white , for : . normal ) mainButton . addTarget ( myCusButton , action : #selector ( myCusButton . onDownMainButton ( sender :)), for : UIControl . Event . touchUpInside ) mainButton . addTarget ( myCusButton , action : #selector ( myCusButton . onUpMainButton ( sender :)), for : [. touchUpInside , . touchDragOutside ]) mainButton . tag = 0 // main\u30dc\u30bf\u30f3\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( mainButton ) } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 // // ViewController.swift // UIKit072 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { var mainButton : UIButton = UIButton () override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u3092\u9ed2\u8272\u306b\u8a2d\u5b9a. self . view . backgroundColor = UIColor . black // main\u30dc\u30bf\u30f3\u751f\u6210. mainButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 100 , height : 100 )) mainButton . center = self . view . center // myCustomButton\u30af\u30e9\u30b9\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u751f\u6210. let myCusButton : MyCustomButton = MyCustomButton ( frame : self . view . frame ) myCusButton . mainButton = self . mainButton myCusButton . mainPosition = self . mainButton . layer . position // \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( myCusButton ) // main\u30dc\u30bf\u30f3\u5404\u8a2d\u5b9a. mainButton . layer . masksToBounds = true mainButton . layer . cornerRadius = 50.0 mainButton . backgroundColor = UIColor . red mainButton . setTitle ( \"Fire!\" , for : . normal ) mainButton . setTitleColor ( UIColor . white , for : . normal ) mainButton . addTarget ( myCusButton , action : #selector ( myCusButton . onDownMainButton ( sender :)), for : UIControlEvents . touchUpInside ) mainButton . addTarget ( myCusButton , action : #selector ( myCusButton . onUpMainButton ( sender :)), for : [. touchUpInside , . touchDragOutside ]) mainButton . tag = 0 // main\u30dc\u30bf\u30f3\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( mainButton ) } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 // // ViewController.swift // UIKit072 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { var mainButton : UIButton = UIButton () override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u3092\u9ed2\u8272\u306b\u8a2d\u5b9a. self . view . backgroundColor = UIColor . blackColor () // main\u30dc\u30bf\u30f3\u751f\u6210. mainButton = UIButton ( frame : CGRectMake ( 0 , 0 , 100 , 100 )) mainButton . center = self . view . center // myCustomButton\u30af\u30e9\u30b9\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u751f\u6210. let myCusButton : MyCustomButton = MyCustomButton ( frame : self . view . frame ) myCusButton . mainButton = self . mainButton myCusButton . mainPosition = self . mainButton . layer . position // \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( myCusButton ) // main\u30dc\u30bf\u30f3\u5404\u8a2d\u5b9a. mainButton . layer . masksToBounds = true mainButton . layer . cornerRadius = 50.0 mainButton . backgroundColor = UIColor . redColor () mainButton . setTitle ( \"Fire!\" , forState : . Normal ) mainButton . setTitleColor ( UIColor . whiteColor (), forState : . Normal ) mainButton . addTarget ( myCusButton , action : Selector ( \"onDownMainButton:\" ), forControlEvents : UIControlEvents . TouchDown ) mainButton . addTarget ( myCusButton , action : Selector ( \"onUpMainButton:\" ), forControlEvents : [ UIControlEvents . TouchUpInside , UIControlEvents . TouchDragOutside ]) mainButton . tag = 0 // main\u30dc\u30bf\u30f3\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( mainButton ) } } MyCustomeButton.swift Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 // // MyCustomButton.swift // UIKit072 // // Created by Misato Morino on 2016/08/19. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import Foundation import UIKit class MyCustomButton : UIView { // sub\u30dc\u30bf\u30f3(\u98db\u3073\u51fa\u3059\u30dc\u30bf\u30f3)\u3092\u751f\u6210 var subButton_1 : UIButton = UIButton () var subButton_2 : UIButton = UIButton () var subButton_3 : UIButton = UIButton () var subButton_4 : UIButton = UIButton () var subButton_5 : UIButton = UIButton () var mainButton : UIButton ! var colors : NSMutableArray ! var mainPosition : CGPoint ! //var viewControll: UIViewController = ViewController() required init ( coder aDecoder : NSCoder ) { super . init ( coder : aDecoder ) ! } override init ( frame : CGRect ) { super . init ( frame : frame ) } /* \u30e1\u30a4\u30f3\u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8(Down) */ @objc func onDownMainButton ( sender : UIButton ) { // \u80cc\u666f\u3092\u9ed2\u8272\u306b\u8a2d\u5b9a. self . backgroundColor = UIColor . black UIView . animate ( withDuration : 0.06 , // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u4e2d\u306e\u51e6\u7406. animations : { () -> Void in // \u7e2e\u5c0f\u7528\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u3092\u751f\u6210\u3059\u308b. sender . transform = CGAffineTransform ( scaleX : 0.9 , y : 0.9 ) }) { ( Bool ) -> Void in } } /* sub\u30dc\u30bf\u30f3\u306e\u5ea7\u6a19\u3092\u8fd4\u3059\u30e1\u30bd\u30c3\u30c9 */ func getPosition ( angle : CGFloat , radius : CGFloat ) -> CGPoint { // \u5ea6\u304b\u3089\u30e9\u30b8\u30a2\u30f3\u306b\u5909\u63db. let radian = angle * CGFloat ( M_PI ) / 180.0 // x\u5ea7\u6a19\u3092\u8a08\u7b97. let x_position : CGFloat = mainButton . layer . position . x + radius * cos ( radian ) // y\u5ea7\u6a19\u3092\u8a08\u7b97. let y_position = mainPosition . y + radius * sin ( radian ) let position = CGPoint ( x : x_position , y : y_position ) return position } /* \u30e1\u30a4\u30f3\u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8(Up) */ @objc func onUpMainButton ( sender : UIButton ) { // sub\u30dc\u30bf\u30f3\u3092\u914d\u5217\u306b\u683c\u7d0d. let buttons = [ subButton_1 , subButton_2 , subButton_3 , subButton_4 , subButton_5 ] // sub\u30dc\u30bf\u30f3\u7528\u306e\u3000UIColor\u3092\u914d\u5217\u306b\u683c\u7d0d. colors = [ UIColor . yellow , UIColor . green , UIColor . cyan , UIColor . magenta , UIColor . purple ] as NSMutableArray // main\u30dc\u30bf\u30f3\u304b\u3089\u306e\u8ddd\u96e2(\u534a\u5f84). let radius : CGFloat = 150 // sub\u30dc\u30bf\u30f3\u306b\u5404\u7a2e\u8a2d\u5b9a. for i in 0 .. < buttons . count { buttons [ i ]. frame = CGRect ( x : 0 , y : 0 , width : 60 , height : 60 ) buttons [ i ]. layer . cornerRadius = 30.0 buttons [ i ]. backgroundColor = colors [ i ] as ? UIColor buttons [ i ]. center = self . center buttons [ i ]. addTarget ( self , action : #selector ( MyCustomButton . onClickSubButtons ( sender :)), for : UIControl . Event . touchUpInside ) buttons [ i ]. tag = i + 1 // sub\u30dc\u30bf\u30f3\u3092view\u306b\u8ffd\u52a0. self . addSubview ( buttons [ i ]) } UIView . animate ( withDuration : 0.06 , // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u4e2d\u306e\u51e6\u7406. animations : { () -> Void in // \u62e1\u5927\u7528\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u3092\u4f5c\u6210\u3059\u308b. sender . transform = CGAffineTransform ( scaleX : 0.4 , y : 0.4 ) // \u7e2e\u5c0f\u7528\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u3092\u4f5c\u6210\u3059\u308b. sender . transform = CGAffineTransform ( scaleX : 1.0 , y : 1.0 ) }) { ( Bool ) -> Void in } UIView . animate ( withDuration : 0.7 , delay : 0.0 , // \u30d0\u30cd\u3092\u8a2d\u5b9a. usingSpringWithDamping : 0.5 , // \u30d0\u30cd\u306e\u5f3e\u6027\u529b. initialSpringVelocity : 1.5 , options : UIView . AnimationOptions . curveEaseIn , // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u4e2d\u306e\u51e6\u7406. animations : { () -> Void in // sub\u30dc\u30bf\u30f3\u306b\u5ea7\u6a19\u3092\u8a2d\u5b9a. self . subButton_1 . layer . position = self . getPosition ( angle : - 90 , radius : radius ) self . subButton_2 . layer . position = self . getPosition ( angle : - 30 , radius : radius ) self . subButton_3 . layer . position = self . getPosition ( angle : - 60 , radius : radius ) self . subButton_4 . layer . position = self . getPosition ( angle : - 120 , radius : radius ) self . subButton_5 . layer . position = self . getPosition ( angle : - 150 , radius : radius ) }) { ( Bool ) -> Void in } } /* sub\u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8 \u80cc\u666f\u306e\u8272\u3092\u8a2d\u5b9a. */ @objc func onClickSubButtons ( sender : UIButton ) { // \u80cc\u666f\u8272\u3092sub\u30dc\u30bf\u30f3\u306e\u8272\u306b\u8a2d\u5b9a. switch ( sender . tag ) { case 1 : self . backgroundColor = colors [ 0 ] as ? UIColor case 2 : self . backgroundColor = colors [ 1 ] as ? UIColor case 3 : self . backgroundColor = colors [ 2 ] as ? UIColor case 4 : self . backgroundColor = colors [ 3 ] as ? UIColor case 5 : self . backgroundColor = colors [ 4 ] as ? UIColor default : self . backgroundColor = UIColor . black } } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 // // MyCustomButton.swift // UIKit072 // // Created by Misato Morino on 2016/08/19. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import Foundation import UIKit class MyCustomButton : UIView { // sub\u30dc\u30bf\u30f3(\u98db\u3073\u51fa\u3059\u30dc\u30bf\u30f3)\u3092\u751f\u6210 var subButton_1 : UIButton = UIButton () var subButton_2 : UIButton = UIButton () var subButton_3 : UIButton = UIButton () var subButton_4 : UIButton = UIButton () var subButton_5 : UIButton = UIButton () var mainButton : UIButton ! var colors : NSMutableArray ! var mainPosition : CGPoint ! //var viewControll: UIViewController = ViewController() required init ( coder aDecoder : NSCoder ) { super . init ( coder : aDecoder ) ! } override init ( frame : CGRect ) { super . init ( frame : frame ) } /* \u30e1\u30a4\u30f3\u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8(Down) */ func onDownMainButton ( sender : UIButton ) { // \u80cc\u666f\u3092\u9ed2\u8272\u306b\u8a2d\u5b9a. self . backgroundColor = UIColor . black UIView . animate ( withDuration : 0.06 , // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u4e2d\u306e\u51e6\u7406. animations : { () -> Void in // \u7e2e\u5c0f\u7528\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u3092\u751f\u6210\u3059\u308b. sender . transform = CGAffineTransform ( scaleX : 0.9 , y : 0.9 ) }) { ( Bool ) -> Void in } } /* sub\u30dc\u30bf\u30f3\u306e\u5ea7\u6a19\u3092\u8fd4\u3059\u30e1\u30bd\u30c3\u30c9 */ func getPosition ( angle : CGFloat , radius : CGFloat ) -> CGPoint { // \u5ea6\u304b\u3089\u30e9\u30b8\u30a2\u30f3\u306b\u5909\u63db. let radian = angle * CGFloat ( M_PI ) / 180.0 // x\u5ea7\u6a19\u3092\u8a08\u7b97. let x_position : CGFloat = mainButton . layer . position . x + radius * cos ( radian ) // y\u5ea7\u6a19\u3092\u8a08\u7b97. let y_position = mainPosition . y + radius * sin ( radian ) let position = CGPoint ( x : x_position , y : y_position ) return position } /* \u30e1\u30a4\u30f3\u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8(Up) */ func onUpMainButton ( sender : UIButton ) { // sub\u30dc\u30bf\u30f3\u3092\u914d\u5217\u306b\u683c\u7d0d. let buttons = [ subButton_1 , subButton_2 , subButton_3 , subButton_4 , subButton_5 ] // sub\u30dc\u30bf\u30f3\u7528\u306e\u3000UIColor\u3092\u914d\u5217\u306b\u683c\u7d0d. colors = [ UIColor . yellow , UIColor . green , UIColor . cyan , UIColor . magenta , UIColor . purple ] as NSMutableArray // main\u30dc\u30bf\u30f3\u304b\u3089\u306e\u8ddd\u96e2(\u534a\u5f84). let radius : CGFloat = 150 // sub\u30dc\u30bf\u30f3\u306b\u5404\u7a2e\u8a2d\u5b9a. for i in 0 .. < buttons . count { buttons [ i ]. frame = CGRect ( x : 0 , y : 0 , width : 60 , height : 60 ) buttons [ i ]. layer . cornerRadius = 30.0 buttons [ i ]. backgroundColor = colors [ i ] as ? UIColor buttons [ i ]. center = self . center buttons [ i ]. addTarget ( self , action : #selector ( MyCustomButton . onClickSubButtons ( sender :)), for : UIControlEvents . touchUpInside ) buttons [ i ]. tag = i + 1 // sub\u30dc\u30bf\u30f3\u3092view\u306b\u8ffd\u52a0. self . addSubview ( buttons [ i ]) } UIView . animate ( withDuration : 0.06 , // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u4e2d\u306e\u51e6\u7406. animations : { () -> Void in // \u62e1\u5927\u7528\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u3092\u4f5c\u6210\u3059\u308b. sender . transform = CGAffineTransform ( scaleX : 0.4 , y : 0.4 ) // \u7e2e\u5c0f\u7528\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u3092\u4f5c\u6210\u3059\u308b. sender . transform = CGAffineTransform ( scaleX : 1.0 , y : 1.0 ) }) { ( Bool ) -> Void in } UIView . animate ( withDuration : 0.7 , delay : 0.0 , // \u30d0\u30cd\u3092\u8a2d\u5b9a. usingSpringWithDamping : 0.5 , // \u30d0\u30cd\u306e\u5f3e\u6027\u529b. initialSpringVelocity : 1.5 , options : UIViewAnimationOptions . curveEaseIn , // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u4e2d\u306e\u51e6\u7406. animations : { () -> Void in // sub\u30dc\u30bf\u30f3\u306b\u5ea7\u6a19\u3092\u8a2d\u5b9a. self . subButton_1 . layer . position = self . getPosition ( angle : - 90 , radius : radius ) self . subButton_2 . layer . position = self . getPosition ( angle : - 30 , radius : radius ) self . subButton_3 . layer . position = self . getPosition ( angle : - 60 , radius : radius ) self . subButton_4 . layer . position = self . getPosition ( angle : - 120 , radius : radius ) self . subButton_5 . layer . position = self . getPosition ( angle : - 150 , radius : radius ) }) { ( Bool ) -> Void in } } /* sub\u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8 \u80cc\u666f\u306e\u8272\u3092\u8a2d\u5b9a. */ func onClickSubButtons ( sender : UIButton ) { // \u80cc\u666f\u8272\u3092sub\u30dc\u30bf\u30f3\u306e\u8272\u306b\u8a2d\u5b9a. switch ( sender . tag ) { case 1 : self . backgroundColor = colors [ 0 ] as ? UIColor case 2 : self . backgroundColor = colors [ 1 ] as ? UIColor case 3 : self . backgroundColor = colors [ 2 ] as ? UIColor case 4 : self . backgroundColor = colors [ 3 ] as ? UIColor case 5 : self . backgroundColor = colors [ 4 ] as ? UIColor default : self . backgroundColor = UIColor . black } } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 // // MyCustomButton.swift // UIKit072 // // Created by Misato Morino on 2016/08/19. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import Foundation import UIKit class MyCustomButton : UIView { // sub\u30dc\u30bf\u30f3(\u98db\u3073\u51fa\u3059\u30dc\u30bf\u30f3)\u3092\u751f\u6210 var subButton_1 : UIButton = UIButton () var subButton_2 : UIButton = UIButton () var subButton_3 : UIButton = UIButton () var subButton_4 : UIButton = UIButton () var subButton_5 : UIButton = UIButton () var mainButton : UIButton ! var colors : NSMutableArray ! var mainPosition : CGPoint ! //var viewControll: UIViewController = ViewController() required init ( coder aDecoder : NSCoder ) { super . init ( coder : aDecoder ) ! } override init ( frame : CGRect ) { super . init ( frame : frame ) } /* \u30e1\u30a4\u30f3\u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8(Down) */ func onDownMainButton ( sender : UIButton ) { // \u80cc\u666f\u3092\u9ed2\u8272\u306b\u8a2d\u5b9a. self . backgroundColor = UIColor . blackColor () UIView . animateWithDuration ( 0.06 , // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u4e2d\u306e\u51e6\u7406. animations : { () -> Void in // \u7e2e\u5c0f\u7528\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u3092\u751f\u6210\u3059\u308b. sender . transform = CGAffineTransformMakeScale ( 0.9 , 0.9 ) }) { ( Bool ) -> Void in } } /* sub\u30dc\u30bf\u30f3\u306e\u5ea7\u6a19\u3092\u8fd4\u3059\u30e1\u30bd\u30c3\u30c9 */ func getPosition ( angle : CGFloat , radius : CGFloat ) -> CGPoint { // \u5ea6\u304b\u3089\u30e9\u30b8\u30a2\u30f3\u306b\u5909\u63db. let radian = angle * CGFloat ( M_PI ) / 180.0 // x\u5ea7\u6a19\u3092\u8a08\u7b97. let x_position : CGFloat = mainButton . layer . position . x + radius * cos ( radian ) // y\u5ea7\u6a19\u3092\u8a08\u7b97. let y_position = mainPosition . y + radius * sin ( radian ) let position = CGPointMake ( x_position , y_position ) return position } /* \u30e1\u30a4\u30f3\u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8(Up) */ func onUpMainButton ( sender : UIButton ) { // sub\u30dc\u30bf\u30f3\u3092\u914d\u5217\u306b\u683c\u7d0d. let buttons = [ subButton_1 , subButton_2 , subButton_3 , subButton_4 , subButton_5 ] // sub\u30dc\u30bf\u30f3\u7528\u306e\u3000UIColor\u3092\u914d\u5217\u306b\u683c\u7d0d. colors = [ UIColor . yellowColor (), UIColor . greenColor (), UIColor . cyanColor (), UIColor . magentaColor (), UIColor . purpleColor ()] as NSMutableArray // main\u30dc\u30bf\u30f3\u304b\u3089\u306e\u8ddd\u96e2(\u534a\u5f84). let radius : CGFloat = 150 // sub\u30dc\u30bf\u30f3\u306b\u5404\u7a2e\u8a2d\u5b9a. for i in 0 .. < buttons . count { buttons [ i ]. frame = CGRectMake ( 0 , 0 , 60 , 60 ) buttons [ i ]. layer . cornerRadius = 30.0 buttons [ i ]. backgroundColor = colors [ i ] as ? UIColor buttons [ i ]. center = self . center buttons [ i ]. addTarget ( self , action : #selector ( MyCustomButton . onClickSubButtons ( _ :)), forControlEvents : UIControlEvents . TouchUpInside ) buttons [ i ]. tag = i + 1 // sub\u30dc\u30bf\u30f3\u3092view\u306b\u8ffd\u52a0. self . addSubview ( buttons [ i ]) } UIView . animateWithDuration ( 0.06 , // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u4e2d\u306e\u51e6\u7406. animations : { () -> Void in // \u62e1\u5927\u7528\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u3092\u4f5c\u6210\u3059\u308b. sender . transform = CGAffineTransformMakeScale ( 0.4 , 0.4 ) // \u7e2e\u5c0f\u7528\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u3092\u4f5c\u6210\u3059\u308b. sender . transform = CGAffineTransformMakeScale ( 1.0 , 1.0 ) }) { ( Bool ) -> Void in } UIView . animateWithDuration ( 0.7 , delay : 0.0 , // \u30d0\u30cd\u3092\u8a2d\u5b9a. usingSpringWithDamping : 0.5 , // \u30d0\u30cd\u306e\u5f3e\u6027\u529b. initialSpringVelocity : 1.5 , options : UIViewAnimationOptions . CurveEaseIn , // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u4e2d\u306e\u51e6\u7406. animations : { () -> Void in // sub\u30dc\u30bf\u30f3\u306b\u5ea7\u6a19\u3092\u8a2d\u5b9a. self . subButton_1 . layer . position = self . getPosition ( - 90 , radius : radius ) self . subButton_2 . layer . position = self . getPosition ( - 30 , radius : radius ) self . subButton_3 . layer . position = self . getPosition ( - 60 , radius : radius ) self . subButton_4 . layer . position = self . getPosition ( - 120 , radius : radius ) self . subButton_5 . layer . position = self . getPosition ( - 150 , radius : radius ) }) { ( Bool ) -> Void in } } /* sub\u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8 \u80cc\u666f\u306e\u8272\u3092\u8a2d\u5b9a. */ func onClickSubButtons ( sender : UIButton ) { // \u80cc\u666f\u8272\u3092sub\u30dc\u30bf\u30f3\u306e\u8272\u306b\u8a2d\u5b9a. switch ( sender . tag ) { case 1 : self . backgroundColor = colors [ 0 ] as ? UIColor case 2 : self . backgroundColor = colors [ 1 ] as ? UIColor case 3 : self . backgroundColor = colors [ 2 ] as ? UIColor case 4 : self . backgroundColor = colors [ 3 ] as ? UIColor case 5 : self . backgroundColor = colors [ 4 ] as ? UIColor default : self . backgroundColor = UIColor . blackColor () } } } 3.x\u30684.x\u306e\u5dee\u5206 UIControlEvents \u3092 UIControl.Event \u306b\u5909\u66f4 onDownMainButton \u3001 onUpMainButton \u3001 onClickSubButtons \u306b @objc \u3092\u8ffd\u52a0 UIViewAnimationOptions \u304c UIView.AnimationOptions \u306b\u5909\u66f4 2.3\u30683.0\u306e\u5dee\u5206 CGPointMake\u304c\u5ec3\u6b62 \u30bb\u30ec\u30af\u30bf\u304c Selector(\"onDownMainButton:\") \u304b\u3089 #selector(myCusButton.onDownMainButton(sender:) \u306b\u5909\u66f4 Reference UIView https://developer.apple.com/reference/uikit/uiwebview UIButton https://developer.apple.com/reference/uikit/uibutton","title":"\u4e00\u3064\u306e\u30dc\u30bf\u30f3\u304b\u3089\u8907\u6570\u306e\u30dc\u30bf\u30f3\u304c\u98db\u3073\u51fa\u3059"},{"location":"1.uikit/072_custombutton/#_1","text":"","title":"\u4e00\u3064\u306e\u30dc\u30bf\u30f3\u304b\u3089\u8907\u6570\u306e\u30dc\u30bf\u30f3\u304c\u98db\u3073\u51fa\u3059"},{"location":"1.uikit/072_custombutton/#viewcontrollerswift","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 // // ViewController.swift // UIKit072 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { var mainButton : UIButton = UIButton () override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u3092\u9ed2\u8272\u306b\u8a2d\u5b9a. self . view . backgroundColor = UIColor . black // main\u30dc\u30bf\u30f3\u751f\u6210. mainButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 100 , height : 100 )) mainButton . center = self . view . center // myCustomButton\u30af\u30e9\u30b9\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u751f\u6210. let myCusButton : MyCustomButton = MyCustomButton ( frame : self . view . frame ) myCusButton . mainButton = self . mainButton myCusButton . mainPosition = self . mainButton . layer . position // \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( myCusButton ) // main\u30dc\u30bf\u30f3\u5404\u8a2d\u5b9a. mainButton . layer . masksToBounds = true mainButton . layer . cornerRadius = 50.0 mainButton . backgroundColor = UIColor . red mainButton . setTitle ( \"Fire!\" , for : . normal ) mainButton . setTitleColor ( UIColor . white , for : . normal ) mainButton . addTarget ( myCusButton , action : #selector ( myCusButton . onDownMainButton ( sender :)), for : UIControl . Event . touchUpInside ) mainButton . addTarget ( myCusButton , action : #selector ( myCusButton . onUpMainButton ( sender :)), for : [. touchUpInside , . touchDragOutside ]) mainButton . tag = 0 // main\u30dc\u30bf\u30f3\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( mainButton ) } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 // // ViewController.swift // UIKit072 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { var mainButton : UIButton = UIButton () override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u3092\u9ed2\u8272\u306b\u8a2d\u5b9a. self . view . backgroundColor = UIColor . black // main\u30dc\u30bf\u30f3\u751f\u6210. mainButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 100 , height : 100 )) mainButton . center = self . view . center // myCustomButton\u30af\u30e9\u30b9\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u751f\u6210. let myCusButton : MyCustomButton = MyCustomButton ( frame : self . view . frame ) myCusButton . mainButton = self . mainButton myCusButton . mainPosition = self . mainButton . layer . position // \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( myCusButton ) // main\u30dc\u30bf\u30f3\u5404\u8a2d\u5b9a. mainButton . layer . masksToBounds = true mainButton . layer . cornerRadius = 50.0 mainButton . backgroundColor = UIColor . red mainButton . setTitle ( \"Fire!\" , for : . normal ) mainButton . setTitleColor ( UIColor . white , for : . normal ) mainButton . addTarget ( myCusButton , action : #selector ( myCusButton . onDownMainButton ( sender :)), for : UIControlEvents . touchUpInside ) mainButton . addTarget ( myCusButton , action : #selector ( myCusButton . onUpMainButton ( sender :)), for : [. touchUpInside , . touchDragOutside ]) mainButton . tag = 0 // main\u30dc\u30bf\u30f3\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( mainButton ) } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 // // ViewController.swift // UIKit072 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { var mainButton : UIButton = UIButton () override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u3092\u9ed2\u8272\u306b\u8a2d\u5b9a. self . view . backgroundColor = UIColor . blackColor () // main\u30dc\u30bf\u30f3\u751f\u6210. mainButton = UIButton ( frame : CGRectMake ( 0 , 0 , 100 , 100 )) mainButton . center = self . view . center // myCustomButton\u30af\u30e9\u30b9\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u751f\u6210. let myCusButton : MyCustomButton = MyCustomButton ( frame : self . view . frame ) myCusButton . mainButton = self . mainButton myCusButton . mainPosition = self . mainButton . layer . position // \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( myCusButton ) // main\u30dc\u30bf\u30f3\u5404\u8a2d\u5b9a. mainButton . layer . masksToBounds = true mainButton . layer . cornerRadius = 50.0 mainButton . backgroundColor = UIColor . redColor () mainButton . setTitle ( \"Fire!\" , forState : . Normal ) mainButton . setTitleColor ( UIColor . whiteColor (), forState : . Normal ) mainButton . addTarget ( myCusButton , action : Selector ( \"onDownMainButton:\" ), forControlEvents : UIControlEvents . TouchDown ) mainButton . addTarget ( myCusButton , action : Selector ( \"onUpMainButton:\" ), forControlEvents : [ UIControlEvents . TouchUpInside , UIControlEvents . TouchDragOutside ]) mainButton . tag = 0 // main\u30dc\u30bf\u30f3\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( mainButton ) } }","title":"ViewController.swift"},{"location":"1.uikit/072_custombutton/#mycustomebuttonswift","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 // // MyCustomButton.swift // UIKit072 // // Created by Misato Morino on 2016/08/19. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import Foundation import UIKit class MyCustomButton : UIView { // sub\u30dc\u30bf\u30f3(\u98db\u3073\u51fa\u3059\u30dc\u30bf\u30f3)\u3092\u751f\u6210 var subButton_1 : UIButton = UIButton () var subButton_2 : UIButton = UIButton () var subButton_3 : UIButton = UIButton () var subButton_4 : UIButton = UIButton () var subButton_5 : UIButton = UIButton () var mainButton : UIButton ! var colors : NSMutableArray ! var mainPosition : CGPoint ! //var viewControll: UIViewController = ViewController() required init ( coder aDecoder : NSCoder ) { super . init ( coder : aDecoder ) ! } override init ( frame : CGRect ) { super . init ( frame : frame ) } /* \u30e1\u30a4\u30f3\u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8(Down) */ @objc func onDownMainButton ( sender : UIButton ) { // \u80cc\u666f\u3092\u9ed2\u8272\u306b\u8a2d\u5b9a. self . backgroundColor = UIColor . black UIView . animate ( withDuration : 0.06 , // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u4e2d\u306e\u51e6\u7406. animations : { () -> Void in // \u7e2e\u5c0f\u7528\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u3092\u751f\u6210\u3059\u308b. sender . transform = CGAffineTransform ( scaleX : 0.9 , y : 0.9 ) }) { ( Bool ) -> Void in } } /* sub\u30dc\u30bf\u30f3\u306e\u5ea7\u6a19\u3092\u8fd4\u3059\u30e1\u30bd\u30c3\u30c9 */ func getPosition ( angle : CGFloat , radius : CGFloat ) -> CGPoint { // \u5ea6\u304b\u3089\u30e9\u30b8\u30a2\u30f3\u306b\u5909\u63db. let radian = angle * CGFloat ( M_PI ) / 180.0 // x\u5ea7\u6a19\u3092\u8a08\u7b97. let x_position : CGFloat = mainButton . layer . position . x + radius * cos ( radian ) // y\u5ea7\u6a19\u3092\u8a08\u7b97. let y_position = mainPosition . y + radius * sin ( radian ) let position = CGPoint ( x : x_position , y : y_position ) return position } /* \u30e1\u30a4\u30f3\u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8(Up) */ @objc func onUpMainButton ( sender : UIButton ) { // sub\u30dc\u30bf\u30f3\u3092\u914d\u5217\u306b\u683c\u7d0d. let buttons = [ subButton_1 , subButton_2 , subButton_3 , subButton_4 , subButton_5 ] // sub\u30dc\u30bf\u30f3\u7528\u306e\u3000UIColor\u3092\u914d\u5217\u306b\u683c\u7d0d. colors = [ UIColor . yellow , UIColor . green , UIColor . cyan , UIColor . magenta , UIColor . purple ] as NSMutableArray // main\u30dc\u30bf\u30f3\u304b\u3089\u306e\u8ddd\u96e2(\u534a\u5f84). let radius : CGFloat = 150 // sub\u30dc\u30bf\u30f3\u306b\u5404\u7a2e\u8a2d\u5b9a. for i in 0 .. < buttons . count { buttons [ i ]. frame = CGRect ( x : 0 , y : 0 , width : 60 , height : 60 ) buttons [ i ]. layer . cornerRadius = 30.0 buttons [ i ]. backgroundColor = colors [ i ] as ? UIColor buttons [ i ]. center = self . center buttons [ i ]. addTarget ( self , action : #selector ( MyCustomButton . onClickSubButtons ( sender :)), for : UIControl . Event . touchUpInside ) buttons [ i ]. tag = i + 1 // sub\u30dc\u30bf\u30f3\u3092view\u306b\u8ffd\u52a0. self . addSubview ( buttons [ i ]) } UIView . animate ( withDuration : 0.06 , // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u4e2d\u306e\u51e6\u7406. animations : { () -> Void in // \u62e1\u5927\u7528\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u3092\u4f5c\u6210\u3059\u308b. sender . transform = CGAffineTransform ( scaleX : 0.4 , y : 0.4 ) // \u7e2e\u5c0f\u7528\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u3092\u4f5c\u6210\u3059\u308b. sender . transform = CGAffineTransform ( scaleX : 1.0 , y : 1.0 ) }) { ( Bool ) -> Void in } UIView . animate ( withDuration : 0.7 , delay : 0.0 , // \u30d0\u30cd\u3092\u8a2d\u5b9a. usingSpringWithDamping : 0.5 , // \u30d0\u30cd\u306e\u5f3e\u6027\u529b. initialSpringVelocity : 1.5 , options : UIView . AnimationOptions . curveEaseIn , // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u4e2d\u306e\u51e6\u7406. animations : { () -> Void in // sub\u30dc\u30bf\u30f3\u306b\u5ea7\u6a19\u3092\u8a2d\u5b9a. self . subButton_1 . layer . position = self . getPosition ( angle : - 90 , radius : radius ) self . subButton_2 . layer . position = self . getPosition ( angle : - 30 , radius : radius ) self . subButton_3 . layer . position = self . getPosition ( angle : - 60 , radius : radius ) self . subButton_4 . layer . position = self . getPosition ( angle : - 120 , radius : radius ) self . subButton_5 . layer . position = self . getPosition ( angle : - 150 , radius : radius ) }) { ( Bool ) -> Void in } } /* sub\u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8 \u80cc\u666f\u306e\u8272\u3092\u8a2d\u5b9a. */ @objc func onClickSubButtons ( sender : UIButton ) { // \u80cc\u666f\u8272\u3092sub\u30dc\u30bf\u30f3\u306e\u8272\u306b\u8a2d\u5b9a. switch ( sender . tag ) { case 1 : self . backgroundColor = colors [ 0 ] as ? UIColor case 2 : self . backgroundColor = colors [ 1 ] as ? UIColor case 3 : self . backgroundColor = colors [ 2 ] as ? UIColor case 4 : self . backgroundColor = colors [ 3 ] as ? UIColor case 5 : self . backgroundColor = colors [ 4 ] as ? UIColor default : self . backgroundColor = UIColor . black } } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 // // MyCustomButton.swift // UIKit072 // // Created by Misato Morino on 2016/08/19. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import Foundation import UIKit class MyCustomButton : UIView { // sub\u30dc\u30bf\u30f3(\u98db\u3073\u51fa\u3059\u30dc\u30bf\u30f3)\u3092\u751f\u6210 var subButton_1 : UIButton = UIButton () var subButton_2 : UIButton = UIButton () var subButton_3 : UIButton = UIButton () var subButton_4 : UIButton = UIButton () var subButton_5 : UIButton = UIButton () var mainButton : UIButton ! var colors : NSMutableArray ! var mainPosition : CGPoint ! //var viewControll: UIViewController = ViewController() required init ( coder aDecoder : NSCoder ) { super . init ( coder : aDecoder ) ! } override init ( frame : CGRect ) { super . init ( frame : frame ) } /* \u30e1\u30a4\u30f3\u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8(Down) */ func onDownMainButton ( sender : UIButton ) { // \u80cc\u666f\u3092\u9ed2\u8272\u306b\u8a2d\u5b9a. self . backgroundColor = UIColor . black UIView . animate ( withDuration : 0.06 , // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u4e2d\u306e\u51e6\u7406. animations : { () -> Void in // \u7e2e\u5c0f\u7528\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u3092\u751f\u6210\u3059\u308b. sender . transform = CGAffineTransform ( scaleX : 0.9 , y : 0.9 ) }) { ( Bool ) -> Void in } } /* sub\u30dc\u30bf\u30f3\u306e\u5ea7\u6a19\u3092\u8fd4\u3059\u30e1\u30bd\u30c3\u30c9 */ func getPosition ( angle : CGFloat , radius : CGFloat ) -> CGPoint { // \u5ea6\u304b\u3089\u30e9\u30b8\u30a2\u30f3\u306b\u5909\u63db. let radian = angle * CGFloat ( M_PI ) / 180.0 // x\u5ea7\u6a19\u3092\u8a08\u7b97. let x_position : CGFloat = mainButton . layer . position . x + radius * cos ( radian ) // y\u5ea7\u6a19\u3092\u8a08\u7b97. let y_position = mainPosition . y + radius * sin ( radian ) let position = CGPoint ( x : x_position , y : y_position ) return position } /* \u30e1\u30a4\u30f3\u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8(Up) */ func onUpMainButton ( sender : UIButton ) { // sub\u30dc\u30bf\u30f3\u3092\u914d\u5217\u306b\u683c\u7d0d. let buttons = [ subButton_1 , subButton_2 , subButton_3 , subButton_4 , subButton_5 ] // sub\u30dc\u30bf\u30f3\u7528\u306e\u3000UIColor\u3092\u914d\u5217\u306b\u683c\u7d0d. colors = [ UIColor . yellow , UIColor . green , UIColor . cyan , UIColor . magenta , UIColor . purple ] as NSMutableArray // main\u30dc\u30bf\u30f3\u304b\u3089\u306e\u8ddd\u96e2(\u534a\u5f84). let radius : CGFloat = 150 // sub\u30dc\u30bf\u30f3\u306b\u5404\u7a2e\u8a2d\u5b9a. for i in 0 .. < buttons . count { buttons [ i ]. frame = CGRect ( x : 0 , y : 0 , width : 60 , height : 60 ) buttons [ i ]. layer . cornerRadius = 30.0 buttons [ i ]. backgroundColor = colors [ i ] as ? UIColor buttons [ i ]. center = self . center buttons [ i ]. addTarget ( self , action : #selector ( MyCustomButton . onClickSubButtons ( sender :)), for : UIControlEvents . touchUpInside ) buttons [ i ]. tag = i + 1 // sub\u30dc\u30bf\u30f3\u3092view\u306b\u8ffd\u52a0. self . addSubview ( buttons [ i ]) } UIView . animate ( withDuration : 0.06 , // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u4e2d\u306e\u51e6\u7406. animations : { () -> Void in // \u62e1\u5927\u7528\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u3092\u4f5c\u6210\u3059\u308b. sender . transform = CGAffineTransform ( scaleX : 0.4 , y : 0.4 ) // \u7e2e\u5c0f\u7528\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u3092\u4f5c\u6210\u3059\u308b. sender . transform = CGAffineTransform ( scaleX : 1.0 , y : 1.0 ) }) { ( Bool ) -> Void in } UIView . animate ( withDuration : 0.7 , delay : 0.0 , // \u30d0\u30cd\u3092\u8a2d\u5b9a. usingSpringWithDamping : 0.5 , // \u30d0\u30cd\u306e\u5f3e\u6027\u529b. initialSpringVelocity : 1.5 , options : UIViewAnimationOptions . curveEaseIn , // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u4e2d\u306e\u51e6\u7406. animations : { () -> Void in // sub\u30dc\u30bf\u30f3\u306b\u5ea7\u6a19\u3092\u8a2d\u5b9a. self . subButton_1 . layer . position = self . getPosition ( angle : - 90 , radius : radius ) self . subButton_2 . layer . position = self . getPosition ( angle : - 30 , radius : radius ) self . subButton_3 . layer . position = self . getPosition ( angle : - 60 , radius : radius ) self . subButton_4 . layer . position = self . getPosition ( angle : - 120 , radius : radius ) self . subButton_5 . layer . position = self . getPosition ( angle : - 150 , radius : radius ) }) { ( Bool ) -> Void in } } /* sub\u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8 \u80cc\u666f\u306e\u8272\u3092\u8a2d\u5b9a. */ func onClickSubButtons ( sender : UIButton ) { // \u80cc\u666f\u8272\u3092sub\u30dc\u30bf\u30f3\u306e\u8272\u306b\u8a2d\u5b9a. switch ( sender . tag ) { case 1 : self . backgroundColor = colors [ 0 ] as ? UIColor case 2 : self . backgroundColor = colors [ 1 ] as ? UIColor case 3 : self . backgroundColor = colors [ 2 ] as ? UIColor case 4 : self . backgroundColor = colors [ 3 ] as ? UIColor case 5 : self . backgroundColor = colors [ 4 ] as ? UIColor default : self . backgroundColor = UIColor . black } } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 // // MyCustomButton.swift // UIKit072 // // Created by Misato Morino on 2016/08/19. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import Foundation import UIKit class MyCustomButton : UIView { // sub\u30dc\u30bf\u30f3(\u98db\u3073\u51fa\u3059\u30dc\u30bf\u30f3)\u3092\u751f\u6210 var subButton_1 : UIButton = UIButton () var subButton_2 : UIButton = UIButton () var subButton_3 : UIButton = UIButton () var subButton_4 : UIButton = UIButton () var subButton_5 : UIButton = UIButton () var mainButton : UIButton ! var colors : NSMutableArray ! var mainPosition : CGPoint ! //var viewControll: UIViewController = ViewController() required init ( coder aDecoder : NSCoder ) { super . init ( coder : aDecoder ) ! } override init ( frame : CGRect ) { super . init ( frame : frame ) } /* \u30e1\u30a4\u30f3\u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8(Down) */ func onDownMainButton ( sender : UIButton ) { // \u80cc\u666f\u3092\u9ed2\u8272\u306b\u8a2d\u5b9a. self . backgroundColor = UIColor . blackColor () UIView . animateWithDuration ( 0.06 , // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u4e2d\u306e\u51e6\u7406. animations : { () -> Void in // \u7e2e\u5c0f\u7528\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u3092\u751f\u6210\u3059\u308b. sender . transform = CGAffineTransformMakeScale ( 0.9 , 0.9 ) }) { ( Bool ) -> Void in } } /* sub\u30dc\u30bf\u30f3\u306e\u5ea7\u6a19\u3092\u8fd4\u3059\u30e1\u30bd\u30c3\u30c9 */ func getPosition ( angle : CGFloat , radius : CGFloat ) -> CGPoint { // \u5ea6\u304b\u3089\u30e9\u30b8\u30a2\u30f3\u306b\u5909\u63db. let radian = angle * CGFloat ( M_PI ) / 180.0 // x\u5ea7\u6a19\u3092\u8a08\u7b97. let x_position : CGFloat = mainButton . layer . position . x + radius * cos ( radian ) // y\u5ea7\u6a19\u3092\u8a08\u7b97. let y_position = mainPosition . y + radius * sin ( radian ) let position = CGPointMake ( x_position , y_position ) return position } /* \u30e1\u30a4\u30f3\u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8(Up) */ func onUpMainButton ( sender : UIButton ) { // sub\u30dc\u30bf\u30f3\u3092\u914d\u5217\u306b\u683c\u7d0d. let buttons = [ subButton_1 , subButton_2 , subButton_3 , subButton_4 , subButton_5 ] // sub\u30dc\u30bf\u30f3\u7528\u306e\u3000UIColor\u3092\u914d\u5217\u306b\u683c\u7d0d. colors = [ UIColor . yellowColor (), UIColor . greenColor (), UIColor . cyanColor (), UIColor . magentaColor (), UIColor . purpleColor ()] as NSMutableArray // main\u30dc\u30bf\u30f3\u304b\u3089\u306e\u8ddd\u96e2(\u534a\u5f84). let radius : CGFloat = 150 // sub\u30dc\u30bf\u30f3\u306b\u5404\u7a2e\u8a2d\u5b9a. for i in 0 .. < buttons . count { buttons [ i ]. frame = CGRectMake ( 0 , 0 , 60 , 60 ) buttons [ i ]. layer . cornerRadius = 30.0 buttons [ i ]. backgroundColor = colors [ i ] as ? UIColor buttons [ i ]. center = self . center buttons [ i ]. addTarget ( self , action : #selector ( MyCustomButton . onClickSubButtons ( _ :)), forControlEvents : UIControlEvents . TouchUpInside ) buttons [ i ]. tag = i + 1 // sub\u30dc\u30bf\u30f3\u3092view\u306b\u8ffd\u52a0. self . addSubview ( buttons [ i ]) } UIView . animateWithDuration ( 0.06 , // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u4e2d\u306e\u51e6\u7406. animations : { () -> Void in // \u62e1\u5927\u7528\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u3092\u4f5c\u6210\u3059\u308b. sender . transform = CGAffineTransformMakeScale ( 0.4 , 0.4 ) // \u7e2e\u5c0f\u7528\u30a2\u30d5\u30a3\u30f3\u884c\u5217\u3092\u4f5c\u6210\u3059\u308b. sender . transform = CGAffineTransformMakeScale ( 1.0 , 1.0 ) }) { ( Bool ) -> Void in } UIView . animateWithDuration ( 0.7 , delay : 0.0 , // \u30d0\u30cd\u3092\u8a2d\u5b9a. usingSpringWithDamping : 0.5 , // \u30d0\u30cd\u306e\u5f3e\u6027\u529b. initialSpringVelocity : 1.5 , options : UIViewAnimationOptions . CurveEaseIn , // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u4e2d\u306e\u51e6\u7406. animations : { () -> Void in // sub\u30dc\u30bf\u30f3\u306b\u5ea7\u6a19\u3092\u8a2d\u5b9a. self . subButton_1 . layer . position = self . getPosition ( - 90 , radius : radius ) self . subButton_2 . layer . position = self . getPosition ( - 30 , radius : radius ) self . subButton_3 . layer . position = self . getPosition ( - 60 , radius : radius ) self . subButton_4 . layer . position = self . getPosition ( - 120 , radius : radius ) self . subButton_5 . layer . position = self . getPosition ( - 150 , radius : radius ) }) { ( Bool ) -> Void in } } /* sub\u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8 \u80cc\u666f\u306e\u8272\u3092\u8a2d\u5b9a. */ func onClickSubButtons ( sender : UIButton ) { // \u80cc\u666f\u8272\u3092sub\u30dc\u30bf\u30f3\u306e\u8272\u306b\u8a2d\u5b9a. switch ( sender . tag ) { case 1 : self . backgroundColor = colors [ 0 ] as ? UIColor case 2 : self . backgroundColor = colors [ 1 ] as ? UIColor case 3 : self . backgroundColor = colors [ 2 ] as ? UIColor case 4 : self . backgroundColor = colors [ 3 ] as ? UIColor case 5 : self . backgroundColor = colors [ 4 ] as ? UIColor default : self . backgroundColor = UIColor . blackColor () } } }","title":"MyCustomeButton.swift"},{"location":"1.uikit/072_custombutton/#3x4x","text":"UIControlEvents \u3092 UIControl.Event \u306b\u5909\u66f4 onDownMainButton \u3001 onUpMainButton \u3001 onClickSubButtons \u306b @objc \u3092\u8ffd\u52a0 UIViewAnimationOptions \u304c UIView.AnimationOptions \u306b\u5909\u66f4","title":"3.x\u30684.x\u306e\u5dee\u5206"},{"location":"1.uikit/072_custombutton/#2330","text":"CGPointMake\u304c\u5ec3\u6b62 \u30bb\u30ec\u30af\u30bf\u304c Selector(\"onDownMainButton:\") \u304b\u3089 #selector(myCusButton.onDownMainButton(sender:) \u306b\u5909\u66f4","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"1.uikit/072_custombutton/#reference","text":"UIView https://developer.apple.com/reference/uikit/uiwebview UIButton https://developer.apple.com/reference/uikit/uibutton","title":"Reference"},{"location":"1.uikit/073_uiview/","text":"\u73feView\u306e\u4e0a\u306b\u5225View\u3092\u8868\u793a\u3059\u308b Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 // // ViewController.swift // UIKit074 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { var myView : UIView ! var myButton : UIButton ! var flag : Bool ! override func viewDidLoad () { super . viewDidLoad () // view\u8868\u793a\u30fb\u975e\u8868\u793a\u306e\u305f\u3081\u306e\u30d5\u30e9\u30b0. flag = false // view\u306e\u80cc\u666f\u3092\u9752\u8272\u306b\u8a2d\u5b9a. self . view . backgroundColor = UIColor . cyan // View\u3092\u751f\u6210. myView = UIView ( frame : CGRect ( x : 0 , y : 0 , width : 100 , height : 100 )) // myView\u306e\u80cc\u666f\u3092\u7dd1\u8272\u306b\u8a2d\u5b9a. myView . backgroundColor = UIColor . green // \u900f\u660e\u5ea6\u3092\u8a2d\u5b9a. myView . alpha = 0.5 // \u4f4d\u7f6e\u3092\u4e2d\u5fc3\u306b\u8a2d\u5b9a. myView . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height / 2 ) // myView\u3092\u975e\u8868\u793a. myView . isHidden = true // \u30dc\u30bf\u30f3\u3092\u751f\u6210. myButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 100 , height : 50 )) myButton . backgroundColor = UIColor . red myButton . layer . cornerRadius = 20.0 myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 50 ) myButton . setTitle ( \"Appear\" , for : . normal ) myButton . setTitleColor ( UIColor . white , for : . normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchUpInside ) // myView\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( myView ) // \u30dc\u30bf\u30f3\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( myButton ) } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8 */ @objc func onClickMyButton ( sender : UIButton ) { // flag\u304cfalse\u306a\u3089myView\u3092\u8868\u793a. if ! flag { // myView\u3092\u8868\u793a. myView . isHidden = false // \u30dc\u30bf\u30f3\u306e\u30bf\u30a4\u30c8\u30eb\u3092\u5909\u66f4. myButton . setTitle ( \"Disappear\" , for : . normal ) flag = true } // flag\u304ctrue\u306a\u3089myView\u3092\u975e\u8868\u793a. else { // myView\u3092\u975e\u8868\u793a. myView . isHidden = true // \u30dc\u30bf\u30f3\u306e\u30bf\u30a4\u30c8\u30eb\u3092\u5909\u66f4. myButton . setTitle ( \"Appear\" , for : . normal ) flag = false } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 // // ViewController.swift // UIKit074 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { var myView : UIView ! var myButton : UIButton ! var flag : Bool ! override func viewDidLoad () { super . viewDidLoad () // view\u8868\u793a\u30fb\u975e\u8868\u793a\u306e\u305f\u3081\u306e\u30d5\u30e9\u30b0. flag = false // view\u306e\u80cc\u666f\u3092\u9752\u8272\u306b\u8a2d\u5b9a. self . view . backgroundColor = UIColor . cyan // View\u3092\u751f\u6210. myView = UIView ( frame : CGRect ( x : 0 , y : 0 , width : 100 , height : 100 )) // myView\u306e\u80cc\u666f\u3092\u7dd1\u8272\u306b\u8a2d\u5b9a. myView . backgroundColor = UIColor . green // \u900f\u660e\u5ea6\u3092\u8a2d\u5b9a. myView . alpha = 0.5 // \u4f4d\u7f6e\u3092\u4e2d\u5fc3\u306b\u8a2d\u5b9a. myView . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height / 2 ) // myView\u3092\u975e\u8868\u793a. myView . isHidden = true // \u30dc\u30bf\u30f3\u3092\u751f\u6210. myButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 100 , height : 50 )) myButton . backgroundColor = UIColor . red myButton . layer . cornerRadius = 20.0 myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 50 ) myButton . setTitle ( \"Appear\" , for : . normal ) myButton . setTitleColor ( UIColor . white , for : . normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchUpInside ) // myView\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( myView ) // \u30dc\u30bf\u30f3\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( myButton ) } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8 */ func onClickMyButton ( sender : UIButton ) { // flag\u304cfalse\u306a\u3089myView\u3092\u8868\u793a. if ! flag { // myView\u3092\u8868\u793a. myView . isHidden = false // \u30dc\u30bf\u30f3\u306e\u30bf\u30a4\u30c8\u30eb\u3092\u5909\u66f4. myButton . setTitle ( \"Disappear\" , for : . normal ) flag = true } // flag\u304ctrue\u306a\u3089myView\u3092\u975e\u8868\u793a. else { // myView\u3092\u975e\u8868\u793a. myView . isHidden = true // \u30dc\u30bf\u30f3\u306e\u30bf\u30a4\u30c8\u30eb\u3092\u5909\u66f4. myButton . setTitle ( \"Appear\" , for : . normal ) flag = false } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 // // ViewController.swift // UIKit073 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { var myView : UIView ! var myButton : UIButton ! var flag : Bool ! override func viewDidLoad () { super . viewDidLoad () // view\u8868\u793a\u30fb\u975e\u8868\u793a\u306e\u305f\u3081\u306e\u30d5\u30e9\u30b0. flag = false // view\u306e\u80cc\u666f\u3092\u9752\u8272\u306b\u8a2d\u5b9a. self . view . backgroundColor = UIColor . cyanColor () // View\u3092\u751f\u6210. myView = UIView ( frame : CGRectMake ( 0 , 0 , 100 , 100 )) // myView\u306e\u80cc\u666f\u3092\u7dd1\u8272\u306b\u8a2d\u5b9a. myView . backgroundColor = UIColor . greenColor () // \u900f\u660e\u5ea6\u3092\u8a2d\u5b9a. myView . alpha = 0.5 // \u4f4d\u7f6e\u3092\u4e2d\u5fc3\u306b\u8a2d\u5b9a. myView . layer . position = CGPointMake ( self . view . frame . width / 2 , self . view . frame . height / 2 ) // myView\u3092\u975e\u8868\u793a. myView . hidden = true // \u30dc\u30bf\u30f3\u3092\u751f\u6210. myButton = UIButton ( frame : CGRectMake ( 0 , 0 , 100 , 50 )) myButton . backgroundColor = UIColor . redColor () myButton . layer . cornerRadius = 20.0 myButton . layer . position = CGPointMake ( self . view . frame . width / 2 , self . view . frame . height - 50 ) myButton . setTitle ( \"Appear\" , forState : . Normal ) myButton . setTitleColor ( UIColor . whiteColor (), forState : . Normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : . TouchUpInside ) // myView\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( myView ) // \u30dc\u30bf\u30f3\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( myButton ) } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8 */ func onClickMyButton ( sender : UIButton ) { // flag\u304cfalse\u306a\u3089myView\u3092\u8868\u793a. if ! flag { // myView\u3092\u8868\u793a. myView . hidden = false // \u30dc\u30bf\u30f3\u306e\u30bf\u30a4\u30c8\u30eb\u3092\u5909\u66f4. myButton . setTitle ( \"Disappear\" , forState : . Normal ) flag = true } // flag\u304ctrue\u306a\u3089myView\u3092\u975e\u8868\u793a. else { // myView\u3092\u975e\u8868\u793a. myView . hidden = true // \u30dc\u30bf\u30f3\u306e\u30bf\u30a4\u30c8\u30eb\u3092\u5909\u66f4. myButton . setTitle ( \"Appear\" , forState : . Normal ) flag = false } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } 3.x\u30684.x\u306e\u5dee\u5206 func onClickMyButton(sender: UIButton) \u306b @objc \u3092\u8ffd\u52a0 2.3\u30683.0\u306e\u5dee\u5206 #selector(ViewController.onClickMyButton(_:)) \u304b\u3089 #selector(ViewController.onClickMyButton(sender:)) \u306b\u5909\u66f4 Reference UIButton https://developer.apple.com/reference/uikit/uibutton UIView https://developer.apple.com/reference/uikit/uiview","title":"\u73feView\u306e\u4e0a\u306b\u5225View\u3092\u8868\u793a\u3059\u308b"},{"location":"1.uikit/073_uiview/#viewview","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 // // ViewController.swift // UIKit074 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { var myView : UIView ! var myButton : UIButton ! var flag : Bool ! override func viewDidLoad () { super . viewDidLoad () // view\u8868\u793a\u30fb\u975e\u8868\u793a\u306e\u305f\u3081\u306e\u30d5\u30e9\u30b0. flag = false // view\u306e\u80cc\u666f\u3092\u9752\u8272\u306b\u8a2d\u5b9a. self . view . backgroundColor = UIColor . cyan // View\u3092\u751f\u6210. myView = UIView ( frame : CGRect ( x : 0 , y : 0 , width : 100 , height : 100 )) // myView\u306e\u80cc\u666f\u3092\u7dd1\u8272\u306b\u8a2d\u5b9a. myView . backgroundColor = UIColor . green // \u900f\u660e\u5ea6\u3092\u8a2d\u5b9a. myView . alpha = 0.5 // \u4f4d\u7f6e\u3092\u4e2d\u5fc3\u306b\u8a2d\u5b9a. myView . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height / 2 ) // myView\u3092\u975e\u8868\u793a. myView . isHidden = true // \u30dc\u30bf\u30f3\u3092\u751f\u6210. myButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 100 , height : 50 )) myButton . backgroundColor = UIColor . red myButton . layer . cornerRadius = 20.0 myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 50 ) myButton . setTitle ( \"Appear\" , for : . normal ) myButton . setTitleColor ( UIColor . white , for : . normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchUpInside ) // myView\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( myView ) // \u30dc\u30bf\u30f3\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( myButton ) } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8 */ @objc func onClickMyButton ( sender : UIButton ) { // flag\u304cfalse\u306a\u3089myView\u3092\u8868\u793a. if ! flag { // myView\u3092\u8868\u793a. myView . isHidden = false // \u30dc\u30bf\u30f3\u306e\u30bf\u30a4\u30c8\u30eb\u3092\u5909\u66f4. myButton . setTitle ( \"Disappear\" , for : . normal ) flag = true } // flag\u304ctrue\u306a\u3089myView\u3092\u975e\u8868\u793a. else { // myView\u3092\u975e\u8868\u793a. myView . isHidden = true // \u30dc\u30bf\u30f3\u306e\u30bf\u30a4\u30c8\u30eb\u3092\u5909\u66f4. myButton . setTitle ( \"Appear\" , for : . normal ) flag = false } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 // // ViewController.swift // UIKit074 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { var myView : UIView ! var myButton : UIButton ! var flag : Bool ! override func viewDidLoad () { super . viewDidLoad () // view\u8868\u793a\u30fb\u975e\u8868\u793a\u306e\u305f\u3081\u306e\u30d5\u30e9\u30b0. flag = false // view\u306e\u80cc\u666f\u3092\u9752\u8272\u306b\u8a2d\u5b9a. self . view . backgroundColor = UIColor . cyan // View\u3092\u751f\u6210. myView = UIView ( frame : CGRect ( x : 0 , y : 0 , width : 100 , height : 100 )) // myView\u306e\u80cc\u666f\u3092\u7dd1\u8272\u306b\u8a2d\u5b9a. myView . backgroundColor = UIColor . green // \u900f\u660e\u5ea6\u3092\u8a2d\u5b9a. myView . alpha = 0.5 // \u4f4d\u7f6e\u3092\u4e2d\u5fc3\u306b\u8a2d\u5b9a. myView . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height / 2 ) // myView\u3092\u975e\u8868\u793a. myView . isHidden = true // \u30dc\u30bf\u30f3\u3092\u751f\u6210. myButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 100 , height : 50 )) myButton . backgroundColor = UIColor . red myButton . layer . cornerRadius = 20.0 myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 50 ) myButton . setTitle ( \"Appear\" , for : . normal ) myButton . setTitleColor ( UIColor . white , for : . normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchUpInside ) // myView\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( myView ) // \u30dc\u30bf\u30f3\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( myButton ) } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8 */ func onClickMyButton ( sender : UIButton ) { // flag\u304cfalse\u306a\u3089myView\u3092\u8868\u793a. if ! flag { // myView\u3092\u8868\u793a. myView . isHidden = false // \u30dc\u30bf\u30f3\u306e\u30bf\u30a4\u30c8\u30eb\u3092\u5909\u66f4. myButton . setTitle ( \"Disappear\" , for : . normal ) flag = true } // flag\u304ctrue\u306a\u3089myView\u3092\u975e\u8868\u793a. else { // myView\u3092\u975e\u8868\u793a. myView . isHidden = true // \u30dc\u30bf\u30f3\u306e\u30bf\u30a4\u30c8\u30eb\u3092\u5909\u66f4. myButton . setTitle ( \"Appear\" , for : . normal ) flag = false } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 // // ViewController.swift // UIKit073 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { var myView : UIView ! var myButton : UIButton ! var flag : Bool ! override func viewDidLoad () { super . viewDidLoad () // view\u8868\u793a\u30fb\u975e\u8868\u793a\u306e\u305f\u3081\u306e\u30d5\u30e9\u30b0. flag = false // view\u306e\u80cc\u666f\u3092\u9752\u8272\u306b\u8a2d\u5b9a. self . view . backgroundColor = UIColor . cyanColor () // View\u3092\u751f\u6210. myView = UIView ( frame : CGRectMake ( 0 , 0 , 100 , 100 )) // myView\u306e\u80cc\u666f\u3092\u7dd1\u8272\u306b\u8a2d\u5b9a. myView . backgroundColor = UIColor . greenColor () // \u900f\u660e\u5ea6\u3092\u8a2d\u5b9a. myView . alpha = 0.5 // \u4f4d\u7f6e\u3092\u4e2d\u5fc3\u306b\u8a2d\u5b9a. myView . layer . position = CGPointMake ( self . view . frame . width / 2 , self . view . frame . height / 2 ) // myView\u3092\u975e\u8868\u793a. myView . hidden = true // \u30dc\u30bf\u30f3\u3092\u751f\u6210. myButton = UIButton ( frame : CGRectMake ( 0 , 0 , 100 , 50 )) myButton . backgroundColor = UIColor . redColor () myButton . layer . cornerRadius = 20.0 myButton . layer . position = CGPointMake ( self . view . frame . width / 2 , self . view . frame . height - 50 ) myButton . setTitle ( \"Appear\" , forState : . Normal ) myButton . setTitleColor ( UIColor . whiteColor (), forState : . Normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : . TouchUpInside ) // myView\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( myView ) // \u30dc\u30bf\u30f3\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( myButton ) } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8 */ func onClickMyButton ( sender : UIButton ) { // flag\u304cfalse\u306a\u3089myView\u3092\u8868\u793a. if ! flag { // myView\u3092\u8868\u793a. myView . hidden = false // \u30dc\u30bf\u30f3\u306e\u30bf\u30a4\u30c8\u30eb\u3092\u5909\u66f4. myButton . setTitle ( \"Disappear\" , forState : . Normal ) flag = true } // flag\u304ctrue\u306a\u3089myView\u3092\u975e\u8868\u793a. else { // myView\u3092\u975e\u8868\u793a. myView . hidden = true // \u30dc\u30bf\u30f3\u306e\u30bf\u30a4\u30c8\u30eb\u3092\u5909\u66f4. myButton . setTitle ( \"Appear\" , forState : . Normal ) flag = false } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } }","title":"\u73feView\u306e\u4e0a\u306b\u5225View\u3092\u8868\u793a\u3059\u308b"},{"location":"1.uikit/073_uiview/#3x4x","text":"func onClickMyButton(sender: UIButton) \u306b @objc \u3092\u8ffd\u52a0","title":"3.x\u30684.x\u306e\u5dee\u5206"},{"location":"1.uikit/073_uiview/#2330","text":"#selector(ViewController.onClickMyButton(_:)) \u304b\u3089 #selector(ViewController.onClickMyButton(sender:)) \u306b\u5909\u66f4","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"1.uikit/073_uiview/#reference","text":"UIButton https://developer.apple.com/reference/uikit/uibutton UIView https://developer.apple.com/reference/uikit/uiview","title":"Reference"},{"location":"1.uikit/074_webviewpdf/","text":"UIWebView\u3067PDF\u3092\u958b\u304f Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 // // ViewController.swift // swiftdocs // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController , UIWebViewDelegate { var myWebView : UIWebView ! var myPDFurl : NSURL ! var myRequest : NSURLRequest ! var myIndiator : UIActivityIndicatorView ! override func viewDidLoad () { super . viewDidLoad () // Button\u3092\u751f\u6210. let myButton : UIButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 50 )) myButton . layer . cornerRadius = 20.0 myButton . layer . masksToBounds = true myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 50 ) myButton . backgroundColor = UIColor . orange myButton . setTitle ( \"Open PDF\" , for : UIControl . State . normal ) myButton . setTitleColor ( UIColor . white , for : UIControl . State . normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : UIControl . Event . touchUpInside ) self . view . addSubview ( myButton ) // PDF\u3092\u958b\u304f\u305f\u3081\u306eWebView\u3092\u751f\u6210. myWebView = UIWebView ( frame : CGRect ( x : 0 , y : 0 , width : self . view . frame . width , height : self . view . frame . height )) myWebView . delegate = self myWebView . scalesPageToFit = true myWebView . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height / 2 ) // URLReqest\u3092\u751f\u6210. myPDFurl = NSURL ( string : \"https://developer.apple.com/jp/documentation/CocoaEncyclopedia.pdf\" ) ! myRequest = NSURLRequest ( url : myPDFurl as URL ) // \u30da\u30fc\u30b8\u8aad\u307f\u8fbc\u307f\u4e2d\u306b\u8868\u793a\u3055\u305b\u308b\u30a4\u30f3\u30b8\u30b1\u30fc\u30bf\u3092\u751f\u6210. myIndiator = UIActivityIndicatorView ( frame : CGRect ( x : 0 , y : 0 , width : 50 , height : 50 )) myIndiator . center = self . view . center myIndiator . hidesWhenStopped = true myIndiator . style = UIActivityIndicatorView . Style . gray } /* \u30a4\u30f3\u30b8\u30b1\u30fc\u30bf\u306e\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u958b\u59cb. */ func startAnimation () { // NetworkActivityIndicator\u3092\u8868\u793a. UIApplication . shared . isNetworkActivityIndicatorVisible = true // UIACtivityIndicator\u3092\u8868\u793a. if ! myIndiator . isAnimating { myIndiator . startAnimating () } // view\u306b\u30a4\u30f3\u30b8\u30b1\u30fc\u30bf\u3092\u8ffd\u52a0. self . view . addSubview ( myIndiator ) } /* \u30a4\u30f3\u30b8\u30b1\u30fc\u30bf\u306e\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u7d42\u4e86. */ func stopAnimation () { // NetworkActivityIndicator\u3092\u975e\u8868\u793a. UIApplication . shared . isNetworkActivityIndicatorVisible = false // UIACtivityIndicator\u3092\u975e\u8868\u793a. if myIndiator . isAnimating { myIndiator . stopAnimating () } } /* Button\u304c\u62bc\u3055\u308c\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ @objc func onClickMyButton ( sender : UIButton ) { // WebView\u306eLoad\u958b\u59cb. myWebView . loadRequest ( myRequest as URLRequest ) // view\u306bWebView\u3092\u8ffd\u52a0. self . view . addSubview ( myWebView ) } /* WebView\u306eload\u304c\u958b\u59cb\u3055\u308c\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func webViewDidStartLoad ( _ webView : UIWebView ) { print ( \"load started\" ) startAnimation () } /* WebView\u306eload\u304c\u7d42\u4e86\u3057\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func webViewDidFinishLoad ( _ webView : UIWebView ) { print ( \"load finished\" ) stopAnimation () } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 // // ViewController.swift // swiftdocs // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController , UIWebViewDelegate { var myWebView : UIWebView ! var myPDFurl : NSURL ! var myRequest : NSURLRequest ! var myIndiator : UIActivityIndicatorView ! override func viewDidLoad () { super . viewDidLoad () // Button\u3092\u751f\u6210. let myButton : UIButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 50 )) myButton . layer . cornerRadius = 20.0 myButton . layer . masksToBounds = true myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 50 ) myButton . backgroundColor = UIColor . orange myButton . setTitle ( \"Open PDF\" , for : UIControlState . normal ) myButton . setTitleColor ( UIColor . white , for : UIControlState . normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : UIControlEvents . touchUpInside ) self . view . addSubview ( myButton ) // PDF\u3092\u958b\u304f\u305f\u3081\u306eWebView\u3092\u751f\u6210. myWebView = UIWebView ( frame : CGRect ( x : 0 , y : 0 , width : self . view . frame . width , height : self . view . frame . height )) myWebView . delegate = self myWebView . scalesPageToFit = true myWebView . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height / 2 ) // URLReqest\u3092\u751f\u6210. myPDFurl = NSURL ( string : \"https://developer.apple.com/jp/documentation/CocoaEncyclopedia.pdf\" ) ! myRequest = NSURLRequest ( url : myPDFurl as URL ) // \u30da\u30fc\u30b8\u8aad\u307f\u8fbc\u307f\u4e2d\u306b\u8868\u793a\u3055\u305b\u308b\u30a4\u30f3\u30b8\u30b1\u30fc\u30bf\u3092\u751f\u6210. myIndiator = UIActivityIndicatorView ( frame : CGRect ( x : 0 , y : 0 , width : 50 , height : 50 )) myIndiator . center = self . view . center myIndiator . hidesWhenStopped = true myIndiator . activityIndicatorViewStyle = UIActivityIndicatorViewStyle . gray } /* \u30a4\u30f3\u30b8\u30b1\u30fc\u30bf\u306e\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u958b\u59cb. */ func startAnimation () { // NetworkActivityIndicator\u3092\u8868\u793a. UIApplication . shared . isNetworkActivityIndicatorVisible = true // UIACtivityIndicator\u3092\u8868\u793a. if ! myIndiator . isAnimating { myIndiator . startAnimating () } // view\u306b\u30a4\u30f3\u30b8\u30b1\u30fc\u30bf\u3092\u8ffd\u52a0. self . view . addSubview ( myIndiator ) } /* \u30a4\u30f3\u30b8\u30b1\u30fc\u30bf\u306e\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u7d42\u4e86. */ func stopAnimation () { // NetworkActivityIndicator\u3092\u975e\u8868\u793a. UIApplication . shared . isNetworkActivityIndicatorVisible = false // UIACtivityIndicator\u3092\u975e\u8868\u793a. if myIndiator . isAnimating { myIndiator . stopAnimating () } } /* Button\u304c\u62bc\u3055\u308c\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func onClickMyButton ( sender : UIButton ) { // WebView\u306eLoad\u958b\u59cb. myWebView . loadRequest ( myRequest as URLRequest ) // view\u306bWebView\u3092\u8ffd\u52a0. self . view . addSubview ( myWebView ) } /* WebView\u306eload\u304c\u958b\u59cb\u3055\u308c\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func webViewDidStartLoad ( _ webView : UIWebView ) { print ( \"load started\" ) startAnimation () } /* WebView\u306eload\u304c\u7d42\u4e86\u3057\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func webViewDidFinishLoad ( _ webView : UIWebView ) { print ( \"load finished\" ) stopAnimation () } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 // // ViewController.swift // UIKit074 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController , UIWebViewDelegate { var myWebView : UIWebView ! var myPDFurl : NSURL ! var myRequest : NSURLRequest ! var myIndiator : UIActivityIndicatorView ! override func viewDidLoad () { super . viewDidLoad () // Button\u3092\u751f\u6210. let myButton : UIButton = UIButton ( frame : CGRectMake ( 0 , 0 , 200 , 50 )) myButton . layer . cornerRadius = 20.0 myButton . layer . masksToBounds = true myButton . layer . position = CGPointMake ( self . view . frame . width / 2 , self . view . frame . height - 50 ) myButton . backgroundColor = UIColor . orangeColor () myButton . setTitle ( \"Open PDF\" , forState : UIControlState . Normal ) myButton . setTitleColor ( UIColor . whiteColor (), forState : UIControlState . Normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : UIControlEvents . TouchUpInside ) self . view . addSubview ( myButton ) // PDF\u3092\u958b\u304f\u305f\u3081\u306eWebView\u3092\u751f\u6210. myWebView = UIWebView ( frame : CGRectMake ( 0 , 0 , self . view . frame . width , self . view . frame . height )) myWebView . delegate = self myWebView . scalesPageToFit = true myWebView . layer . position = CGPointMake ( self . view . frame . width / 2 , self . view . frame . height / 2 ) // URLReqest\u3092\u751f\u6210. myPDFurl = NSURL ( string : \"https://developer.apple.com/jp/documentation/CocoaEncyclopedia.pdf\" ) ! myRequest = NSURLRequest ( URL : myPDFurl ) // \u30da\u30fc\u30b8\u8aad\u307f\u8fbc\u307f\u4e2d\u306b\u8868\u793a\u3055\u305b\u308b\u30a4\u30f3\u30b8\u30b1\u30fc\u30bf\u3092\u751f\u6210. myIndiator = UIActivityIndicatorView ( frame : CGRectMake ( 0 , 0 , 50 , 50 )) myIndiator . center = self . view . center myIndiator . hidesWhenStopped = true myIndiator . activityIndicatorViewStyle = UIActivityIndicatorViewStyle . Gray } /* \u30a4\u30f3\u30b8\u30b1\u30fc\u30bf\u306e\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u958b\u59cb. */ func startAnimation () { // NetworkActivityIndicator\u3092\u8868\u793a. UIApplication . sharedApplication (). networkActivityIndicatorVisible = true // UIACtivityIndicator\u3092\u8868\u793a. if ! myIndiator . isAnimating () { myIndiator . startAnimating () } // view\u306b\u30a4\u30f3\u30b8\u30b1\u30fc\u30bf\u3092\u8ffd\u52a0. self . view . addSubview ( myIndiator ) } /* \u30a4\u30f3\u30b8\u30b1\u30fc\u30bf\u306e\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u7d42\u4e86. */ func stopAnimation () { // NetworkActivityIndicator\u3092\u975e\u8868\u793a. UIApplication . sharedApplication (). networkActivityIndicatorVisible = false // UIACtivityIndicator\u3092\u975e\u8868\u793a. if myIndiator . isAnimating () { myIndiator . stopAnimating () } } /* Button\u304c\u62bc\u3055\u308c\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func onClickMyButton ( sender : UIButton ) { // WebView\u306eLoad\u958b\u59cb. myWebView . loadRequest ( myRequest ) // view\u306bWebView\u3092\u8ffd\u52a0. self . view . addSubview ( myWebView ) } /* WebView\u306eload\u304c\u958b\u59cb\u3055\u308c\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func webViewDidStartLoad ( webView : UIWebView ) { print ( \"load started\" ) startAnimation () } /* WebView\u306eload\u304c\u7d42\u4e86\u3057\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func webViewDidFinishLoad ( webView : UIWebView ) { print ( \"load finished\" ) stopAnimation () } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } 3.x\u30684.x\u306e\u5dee\u5206 UIControlState \u304c UIControl.State \u306b\u5909\u66f4 UIControlEvents \u304c UIControl.Event \u306b\u5909\u66f4 func onClickMyButton(sender: UIButton) \u306b @objc \u3092\u8ffd\u52a0 UIActivityIndicatorViewStyle \u304c UIActivityIndicatorView.Style \u306b\u5909\u66f4 activityIndicatorViewStyle \u304c style \u306b\u5909\u66f4 2.3\u30683.0\u306e\u5dee\u5206 #selector(ViewController.onClickMyButton(_:)) \u304b\u3089 #selector(ViewController.onClickMyButton(sender:)) \u306b\u5909\u66f4 Reference UIWebView https://developer.apple.com/reference/uikit/uiwebview UIButton https://developer.apple.com/reference/uikit/uibutton UIActivityIndicatorView https://developer.apple.com/reference/uikit/uiactivityindicatorview NSURL https://developer.apple.com/reference/foundation/nsurl NSURLRequest https://developer.apple.com/reference/foundation/nsurlrequest","title":"UIWebView\u3067PDF\u3092\u958b\u304f"},{"location":"1.uikit/074_webviewpdf/#uiwebviewpdf","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 // // ViewController.swift // swiftdocs // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController , UIWebViewDelegate { var myWebView : UIWebView ! var myPDFurl : NSURL ! var myRequest : NSURLRequest ! var myIndiator : UIActivityIndicatorView ! override func viewDidLoad () { super . viewDidLoad () // Button\u3092\u751f\u6210. let myButton : UIButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 50 )) myButton . layer . cornerRadius = 20.0 myButton . layer . masksToBounds = true myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 50 ) myButton . backgroundColor = UIColor . orange myButton . setTitle ( \"Open PDF\" , for : UIControl . State . normal ) myButton . setTitleColor ( UIColor . white , for : UIControl . State . normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : UIControl . Event . touchUpInside ) self . view . addSubview ( myButton ) // PDF\u3092\u958b\u304f\u305f\u3081\u306eWebView\u3092\u751f\u6210. myWebView = UIWebView ( frame : CGRect ( x : 0 , y : 0 , width : self . view . frame . width , height : self . view . frame . height )) myWebView . delegate = self myWebView . scalesPageToFit = true myWebView . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height / 2 ) // URLReqest\u3092\u751f\u6210. myPDFurl = NSURL ( string : \"https://developer.apple.com/jp/documentation/CocoaEncyclopedia.pdf\" ) ! myRequest = NSURLRequest ( url : myPDFurl as URL ) // \u30da\u30fc\u30b8\u8aad\u307f\u8fbc\u307f\u4e2d\u306b\u8868\u793a\u3055\u305b\u308b\u30a4\u30f3\u30b8\u30b1\u30fc\u30bf\u3092\u751f\u6210. myIndiator = UIActivityIndicatorView ( frame : CGRect ( x : 0 , y : 0 , width : 50 , height : 50 )) myIndiator . center = self . view . center myIndiator . hidesWhenStopped = true myIndiator . style = UIActivityIndicatorView . Style . gray } /* \u30a4\u30f3\u30b8\u30b1\u30fc\u30bf\u306e\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u958b\u59cb. */ func startAnimation () { // NetworkActivityIndicator\u3092\u8868\u793a. UIApplication . shared . isNetworkActivityIndicatorVisible = true // UIACtivityIndicator\u3092\u8868\u793a. if ! myIndiator . isAnimating { myIndiator . startAnimating () } // view\u306b\u30a4\u30f3\u30b8\u30b1\u30fc\u30bf\u3092\u8ffd\u52a0. self . view . addSubview ( myIndiator ) } /* \u30a4\u30f3\u30b8\u30b1\u30fc\u30bf\u306e\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u7d42\u4e86. */ func stopAnimation () { // NetworkActivityIndicator\u3092\u975e\u8868\u793a. UIApplication . shared . isNetworkActivityIndicatorVisible = false // UIACtivityIndicator\u3092\u975e\u8868\u793a. if myIndiator . isAnimating { myIndiator . stopAnimating () } } /* Button\u304c\u62bc\u3055\u308c\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ @objc func onClickMyButton ( sender : UIButton ) { // WebView\u306eLoad\u958b\u59cb. myWebView . loadRequest ( myRequest as URLRequest ) // view\u306bWebView\u3092\u8ffd\u52a0. self . view . addSubview ( myWebView ) } /* WebView\u306eload\u304c\u958b\u59cb\u3055\u308c\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func webViewDidStartLoad ( _ webView : UIWebView ) { print ( \"load started\" ) startAnimation () } /* WebView\u306eload\u304c\u7d42\u4e86\u3057\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func webViewDidFinishLoad ( _ webView : UIWebView ) { print ( \"load finished\" ) stopAnimation () } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 // // ViewController.swift // swiftdocs // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController , UIWebViewDelegate { var myWebView : UIWebView ! var myPDFurl : NSURL ! var myRequest : NSURLRequest ! var myIndiator : UIActivityIndicatorView ! override func viewDidLoad () { super . viewDidLoad () // Button\u3092\u751f\u6210. let myButton : UIButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 50 )) myButton . layer . cornerRadius = 20.0 myButton . layer . masksToBounds = true myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 50 ) myButton . backgroundColor = UIColor . orange myButton . setTitle ( \"Open PDF\" , for : UIControlState . normal ) myButton . setTitleColor ( UIColor . white , for : UIControlState . normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : UIControlEvents . touchUpInside ) self . view . addSubview ( myButton ) // PDF\u3092\u958b\u304f\u305f\u3081\u306eWebView\u3092\u751f\u6210. myWebView = UIWebView ( frame : CGRect ( x : 0 , y : 0 , width : self . view . frame . width , height : self . view . frame . height )) myWebView . delegate = self myWebView . scalesPageToFit = true myWebView . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height / 2 ) // URLReqest\u3092\u751f\u6210. myPDFurl = NSURL ( string : \"https://developer.apple.com/jp/documentation/CocoaEncyclopedia.pdf\" ) ! myRequest = NSURLRequest ( url : myPDFurl as URL ) // \u30da\u30fc\u30b8\u8aad\u307f\u8fbc\u307f\u4e2d\u306b\u8868\u793a\u3055\u305b\u308b\u30a4\u30f3\u30b8\u30b1\u30fc\u30bf\u3092\u751f\u6210. myIndiator = UIActivityIndicatorView ( frame : CGRect ( x : 0 , y : 0 , width : 50 , height : 50 )) myIndiator . center = self . view . center myIndiator . hidesWhenStopped = true myIndiator . activityIndicatorViewStyle = UIActivityIndicatorViewStyle . gray } /* \u30a4\u30f3\u30b8\u30b1\u30fc\u30bf\u306e\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u958b\u59cb. */ func startAnimation () { // NetworkActivityIndicator\u3092\u8868\u793a. UIApplication . shared . isNetworkActivityIndicatorVisible = true // UIACtivityIndicator\u3092\u8868\u793a. if ! myIndiator . isAnimating { myIndiator . startAnimating () } // view\u306b\u30a4\u30f3\u30b8\u30b1\u30fc\u30bf\u3092\u8ffd\u52a0. self . view . addSubview ( myIndiator ) } /* \u30a4\u30f3\u30b8\u30b1\u30fc\u30bf\u306e\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u7d42\u4e86. */ func stopAnimation () { // NetworkActivityIndicator\u3092\u975e\u8868\u793a. UIApplication . shared . isNetworkActivityIndicatorVisible = false // UIACtivityIndicator\u3092\u975e\u8868\u793a. if myIndiator . isAnimating { myIndiator . stopAnimating () } } /* Button\u304c\u62bc\u3055\u308c\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func onClickMyButton ( sender : UIButton ) { // WebView\u306eLoad\u958b\u59cb. myWebView . loadRequest ( myRequest as URLRequest ) // view\u306bWebView\u3092\u8ffd\u52a0. self . view . addSubview ( myWebView ) } /* WebView\u306eload\u304c\u958b\u59cb\u3055\u308c\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func webViewDidStartLoad ( _ webView : UIWebView ) { print ( \"load started\" ) startAnimation () } /* WebView\u306eload\u304c\u7d42\u4e86\u3057\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func webViewDidFinishLoad ( _ webView : UIWebView ) { print ( \"load finished\" ) stopAnimation () } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 // // ViewController.swift // UIKit074 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController , UIWebViewDelegate { var myWebView : UIWebView ! var myPDFurl : NSURL ! var myRequest : NSURLRequest ! var myIndiator : UIActivityIndicatorView ! override func viewDidLoad () { super . viewDidLoad () // Button\u3092\u751f\u6210. let myButton : UIButton = UIButton ( frame : CGRectMake ( 0 , 0 , 200 , 50 )) myButton . layer . cornerRadius = 20.0 myButton . layer . masksToBounds = true myButton . layer . position = CGPointMake ( self . view . frame . width / 2 , self . view . frame . height - 50 ) myButton . backgroundColor = UIColor . orangeColor () myButton . setTitle ( \"Open PDF\" , forState : UIControlState . Normal ) myButton . setTitleColor ( UIColor . whiteColor (), forState : UIControlState . Normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : UIControlEvents . TouchUpInside ) self . view . addSubview ( myButton ) // PDF\u3092\u958b\u304f\u305f\u3081\u306eWebView\u3092\u751f\u6210. myWebView = UIWebView ( frame : CGRectMake ( 0 , 0 , self . view . frame . width , self . view . frame . height )) myWebView . delegate = self myWebView . scalesPageToFit = true myWebView . layer . position = CGPointMake ( self . view . frame . width / 2 , self . view . frame . height / 2 ) // URLReqest\u3092\u751f\u6210. myPDFurl = NSURL ( string : \"https://developer.apple.com/jp/documentation/CocoaEncyclopedia.pdf\" ) ! myRequest = NSURLRequest ( URL : myPDFurl ) // \u30da\u30fc\u30b8\u8aad\u307f\u8fbc\u307f\u4e2d\u306b\u8868\u793a\u3055\u305b\u308b\u30a4\u30f3\u30b8\u30b1\u30fc\u30bf\u3092\u751f\u6210. myIndiator = UIActivityIndicatorView ( frame : CGRectMake ( 0 , 0 , 50 , 50 )) myIndiator . center = self . view . center myIndiator . hidesWhenStopped = true myIndiator . activityIndicatorViewStyle = UIActivityIndicatorViewStyle . Gray } /* \u30a4\u30f3\u30b8\u30b1\u30fc\u30bf\u306e\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u958b\u59cb. */ func startAnimation () { // NetworkActivityIndicator\u3092\u8868\u793a. UIApplication . sharedApplication (). networkActivityIndicatorVisible = true // UIACtivityIndicator\u3092\u8868\u793a. if ! myIndiator . isAnimating () { myIndiator . startAnimating () } // view\u306b\u30a4\u30f3\u30b8\u30b1\u30fc\u30bf\u3092\u8ffd\u52a0. self . view . addSubview ( myIndiator ) } /* \u30a4\u30f3\u30b8\u30b1\u30fc\u30bf\u306e\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u7d42\u4e86. */ func stopAnimation () { // NetworkActivityIndicator\u3092\u975e\u8868\u793a. UIApplication . sharedApplication (). networkActivityIndicatorVisible = false // UIACtivityIndicator\u3092\u975e\u8868\u793a. if myIndiator . isAnimating () { myIndiator . stopAnimating () } } /* Button\u304c\u62bc\u3055\u308c\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func onClickMyButton ( sender : UIButton ) { // WebView\u306eLoad\u958b\u59cb. myWebView . loadRequest ( myRequest ) // view\u306bWebView\u3092\u8ffd\u52a0. self . view . addSubview ( myWebView ) } /* WebView\u306eload\u304c\u958b\u59cb\u3055\u308c\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func webViewDidStartLoad ( webView : UIWebView ) { print ( \"load started\" ) startAnimation () } /* WebView\u306eload\u304c\u7d42\u4e86\u3057\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func webViewDidFinishLoad ( webView : UIWebView ) { print ( \"load finished\" ) stopAnimation () } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } }","title":"UIWebView\u3067PDF\u3092\u958b\u304f"},{"location":"1.uikit/074_webviewpdf/#3x4x","text":"UIControlState \u304c UIControl.State \u306b\u5909\u66f4 UIControlEvents \u304c UIControl.Event \u306b\u5909\u66f4 func onClickMyButton(sender: UIButton) \u306b @objc \u3092\u8ffd\u52a0 UIActivityIndicatorViewStyle \u304c UIActivityIndicatorView.Style \u306b\u5909\u66f4 activityIndicatorViewStyle \u304c style \u306b\u5909\u66f4","title":"3.x\u30684.x\u306e\u5dee\u5206"},{"location":"1.uikit/074_webviewpdf/#2330","text":"#selector(ViewController.onClickMyButton(_:)) \u304b\u3089 #selector(ViewController.onClickMyButton(sender:)) \u306b\u5909\u66f4","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"1.uikit/074_webviewpdf/#reference","text":"UIWebView https://developer.apple.com/reference/uikit/uiwebview UIButton https://developer.apple.com/reference/uikit/uibutton UIActivityIndicatorView https://developer.apple.com/reference/uikit/uiactivityindicatorview NSURL https://developer.apple.com/reference/foundation/nsurl NSURLRequest https://developer.apple.com/reference/foundation/nsurlrequest","title":"Reference"},{"location":"1.uikit/075_webviewfile/","text":"UIWebView\u3067\u30d5\u30a1\u30a4\u30eb\u306e\u8868\u793a Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 // // ViewController.swift // UIKit075 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // WebView\u3092\u751f\u6210. let myWebView = UIWebView () myWebView . frame = self . view . bounds // view\u306bWebView\u3092\u8ffd\u52a0. self . view . addSubview ( myWebView ) // \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306b\u7ba1\u7406\u3055\u308c\u3066\u3044\u308b\u30d5\u30a1\u30a4\u30eb\u306epath\u3092\u53d6\u5f97. let path : String = Bundle . main . path ( forResource : \"document\" , ofType : \"pdf\" ) ! let url = NSURL ( fileURLWithPath : path as String ) let request = NSURLRequest ( url : url as URL ) // \u30ea\u30af\u30a8\u30b9\u30c8\u30ed\u30fc\u30c9. myWebView . loadRequest ( request as URLRequest ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 // // ViewController.swift // UIKit075 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // WebView\u3092\u751f\u6210. let myWebView = UIWebView () myWebView . frame = self . view . bounds // view\u306bWebView\u3092\u8ffd\u52a0. self . view . addSubview ( myWebView ) // \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306b\u7ba1\u7406\u3055\u308c\u3066\u3044\u308b\u30d5\u30a1\u30a4\u30eb\u306epath\u3092\u53d6\u5f97. let path : NSString = Bundle . main . path ( forResource : \"document\" , ofType : \"pdf\" ) ! let url = NSURL ( fileURLWithPath : path as String ) let request = NSURLRequest ( url : url as URL ) // \u30ea\u30af\u30a8\u30b9\u30c8\u30ed\u30fc\u30c9. myWebView . loadRequest ( request as URLRequest ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 // // ViewController.swift // UIKit075 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // WebView\u3092\u751f\u6210. let myWebView = UIWebView () myWebView . frame = self . view . bounds // view\u306bWebView\u3092\u8ffd\u52a0. self . view . addSubview ( myWebView ) // \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306b\u7ba1\u7406\u3055\u308c\u3066\u3044\u308b\u30d5\u30a1\u30a4\u30eb\u306epath\u3092\u53d6\u5f97. let path : NSString = NSBundle . mainBundle (). pathForResource ( \"document\" , ofType : \"pdf\" ) ! let url = NSURL ( fileURLWithPath : path as String ) let request = NSURLRequest ( URL : url ) // \u30ea\u30af\u30a8\u30b9\u30c8\u30ed\u30fc\u30c9. myWebView . loadRequest ( request ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } 3.x\u30684.x\u306e\u5dee\u5206 let path: NSString \u3092 let path: String \u306b\u5909\u66f4 2.3\u30683.0\u306e\u5dee\u5206 NSBundle.mainBundle().pathForResource \u304b\u3089 Bundle.main.path \u306b\u5909\u66f4 Reference UIWebView https://developer.apple.com/reference/uikit/uiwebview NSBundle https://developer.apple.com/reference/foundation/nsbundle","title":"UIWebView\u3067\u30d5\u30a1\u30a4\u30eb\u306e\u8868\u793a"},{"location":"1.uikit/075_webviewfile/#uiwebview","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 // // ViewController.swift // UIKit075 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // WebView\u3092\u751f\u6210. let myWebView = UIWebView () myWebView . frame = self . view . bounds // view\u306bWebView\u3092\u8ffd\u52a0. self . view . addSubview ( myWebView ) // \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306b\u7ba1\u7406\u3055\u308c\u3066\u3044\u308b\u30d5\u30a1\u30a4\u30eb\u306epath\u3092\u53d6\u5f97. let path : String = Bundle . main . path ( forResource : \"document\" , ofType : \"pdf\" ) ! let url = NSURL ( fileURLWithPath : path as String ) let request = NSURLRequest ( url : url as URL ) // \u30ea\u30af\u30a8\u30b9\u30c8\u30ed\u30fc\u30c9. myWebView . loadRequest ( request as URLRequest ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 // // ViewController.swift // UIKit075 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // WebView\u3092\u751f\u6210. let myWebView = UIWebView () myWebView . frame = self . view . bounds // view\u306bWebView\u3092\u8ffd\u52a0. self . view . addSubview ( myWebView ) // \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306b\u7ba1\u7406\u3055\u308c\u3066\u3044\u308b\u30d5\u30a1\u30a4\u30eb\u306epath\u3092\u53d6\u5f97. let path : NSString = Bundle . main . path ( forResource : \"document\" , ofType : \"pdf\" ) ! let url = NSURL ( fileURLWithPath : path as String ) let request = NSURLRequest ( url : url as URL ) // \u30ea\u30af\u30a8\u30b9\u30c8\u30ed\u30fc\u30c9. myWebView . loadRequest ( request as URLRequest ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 // // ViewController.swift // UIKit075 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // WebView\u3092\u751f\u6210. let myWebView = UIWebView () myWebView . frame = self . view . bounds // view\u306bWebView\u3092\u8ffd\u52a0. self . view . addSubview ( myWebView ) // \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306b\u7ba1\u7406\u3055\u308c\u3066\u3044\u308b\u30d5\u30a1\u30a4\u30eb\u306epath\u3092\u53d6\u5f97. let path : NSString = NSBundle . mainBundle (). pathForResource ( \"document\" , ofType : \"pdf\" ) ! let url = NSURL ( fileURLWithPath : path as String ) let request = NSURLRequest ( URL : url ) // \u30ea\u30af\u30a8\u30b9\u30c8\u30ed\u30fc\u30c9. myWebView . loadRequest ( request ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } }","title":"UIWebView\u3067\u30d5\u30a1\u30a4\u30eb\u306e\u8868\u793a"},{"location":"1.uikit/075_webviewfile/#3x4x","text":"let path: NSString \u3092 let path: String \u306b\u5909\u66f4","title":"3.x\u30684.x\u306e\u5dee\u5206"},{"location":"1.uikit/075_webviewfile/#2330","text":"NSBundle.mainBundle().pathForResource \u304b\u3089 Bundle.main.path \u306b\u5909\u66f4","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"1.uikit/075_webviewfile/#reference","text":"UIWebView https://developer.apple.com/reference/uikit/uiwebview NSBundle https://developer.apple.com/reference/foundation/nsbundle","title":"Reference"},{"location":"2.social/","text":"","title":"Index"},{"location":"2.social/001_twitter/","text":"Twitter\u306b\u6295\u7a3f Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 // // ViewController.swift // Social001 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import Social class ViewController : UIViewController { var myComposeView : SLComposeViewController ! var myTwitterButton : UIButton ! override func viewDidLoad () { super . viewDidLoad () // Twitter\u7528\u306eUIButton\u306e\u751f\u6210. let hex : Int = 0x55ACEE let red = Double (( hex & 0xFF0000 ) >> 16 ) / 255.0 let green = Double (( hex & 0xFF00 ) >> 8 ) / 255.0 let blue = Double (( hex & 0xFF )) / 255.0 let myColor : UIColor = UIColor ( red : CGFloat ( red ), green : CGFloat ( green ), blue : CGFloat ( blue ), alpha : CGFloat ( 1.0 )) // \u30dc\u30bf\u30f3. myTwitterButton = UIButton () myTwitterButton . frame = CGRect ( x : 0 , y : 0 , width : 100 , height : 100 ) myTwitterButton . backgroundColor = myColor myTwitterButton . layer . masksToBounds = true myTwitterButton . setTitle ( \"Twitter\" , for : UIControl . State . normal ) myTwitterButton . titleLabel ?. font = UIFont . systemFont ( ofSize : CGFloat ( 20 )) myTwitterButton . setTitleColor ( UIColor . white , for : UIControl . State . normal ) myTwitterButton . layer . cornerRadius = 50.0 myTwitterButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height / 2 ) myTwitterButton . tag = 1 myTwitterButton . addTarget ( self , action : #selector ( ViewController . onPostToTwitter ( sender :)), for : . touchUpInside ) // button\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( myTwitterButton ) } // \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. @objc func onPostToTwitter ( sender : AnyObject ) { // SLComposeViewController\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316. // ServiceType\u3092Twitter\u306b\u6307\u5b9a. myComposeView = SLComposeViewController ( forServiceType : SLServiceTypeTwitter ) // \u6295\u7a3f\u3059\u308b\u30c6\u30ad\u30b9\u30c8\u3092\u6307\u5b9a. myComposeView . setInitialText ( \"Twitter Test from Swift\" ) // \u6295\u7a3f\u3059\u308b\u753b\u50cf\u3092\u6307\u5b9a. myComposeView . add ( UIImage ( named : \"sample.jpg\" )) // myComposeView\u306e\u753b\u9762\u9077\u79fb. self . present ( myComposeView , animated : true , completion : nil ) } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 // // ViewController.swift // Social001 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import Social class ViewController : UIViewController { var myComposeView : SLComposeViewController ! var myTwitterButton : UIButton ! override func viewDidLoad () { super . viewDidLoad () // Twitter\u7528\u306eUIButton\u306e\u751f\u6210. let hex : Int = 0x55ACEE let red = Double (( hex & 0xFF0000 ) >> 16 ) / 255.0 let green = Double (( hex & 0xFF00 ) >> 8 ) / 255.0 let blue = Double (( hex & 0xFF )) / 255.0 let myColor : UIColor = UIColor ( red : CGFloat ( red ), green : CGFloat ( green ), blue : CGFloat ( blue ), alpha : CGFloat ( 1.0 )) // \u30dc\u30bf\u30f3. myTwitterButton = UIButton () myTwitterButton . frame = CGRect ( x : 0 , y : 0 , width : 100 , height : 100 ) myTwitterButton . backgroundColor = myColor myTwitterButton . layer . masksToBounds = true myTwitterButton . setTitle ( \"Twitter\" , for : UIControlState . normal ) myTwitterButton . titleLabel ?. font = UIFont . systemFont ( ofSize : CGFloat ( 20 )) myTwitterButton . setTitleColor ( UIColor . white , for : UIControlState . normal ) myTwitterButton . layer . cornerRadius = 50.0 myTwitterButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height / 2 ) myTwitterButton . tag = 1 myTwitterButton . addTarget ( self , action : #selector ( ViewController . onPostToTwitter ( sender :)), for : . touchUpInside ) // button\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( myTwitterButton ) } // \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. func onPostToTwitter ( sender : AnyObject ) { // SLComposeViewController\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316. // ServiceType\u3092Twitter\u306b\u6307\u5b9a. myComposeView = SLComposeViewController ( forServiceType : SLServiceTypeTwitter ) // \u6295\u7a3f\u3059\u308b\u30c6\u30ad\u30b9\u30c8\u3092\u6307\u5b9a. myComposeView . setInitialText ( \"Twitter Test from Swift\" ) // \u6295\u7a3f\u3059\u308b\u753b\u50cf\u3092\u6307\u5b9a. myComposeView . add ( UIImage ( named : \"sample.jpg\" )) // myComposeView\u306e\u753b\u9762\u9077\u79fb. self . present ( myComposeView , animated : true , completion : nil ) } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 // // ViewController.swift // Social001 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import Social class ViewController : UIViewController { var myComposeView : SLComposeViewController ! var myTwitterButton : UIButton ! override func viewDidLoad () { super . viewDidLoad () // Twitter\u7528\u306eUIButton\u306e\u751f\u6210. let hex : Int = 0x55ACEE let red = Double (( hex & 0xFF0000 ) >> 16 ) / 255.0 let green = Double (( hex & 0xFF00 ) >> 8 ) / 255.0 let blue = Double (( hex & 0xFF )) / 255.0 let myColor : UIColor = UIColor ( red : CGFloat ( red ), green : CGFloat ( green ), blue : CGFloat ( blue ), alpha : CGFloat ( 1.0 )) // \u30dc\u30bf\u30f3. myTwitterButton = UIButton () myTwitterButton . frame = CGRectMake ( 0 , 0 , 100 , 100 ) myTwitterButton . backgroundColor = myColor myTwitterButton . layer . masksToBounds = true myTwitterButton . setTitle ( \"Twitter\" , forState : UIControlState . Normal ) myTwitterButton . titleLabel ?. font = UIFont . systemFontOfSize ( CGFloat ( 20 )) myTwitterButton . setTitleColor ( UIColor . whiteColor (), forState : UIControlState . Normal ) myTwitterButton . layer . cornerRadius = 50.0 myTwitterButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height / 2 ) myTwitterButton . tag = 1 myTwitterButton . addTarget ( self , action : #selector ( ViewController . onPostToTwitter ( _ :)), forControlEvents : . TouchUpInside ) // button\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( myTwitterButton ) } // \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. func onPostToTwitter ( sender : AnyObject ) { // SLComposeViewController\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316. // ServiceType\u3092Twitter\u306b\u6307\u5b9a. myComposeView = SLComposeViewController ( forServiceType : SLServiceTypeTwitter ) // \u6295\u7a3f\u3059\u308b\u30c6\u30ad\u30b9\u30c8\u3092\u6307\u5b9a. myComposeView . setInitialText ( \"Twitter Test from Swift\" ) // \u6295\u7a3f\u3059\u308b\u753b\u50cf\u3092\u6307\u5b9a. myComposeView . addImage ( UIImage ( named : \"sample.jpg\" )) // myComposeView\u306e\u753b\u9762\u9077\u79fb. self . presentViewController ( myComposeView , animated : true , completion : nil ) } } 3.x\u30684.x\u306e\u5dee\u5206 UIControlState \u304c UIControl.State \u306b\u5909\u66f4 func onPostToTwitter(sender : AnyObject) \u306b @objc \u3092\u8ffd\u52a0 social.framework \u304c\u3001iOS 11.0\u304b\u3089\u4f7f\u7528\u4e0d\u53ef SLServiceTypeTwitter \u304c\u3001iOS 11.0\u304b\u3089\u975e\u63a8\u5968 2.3\u30683.0\u306e\u5dee\u5206 addImage \u304b\u3089 add \u3078\u5909\u66f4 Reference SLComposeViewController https://developer.apple.com/reference/social/slcomposeviewcontroller","title":"Twitter\u306b\u6295\u7a3f"},{"location":"2.social/001_twitter/#twitter","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 // // ViewController.swift // Social001 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import Social class ViewController : UIViewController { var myComposeView : SLComposeViewController ! var myTwitterButton : UIButton ! override func viewDidLoad () { super . viewDidLoad () // Twitter\u7528\u306eUIButton\u306e\u751f\u6210. let hex : Int = 0x55ACEE let red = Double (( hex & 0xFF0000 ) >> 16 ) / 255.0 let green = Double (( hex & 0xFF00 ) >> 8 ) / 255.0 let blue = Double (( hex & 0xFF )) / 255.0 let myColor : UIColor = UIColor ( red : CGFloat ( red ), green : CGFloat ( green ), blue : CGFloat ( blue ), alpha : CGFloat ( 1.0 )) // \u30dc\u30bf\u30f3. myTwitterButton = UIButton () myTwitterButton . frame = CGRect ( x : 0 , y : 0 , width : 100 , height : 100 ) myTwitterButton . backgroundColor = myColor myTwitterButton . layer . masksToBounds = true myTwitterButton . setTitle ( \"Twitter\" , for : UIControl . State . normal ) myTwitterButton . titleLabel ?. font = UIFont . systemFont ( ofSize : CGFloat ( 20 )) myTwitterButton . setTitleColor ( UIColor . white , for : UIControl . State . normal ) myTwitterButton . layer . cornerRadius = 50.0 myTwitterButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height / 2 ) myTwitterButton . tag = 1 myTwitterButton . addTarget ( self , action : #selector ( ViewController . onPostToTwitter ( sender :)), for : . touchUpInside ) // button\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( myTwitterButton ) } // \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. @objc func onPostToTwitter ( sender : AnyObject ) { // SLComposeViewController\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316. // ServiceType\u3092Twitter\u306b\u6307\u5b9a. myComposeView = SLComposeViewController ( forServiceType : SLServiceTypeTwitter ) // \u6295\u7a3f\u3059\u308b\u30c6\u30ad\u30b9\u30c8\u3092\u6307\u5b9a. myComposeView . setInitialText ( \"Twitter Test from Swift\" ) // \u6295\u7a3f\u3059\u308b\u753b\u50cf\u3092\u6307\u5b9a. myComposeView . add ( UIImage ( named : \"sample.jpg\" )) // myComposeView\u306e\u753b\u9762\u9077\u79fb. self . present ( myComposeView , animated : true , completion : nil ) } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 // // ViewController.swift // Social001 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import Social class ViewController : UIViewController { var myComposeView : SLComposeViewController ! var myTwitterButton : UIButton ! override func viewDidLoad () { super . viewDidLoad () // Twitter\u7528\u306eUIButton\u306e\u751f\u6210. let hex : Int = 0x55ACEE let red = Double (( hex & 0xFF0000 ) >> 16 ) / 255.0 let green = Double (( hex & 0xFF00 ) >> 8 ) / 255.0 let blue = Double (( hex & 0xFF )) / 255.0 let myColor : UIColor = UIColor ( red : CGFloat ( red ), green : CGFloat ( green ), blue : CGFloat ( blue ), alpha : CGFloat ( 1.0 )) // \u30dc\u30bf\u30f3. myTwitterButton = UIButton () myTwitterButton . frame = CGRect ( x : 0 , y : 0 , width : 100 , height : 100 ) myTwitterButton . backgroundColor = myColor myTwitterButton . layer . masksToBounds = true myTwitterButton . setTitle ( \"Twitter\" , for : UIControlState . normal ) myTwitterButton . titleLabel ?. font = UIFont . systemFont ( ofSize : CGFloat ( 20 )) myTwitterButton . setTitleColor ( UIColor . white , for : UIControlState . normal ) myTwitterButton . layer . cornerRadius = 50.0 myTwitterButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height / 2 ) myTwitterButton . tag = 1 myTwitterButton . addTarget ( self , action : #selector ( ViewController . onPostToTwitter ( sender :)), for : . touchUpInside ) // button\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( myTwitterButton ) } // \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. func onPostToTwitter ( sender : AnyObject ) { // SLComposeViewController\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316. // ServiceType\u3092Twitter\u306b\u6307\u5b9a. myComposeView = SLComposeViewController ( forServiceType : SLServiceTypeTwitter ) // \u6295\u7a3f\u3059\u308b\u30c6\u30ad\u30b9\u30c8\u3092\u6307\u5b9a. myComposeView . setInitialText ( \"Twitter Test from Swift\" ) // \u6295\u7a3f\u3059\u308b\u753b\u50cf\u3092\u6307\u5b9a. myComposeView . add ( UIImage ( named : \"sample.jpg\" )) // myComposeView\u306e\u753b\u9762\u9077\u79fb. self . present ( myComposeView , animated : true , completion : nil ) } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 // // ViewController.swift // Social001 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import Social class ViewController : UIViewController { var myComposeView : SLComposeViewController ! var myTwitterButton : UIButton ! override func viewDidLoad () { super . viewDidLoad () // Twitter\u7528\u306eUIButton\u306e\u751f\u6210. let hex : Int = 0x55ACEE let red = Double (( hex & 0xFF0000 ) >> 16 ) / 255.0 let green = Double (( hex & 0xFF00 ) >> 8 ) / 255.0 let blue = Double (( hex & 0xFF )) / 255.0 let myColor : UIColor = UIColor ( red : CGFloat ( red ), green : CGFloat ( green ), blue : CGFloat ( blue ), alpha : CGFloat ( 1.0 )) // \u30dc\u30bf\u30f3. myTwitterButton = UIButton () myTwitterButton . frame = CGRectMake ( 0 , 0 , 100 , 100 ) myTwitterButton . backgroundColor = myColor myTwitterButton . layer . masksToBounds = true myTwitterButton . setTitle ( \"Twitter\" , forState : UIControlState . Normal ) myTwitterButton . titleLabel ?. font = UIFont . systemFontOfSize ( CGFloat ( 20 )) myTwitterButton . setTitleColor ( UIColor . whiteColor (), forState : UIControlState . Normal ) myTwitterButton . layer . cornerRadius = 50.0 myTwitterButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height / 2 ) myTwitterButton . tag = 1 myTwitterButton . addTarget ( self , action : #selector ( ViewController . onPostToTwitter ( _ :)), forControlEvents : . TouchUpInside ) // button\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( myTwitterButton ) } // \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. func onPostToTwitter ( sender : AnyObject ) { // SLComposeViewController\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316. // ServiceType\u3092Twitter\u306b\u6307\u5b9a. myComposeView = SLComposeViewController ( forServiceType : SLServiceTypeTwitter ) // \u6295\u7a3f\u3059\u308b\u30c6\u30ad\u30b9\u30c8\u3092\u6307\u5b9a. myComposeView . setInitialText ( \"Twitter Test from Swift\" ) // \u6295\u7a3f\u3059\u308b\u753b\u50cf\u3092\u6307\u5b9a. myComposeView . addImage ( UIImage ( named : \"sample.jpg\" )) // myComposeView\u306e\u753b\u9762\u9077\u79fb. self . presentViewController ( myComposeView , animated : true , completion : nil ) } }","title":"Twitter\u306b\u6295\u7a3f"},{"location":"2.social/001_twitter/#3x4x","text":"UIControlState \u304c UIControl.State \u306b\u5909\u66f4 func onPostToTwitter(sender : AnyObject) \u306b @objc \u3092\u8ffd\u52a0 social.framework \u304c\u3001iOS 11.0\u304b\u3089\u4f7f\u7528\u4e0d\u53ef SLServiceTypeTwitter \u304c\u3001iOS 11.0\u304b\u3089\u975e\u63a8\u5968","title":"3.x\u30684.x\u306e\u5dee\u5206"},{"location":"2.social/001_twitter/#2330","text":"addImage \u304b\u3089 add \u3078\u5909\u66f4","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"2.social/001_twitter/#reference","text":"SLComposeViewController https://developer.apple.com/reference/social/slcomposeviewcontroller","title":"Reference"},{"location":"2.social/002_facebook/","text":"Facebook\u306b\u6295\u7a3f Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 // // ViewController.swift // Social002 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import Social class ViewController : UIViewController { var myComposeView : SLComposeViewController ! override func viewDidLoad () { super . viewDidLoad () // Facebook\u30ab\u30e9\u30fc\u306e\u4f5c\u6210. let hex : Int = 0x3B5998 let red = Double (( hex & 0xFF0000 ) >> 16 ) / 255.0 let green = Double (( hex & 0xFF00 ) >> 8 ) / 255.0 let blue = Double (( hex & 0xFF )) / 255.0 let myColor : UIColor = UIColor ( red : CGFloat ( red ), green : CGFloat ( green ), blue : CGFloat ( blue ), alpha : CGFloat ( 1.0 )) // Facebook\u7528\u306eUIButton\u306e\u751f\u6210. let myFacebookButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 100 , height : 100 )) myFacebookButton . backgroundColor = myColor myFacebookButton . setTitle ( \"Facebook\" , for : UIControl . State . normal ) myFacebookButton . setTitleColor ( UIColor . white , for : UIControl . State . normal ) myFacebookButton . addTarget ( self , action : #selector ( ViewController . postToFacebook ( sender :)), for : UIControl . Event . touchUpInside ) myFacebookButton . layer . cornerRadius = 50.0 myFacebookButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height / 2 ) // button\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( myFacebookButton ) } // \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. @objc func postToFacebook ( sender : UIButton ) { // postToTwitter\u3068\u540c\u69d8. // ServiceType\u3092Facebook\u306b\u6307\u5b9a. myComposeView = SLComposeViewController ( forServiceType : SLServiceTypeFacebook ) // \u6295\u7a3f\u3059\u308b\u30c6\u30ad\u30b9\u30c8\u3092\u6307\u5b9a. myComposeView . setInitialText ( \"Facebook Test\" ) // \u6295\u7a3f\u3059\u308b\u753b\u50cf\u3092\u6307\u5b9a. myComposeView . add ( UIImage ( named : \"sample1.jpg\" )) // myComposeView\u306e\u753b\u9762\u9077\u79fb. self . present ( myComposeView , animated : true , completion : nil ) } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 // // ViewController.swift // Social002 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import Social class ViewController : UIViewController { var myComposeView : SLComposeViewController ! override func viewDidLoad () { super . viewDidLoad () // Facebook\u30ab\u30e9\u30fc\u306e\u4f5c\u6210. let hex : Int = 0x3B5998 let red = Double (( hex & 0xFF0000 ) >> 16 ) / 255.0 let green = Double (( hex & 0xFF00 ) >> 8 ) / 255.0 let blue = Double (( hex & 0xFF )) / 255.0 let myColor : UIColor = UIColor ( red : CGFloat ( red ), green : CGFloat ( green ), blue : CGFloat ( blue ), alpha : CGFloat ( 1.0 )) // Facebook\u7528\u306eUIButton\u306e\u751f\u6210. let myFacebookButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 100 , height : 100 )) myFacebookButton . backgroundColor = myColor myFacebookButton . setTitle ( \"Facebook\" , for : UIControlState . normal ) myFacebookButton . setTitleColor ( UIColor . white , for : UIControlState . normal ) myFacebookButton . addTarget ( self , action : #selector ( ViewController . postToFacebook ( sender :)), for : UIControlEvents . touchUpInside ) myFacebookButton . layer . cornerRadius = 50.0 myFacebookButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height / 2 ) // button\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( myFacebookButton ) } // \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. func postToFacebook ( sender : UIButton ) { // postToTwitter\u3068\u540c\u69d8. // ServiceType\u3092Facebook\u306b\u6307\u5b9a. myComposeView = SLComposeViewController ( forServiceType : SLServiceTypeFacebook ) // \u6295\u7a3f\u3059\u308b\u30c6\u30ad\u30b9\u30c8\u3092\u6307\u5b9a. myComposeView . setInitialText ( \"Facebook Test\" ) // \u6295\u7a3f\u3059\u308b\u753b\u50cf\u3092\u6307\u5b9a. myComposeView . add ( UIImage ( named : \"sample1.jpg\" )) // myComposeView\u306e\u753b\u9762\u9077\u79fb. self . present ( myComposeView , animated : true , completion : nil ) } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 // // ViewController.swift // Social002 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import Social class ViewController : UIViewController { var myComposeView : SLComposeViewController ! override func viewDidLoad () { super . viewDidLoad () // Facebook\u30ab\u30e9\u30fc\u306e\u4f5c\u6210. let hex : Int = 0x3B5998 let red = Double (( hex & 0xFF0000 ) >> 16 ) / 255.0 let green = Double (( hex & 0xFF00 ) >> 8 ) / 255.0 let blue = Double (( hex & 0xFF )) / 255.0 let myColor : UIColor = UIColor ( red : CGFloat ( red ), green : CGFloat ( green ), blue : CGFloat ( blue ), alpha : CGFloat ( 1.0 )) // Facebook\u7528\u306eUIButton\u306e\u751f\u6210. let myFacebookButton = UIButton ( frame : CGRectMake ( 0 , 0 , 100 , 100 )) myFacebookButton . backgroundColor = myColor myFacebookButton . setTitle ( \"Facebook\" , forState : UIControlState . Normal ) myFacebookButton . setTitleColor ( UIColor . whiteColor (), forState : UIControlState . Normal ) myFacebookButton . addTarget ( self , action : #selector ( ViewController . postToFacebook ( _ :)), forControlEvents : UIControlEvents . TouchUpInside ) myFacebookButton . layer . cornerRadius = 50.0 myFacebookButton . layer . position = CGPointMake ( self . view . frame . width / 2 , self . view . frame . height / 2 ) // button\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( myFacebookButton ) } // \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. func postToFacebook ( sender : UIButton ) { // postToTwitter\u3068\u540c\u69d8. // ServiceType\u3092Facebook\u306b\u6307\u5b9a. myComposeView = SLComposeViewController ( forServiceType : SLServiceTypeFacebook ) // \u6295\u7a3f\u3059\u308b\u30c6\u30ad\u30b9\u30c8\u3092\u6307\u5b9a. myComposeView . setInitialText ( \"Facebook Test\" ) // \u6295\u7a3f\u3059\u308b\u753b\u50cf\u3092\u6307\u5b9a. myComposeView . addImage ( UIImage ( named : \"sample1.jpg\" )) // myComposeView\u306e\u753b\u9762\u9077\u79fb. self . presentViewController ( myComposeView , animated : true , completion : nil ) } } 3.x\u30684.x\u306e\u5dee\u5206 UIControlState \u304c UIControl.State \u306b\u5909\u66f4 UIControlEvents \u304c UIControl.Event \u306b\u5909\u66f4 func postToFacebook(sender : UIButton) \u306b @objc \u3092\u8ffd\u52a0 social.framework \u304c\u3001iOS 11.0\u304b\u3089\u4f7f\u7528\u4e0d\u53ef SLServiceTypeFacebook \u304c\u3001iOS 11.0\u304b\u3089\u975e\u63a8\u5968 2.3\u30683.0\u306e\u5dee\u5206 addImage \u304b\u3089 add \u3078\u5909\u66f4 Reference SLComposeViewController https://developer.apple.com/reference/social/slcomposeviewcontroller","title":"Facebook\u306b\u6295\u7a3f"},{"location":"2.social/002_facebook/#facebook","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 // // ViewController.swift // Social002 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import Social class ViewController : UIViewController { var myComposeView : SLComposeViewController ! override func viewDidLoad () { super . viewDidLoad () // Facebook\u30ab\u30e9\u30fc\u306e\u4f5c\u6210. let hex : Int = 0x3B5998 let red = Double (( hex & 0xFF0000 ) >> 16 ) / 255.0 let green = Double (( hex & 0xFF00 ) >> 8 ) / 255.0 let blue = Double (( hex & 0xFF )) / 255.0 let myColor : UIColor = UIColor ( red : CGFloat ( red ), green : CGFloat ( green ), blue : CGFloat ( blue ), alpha : CGFloat ( 1.0 )) // Facebook\u7528\u306eUIButton\u306e\u751f\u6210. let myFacebookButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 100 , height : 100 )) myFacebookButton . backgroundColor = myColor myFacebookButton . setTitle ( \"Facebook\" , for : UIControl . State . normal ) myFacebookButton . setTitleColor ( UIColor . white , for : UIControl . State . normal ) myFacebookButton . addTarget ( self , action : #selector ( ViewController . postToFacebook ( sender :)), for : UIControl . Event . touchUpInside ) myFacebookButton . layer . cornerRadius = 50.0 myFacebookButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height / 2 ) // button\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( myFacebookButton ) } // \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. @objc func postToFacebook ( sender : UIButton ) { // postToTwitter\u3068\u540c\u69d8. // ServiceType\u3092Facebook\u306b\u6307\u5b9a. myComposeView = SLComposeViewController ( forServiceType : SLServiceTypeFacebook ) // \u6295\u7a3f\u3059\u308b\u30c6\u30ad\u30b9\u30c8\u3092\u6307\u5b9a. myComposeView . setInitialText ( \"Facebook Test\" ) // \u6295\u7a3f\u3059\u308b\u753b\u50cf\u3092\u6307\u5b9a. myComposeView . add ( UIImage ( named : \"sample1.jpg\" )) // myComposeView\u306e\u753b\u9762\u9077\u79fb. self . present ( myComposeView , animated : true , completion : nil ) } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 // // ViewController.swift // Social002 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import Social class ViewController : UIViewController { var myComposeView : SLComposeViewController ! override func viewDidLoad () { super . viewDidLoad () // Facebook\u30ab\u30e9\u30fc\u306e\u4f5c\u6210. let hex : Int = 0x3B5998 let red = Double (( hex & 0xFF0000 ) >> 16 ) / 255.0 let green = Double (( hex & 0xFF00 ) >> 8 ) / 255.0 let blue = Double (( hex & 0xFF )) / 255.0 let myColor : UIColor = UIColor ( red : CGFloat ( red ), green : CGFloat ( green ), blue : CGFloat ( blue ), alpha : CGFloat ( 1.0 )) // Facebook\u7528\u306eUIButton\u306e\u751f\u6210. let myFacebookButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 100 , height : 100 )) myFacebookButton . backgroundColor = myColor myFacebookButton . setTitle ( \"Facebook\" , for : UIControlState . normal ) myFacebookButton . setTitleColor ( UIColor . white , for : UIControlState . normal ) myFacebookButton . addTarget ( self , action : #selector ( ViewController . postToFacebook ( sender :)), for : UIControlEvents . touchUpInside ) myFacebookButton . layer . cornerRadius = 50.0 myFacebookButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height / 2 ) // button\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( myFacebookButton ) } // \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. func postToFacebook ( sender : UIButton ) { // postToTwitter\u3068\u540c\u69d8. // ServiceType\u3092Facebook\u306b\u6307\u5b9a. myComposeView = SLComposeViewController ( forServiceType : SLServiceTypeFacebook ) // \u6295\u7a3f\u3059\u308b\u30c6\u30ad\u30b9\u30c8\u3092\u6307\u5b9a. myComposeView . setInitialText ( \"Facebook Test\" ) // \u6295\u7a3f\u3059\u308b\u753b\u50cf\u3092\u6307\u5b9a. myComposeView . add ( UIImage ( named : \"sample1.jpg\" )) // myComposeView\u306e\u753b\u9762\u9077\u79fb. self . present ( myComposeView , animated : true , completion : nil ) } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 // // ViewController.swift // Social002 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import Social class ViewController : UIViewController { var myComposeView : SLComposeViewController ! override func viewDidLoad () { super . viewDidLoad () // Facebook\u30ab\u30e9\u30fc\u306e\u4f5c\u6210. let hex : Int = 0x3B5998 let red = Double (( hex & 0xFF0000 ) >> 16 ) / 255.0 let green = Double (( hex & 0xFF00 ) >> 8 ) / 255.0 let blue = Double (( hex & 0xFF )) / 255.0 let myColor : UIColor = UIColor ( red : CGFloat ( red ), green : CGFloat ( green ), blue : CGFloat ( blue ), alpha : CGFloat ( 1.0 )) // Facebook\u7528\u306eUIButton\u306e\u751f\u6210. let myFacebookButton = UIButton ( frame : CGRectMake ( 0 , 0 , 100 , 100 )) myFacebookButton . backgroundColor = myColor myFacebookButton . setTitle ( \"Facebook\" , forState : UIControlState . Normal ) myFacebookButton . setTitleColor ( UIColor . whiteColor (), forState : UIControlState . Normal ) myFacebookButton . addTarget ( self , action : #selector ( ViewController . postToFacebook ( _ :)), forControlEvents : UIControlEvents . TouchUpInside ) myFacebookButton . layer . cornerRadius = 50.0 myFacebookButton . layer . position = CGPointMake ( self . view . frame . width / 2 , self . view . frame . height / 2 ) // button\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( myFacebookButton ) } // \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. func postToFacebook ( sender : UIButton ) { // postToTwitter\u3068\u540c\u69d8. // ServiceType\u3092Facebook\u306b\u6307\u5b9a. myComposeView = SLComposeViewController ( forServiceType : SLServiceTypeFacebook ) // \u6295\u7a3f\u3059\u308b\u30c6\u30ad\u30b9\u30c8\u3092\u6307\u5b9a. myComposeView . setInitialText ( \"Facebook Test\" ) // \u6295\u7a3f\u3059\u308b\u753b\u50cf\u3092\u6307\u5b9a. myComposeView . addImage ( UIImage ( named : \"sample1.jpg\" )) // myComposeView\u306e\u753b\u9762\u9077\u79fb. self . presentViewController ( myComposeView , animated : true , completion : nil ) } }","title":"Facebook\u306b\u6295\u7a3f"},{"location":"2.social/002_facebook/#3x4x","text":"UIControlState \u304c UIControl.State \u306b\u5909\u66f4 UIControlEvents \u304c UIControl.Event \u306b\u5909\u66f4 func postToFacebook(sender : UIButton) \u306b @objc \u3092\u8ffd\u52a0 social.framework \u304c\u3001iOS 11.0\u304b\u3089\u4f7f\u7528\u4e0d\u53ef SLServiceTypeFacebook \u304c\u3001iOS 11.0\u304b\u3089\u975e\u63a8\u5968","title":"3.x\u30684.x\u306e\u5dee\u5206"},{"location":"2.social/002_facebook/#2330","text":"addImage \u304b\u3089 add \u3078\u5909\u66f4","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"2.social/002_facebook/#reference","text":"SLComposeViewController https://developer.apple.com/reference/social/slcomposeviewcontroller","title":"Reference"},{"location":"3.mapkit/","text":"","title":"Index"},{"location":"3.mapkit/001_mapview/","text":"\u5730\u56f3\u306e\u8868\u793a Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 // // ViewController.swift // MapKit001 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit class ViewController : UIViewController , MKMapViewDelegate { // MapView. var myMapView : MKMapView ! override func viewDidLoad () { super . viewDidLoad () // MapView\u306e\u751f\u6210. myMapView = MKMapView () // MapView\u306e\u30b5\u30a4\u30ba\u3092\u753b\u9762\u5168\u4f53\u306b. myMapView . frame = self . view . bounds // Delegate\u3092\u8a2d\u5b9a. myMapView . delegate = self // MapView\u3092View\u306b\u8ffd\u52a0. self . view . addSubview ( myMapView ) // \u4e2d\u5fc3\u70b9\u306e\u7def\u5ea6\u7d4c\u5ea6. let myLat : CLLocationDegrees = 37.506804 let myLon : CLLocationDegrees = 139.930531 let myCoordinate : CLLocationCoordinate2D = CLLocationCoordinate2DMake ( myLat , myLon ) // \u7e2e\u5c3a. let myLatDist : CLLocationDistance = 100 let myLonDist : CLLocationDistance = 100 // Region\u3092\u4f5c\u6210. let myRegion : MKCoordinateRegion = MKCoordinateRegion ( center : myCoordinate , latitudinalMeters : myLatDist , longitudinalMeters : myLonDist ); // MapView\u306b\u53cd\u6620. myMapView . setRegion ( myRegion , animated : true ) } // Region\u304c\u5909\u66f4\u3055\u308c\u305f\u6642\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30e1\u30bd\u30c3\u30c9. func mapView ( _ mapView : MKMapView , regionDidChangeAnimated animated : Bool ) { print ( \"regionDidChangeAnimated\" ) } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 // // ViewController.swift // MapKit001 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit class ViewController : UIViewController , MKMapViewDelegate { // MapView. var myMapView : MKMapView ! override func viewDidLoad () { super . viewDidLoad () // MapView\u306e\u751f\u6210. myMapView = MKMapView () // MapView\u306e\u30b5\u30a4\u30ba\u3092\u753b\u9762\u5168\u4f53\u306b. myMapView . frame = self . view . bounds // Delegate\u3092\u8a2d\u5b9a. myMapView . delegate = self // MapView\u3092View\u306b\u8ffd\u52a0. self . view . addSubview ( myMapView ) // \u4e2d\u5fc3\u70b9\u306e\u7def\u5ea6\u7d4c\u5ea6. let myLat : CLLocationDegrees = 37.506804 let myLon : CLLocationDegrees = 139.930531 let myCoordinate : CLLocationCoordinate2D = CLLocationCoordinate2DMake ( myLat , myLon ) // \u7e2e\u5c3a. let myLatDist : CLLocationDistance = 100 let myLonDist : CLLocationDistance = 100 // Region\u3092\u4f5c\u6210. let myRegion : MKCoordinateRegion = MKCoordinateRegionMakeWithDistance ( myCoordinate , myLatDist , myLonDist ); // MapView\u306b\u53cd\u6620. myMapView . setRegion ( myRegion , animated : true ) } // Region\u304c\u5909\u66f4\u3055\u308c\u305f\u6642\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30e1\u30bd\u30c3\u30c9. func mapView ( _ mapView : MKMapView , regionDidChangeAnimated animated : Bool ) { print ( \"regionDidChangeAnimated\" ) } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 // // ViewController.swift // MapKit001 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit class ViewController : UIViewController , MKMapViewDelegate { // MapView. var myMapView : MKMapView ! override func viewDidLoad () { super . viewDidLoad () // MapView\u306e\u751f\u6210. myMapView = MKMapView () // MapView\u306e\u30b5\u30a4\u30ba\u3092\u753b\u9762\u5168\u4f53\u306b. myMapView . frame = self . view . bounds // Delegate\u3092\u8a2d\u5b9a. myMapView . delegate = self // MapView\u3092View\u306b\u8ffd\u52a0. self . view . addSubview ( myMapView ) // \u4e2d\u5fc3\u70b9\u306e\u7def\u5ea6\u7d4c\u5ea6. let myLat : CLLocationDegrees = 37.506804 let myLon : CLLocationDegrees = 139.930531 let myCoordinate : CLLocationCoordinate2D = CLLocationCoordinate2DMake ( myLat , myLon ) // \u7e2e\u5c3a. let myLatDist : CLLocationDistance = 100 let myLonDist : CLLocationDistance = 100 // Region\u3092\u4f5c\u6210. let myRegion : MKCoordinateRegion = MKCoordinateRegionMakeWithDistance ( myCoordinate , myLatDist , myLonDist ); // MapView\u306b\u53cd\u6620. myMapView . setRegion ( myRegion , animated : true ) } // Region\u304c\u5909\u66f4\u3055\u308c\u305f\u6642\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30e1\u30bd\u30c3\u30c9. func mapView ( mapView : MKMapView , regionDidChangeAnimated animated : Bool ) { print ( \"regionDidChangeAnimated\" ) } } 3.x\u30684.x\u306e\u5dee\u5206 MKCoordinateRegionMakeWithDistance(myCoordinate, myLatDist, myLonDist) \u304c MKCoordinateRegion(center: myCoordinate, latitudinalMeters: myLatDist, longitudinalMeters: myLonDist) \u306b\u5909\u66f4 2.3\u30683.0\u306e\u5dee\u5206 func mapView(mapView: MKMapView, regionDidChangeAnimated animated: Bool) \u306b func mapView(_ mapView: MKMapView, regionDidChangeAnimated animated: Bool) \u306b\u5909\u66f4 Reference MKMapView https://developer.apple.com/reference/mapkit/mkmapview","title":"\u5730\u56f3\u306e\u8868\u793a"},{"location":"3.mapkit/001_mapview/#_1","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 // // ViewController.swift // MapKit001 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit class ViewController : UIViewController , MKMapViewDelegate { // MapView. var myMapView : MKMapView ! override func viewDidLoad () { super . viewDidLoad () // MapView\u306e\u751f\u6210. myMapView = MKMapView () // MapView\u306e\u30b5\u30a4\u30ba\u3092\u753b\u9762\u5168\u4f53\u306b. myMapView . frame = self . view . bounds // Delegate\u3092\u8a2d\u5b9a. myMapView . delegate = self // MapView\u3092View\u306b\u8ffd\u52a0. self . view . addSubview ( myMapView ) // \u4e2d\u5fc3\u70b9\u306e\u7def\u5ea6\u7d4c\u5ea6. let myLat : CLLocationDegrees = 37.506804 let myLon : CLLocationDegrees = 139.930531 let myCoordinate : CLLocationCoordinate2D = CLLocationCoordinate2DMake ( myLat , myLon ) // \u7e2e\u5c3a. let myLatDist : CLLocationDistance = 100 let myLonDist : CLLocationDistance = 100 // Region\u3092\u4f5c\u6210. let myRegion : MKCoordinateRegion = MKCoordinateRegion ( center : myCoordinate , latitudinalMeters : myLatDist , longitudinalMeters : myLonDist ); // MapView\u306b\u53cd\u6620. myMapView . setRegion ( myRegion , animated : true ) } // Region\u304c\u5909\u66f4\u3055\u308c\u305f\u6642\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30e1\u30bd\u30c3\u30c9. func mapView ( _ mapView : MKMapView , regionDidChangeAnimated animated : Bool ) { print ( \"regionDidChangeAnimated\" ) } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 // // ViewController.swift // MapKit001 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit class ViewController : UIViewController , MKMapViewDelegate { // MapView. var myMapView : MKMapView ! override func viewDidLoad () { super . viewDidLoad () // MapView\u306e\u751f\u6210. myMapView = MKMapView () // MapView\u306e\u30b5\u30a4\u30ba\u3092\u753b\u9762\u5168\u4f53\u306b. myMapView . frame = self . view . bounds // Delegate\u3092\u8a2d\u5b9a. myMapView . delegate = self // MapView\u3092View\u306b\u8ffd\u52a0. self . view . addSubview ( myMapView ) // \u4e2d\u5fc3\u70b9\u306e\u7def\u5ea6\u7d4c\u5ea6. let myLat : CLLocationDegrees = 37.506804 let myLon : CLLocationDegrees = 139.930531 let myCoordinate : CLLocationCoordinate2D = CLLocationCoordinate2DMake ( myLat , myLon ) // \u7e2e\u5c3a. let myLatDist : CLLocationDistance = 100 let myLonDist : CLLocationDistance = 100 // Region\u3092\u4f5c\u6210. let myRegion : MKCoordinateRegion = MKCoordinateRegionMakeWithDistance ( myCoordinate , myLatDist , myLonDist ); // MapView\u306b\u53cd\u6620. myMapView . setRegion ( myRegion , animated : true ) } // Region\u304c\u5909\u66f4\u3055\u308c\u305f\u6642\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30e1\u30bd\u30c3\u30c9. func mapView ( _ mapView : MKMapView , regionDidChangeAnimated animated : Bool ) { print ( \"regionDidChangeAnimated\" ) } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 // // ViewController.swift // MapKit001 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit class ViewController : UIViewController , MKMapViewDelegate { // MapView. var myMapView : MKMapView ! override func viewDidLoad () { super . viewDidLoad () // MapView\u306e\u751f\u6210. myMapView = MKMapView () // MapView\u306e\u30b5\u30a4\u30ba\u3092\u753b\u9762\u5168\u4f53\u306b. myMapView . frame = self . view . bounds // Delegate\u3092\u8a2d\u5b9a. myMapView . delegate = self // MapView\u3092View\u306b\u8ffd\u52a0. self . view . addSubview ( myMapView ) // \u4e2d\u5fc3\u70b9\u306e\u7def\u5ea6\u7d4c\u5ea6. let myLat : CLLocationDegrees = 37.506804 let myLon : CLLocationDegrees = 139.930531 let myCoordinate : CLLocationCoordinate2D = CLLocationCoordinate2DMake ( myLat , myLon ) // \u7e2e\u5c3a. let myLatDist : CLLocationDistance = 100 let myLonDist : CLLocationDistance = 100 // Region\u3092\u4f5c\u6210. let myRegion : MKCoordinateRegion = MKCoordinateRegionMakeWithDistance ( myCoordinate , myLatDist , myLonDist ); // MapView\u306b\u53cd\u6620. myMapView . setRegion ( myRegion , animated : true ) } // Region\u304c\u5909\u66f4\u3055\u308c\u305f\u6642\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30e1\u30bd\u30c3\u30c9. func mapView ( mapView : MKMapView , regionDidChangeAnimated animated : Bool ) { print ( \"regionDidChangeAnimated\" ) } }","title":"\u5730\u56f3\u306e\u8868\u793a"},{"location":"3.mapkit/001_mapview/#3x4x","text":"MKCoordinateRegionMakeWithDistance(myCoordinate, myLatDist, myLonDist) \u304c MKCoordinateRegion(center: myCoordinate, latitudinalMeters: myLatDist, longitudinalMeters: myLonDist) \u306b\u5909\u66f4","title":"3.x\u30684.x\u306e\u5dee\u5206"},{"location":"3.mapkit/001_mapview/#2330","text":"func mapView(mapView: MKMapView, regionDidChangeAnimated animated: Bool) \u306b func mapView(_ mapView: MKMapView, regionDidChangeAnimated animated: Bool) \u306b\u5909\u66f4","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"3.mapkit/001_mapview/#reference","text":"MKMapView https://developer.apple.com/reference/mapkit/mkmapview","title":"Reference"},{"location":"3.mapkit/002_mapview/","text":"\u5730\u56f3\u306e\u7e2e\u5c3a\u306e\u5909\u66f4 Swift 4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 // // ViewController.swift // MapKit002 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // MapView\u3092\u751f\u6210. let mapView : MKMapView = MKMapView ( frame : CGRect ( x : 0 , y : 0 , width : self . view . frame . size . width , height : self . view . frame . size . height )) // MapView\u306e\u4e2d\u5fc3\u4f4d\u7f6e\u3092\u6307\u5b9a. mapView . centerCoordinate = CLLocationCoordinate2DMake ( 37.331741 , - 122.030333 ) // \u7e2e\u5c3a\u3092\u5909\u66f4. // \u500d\u7387\u3092\u6307\u5b9a. let span : MKCoordinateSpan = MKCoordinateSpan ( latitudeDelta : 0.1 , longitudeDelta : 0.1 ) // MapView\u3067\u6307\u5b9a\u3057\u305f\u4e2d\u5fc3\u4f4d\u7f6e\u3068MKCoordinateSapn\u3067\u5ba3\u8a00\u3057\u305fspan\u3092\u6307\u5b9a\u3059\u308b. let region : MKCoordinateRegion = MKCoordinateRegion ( center : mapView . centerCoordinate , span : span ) // MapView\u306eregion\u30d7\u30ed\u30d1\u30c6\u30a3\u306bregion\u3092\u6307\u5b9a. mapView . region = region // MapView\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( mapView ) } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 // // ViewController.swift // MapKit002 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // MapView\u3092\u751f\u6210. let mapView : MKMapView = MKMapView ( frame : CGRectMake ( 0 , 0 , self . view . frame . size . width , self . view . frame . size . height )) // MapView\u306e\u4e2d\u5fc3\u4f4d\u7f6e\u3092\u6307\u5b9a. mapView . centerCoordinate = CLLocationCoordinate2DMake ( 37.331741 , - 122.030333 ) // \u7e2e\u5c3a\u3092\u5909\u66f4. // \u500d\u7387\u3092\u6307\u5b9a. let span : MKCoordinateSpan = MKCoordinateSpan ( latitudeDelta : 0.1 , longitudeDelta : 0.1 ) // MapView\u3067\u6307\u5b9a\u3057\u305f\u4e2d\u5fc3\u4f4d\u7f6e\u3068MKCoordinateSapn\u3067\u5ba3\u8a00\u3057\u305fspan\u3092\u6307\u5b9a\u3059\u308b. let region : MKCoordinateRegion = MKCoordinateRegion ( center : mapView . centerCoordinate , span : span ) // MapView\u306eregion\u30d7\u30ed\u30d1\u30c6\u30a3\u306bregion\u3092\u6307\u5b9a. mapView . region = region // MapView\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( mapView ) } } 2.3\u30683.0\u306e\u5dee\u5206 CGRectMake\u304c\u5ec3\u6b62 Reference MKMapView https://developer.apple.com/reference/mapkit/mkmapview MapKit Data Types https://developer.apple.com/reference/mapkit/1612567-mapkit_data_types","title":"\u5730\u56f3\u306e\u7e2e\u5c3a\u306e\u5909\u66f4"},{"location":"3.mapkit/002_mapview/#_1","text":"Swift 4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 // // ViewController.swift // MapKit002 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // MapView\u3092\u751f\u6210. let mapView : MKMapView = MKMapView ( frame : CGRect ( x : 0 , y : 0 , width : self . view . frame . size . width , height : self . view . frame . size . height )) // MapView\u306e\u4e2d\u5fc3\u4f4d\u7f6e\u3092\u6307\u5b9a. mapView . centerCoordinate = CLLocationCoordinate2DMake ( 37.331741 , - 122.030333 ) // \u7e2e\u5c3a\u3092\u5909\u66f4. // \u500d\u7387\u3092\u6307\u5b9a. let span : MKCoordinateSpan = MKCoordinateSpan ( latitudeDelta : 0.1 , longitudeDelta : 0.1 ) // MapView\u3067\u6307\u5b9a\u3057\u305f\u4e2d\u5fc3\u4f4d\u7f6e\u3068MKCoordinateSapn\u3067\u5ba3\u8a00\u3057\u305fspan\u3092\u6307\u5b9a\u3059\u308b. let region : MKCoordinateRegion = MKCoordinateRegion ( center : mapView . centerCoordinate , span : span ) // MapView\u306eregion\u30d7\u30ed\u30d1\u30c6\u30a3\u306bregion\u3092\u6307\u5b9a. mapView . region = region // MapView\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( mapView ) } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 // // ViewController.swift // MapKit002 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // MapView\u3092\u751f\u6210. let mapView : MKMapView = MKMapView ( frame : CGRectMake ( 0 , 0 , self . view . frame . size . width , self . view . frame . size . height )) // MapView\u306e\u4e2d\u5fc3\u4f4d\u7f6e\u3092\u6307\u5b9a. mapView . centerCoordinate = CLLocationCoordinate2DMake ( 37.331741 , - 122.030333 ) // \u7e2e\u5c3a\u3092\u5909\u66f4. // \u500d\u7387\u3092\u6307\u5b9a. let span : MKCoordinateSpan = MKCoordinateSpan ( latitudeDelta : 0.1 , longitudeDelta : 0.1 ) // MapView\u3067\u6307\u5b9a\u3057\u305f\u4e2d\u5fc3\u4f4d\u7f6e\u3068MKCoordinateSapn\u3067\u5ba3\u8a00\u3057\u305fspan\u3092\u6307\u5b9a\u3059\u308b. let region : MKCoordinateRegion = MKCoordinateRegion ( center : mapView . centerCoordinate , span : span ) // MapView\u306eregion\u30d7\u30ed\u30d1\u30c6\u30a3\u306bregion\u3092\u6307\u5b9a. mapView . region = region // MapView\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( mapView ) } }","title":"\u5730\u56f3\u306e\u7e2e\u5c3a\u306e\u5909\u66f4"},{"location":"3.mapkit/002_mapview/#2330","text":"CGRectMake\u304c\u5ec3\u6b62","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"3.mapkit/002_mapview/#reference","text":"MKMapView https://developer.apple.com/reference/mapkit/mkmapview MapKit Data Types https://developer.apple.com/reference/mapkit/1612567-mapkit_data_types","title":"Reference"},{"location":"3.mapkit/003_cllocation/","text":"\u73fe\u5728\u4f4d\u7f6e\u306e\u5730\u56f3\u306e\u8868\u793a Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 // // ViewController.swift // MapKit003 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit import CoreLocation class ViewController : UIViewController , MKMapViewDelegate , CLLocationManagerDelegate { var myMapView : MKMapView ! var myLocationManager : CLLocationManager ! override func viewDidLoad () { super . viewDidLoad () // LocationManager\u306e\u751f\u6210. myLocationManager = CLLocationManager () // Delegate\u306e\u8a2d\u5b9a. myLocationManager . delegate = self // \u8ddd\u96e2\u306e\u30d5\u30a3\u30eb\u30bf. myLocationManager . distanceFilter = 100.0 // \u7cbe\u5ea6. myLocationManager . desiredAccuracy = kCLLocationAccuracyHundredMeters // \u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u8a8d\u8a3c\u306e\u30b9\u30c6\u30fc\u30bf\u30b9\u3092\u53d6\u5f97. let status = CLLocationManager . authorizationStatus () // \u307e\u3060\u8a8d\u8a3c\u304c\u5f97\u3089\u308c\u3066\u3044\u306a\u3044\u5834\u5408\u306f\u3001\u8a8d\u8a3c\u30c0\u30a4\u30a2\u30ed\u30b0\u3092\u8868\u793a. if ( status != CLAuthorizationStatus . authorizedWhenInUse ) { print ( \"not determined\" ) // \u307e\u3060\u627f\u8a8d\u304c\u5f97\u3089\u308c\u3066\u3044\u306a\u3044\u5834\u5408\u306f\u3001\u8a8d\u8a3c\u30c0\u30a4\u30a2\u30ed\u30b0\u3092\u8868\u793a. myLocationManager . requestWhenInUseAuthorization () } // \u4f4d\u7f6e\u60c5\u5831\u306e\u66f4\u65b0\u3092\u958b\u59cb. myLocationManager . startUpdatingLocation () // MapView\u306e\u751f\u6210. myMapView = MKMapView () // MapView\u306e\u30b5\u30a4\u30ba\u3092\u753b\u9762\u5168\u4f53\u306b. myMapView . frame = self . view . bounds // Delegate\u3092\u8a2d\u5b9a. myMapView . delegate = self // MapView\u3092View\u306b\u8ffd\u52a0. self . view . addSubview ( myMapView ) // \u4e2d\u5fc3\u70b9\u306e\u7def\u5ea6\u7d4c\u5ea6. let myLat : CLLocationDegrees = 37.506804 let myLon : CLLocationDegrees = 139.930531 let myCoordinate : CLLocationCoordinate2D = CLLocationCoordinate2DMake ( myLat , myLon ) as CLLocationCoordinate2D // \u7e2e\u5c3a. let myLatDist : CLLocationDistance = 100 let myLonDist : CLLocationDistance = 100 // Region\u3092\u4f5c\u6210. let myRegion : MKCoordinateRegion = MKCoordinateRegion ( center : myCoordinate , latitudinalMeters : myLatDist , longitudinalMeters : myLonDist ); // MapView\u306b\u53cd\u6620. myMapView . setRegion ( myRegion , animated : true ) } // GPS\u304b\u3089\u5024\u3092\u53d6\u5f97\u3057\u305f\u969b\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30e1\u30bd\u30c3\u30c9. func locationManager ( _ manager : CLLocationManager , didUpdateLocations locations : [ CLLocation ]) { print ( \"didUpdateLocations\" ) // \u914d\u5217\u304b\u3089\u73fe\u5728\u5ea7\u6a19\u3092\u53d6\u5f97. let myLocations : NSArray = locations as NSArray let myLastLocation : CLLocation = myLocations . lastObject as ! CLLocation let myLocation : CLLocationCoordinate2D = myLastLocation . coordinate print ( \" \\( myLocation . latitude ) , \\( myLocation . longitude ) \" ) // \u7e2e\u5c3a. let myLatDist : CLLocationDistance = 100 let myLonDist : CLLocationDistance = 100 // Region\u3092\u4f5c\u6210. let myRegion : MKCoordinateRegion = MKCoordinateRegion ( center : myLocation , latitudinalMeters : myLatDist , longitudinalMeters : myLonDist ); // MapView\u306b\u53cd\u6620. myMapView . setRegion ( myRegion , animated : true ) } // Region\u304c\u5909\u66f4\u3057\u305f\u6642\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30e1\u30bd\u30c3\u30c9. func mapView ( _ mapView : MKMapView , regionDidChangeAnimated animated : Bool ) { print ( \"regionDidChangeAnimated\" ) } // \u8a8d\u8a3c\u304c\u5909\u66f4\u3055\u308c\u305f\u6642\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30e1\u30bd\u30c3\u30c9. private func locationManager ( manager : CLLocationManager , didChangeAuthorizationStatus status : CLAuthorizationStatus ) { switch status { case . authorizedWhenInUse : print ( \"AuthorizedWhenInUse\" ) case . authorizedAlways : print ( \"AuthorizedAlways\" ) case . denied : print ( \"Denied\" ) case . restricted : print ( \"Restricted\" ) case . notDetermined : print ( \"NotDetermined\" ) } } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 // // ViewController.swift // MapKit003 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit import CoreLocation class ViewController : UIViewController , MKMapViewDelegate , CLLocationManagerDelegate { var myMapView : MKMapView ! var myLocationManager : CLLocationManager ! override func viewDidLoad () { super . viewDidLoad () // LocationManager\u306e\u751f\u6210. myLocationManager = CLLocationManager () // Delegate\u306e\u8a2d\u5b9a. myLocationManager . delegate = self // \u8ddd\u96e2\u306e\u30d5\u30a3\u30eb\u30bf. myLocationManager . distanceFilter = 100.0 // \u7cbe\u5ea6. myLocationManager . desiredAccuracy = kCLLocationAccuracyHundredMeters // \u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u8a8d\u8a3c\u306e\u30b9\u30c6\u30fc\u30bf\u30b9\u3092\u53d6\u5f97. let status = CLLocationManager . authorizationStatus () // \u307e\u3060\u8a8d\u8a3c\u304c\u5f97\u3089\u308c\u3066\u3044\u306a\u3044\u5834\u5408\u306f\u3001\u8a8d\u8a3c\u30c0\u30a4\u30a2\u30ed\u30b0\u3092\u8868\u793a. if ( status != CLAuthorizationStatus . authorizedWhenInUse ) { print ( \"not determined\" ) // \u307e\u3060\u627f\u8a8d\u304c\u5f97\u3089\u308c\u3066\u3044\u306a\u3044\u5834\u5408\u306f\u3001\u8a8d\u8a3c\u30c0\u30a4\u30a2\u30ed\u30b0\u3092\u8868\u793a. myLocationManager . requestWhenInUseAuthorization () } // \u4f4d\u7f6e\u60c5\u5831\u306e\u66f4\u65b0\u3092\u958b\u59cb. myLocationManager . startUpdatingLocation () // MapView\u306e\u751f\u6210. myMapView = MKMapView () // MapView\u306e\u30b5\u30a4\u30ba\u3092\u753b\u9762\u5168\u4f53\u306b. myMapView . frame = self . view . bounds // Delegate\u3092\u8a2d\u5b9a. myMapView . delegate = self // MapView\u3092View\u306b\u8ffd\u52a0. self . view . addSubview ( myMapView ) // \u4e2d\u5fc3\u70b9\u306e\u7def\u5ea6\u7d4c\u5ea6. let myLat : CLLocationDegrees = 37.506804 let myLon : CLLocationDegrees = 139.930531 let myCoordinate : CLLocationCoordinate2D = CLLocationCoordinate2DMake ( myLat , myLon ) as CLLocationCoordinate2D // \u7e2e\u5c3a. let myLatDist : CLLocationDistance = 100 let myLonDist : CLLocationDistance = 100 // Region\u3092\u4f5c\u6210. let myRegion : MKCoordinateRegion = MKCoordinateRegionMakeWithDistance ( myCoordinate , myLatDist , myLonDist ); // MapView\u306b\u53cd\u6620. myMapView . setRegion ( myRegion , animated : true ) } // GPS\u304b\u3089\u5024\u3092\u53d6\u5f97\u3057\u305f\u969b\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30e1\u30bd\u30c3\u30c9. func locationManager ( _ manager : CLLocationManager , didUpdateLocations locations : [ CLLocation ]) { print ( \"didUpdateLocations\" ) // \u914d\u5217\u304b\u3089\u73fe\u5728\u5ea7\u6a19\u3092\u53d6\u5f97. let myLocations : NSArray = locations as NSArray let myLastLocation : CLLocation = myLocations . lastObject as ! CLLocation let myLocation : CLLocationCoordinate2D = myLastLocation . coordinate print ( \" \\( myLocation . latitude ) , \\( myLocation . longitude ) \" ) // \u7e2e\u5c3a. let myLatDist : CLLocationDistance = 100 let myLonDist : CLLocationDistance = 100 // Region\u3092\u4f5c\u6210. let myRegion : MKCoordinateRegion = MKCoordinateRegionMakeWithDistance ( myLocation , myLatDist , myLonDist ); // MapView\u306b\u53cd\u6620. myMapView . setRegion ( myRegion , animated : true ) } // Region\u304c\u5909\u66f4\u3057\u305f\u6642\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30e1\u30bd\u30c3\u30c9. func mapView ( _ mapView : MKMapView , regionDidChangeAnimated animated : Bool ) { print ( \"regionDidChangeAnimated\" ) } // \u8a8d\u8a3c\u304c\u5909\u66f4\u3055\u308c\u305f\u6642\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30e1\u30bd\u30c3\u30c9. private func locationManager ( manager : CLLocationManager , didChangeAuthorizationStatus status : CLAuthorizationStatus ) { switch status { case . authorizedWhenInUse : print ( \"AuthorizedWhenInUse\" ) case . authorized : print ( \"Authorized\" ) case . denied : print ( \"Denied\" ) case . restricted : print ( \"Restricted\" ) case . notDetermined : print ( \"NotDetermined\" ) } } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 // // ViewController.swift // MapKit003 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit import CoreLocation class ViewController : UIViewController , MKMapViewDelegate , CLLocationManagerDelegate { var myMapView : MKMapView ! var myLocationManager : CLLocationManager ! override func viewDidLoad () { super . viewDidLoad () // LocationManager\u306e\u751f\u6210. myLocationManager = CLLocationManager () // Delegate\u306e\u8a2d\u5b9a. myLocationManager . delegate = self // \u8ddd\u96e2\u306e\u30d5\u30a3\u30eb\u30bf. myLocationManager . distanceFilter = 100.0 // \u7cbe\u5ea6. myLocationManager . desiredAccuracy = kCLLocationAccuracyHundredMeters // \u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u8a8d\u8a3c\u306e\u30b9\u30c6\u30fc\u30bf\u30b9\u3092\u53d6\u5f97. let status = CLLocationManager . authorizationStatus () // \u307e\u3060\u8a8d\u8a3c\u304c\u5f97\u3089\u308c\u3066\u3044\u306a\u3044\u5834\u5408\u306f\u3001\u8a8d\u8a3c\u30c0\u30a4\u30a2\u30ed\u30b0\u3092\u8868\u793a. if ( status != CLAuthorizationStatus . AuthorizedWhenInUse ) { print ( \"not determined\" ) // \u307e\u3060\u627f\u8a8d\u304c\u5f97\u3089\u308c\u3066\u3044\u306a\u3044\u5834\u5408\u306f\u3001\u8a8d\u8a3c\u30c0\u30a4\u30a2\u30ed\u30b0\u3092\u8868\u793a. myLocationManager . requestWhenInUseAuthorization () } // \u4f4d\u7f6e\u60c5\u5831\u306e\u66f4\u65b0\u3092\u958b\u59cb. myLocationManager . startUpdatingLocation () // MapView\u306e\u751f\u6210. myMapView = MKMapView () // MapView\u306e\u30b5\u30a4\u30ba\u3092\u753b\u9762\u5168\u4f53\u306b. myMapView . frame = self . view . bounds // Delegate\u3092\u8a2d\u5b9a. myMapView . delegate = self // MapView\u3092View\u306b\u8ffd\u52a0. self . view . addSubview ( myMapView ) // \u4e2d\u5fc3\u70b9\u306e\u7def\u5ea6\u7d4c\u5ea6. let myLat : CLLocationDegrees = 37.506804 let myLon : CLLocationDegrees = 139.930531 let myCoordinate : CLLocationCoordinate2D = CLLocationCoordinate2DMake ( myLat , myLon ) as CLLocationCoordinate2D // \u7e2e\u5c3a. let myLatDist : CLLocationDistance = 100 let myLonDist : CLLocationDistance = 100 // Region\u3092\u4f5c\u6210. let myRegion : MKCoordinateRegion = MKCoordinateRegionMakeWithDistance ( myCoordinate , myLatDist , myLonDist ); // MapView\u306b\u53cd\u6620. myMapView . setRegion ( myRegion , animated : true ) } // GPS\u304b\u3089\u5024\u3092\u53d6\u5f97\u3057\u305f\u969b\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30e1\u30bd\u30c3\u30c9. func locationManager ( manager : CLLocationManager , didUpdateLocations locations : [ CLLocation ]) { print ( \"didUpdateLocations\" ) // \u914d\u5217\u304b\u3089\u73fe\u5728\u5ea7\u6a19\u3092\u53d6\u5f97. let myLocations : NSArray = locations as NSArray let myLastLocation : CLLocation = myLocations . lastObject as ! CLLocation let myLocation : CLLocationCoordinate2D = myLastLocation . coordinate print ( \" \\( myLocation . latitude ) , \\( myLocation . longitude ) \" ) // \u7e2e\u5c3a. let myLatDist : CLLocationDistance = 100 let myLonDist : CLLocationDistance = 100 // Region\u3092\u4f5c\u6210. let myRegion : MKCoordinateRegion = MKCoordinateRegionMakeWithDistance ( myLocation , myLatDist , myLonDist ); // MapView\u306b\u53cd\u6620. myMapView . setRegion ( myRegion , animated : true ) } // Region\u304c\u5909\u66f4\u3057\u305f\u6642\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30e1\u30bd\u30c3\u30c9. func mapView ( mapView : MKMapView , regionDidChangeAnimated animated : Bool ) { print ( \"regionDidChangeAnimated\" ) } // \u8a8d\u8a3c\u304c\u5909\u66f4\u3055\u308c\u305f\u6642\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30e1\u30bd\u30c3\u30c9. func locationManager ( manager : CLLocationManager , didChangeAuthorizationStatus status : CLAuthorizationStatus ) { switch status { case . AuthorizedWhenInUse : print ( \"AuthorizedWhenInUse\" ) case . Authorized : print ( \"Authorized\" ) case . Denied : print ( \"Denied\" ) case . Restricted : print ( \"Restricted\" ) case . NotDetermined : print ( \"NotDetermined\" ) } } } Info.plist 1 2 <key> NSLocationWhenInUseUsageDescription </key> <string> Use Location </string> \u4e0a\u8a18\u306e\u5185\u5bb9\u3092info.plist\u306b\u8ffd\u52a0 3.x\u30684.x\u306e\u5dee\u5206 MKCoordinateRegionMakeWithDistance(myCoordinate, myLatDist, myLonDist) \u304c MKCoordinateRegion(center: myLocation, latitudinalMeters: myLatDist, longitudinalMeters: myLonDist) \u306b\u5909\u66f4 switch\u6587\u306e Authorized \u3092 authorizedAlways \u306b\u5909\u66f4 2.3\u30683.0\u306e\u5dee\u5206 func mapView(mapView: MKMapView, regionDidChangeAnimated animated: Bool) \u304b\u3089 func mapView(_ mapView: MKMapView, regionDidChangeAnimated animated: Bool) \u306b\u5909\u66f4 func locationManager(manager: CLLocationManager, didUpdateLocations locations: [CLLocation]) \u304b\u3089 func locationManager(_ manager: CLLocationManager, didUpdateLocations locations: [CLLocation]) \u306b\u5909\u66f4 Reference CLLocationManager https://developer.apple.com/reference/corelocation/cllocationmanager","title":"\u73fe\u5728\u4f4d\u7f6e\u306e\u5730\u56f3\u306e\u8868\u793a"},{"location":"3.mapkit/003_cllocation/#_1","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 // // ViewController.swift // MapKit003 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit import CoreLocation class ViewController : UIViewController , MKMapViewDelegate , CLLocationManagerDelegate { var myMapView : MKMapView ! var myLocationManager : CLLocationManager ! override func viewDidLoad () { super . viewDidLoad () // LocationManager\u306e\u751f\u6210. myLocationManager = CLLocationManager () // Delegate\u306e\u8a2d\u5b9a. myLocationManager . delegate = self // \u8ddd\u96e2\u306e\u30d5\u30a3\u30eb\u30bf. myLocationManager . distanceFilter = 100.0 // \u7cbe\u5ea6. myLocationManager . desiredAccuracy = kCLLocationAccuracyHundredMeters // \u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u8a8d\u8a3c\u306e\u30b9\u30c6\u30fc\u30bf\u30b9\u3092\u53d6\u5f97. let status = CLLocationManager . authorizationStatus () // \u307e\u3060\u8a8d\u8a3c\u304c\u5f97\u3089\u308c\u3066\u3044\u306a\u3044\u5834\u5408\u306f\u3001\u8a8d\u8a3c\u30c0\u30a4\u30a2\u30ed\u30b0\u3092\u8868\u793a. if ( status != CLAuthorizationStatus . authorizedWhenInUse ) { print ( \"not determined\" ) // \u307e\u3060\u627f\u8a8d\u304c\u5f97\u3089\u308c\u3066\u3044\u306a\u3044\u5834\u5408\u306f\u3001\u8a8d\u8a3c\u30c0\u30a4\u30a2\u30ed\u30b0\u3092\u8868\u793a. myLocationManager . requestWhenInUseAuthorization () } // \u4f4d\u7f6e\u60c5\u5831\u306e\u66f4\u65b0\u3092\u958b\u59cb. myLocationManager . startUpdatingLocation () // MapView\u306e\u751f\u6210. myMapView = MKMapView () // MapView\u306e\u30b5\u30a4\u30ba\u3092\u753b\u9762\u5168\u4f53\u306b. myMapView . frame = self . view . bounds // Delegate\u3092\u8a2d\u5b9a. myMapView . delegate = self // MapView\u3092View\u306b\u8ffd\u52a0. self . view . addSubview ( myMapView ) // \u4e2d\u5fc3\u70b9\u306e\u7def\u5ea6\u7d4c\u5ea6. let myLat : CLLocationDegrees = 37.506804 let myLon : CLLocationDegrees = 139.930531 let myCoordinate : CLLocationCoordinate2D = CLLocationCoordinate2DMake ( myLat , myLon ) as CLLocationCoordinate2D // \u7e2e\u5c3a. let myLatDist : CLLocationDistance = 100 let myLonDist : CLLocationDistance = 100 // Region\u3092\u4f5c\u6210. let myRegion : MKCoordinateRegion = MKCoordinateRegion ( center : myCoordinate , latitudinalMeters : myLatDist , longitudinalMeters : myLonDist ); // MapView\u306b\u53cd\u6620. myMapView . setRegion ( myRegion , animated : true ) } // GPS\u304b\u3089\u5024\u3092\u53d6\u5f97\u3057\u305f\u969b\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30e1\u30bd\u30c3\u30c9. func locationManager ( _ manager : CLLocationManager , didUpdateLocations locations : [ CLLocation ]) { print ( \"didUpdateLocations\" ) // \u914d\u5217\u304b\u3089\u73fe\u5728\u5ea7\u6a19\u3092\u53d6\u5f97. let myLocations : NSArray = locations as NSArray let myLastLocation : CLLocation = myLocations . lastObject as ! CLLocation let myLocation : CLLocationCoordinate2D = myLastLocation . coordinate print ( \" \\( myLocation . latitude ) , \\( myLocation . longitude ) \" ) // \u7e2e\u5c3a. let myLatDist : CLLocationDistance = 100 let myLonDist : CLLocationDistance = 100 // Region\u3092\u4f5c\u6210. let myRegion : MKCoordinateRegion = MKCoordinateRegion ( center : myLocation , latitudinalMeters : myLatDist , longitudinalMeters : myLonDist ); // MapView\u306b\u53cd\u6620. myMapView . setRegion ( myRegion , animated : true ) } // Region\u304c\u5909\u66f4\u3057\u305f\u6642\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30e1\u30bd\u30c3\u30c9. func mapView ( _ mapView : MKMapView , regionDidChangeAnimated animated : Bool ) { print ( \"regionDidChangeAnimated\" ) } // \u8a8d\u8a3c\u304c\u5909\u66f4\u3055\u308c\u305f\u6642\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30e1\u30bd\u30c3\u30c9. private func locationManager ( manager : CLLocationManager , didChangeAuthorizationStatus status : CLAuthorizationStatus ) { switch status { case . authorizedWhenInUse : print ( \"AuthorizedWhenInUse\" ) case . authorizedAlways : print ( \"AuthorizedAlways\" ) case . denied : print ( \"Denied\" ) case . restricted : print ( \"Restricted\" ) case . notDetermined : print ( \"NotDetermined\" ) } } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 // // ViewController.swift // MapKit003 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit import CoreLocation class ViewController : UIViewController , MKMapViewDelegate , CLLocationManagerDelegate { var myMapView : MKMapView ! var myLocationManager : CLLocationManager ! override func viewDidLoad () { super . viewDidLoad () // LocationManager\u306e\u751f\u6210. myLocationManager = CLLocationManager () // Delegate\u306e\u8a2d\u5b9a. myLocationManager . delegate = self // \u8ddd\u96e2\u306e\u30d5\u30a3\u30eb\u30bf. myLocationManager . distanceFilter = 100.0 // \u7cbe\u5ea6. myLocationManager . desiredAccuracy = kCLLocationAccuracyHundredMeters // \u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u8a8d\u8a3c\u306e\u30b9\u30c6\u30fc\u30bf\u30b9\u3092\u53d6\u5f97. let status = CLLocationManager . authorizationStatus () // \u307e\u3060\u8a8d\u8a3c\u304c\u5f97\u3089\u308c\u3066\u3044\u306a\u3044\u5834\u5408\u306f\u3001\u8a8d\u8a3c\u30c0\u30a4\u30a2\u30ed\u30b0\u3092\u8868\u793a. if ( status != CLAuthorizationStatus . authorizedWhenInUse ) { print ( \"not determined\" ) // \u307e\u3060\u627f\u8a8d\u304c\u5f97\u3089\u308c\u3066\u3044\u306a\u3044\u5834\u5408\u306f\u3001\u8a8d\u8a3c\u30c0\u30a4\u30a2\u30ed\u30b0\u3092\u8868\u793a. myLocationManager . requestWhenInUseAuthorization () } // \u4f4d\u7f6e\u60c5\u5831\u306e\u66f4\u65b0\u3092\u958b\u59cb. myLocationManager . startUpdatingLocation () // MapView\u306e\u751f\u6210. myMapView = MKMapView () // MapView\u306e\u30b5\u30a4\u30ba\u3092\u753b\u9762\u5168\u4f53\u306b. myMapView . frame = self . view . bounds // Delegate\u3092\u8a2d\u5b9a. myMapView . delegate = self // MapView\u3092View\u306b\u8ffd\u52a0. self . view . addSubview ( myMapView ) // \u4e2d\u5fc3\u70b9\u306e\u7def\u5ea6\u7d4c\u5ea6. let myLat : CLLocationDegrees = 37.506804 let myLon : CLLocationDegrees = 139.930531 let myCoordinate : CLLocationCoordinate2D = CLLocationCoordinate2DMake ( myLat , myLon ) as CLLocationCoordinate2D // \u7e2e\u5c3a. let myLatDist : CLLocationDistance = 100 let myLonDist : CLLocationDistance = 100 // Region\u3092\u4f5c\u6210. let myRegion : MKCoordinateRegion = MKCoordinateRegionMakeWithDistance ( myCoordinate , myLatDist , myLonDist ); // MapView\u306b\u53cd\u6620. myMapView . setRegion ( myRegion , animated : true ) } // GPS\u304b\u3089\u5024\u3092\u53d6\u5f97\u3057\u305f\u969b\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30e1\u30bd\u30c3\u30c9. func locationManager ( _ manager : CLLocationManager , didUpdateLocations locations : [ CLLocation ]) { print ( \"didUpdateLocations\" ) // \u914d\u5217\u304b\u3089\u73fe\u5728\u5ea7\u6a19\u3092\u53d6\u5f97. let myLocations : NSArray = locations as NSArray let myLastLocation : CLLocation = myLocations . lastObject as ! CLLocation let myLocation : CLLocationCoordinate2D = myLastLocation . coordinate print ( \" \\( myLocation . latitude ) , \\( myLocation . longitude ) \" ) // \u7e2e\u5c3a. let myLatDist : CLLocationDistance = 100 let myLonDist : CLLocationDistance = 100 // Region\u3092\u4f5c\u6210. let myRegion : MKCoordinateRegion = MKCoordinateRegionMakeWithDistance ( myLocation , myLatDist , myLonDist ); // MapView\u306b\u53cd\u6620. myMapView . setRegion ( myRegion , animated : true ) } // Region\u304c\u5909\u66f4\u3057\u305f\u6642\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30e1\u30bd\u30c3\u30c9. func mapView ( _ mapView : MKMapView , regionDidChangeAnimated animated : Bool ) { print ( \"regionDidChangeAnimated\" ) } // \u8a8d\u8a3c\u304c\u5909\u66f4\u3055\u308c\u305f\u6642\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30e1\u30bd\u30c3\u30c9. private func locationManager ( manager : CLLocationManager , didChangeAuthorizationStatus status : CLAuthorizationStatus ) { switch status { case . authorizedWhenInUse : print ( \"AuthorizedWhenInUse\" ) case . authorized : print ( \"Authorized\" ) case . denied : print ( \"Denied\" ) case . restricted : print ( \"Restricted\" ) case . notDetermined : print ( \"NotDetermined\" ) } } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 // // ViewController.swift // MapKit003 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit import CoreLocation class ViewController : UIViewController , MKMapViewDelegate , CLLocationManagerDelegate { var myMapView : MKMapView ! var myLocationManager : CLLocationManager ! override func viewDidLoad () { super . viewDidLoad () // LocationManager\u306e\u751f\u6210. myLocationManager = CLLocationManager () // Delegate\u306e\u8a2d\u5b9a. myLocationManager . delegate = self // \u8ddd\u96e2\u306e\u30d5\u30a3\u30eb\u30bf. myLocationManager . distanceFilter = 100.0 // \u7cbe\u5ea6. myLocationManager . desiredAccuracy = kCLLocationAccuracyHundredMeters // \u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u8a8d\u8a3c\u306e\u30b9\u30c6\u30fc\u30bf\u30b9\u3092\u53d6\u5f97. let status = CLLocationManager . authorizationStatus () // \u307e\u3060\u8a8d\u8a3c\u304c\u5f97\u3089\u308c\u3066\u3044\u306a\u3044\u5834\u5408\u306f\u3001\u8a8d\u8a3c\u30c0\u30a4\u30a2\u30ed\u30b0\u3092\u8868\u793a. if ( status != CLAuthorizationStatus . AuthorizedWhenInUse ) { print ( \"not determined\" ) // \u307e\u3060\u627f\u8a8d\u304c\u5f97\u3089\u308c\u3066\u3044\u306a\u3044\u5834\u5408\u306f\u3001\u8a8d\u8a3c\u30c0\u30a4\u30a2\u30ed\u30b0\u3092\u8868\u793a. myLocationManager . requestWhenInUseAuthorization () } // \u4f4d\u7f6e\u60c5\u5831\u306e\u66f4\u65b0\u3092\u958b\u59cb. myLocationManager . startUpdatingLocation () // MapView\u306e\u751f\u6210. myMapView = MKMapView () // MapView\u306e\u30b5\u30a4\u30ba\u3092\u753b\u9762\u5168\u4f53\u306b. myMapView . frame = self . view . bounds // Delegate\u3092\u8a2d\u5b9a. myMapView . delegate = self // MapView\u3092View\u306b\u8ffd\u52a0. self . view . addSubview ( myMapView ) // \u4e2d\u5fc3\u70b9\u306e\u7def\u5ea6\u7d4c\u5ea6. let myLat : CLLocationDegrees = 37.506804 let myLon : CLLocationDegrees = 139.930531 let myCoordinate : CLLocationCoordinate2D = CLLocationCoordinate2DMake ( myLat , myLon ) as CLLocationCoordinate2D // \u7e2e\u5c3a. let myLatDist : CLLocationDistance = 100 let myLonDist : CLLocationDistance = 100 // Region\u3092\u4f5c\u6210. let myRegion : MKCoordinateRegion = MKCoordinateRegionMakeWithDistance ( myCoordinate , myLatDist , myLonDist ); // MapView\u306b\u53cd\u6620. myMapView . setRegion ( myRegion , animated : true ) } // GPS\u304b\u3089\u5024\u3092\u53d6\u5f97\u3057\u305f\u969b\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30e1\u30bd\u30c3\u30c9. func locationManager ( manager : CLLocationManager , didUpdateLocations locations : [ CLLocation ]) { print ( \"didUpdateLocations\" ) // \u914d\u5217\u304b\u3089\u73fe\u5728\u5ea7\u6a19\u3092\u53d6\u5f97. let myLocations : NSArray = locations as NSArray let myLastLocation : CLLocation = myLocations . lastObject as ! CLLocation let myLocation : CLLocationCoordinate2D = myLastLocation . coordinate print ( \" \\( myLocation . latitude ) , \\( myLocation . longitude ) \" ) // \u7e2e\u5c3a. let myLatDist : CLLocationDistance = 100 let myLonDist : CLLocationDistance = 100 // Region\u3092\u4f5c\u6210. let myRegion : MKCoordinateRegion = MKCoordinateRegionMakeWithDistance ( myLocation , myLatDist , myLonDist ); // MapView\u306b\u53cd\u6620. myMapView . setRegion ( myRegion , animated : true ) } // Region\u304c\u5909\u66f4\u3057\u305f\u6642\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30e1\u30bd\u30c3\u30c9. func mapView ( mapView : MKMapView , regionDidChangeAnimated animated : Bool ) { print ( \"regionDidChangeAnimated\" ) } // \u8a8d\u8a3c\u304c\u5909\u66f4\u3055\u308c\u305f\u6642\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30e1\u30bd\u30c3\u30c9. func locationManager ( manager : CLLocationManager , didChangeAuthorizationStatus status : CLAuthorizationStatus ) { switch status { case . AuthorizedWhenInUse : print ( \"AuthorizedWhenInUse\" ) case . Authorized : print ( \"Authorized\" ) case . Denied : print ( \"Denied\" ) case . Restricted : print ( \"Restricted\" ) case . NotDetermined : print ( \"NotDetermined\" ) } } }","title":"\u73fe\u5728\u4f4d\u7f6e\u306e\u5730\u56f3\u306e\u8868\u793a"},{"location":"3.mapkit/003_cllocation/#infoplist","text":"1 2 <key> NSLocationWhenInUseUsageDescription </key> <string> Use Location </string> \u4e0a\u8a18\u306e\u5185\u5bb9\u3092info.plist\u306b\u8ffd\u52a0","title":"Info.plist"},{"location":"3.mapkit/003_cllocation/#3x4x","text":"MKCoordinateRegionMakeWithDistance(myCoordinate, myLatDist, myLonDist) \u304c MKCoordinateRegion(center: myLocation, latitudinalMeters: myLatDist, longitudinalMeters: myLonDist) \u306b\u5909\u66f4 switch\u6587\u306e Authorized \u3092 authorizedAlways \u306b\u5909\u66f4","title":"3.x\u30684.x\u306e\u5dee\u5206"},{"location":"3.mapkit/003_cllocation/#2330","text":"func mapView(mapView: MKMapView, regionDidChangeAnimated animated: Bool) \u304b\u3089 func mapView(_ mapView: MKMapView, regionDidChangeAnimated animated: Bool) \u306b\u5909\u66f4 func locationManager(manager: CLLocationManager, didUpdateLocations locations: [CLLocation]) \u304b\u3089 func locationManager(_ manager: CLLocationManager, didUpdateLocations locations: [CLLocation]) \u306b\u5909\u66f4","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"3.mapkit/003_cllocation/#reference","text":"CLLocationManager https://developer.apple.com/reference/corelocation/cllocationmanager","title":"Reference"},{"location":"3.mapkit/004_point/","text":"\u6307\u5b9a\u3057\u305f\u5ea7\u6a19\u306b\u30d4\u30f3\u3092\u7acb\u3066\u308b Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 // // ViewController.swift // MapKit004 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // MapView\u3092\u751f\u6210. let myMapView : MKMapView = MKMapView () myMapView . frame = self . view . frame // \u7d4c\u5ea6\u3001\u7def\u5ea6. let myLatitude : CLLocationDegrees = 37.331741 let myLongitude : CLLocationDegrees = - 122.030333 // \u4e2d\u5fc3\u70b9. let center : CLLocationCoordinate2D = CLLocationCoordinate2DMake ( myLatitude , myLongitude ) // MapView\u306b\u4e2d\u5fc3\u70b9\u3092\u8a2d\u5b9a. myMapView . setCenter ( center , animated : true ) // \u7e2e\u5c3a. // \u8868\u793a\u9818\u57df. let mySpan : MKCoordinateSpan = MKCoordinateSpan ( latitudeDelta : 0.1 , longitudeDelta : 0.1 ) let myRegion : MKCoordinateRegion = MKCoordinateRegion ( center : center , span : mySpan ) // MapView\u306bregion\u3092\u8ffd\u52a0. myMapView . region = myRegion // view\u306bMapView\u3092\u8ffd\u52a0. self . view . addSubview ( myMapView ) // \u30d4\u30f3\u3092\u751f\u6210. let myPin : MKPointAnnotation = MKPointAnnotation () // \u5ea7\u6a19\u3092\u8a2d\u5b9a. myPin . coordinate = center // \u30bf\u30a4\u30c8\u30eb\u3092\u8a2d\u5b9a. myPin . title = \"\u30bf\u30a4\u30c8\u30eb\" // \u30b5\u30d6\u30bf\u30a4\u30c8\u30eb\u3092\u8a2d\u5b9a. myPin . subtitle = \"\u30b5\u30d6\u30bf\u30a4\u30c8\u30eb\" // MapView\u306b\u30d4\u30f3\u3092\u8ffd\u52a0. myMapView . addAnnotation ( myPin ) } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 // // ViewController.swift // MapKit004 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // MapView\u3092\u751f\u6210. let myMapView : MKMapView = MKMapView () myMapView . frame = self . view . frame // \u7d4c\u5ea6\u3001\u7def\u5ea6. let myLatitude : CLLocationDegrees = 37.331741 let myLongitude : CLLocationDegrees = - 122.030333 // \u4e2d\u5fc3\u70b9. let center : CLLocationCoordinate2D = CLLocationCoordinate2DMake ( myLatitude , myLongitude ) // MapView\u306b\u4e2d\u5fc3\u70b9\u3092\u8a2d\u5b9a. myMapView . setCenter ( center , animated : true ) // \u7e2e\u5c3a. // \u8868\u793a\u9818\u57df. let mySpan : MKCoordinateSpan = MKCoordinateSpan ( latitudeDelta : 0.1 , longitudeDelta : 0.1 ) let myRegion : MKCoordinateRegion = MKCoordinateRegionMake ( center , mySpan ) // MapView\u306bregion\u3092\u8ffd\u52a0. myMapView . region = myRegion // view\u306bMapView\u3092\u8ffd\u52a0. self . view . addSubview ( myMapView ) // \u30d4\u30f3\u3092\u751f\u6210. let myPin : MKPointAnnotation = MKPointAnnotation () // \u5ea7\u6a19\u3092\u8a2d\u5b9a. myPin . coordinate = center // \u30bf\u30a4\u30c8\u30eb\u3092\u8a2d\u5b9a. myPin . title = \"\u30bf\u30a4\u30c8\u30eb\" // \u30b5\u30d6\u30bf\u30a4\u30c8\u30eb\u3092\u8a2d\u5b9a. myPin . subtitle = \"\u30b5\u30d6\u30bf\u30a4\u30c8\u30eb\" // MapView\u306b\u30d4\u30f3\u3092\u8ffd\u52a0. myMapView . addAnnotation ( myPin ) } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 // // ViewController.swift // MapKit004 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // MapView\u3092\u751f\u6210. let myMapView : MKMapView = MKMapView () myMapView . frame = self . view . frame // \u7d4c\u5ea6\u3001\u7def\u5ea6. let myLatitude : CLLocationDegrees = 37.331741 let myLongitude : CLLocationDegrees = - 122.030333 // \u4e2d\u5fc3\u70b9. let center : CLLocationCoordinate2D = CLLocationCoordinate2DMake ( myLatitude , myLongitude ) // MapView\u306b\u4e2d\u5fc3\u70b9\u3092\u8a2d\u5b9a. myMapView . setCenterCoordinate ( center , animated : true ) // \u7e2e\u5c3a. // \u8868\u793a\u9818\u57df. let mySpan : MKCoordinateSpan = MKCoordinateSpan ( latitudeDelta : 0.1 , longitudeDelta : 0.1 ) let myRegion : MKCoordinateRegion = MKCoordinateRegionMake ( center , mySpan ) // MapView\u306bregion\u3092\u8ffd\u52a0. myMapView . region = myRegion // view\u306bMapView\u3092\u8ffd\u52a0. self . view . addSubview ( myMapView ) // \u30d4\u30f3\u3092\u751f\u6210. let myPin : MKPointAnnotation = MKPointAnnotation () // \u5ea7\u6a19\u3092\u8a2d\u5b9a. myPin . coordinate = center // \u30bf\u30a4\u30c8\u30eb\u3092\u8a2d\u5b9a. myPin . title = \"\u30bf\u30a4\u30c8\u30eb\" // \u30b5\u30d6\u30bf\u30a4\u30c8\u30eb\u3092\u8a2d\u5b9a. myPin . subtitle = \"\u30b5\u30d6\u30bf\u30a4\u30c8\u30eb\" // MapView\u306b\u30d4\u30f3\u3092\u8ffd\u52a0. myMapView . addAnnotation ( myPin ) } } 3.x\u30684.x\u306e\u5dee\u5206 MKCoordinateRegionMake(center, mySpan) \u304c MKCoordinateRegion(center: center, span: mySpan) \u306b\u5909\u66f4 2.3\u30683.0\u306e\u5dee\u5206 setCenterCoordinate \u304b\u3089 setCenter \u306b\u5909\u66f4 Reference MKPointAnnotation https://developer.apple.com/reference/mapkit/mkpointannotation","title":"\u6307\u5b9a\u3057\u305f\u5ea7\u6a19\u306b\u30d4\u30f3\u3092\u7acb\u3066\u308b"},{"location":"3.mapkit/004_point/#_1","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 // // ViewController.swift // MapKit004 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // MapView\u3092\u751f\u6210. let myMapView : MKMapView = MKMapView () myMapView . frame = self . view . frame // \u7d4c\u5ea6\u3001\u7def\u5ea6. let myLatitude : CLLocationDegrees = 37.331741 let myLongitude : CLLocationDegrees = - 122.030333 // \u4e2d\u5fc3\u70b9. let center : CLLocationCoordinate2D = CLLocationCoordinate2DMake ( myLatitude , myLongitude ) // MapView\u306b\u4e2d\u5fc3\u70b9\u3092\u8a2d\u5b9a. myMapView . setCenter ( center , animated : true ) // \u7e2e\u5c3a. // \u8868\u793a\u9818\u57df. let mySpan : MKCoordinateSpan = MKCoordinateSpan ( latitudeDelta : 0.1 , longitudeDelta : 0.1 ) let myRegion : MKCoordinateRegion = MKCoordinateRegion ( center : center , span : mySpan ) // MapView\u306bregion\u3092\u8ffd\u52a0. myMapView . region = myRegion // view\u306bMapView\u3092\u8ffd\u52a0. self . view . addSubview ( myMapView ) // \u30d4\u30f3\u3092\u751f\u6210. let myPin : MKPointAnnotation = MKPointAnnotation () // \u5ea7\u6a19\u3092\u8a2d\u5b9a. myPin . coordinate = center // \u30bf\u30a4\u30c8\u30eb\u3092\u8a2d\u5b9a. myPin . title = \"\u30bf\u30a4\u30c8\u30eb\" // \u30b5\u30d6\u30bf\u30a4\u30c8\u30eb\u3092\u8a2d\u5b9a. myPin . subtitle = \"\u30b5\u30d6\u30bf\u30a4\u30c8\u30eb\" // MapView\u306b\u30d4\u30f3\u3092\u8ffd\u52a0. myMapView . addAnnotation ( myPin ) } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 // // ViewController.swift // MapKit004 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // MapView\u3092\u751f\u6210. let myMapView : MKMapView = MKMapView () myMapView . frame = self . view . frame // \u7d4c\u5ea6\u3001\u7def\u5ea6. let myLatitude : CLLocationDegrees = 37.331741 let myLongitude : CLLocationDegrees = - 122.030333 // \u4e2d\u5fc3\u70b9. let center : CLLocationCoordinate2D = CLLocationCoordinate2DMake ( myLatitude , myLongitude ) // MapView\u306b\u4e2d\u5fc3\u70b9\u3092\u8a2d\u5b9a. myMapView . setCenter ( center , animated : true ) // \u7e2e\u5c3a. // \u8868\u793a\u9818\u57df. let mySpan : MKCoordinateSpan = MKCoordinateSpan ( latitudeDelta : 0.1 , longitudeDelta : 0.1 ) let myRegion : MKCoordinateRegion = MKCoordinateRegionMake ( center , mySpan ) // MapView\u306bregion\u3092\u8ffd\u52a0. myMapView . region = myRegion // view\u306bMapView\u3092\u8ffd\u52a0. self . view . addSubview ( myMapView ) // \u30d4\u30f3\u3092\u751f\u6210. let myPin : MKPointAnnotation = MKPointAnnotation () // \u5ea7\u6a19\u3092\u8a2d\u5b9a. myPin . coordinate = center // \u30bf\u30a4\u30c8\u30eb\u3092\u8a2d\u5b9a. myPin . title = \"\u30bf\u30a4\u30c8\u30eb\" // \u30b5\u30d6\u30bf\u30a4\u30c8\u30eb\u3092\u8a2d\u5b9a. myPin . subtitle = \"\u30b5\u30d6\u30bf\u30a4\u30c8\u30eb\" // MapView\u306b\u30d4\u30f3\u3092\u8ffd\u52a0. myMapView . addAnnotation ( myPin ) } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 // // ViewController.swift // MapKit004 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // MapView\u3092\u751f\u6210. let myMapView : MKMapView = MKMapView () myMapView . frame = self . view . frame // \u7d4c\u5ea6\u3001\u7def\u5ea6. let myLatitude : CLLocationDegrees = 37.331741 let myLongitude : CLLocationDegrees = - 122.030333 // \u4e2d\u5fc3\u70b9. let center : CLLocationCoordinate2D = CLLocationCoordinate2DMake ( myLatitude , myLongitude ) // MapView\u306b\u4e2d\u5fc3\u70b9\u3092\u8a2d\u5b9a. myMapView . setCenterCoordinate ( center , animated : true ) // \u7e2e\u5c3a. // \u8868\u793a\u9818\u57df. let mySpan : MKCoordinateSpan = MKCoordinateSpan ( latitudeDelta : 0.1 , longitudeDelta : 0.1 ) let myRegion : MKCoordinateRegion = MKCoordinateRegionMake ( center , mySpan ) // MapView\u306bregion\u3092\u8ffd\u52a0. myMapView . region = myRegion // view\u306bMapView\u3092\u8ffd\u52a0. self . view . addSubview ( myMapView ) // \u30d4\u30f3\u3092\u751f\u6210. let myPin : MKPointAnnotation = MKPointAnnotation () // \u5ea7\u6a19\u3092\u8a2d\u5b9a. myPin . coordinate = center // \u30bf\u30a4\u30c8\u30eb\u3092\u8a2d\u5b9a. myPin . title = \"\u30bf\u30a4\u30c8\u30eb\" // \u30b5\u30d6\u30bf\u30a4\u30c8\u30eb\u3092\u8a2d\u5b9a. myPin . subtitle = \"\u30b5\u30d6\u30bf\u30a4\u30c8\u30eb\" // MapView\u306b\u30d4\u30f3\u3092\u8ffd\u52a0. myMapView . addAnnotation ( myPin ) } }","title":"\u6307\u5b9a\u3057\u305f\u5ea7\u6a19\u306b\u30d4\u30f3\u3092\u7acb\u3066\u308b"},{"location":"3.mapkit/004_point/#3x4x","text":"MKCoordinateRegionMake(center, mySpan) \u304c MKCoordinateRegion(center: center, span: mySpan) \u306b\u5909\u66f4","title":"3.x\u30684.x\u306e\u5dee\u5206"},{"location":"3.mapkit/004_point/#2330","text":"setCenterCoordinate \u304b\u3089 setCenter \u306b\u5909\u66f4","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"3.mapkit/004_point/#reference","text":"MKPointAnnotation https://developer.apple.com/reference/mapkit/mkpointannotation","title":"Reference"},{"location":"3.mapkit/005_3d/","text":"3D\u8868\u793a\u306b\u3059\u308b \u5b9f\u6a5f\u3067\u306e\u307f\u6709\u52b9 Swift 4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 // // ViewController.swift // swiftdocs // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // MapView\u3092\u751f\u6210. let myMapView : MKMapView = MKMapView () myMapView . frame = self . view . frame // \u7d4c\u5ea6\u3001\u7def\u5ea6\u3001\u4e2d\u5fc3\u70b9\u3092\u8a2d\u5b9a. let myLatitude : CLLocationDegrees = 37.331741 let mylongitude : CLLocationDegrees = - 122.030333 let myCenter : CLLocationCoordinate2D = CLLocationCoordinate2DMake ( myLatitude , mylongitude ) // MapView\u306b\u4e2d\u5fc3\u3092\u8a2d\u5b9a. myMapView . setCenter ( myCenter , animated : true ) // \u7e2e\u5c3a. let mySapn : MKCoordinateSpan = MKCoordinateSpan ( latitudeDelta : 0.1 , longitudeDelta : 0.1 ) let myRegion : MKCoordinateRegion = MKCoordinateRegion ( center : myCenter , span : mySapn ) // MapView\u306bregion\u3092\u8a2d\u5b9a. myMapView . region = myRegion // \u81ea\u5206\u306e\u8996\u70b9\u306e\u5ea7\u6a19. let fromCoordinate : CLLocationCoordinate2D = CLLocationCoordinate2DMake ( 37.321432 , - 122.031351 ) // \u4e0a\u7a7a\u304b\u3089\u898b\u4e0b\u308d\u3059\u9ad8\u3055. let myAltitude : CLLocationDistance = 150.0 // MapCamera\u306b\u4e2d\u5fc3\u70b9\u3001\u8996\u70b9\u3001\u9ad8\u3055\u3092\u8a2d\u5b9a. let myCamera : MKMapCamera = MKMapCamera ( lookingAtCenter : myCenter , fromEyeCoordinate : fromCoordinate , eyeAltitude : myAltitude ) // Camera\u3092MapView\u306b\u8a2d\u5b9a. myMapView . setCamera ( myCamera , animated : true ) // \u30d3\u30eb\u30923D\u306b\u898b\u3048\u308b\u3088\u3046\u306b\u3059\u308b. myMapView . showsBuildings = true // MapView\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( myMapView ) } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 // // ViewController.swift // MapKit005 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // MapView\u3092\u751f\u6210. let myMapView : MKMapView = MKMapView () myMapView . frame = self . view . frame // \u7d4c\u5ea6\u3001\u7def\u5ea6\u3001\u4e2d\u5fc3\u70b9\u3092\u8a2d\u5b9a. let myLatitude : CLLocationDegrees = 37.331741 let mylongitude : CLLocationDegrees = - 122.030333 let myCenter : CLLocationCoordinate2D = CLLocationCoordinate2DMake ( myLatitude , mylongitude ) // MapView\u306b\u4e2d\u5fc3\u3092\u8a2d\u5b9a. myMapView . setCenterCoordinate ( myCenter , animated : true ) // \u7e2e\u5c3a. let mySapn : MKCoordinateSpan = MKCoordinateSpan ( latitudeDelta : 0.1 , longitudeDelta : 0.1 ) let myRegion : MKCoordinateRegion = MKCoordinateRegion ( center : myCenter , span : mySapn ) // MapView\u306bregion\u3092\u8a2d\u5b9a. myMapView . region = myRegion // \u81ea\u5206\u306e\u8996\u70b9\u306e\u5ea7\u6a19. let fromCoordinate : CLLocationCoordinate2D = CLLocationCoordinate2DMake ( 37.321432 , - 122.031351 ) // \u4e0a\u7a7a\u304b\u3089\u898b\u4e0b\u308d\u3059\u9ad8\u3055. let myAltitude : CLLocationDistance = 150.0 // MapCamera\u306b\u4e2d\u5fc3\u70b9\u3001\u8996\u70b9\u3001\u9ad8\u3055\u3092\u8a2d\u5b9a. let myCamera : MKMapCamera = MKMapCamera ( lookingAtCenterCoordinate : myCenter , fromEyeCoordinate : fromCoordinate , eyeAltitude : myAltitude ) // Camera\u3092MapView\u306b\u8a2d\u5b9a. myMapView . setCamera ( myCamera , animated : true ) // \u30d3\u30eb\u30923D\u306b\u898b\u3048\u308b\u3088\u3046\u306b\u3059\u308b. myMapView . showsBuildings = true // MapView\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( myMapView ) } } 2.3\u30683.0\u306e\u5dee\u5206 setCenterCoordinate \u304b\u3089 setCenter \u306b\u5909\u66f4 init(lookingAtCenterCoordinate:, fromEyeCoordinate:, eyeAltitude:) \u304b\u3089 init(lookingAtCenter:, fromEyeCoordinate:, eyeAltitude:) \u306b\u5909\u66f4 Reference MKMapView https://developer.apple.com/reference/mapkit/mkmapview MKMapView - showsbuildings https://developer.apple.com/reference/mapkit/mkmapview/1452483-showsbuildings","title":"3D\u8868\u793a\u306b\u3059\u308b"},{"location":"3.mapkit/005_3d/#3d","text":"\u5b9f\u6a5f\u3067\u306e\u307f\u6709\u52b9 Swift 4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 // // ViewController.swift // swiftdocs // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // MapView\u3092\u751f\u6210. let myMapView : MKMapView = MKMapView () myMapView . frame = self . view . frame // \u7d4c\u5ea6\u3001\u7def\u5ea6\u3001\u4e2d\u5fc3\u70b9\u3092\u8a2d\u5b9a. let myLatitude : CLLocationDegrees = 37.331741 let mylongitude : CLLocationDegrees = - 122.030333 let myCenter : CLLocationCoordinate2D = CLLocationCoordinate2DMake ( myLatitude , mylongitude ) // MapView\u306b\u4e2d\u5fc3\u3092\u8a2d\u5b9a. myMapView . setCenter ( myCenter , animated : true ) // \u7e2e\u5c3a. let mySapn : MKCoordinateSpan = MKCoordinateSpan ( latitudeDelta : 0.1 , longitudeDelta : 0.1 ) let myRegion : MKCoordinateRegion = MKCoordinateRegion ( center : myCenter , span : mySapn ) // MapView\u306bregion\u3092\u8a2d\u5b9a. myMapView . region = myRegion // \u81ea\u5206\u306e\u8996\u70b9\u306e\u5ea7\u6a19. let fromCoordinate : CLLocationCoordinate2D = CLLocationCoordinate2DMake ( 37.321432 , - 122.031351 ) // \u4e0a\u7a7a\u304b\u3089\u898b\u4e0b\u308d\u3059\u9ad8\u3055. let myAltitude : CLLocationDistance = 150.0 // MapCamera\u306b\u4e2d\u5fc3\u70b9\u3001\u8996\u70b9\u3001\u9ad8\u3055\u3092\u8a2d\u5b9a. let myCamera : MKMapCamera = MKMapCamera ( lookingAtCenter : myCenter , fromEyeCoordinate : fromCoordinate , eyeAltitude : myAltitude ) // Camera\u3092MapView\u306b\u8a2d\u5b9a. myMapView . setCamera ( myCamera , animated : true ) // \u30d3\u30eb\u30923D\u306b\u898b\u3048\u308b\u3088\u3046\u306b\u3059\u308b. myMapView . showsBuildings = true // MapView\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( myMapView ) } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 // // ViewController.swift // MapKit005 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // MapView\u3092\u751f\u6210. let myMapView : MKMapView = MKMapView () myMapView . frame = self . view . frame // \u7d4c\u5ea6\u3001\u7def\u5ea6\u3001\u4e2d\u5fc3\u70b9\u3092\u8a2d\u5b9a. let myLatitude : CLLocationDegrees = 37.331741 let mylongitude : CLLocationDegrees = - 122.030333 let myCenter : CLLocationCoordinate2D = CLLocationCoordinate2DMake ( myLatitude , mylongitude ) // MapView\u306b\u4e2d\u5fc3\u3092\u8a2d\u5b9a. myMapView . setCenterCoordinate ( myCenter , animated : true ) // \u7e2e\u5c3a. let mySapn : MKCoordinateSpan = MKCoordinateSpan ( latitudeDelta : 0.1 , longitudeDelta : 0.1 ) let myRegion : MKCoordinateRegion = MKCoordinateRegion ( center : myCenter , span : mySapn ) // MapView\u306bregion\u3092\u8a2d\u5b9a. myMapView . region = myRegion // \u81ea\u5206\u306e\u8996\u70b9\u306e\u5ea7\u6a19. let fromCoordinate : CLLocationCoordinate2D = CLLocationCoordinate2DMake ( 37.321432 , - 122.031351 ) // \u4e0a\u7a7a\u304b\u3089\u898b\u4e0b\u308d\u3059\u9ad8\u3055. let myAltitude : CLLocationDistance = 150.0 // MapCamera\u306b\u4e2d\u5fc3\u70b9\u3001\u8996\u70b9\u3001\u9ad8\u3055\u3092\u8a2d\u5b9a. let myCamera : MKMapCamera = MKMapCamera ( lookingAtCenterCoordinate : myCenter , fromEyeCoordinate : fromCoordinate , eyeAltitude : myAltitude ) // Camera\u3092MapView\u306b\u8a2d\u5b9a. myMapView . setCamera ( myCamera , animated : true ) // \u30d3\u30eb\u30923D\u306b\u898b\u3048\u308b\u3088\u3046\u306b\u3059\u308b. myMapView . showsBuildings = true // MapView\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( myMapView ) } }","title":"3D\u8868\u793a\u306b\u3059\u308b"},{"location":"3.mapkit/005_3d/#2330","text":"setCenterCoordinate \u304b\u3089 setCenter \u306b\u5909\u66f4 init(lookingAtCenterCoordinate:, fromEyeCoordinate:, eyeAltitude:) \u304b\u3089 init(lookingAtCenter:, fromEyeCoordinate:, eyeAltitude:) \u306b\u5909\u66f4","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"3.mapkit/005_3d/#reference","text":"MKMapView https://developer.apple.com/reference/mapkit/mkmapview MKMapView - showsbuildings https://developer.apple.com/reference/mapkit/mkmapview/1452483-showsbuildings","title":"Reference"},{"location":"3.mapkit/006_pin/","text":"\u30d4\u30f3\u3092\u9577\u62bc\u3057\u3057\u305f\u5730\u70b9\u306b\u30c9\u30ed\u30c3\u30d7\u3055\u305b\u308b Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 // // ViewController.swift // MapKit006 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit class ViewController : UIViewController , MKMapViewDelegate { var myMapView : MKMapView ! override func viewDidLoad () { super . viewDidLoad () // MapView\u3092\u751f\u6210. myMapView = MKMapView () myMapView . frame = self . view . frame // \u30c7\u30ea\u30b2\u30fc\u30c8\u3092\u8a2d\u5b9a. myMapView . delegate = self // \u7d4c\u5ea6\u3001\u7def\u5ea6\u3092\u751f\u6210. let myLatitude : CLLocationDegrees = 37.331741 let myLongitude : CLLocationDegrees = - 122.030333 // \u4e2d\u5fc3\u70b9\u3092\u6307\u5b9a. let center : CLLocationCoordinate2D = CLLocationCoordinate2DMake ( myLatitude , myLongitude ) // MapView\u306b\u4e2d\u5fc3\u70b9\u3092\u8a2d\u5b9a. myMapView . setCenter ( center , animated : true ) // \u7e2e\u5c3a(\u8868\u793a\u9818\u57df)\u3092\u6307\u5b9a. let mySpan : MKCoordinateSpan = MKCoordinateSpan ( latitudeDelta : 0.1 , longitudeDelta : 0.1 ) let myRegion : MKCoordinateRegion = MKCoordinateRegion ( center : center , span : mySpan ) // MapView\u306bregion\u3092\u8ffd\u52a0. myMapView . region = myRegion // view\u306bMapView\u3092\u8ffd\u52a0. self . view . addSubview ( myMapView ) // \u9577\u62bc\u3057\u306eUIGestureRecognizer\u3092\u751f\u6210. let myLongPress : UILongPressGestureRecognizer = UILongPressGestureRecognizer () myLongPress . addTarget ( self , action : #selector ( ViewController . recognizeLongPress ( sender :))) // MapView\u306bUIGestureRecognizer\u3092\u8ffd\u52a0. myMapView . addGestureRecognizer ( myLongPress ) } /* \u9577\u62bc\u3057\u3092\u611f\u77e5\u3057\u305f\u969b\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ @objc func recognizeLongPress ( sender : UILongPressGestureRecognizer ) { // \u9577\u62bc\u3057\u306e\u6700\u4e2d\u306b\u4f55\u5ea6\u3082\u30d4\u30f3\u3092\u751f\u6210\u3057\u306a\u3044\u3088\u3046\u306b\u3059\u308b. if sender . state != UIGestureRecognizer . State . began { return } // \u9577\u62bc\u3057\u3057\u305f\u5730\u70b9\u306e\u5ea7\u6a19\u3092\u53d6\u5f97. let location = sender . location ( in : myMapView ) // location\u3092CLLocationCoordinate2D\u306b\u5909\u63db. let myCoordinate : CLLocationCoordinate2D = myMapView . convert ( location , toCoordinateFrom : myMapView ) // \u30d4\u30f3\u3092\u751f\u6210. let myPin : MKPointAnnotation = MKPointAnnotation () // \u5ea7\u6a19\u3092\u8a2d\u5b9a. myPin . coordinate = myCoordinate // \u30bf\u30a4\u30c8\u30eb\u3092\u8a2d\u5b9a. myPin . title = \"\u30bf\u30a4\u30c8\u30eb\" // \u30b5\u30d6\u30bf\u30a4\u30c8\u30eb\u3092\u8a2d\u5b9a. myPin . subtitle = \"\u30b5\u30d6\u30bf\u30a4\u30c8\u30eb\" // MapView\u306b\u30d4\u30f3\u3092\u8ffd\u52a0. myMapView . addAnnotation ( myPin ) } /* addAnnotation\u3057\u305f\u969b\u306b\u547c\u3070\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8\u30e1\u30bd\u30c3\u30c9. */ func mapView ( _ mapView : MKMapView , viewFor annotation : MKAnnotation ) -> MKAnnotationView ? { let myPinIdentifier = \"PinAnnotationIdentifier\" // \u30d4\u30f3\u3092\u751f\u6210. let myPinView = MKPinAnnotationView ( annotation : annotation , reuseIdentifier : myPinIdentifier ) // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u3064\u3051\u308b. myPinView . animatesDrop = true // \u30b3\u30fc\u30eb\u30a2\u30a6\u30c8\u3092\u8868\u793a\u3059\u308b. myPinView . canShowCallout = true // annotation\u3092\u8a2d\u5b9a. myPinView . annotation = annotation return myPinView } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 // // ViewController.swift // MapKit006 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit class ViewController : UIViewController , MKMapViewDelegate { var myMapView : MKMapView ! override func viewDidLoad () { super . viewDidLoad () // MapView\u3092\u751f\u6210. myMapView = MKMapView () myMapView . frame = self . view . frame // \u30c7\u30ea\u30b2\u30fc\u30c8\u3092\u8a2d\u5b9a. myMapView . delegate = self // \u7d4c\u5ea6\u3001\u7def\u5ea6\u3092\u751f\u6210. let myLatitude : CLLocationDegrees = 37.331741 let myLongitude : CLLocationDegrees = - 122.030333 // \u4e2d\u5fc3\u70b9\u3092\u6307\u5b9a. let center : CLLocationCoordinate2D = CLLocationCoordinate2DMake ( myLatitude , myLongitude ) // MapView\u306b\u4e2d\u5fc3\u70b9\u3092\u8a2d\u5b9a. myMapView . setCenter ( center , animated : true ) // \u7e2e\u5c3a(\u8868\u793a\u9818\u57df)\u3092\u6307\u5b9a. let mySpan : MKCoordinateSpan = MKCoordinateSpan ( latitudeDelta : 0.1 , longitudeDelta : 0.1 ) let myRegion : MKCoordinateRegion = MKCoordinateRegionMake ( center , mySpan ) // MapView\u306bregion\u3092\u8ffd\u52a0. myMapView . region = myRegion // view\u306bMapView\u3092\u8ffd\u52a0. self . view . addSubview ( myMapView ) // \u9577\u62bc\u3057\u306eUIGestureRecognizer\u3092\u751f\u6210. let myLongPress : UILongPressGestureRecognizer = UILongPressGestureRecognizer () myLongPress . addTarget ( self , action : #selector ( ViewController . recognizeLongPress ( sender :))) // MapView\u306bUIGestureRecognizer\u3092\u8ffd\u52a0. myMapView . addGestureRecognizer ( myLongPress ) } /* \u9577\u62bc\u3057\u3092\u611f\u77e5\u3057\u305f\u969b\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func recognizeLongPress ( sender : UILongPressGestureRecognizer ) { // \u9577\u62bc\u3057\u306e\u6700\u4e2d\u306b\u4f55\u5ea6\u3082\u30d4\u30f3\u3092\u751f\u6210\u3057\u306a\u3044\u3088\u3046\u306b\u3059\u308b. if sender . state != UIGestureRecognizerState . began { return } // \u9577\u62bc\u3057\u3057\u305f\u5730\u70b9\u306e\u5ea7\u6a19\u3092\u53d6\u5f97. let location = sender . location ( in : myMapView ) // location\u3092CLLocationCoordinate2D\u306b\u5909\u63db. let myCoordinate : CLLocationCoordinate2D = myMapView . convert ( location , toCoordinateFrom : myMapView ) // \u30d4\u30f3\u3092\u751f\u6210. let myPin : MKPointAnnotation = MKPointAnnotation () // \u5ea7\u6a19\u3092\u8a2d\u5b9a. myPin . coordinate = myCoordinate // \u30bf\u30a4\u30c8\u30eb\u3092\u8a2d\u5b9a. myPin . title = \"\u30bf\u30a4\u30c8\u30eb\" // \u30b5\u30d6\u30bf\u30a4\u30c8\u30eb\u3092\u8a2d\u5b9a. myPin . subtitle = \"\u30b5\u30d6\u30bf\u30a4\u30c8\u30eb\" // MapView\u306b\u30d4\u30f3\u3092\u8ffd\u52a0. myMapView . addAnnotation ( myPin ) } /* addAnnotation\u3057\u305f\u969b\u306b\u547c\u3070\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8\u30e1\u30bd\u30c3\u30c9. */ func mapView ( _ mapView : MKMapView , viewFor annotation : MKAnnotation ) -> MKAnnotationView ? { let myPinIdentifier = \"PinAnnotationIdentifier\" // \u30d4\u30f3\u3092\u751f\u6210. let myPinView = MKPinAnnotationView ( annotation : annotation , reuseIdentifier : myPinIdentifier ) // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u3064\u3051\u308b. myPinView . animatesDrop = true // \u30b3\u30fc\u30eb\u30a2\u30a6\u30c8\u3092\u8868\u793a\u3059\u308b. myPinView . canShowCallout = true // annotation\u3092\u8a2d\u5b9a. myPinView . annotation = annotation return myPinView } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 // // ViewController.swift // MapKit006 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit class ViewController : UIViewController , MKMapViewDelegate { var myMapView : MKMapView ! override func viewDidLoad () { super . viewDidLoad () // MapView\u3092\u751f\u6210. myMapView = MKMapView () myMapView . frame = self . view . frame // \u30c7\u30ea\u30b2\u30fc\u30c8\u3092\u8a2d\u5b9a. myMapView . delegate = self // \u7d4c\u5ea6\u3001\u7def\u5ea6\u3092\u751f\u6210. let myLatitude : CLLocationDegrees = 37.331741 let myLongitude : CLLocationDegrees = - 122.030333 // \u4e2d\u5fc3\u70b9\u3092\u6307\u5b9a. let center : CLLocationCoordinate2D = CLLocationCoordinate2DMake ( myLatitude , myLongitude ) // MapView\u306b\u4e2d\u5fc3\u70b9\u3092\u8a2d\u5b9a. myMapView . setCenterCoordinate ( center , animated : true ) // \u7e2e\u5c3a(\u8868\u793a\u9818\u57df)\u3092\u6307\u5b9a. let mySpan : MKCoordinateSpan = MKCoordinateSpan ( latitudeDelta : 0.1 , longitudeDelta : 0.1 ) let myRegion : MKCoordinateRegion = MKCoordinateRegionMake ( center , mySpan ) // MapView\u306bregion\u3092\u8ffd\u52a0. myMapView . region = myRegion // view\u306bMapView\u3092\u8ffd\u52a0. self . view . addSubview ( myMapView ) // \u9577\u62bc\u3057\u306eUIGestureRecognizer\u3092\u751f\u6210. let myLongPress : UILongPressGestureRecognizer = UILongPressGestureRecognizer () myLongPress . addTarget ( self , action : #selector ( ViewController . recognizeLongPress ( _ :))) // MapView\u306bUIGestureRecognizer\u3092\u8ffd\u52a0. myMapView . addGestureRecognizer ( myLongPress ) } /* \u9577\u62bc\u3057\u3092\u611f\u77e5\u3057\u305f\u969b\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func recognizeLongPress ( sender : UILongPressGestureRecognizer ) { // \u9577\u62bc\u3057\u306e\u6700\u4e2d\u306b\u4f55\u5ea6\u3082\u30d4\u30f3\u3092\u751f\u6210\u3057\u306a\u3044\u3088\u3046\u306b\u3059\u308b. if sender . state != UIGestureRecognizerState . Began { return } // \u9577\u62bc\u3057\u3057\u305f\u5730\u70b9\u306e\u5ea7\u6a19\u3092\u53d6\u5f97. let location = sender . locationInView ( myMapView ) // location\u3092CLLocationCoordinate2D\u306b\u5909\u63db. let myCoordinate : CLLocationCoordinate2D = myMapView . convertPoint ( location , toCoordinateFromView : myMapView ) // \u30d4\u30f3\u3092\u751f\u6210. let myPin : MKPointAnnotation = MKPointAnnotation () // \u5ea7\u6a19\u3092\u8a2d\u5b9a. myPin . coordinate = myCoordinate // \u30bf\u30a4\u30c8\u30eb\u3092\u8a2d\u5b9a. myPin . title = \"\u30bf\u30a4\u30c8\u30eb\" // \u30b5\u30d6\u30bf\u30a4\u30c8\u30eb\u3092\u8a2d\u5b9a. myPin . subtitle = \"\u30b5\u30d6\u30bf\u30a4\u30c8\u30eb\" // MapView\u306b\u30d4\u30f3\u3092\u8ffd\u52a0. myMapView . addAnnotation ( myPin ) } /* addAnnotation\u3057\u305f\u969b\u306b\u547c\u3070\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8\u30e1\u30bd\u30c3\u30c9. */ func mapView ( mapView : MKMapView , viewForAnnotation annotation : MKAnnotation ) -> MKAnnotationView ? { let myPinIdentifier = \"PinAnnotationIdentifier\" // \u30d4\u30f3\u3092\u751f\u6210. let myPinView = MKPinAnnotationView ( annotation : annotation , reuseIdentifier : myPinIdentifier ) // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u3064\u3051\u308b. myPinView . animatesDrop = true // \u30b3\u30fc\u30eb\u30a2\u30a6\u30c8\u3092\u8868\u793a\u3059\u308b. myPinView . canShowCallout = true // annotation\u3092\u8a2d\u5b9a. myPinView . annotation = annotation return myPinView } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } 3.x\u30684.x\u306e\u5dee\u5206 MKCoordinateRegionMake(center, mySpan) \u304c MKCoordinateRegion(center: center, span: mySpan) \u306b\u5909\u66f4 func recognizeLongPress(sender: UILongPressGestureRecognizer) \u306b @objc \u3092\u8ffd\u52a0 UIGestureRecognizerState \u304c UIGestureRecognizer.State \u306b\u5909\u66f4 2.3\u30683.0\u306e\u5dee\u5206 setCenterCoordinate \u304b\u3089 setCenter \u306b\u5909\u66f4 locationInView \u304b\u3089 location(in:) \u306b\u5909\u66f4 convertPoint \u304b\u3089 convert \u306b\u5909\u66f4 func mapView(mapView: MKMapView, viewForAnnotation annotation: MKAnnotation) -> MKAnnotationView? \u304b\u3089 func mapView(_ mapView: MKMapView, viewFor annotation: MKAnnotation) -> MKAnnotationView? \u306b\u5909\u66f4 Reference MKMapView https://developer.apple.com/reference/mapkit/mkmapview MKPinAnnotationView https://developer.apple.com/reference/mapkit/mkpinannotationview MKPointAnnotation https://developer.apple.com/reference/mapkit/mkpointannotation MKAnnotation https://developer.apple.com/reference/mapkit/mkannotation","title":"\u30d4\u30f3\u3092\u9577\u62bc\u3057\u3057\u305f\u5730\u70b9\u306b\u30c9\u30ed\u30c3\u30d7\u3055\u305b\u308b"},{"location":"3.mapkit/006_pin/#_1","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 // // ViewController.swift // MapKit006 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit class ViewController : UIViewController , MKMapViewDelegate { var myMapView : MKMapView ! override func viewDidLoad () { super . viewDidLoad () // MapView\u3092\u751f\u6210. myMapView = MKMapView () myMapView . frame = self . view . frame // \u30c7\u30ea\u30b2\u30fc\u30c8\u3092\u8a2d\u5b9a. myMapView . delegate = self // \u7d4c\u5ea6\u3001\u7def\u5ea6\u3092\u751f\u6210. let myLatitude : CLLocationDegrees = 37.331741 let myLongitude : CLLocationDegrees = - 122.030333 // \u4e2d\u5fc3\u70b9\u3092\u6307\u5b9a. let center : CLLocationCoordinate2D = CLLocationCoordinate2DMake ( myLatitude , myLongitude ) // MapView\u306b\u4e2d\u5fc3\u70b9\u3092\u8a2d\u5b9a. myMapView . setCenter ( center , animated : true ) // \u7e2e\u5c3a(\u8868\u793a\u9818\u57df)\u3092\u6307\u5b9a. let mySpan : MKCoordinateSpan = MKCoordinateSpan ( latitudeDelta : 0.1 , longitudeDelta : 0.1 ) let myRegion : MKCoordinateRegion = MKCoordinateRegion ( center : center , span : mySpan ) // MapView\u306bregion\u3092\u8ffd\u52a0. myMapView . region = myRegion // view\u306bMapView\u3092\u8ffd\u52a0. self . view . addSubview ( myMapView ) // \u9577\u62bc\u3057\u306eUIGestureRecognizer\u3092\u751f\u6210. let myLongPress : UILongPressGestureRecognizer = UILongPressGestureRecognizer () myLongPress . addTarget ( self , action : #selector ( ViewController . recognizeLongPress ( sender :))) // MapView\u306bUIGestureRecognizer\u3092\u8ffd\u52a0. myMapView . addGestureRecognizer ( myLongPress ) } /* \u9577\u62bc\u3057\u3092\u611f\u77e5\u3057\u305f\u969b\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ @objc func recognizeLongPress ( sender : UILongPressGestureRecognizer ) { // \u9577\u62bc\u3057\u306e\u6700\u4e2d\u306b\u4f55\u5ea6\u3082\u30d4\u30f3\u3092\u751f\u6210\u3057\u306a\u3044\u3088\u3046\u306b\u3059\u308b. if sender . state != UIGestureRecognizer . State . began { return } // \u9577\u62bc\u3057\u3057\u305f\u5730\u70b9\u306e\u5ea7\u6a19\u3092\u53d6\u5f97. let location = sender . location ( in : myMapView ) // location\u3092CLLocationCoordinate2D\u306b\u5909\u63db. let myCoordinate : CLLocationCoordinate2D = myMapView . convert ( location , toCoordinateFrom : myMapView ) // \u30d4\u30f3\u3092\u751f\u6210. let myPin : MKPointAnnotation = MKPointAnnotation () // \u5ea7\u6a19\u3092\u8a2d\u5b9a. myPin . coordinate = myCoordinate // \u30bf\u30a4\u30c8\u30eb\u3092\u8a2d\u5b9a. myPin . title = \"\u30bf\u30a4\u30c8\u30eb\" // \u30b5\u30d6\u30bf\u30a4\u30c8\u30eb\u3092\u8a2d\u5b9a. myPin . subtitle = \"\u30b5\u30d6\u30bf\u30a4\u30c8\u30eb\" // MapView\u306b\u30d4\u30f3\u3092\u8ffd\u52a0. myMapView . addAnnotation ( myPin ) } /* addAnnotation\u3057\u305f\u969b\u306b\u547c\u3070\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8\u30e1\u30bd\u30c3\u30c9. */ func mapView ( _ mapView : MKMapView , viewFor annotation : MKAnnotation ) -> MKAnnotationView ? { let myPinIdentifier = \"PinAnnotationIdentifier\" // \u30d4\u30f3\u3092\u751f\u6210. let myPinView = MKPinAnnotationView ( annotation : annotation , reuseIdentifier : myPinIdentifier ) // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u3064\u3051\u308b. myPinView . animatesDrop = true // \u30b3\u30fc\u30eb\u30a2\u30a6\u30c8\u3092\u8868\u793a\u3059\u308b. myPinView . canShowCallout = true // annotation\u3092\u8a2d\u5b9a. myPinView . annotation = annotation return myPinView } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 // // ViewController.swift // MapKit006 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit class ViewController : UIViewController , MKMapViewDelegate { var myMapView : MKMapView ! override func viewDidLoad () { super . viewDidLoad () // MapView\u3092\u751f\u6210. myMapView = MKMapView () myMapView . frame = self . view . frame // \u30c7\u30ea\u30b2\u30fc\u30c8\u3092\u8a2d\u5b9a. myMapView . delegate = self // \u7d4c\u5ea6\u3001\u7def\u5ea6\u3092\u751f\u6210. let myLatitude : CLLocationDegrees = 37.331741 let myLongitude : CLLocationDegrees = - 122.030333 // \u4e2d\u5fc3\u70b9\u3092\u6307\u5b9a. let center : CLLocationCoordinate2D = CLLocationCoordinate2DMake ( myLatitude , myLongitude ) // MapView\u306b\u4e2d\u5fc3\u70b9\u3092\u8a2d\u5b9a. myMapView . setCenter ( center , animated : true ) // \u7e2e\u5c3a(\u8868\u793a\u9818\u57df)\u3092\u6307\u5b9a. let mySpan : MKCoordinateSpan = MKCoordinateSpan ( latitudeDelta : 0.1 , longitudeDelta : 0.1 ) let myRegion : MKCoordinateRegion = MKCoordinateRegionMake ( center , mySpan ) // MapView\u306bregion\u3092\u8ffd\u52a0. myMapView . region = myRegion // view\u306bMapView\u3092\u8ffd\u52a0. self . view . addSubview ( myMapView ) // \u9577\u62bc\u3057\u306eUIGestureRecognizer\u3092\u751f\u6210. let myLongPress : UILongPressGestureRecognizer = UILongPressGestureRecognizer () myLongPress . addTarget ( self , action : #selector ( ViewController . recognizeLongPress ( sender :))) // MapView\u306bUIGestureRecognizer\u3092\u8ffd\u52a0. myMapView . addGestureRecognizer ( myLongPress ) } /* \u9577\u62bc\u3057\u3092\u611f\u77e5\u3057\u305f\u969b\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func recognizeLongPress ( sender : UILongPressGestureRecognizer ) { // \u9577\u62bc\u3057\u306e\u6700\u4e2d\u306b\u4f55\u5ea6\u3082\u30d4\u30f3\u3092\u751f\u6210\u3057\u306a\u3044\u3088\u3046\u306b\u3059\u308b. if sender . state != UIGestureRecognizerState . began { return } // \u9577\u62bc\u3057\u3057\u305f\u5730\u70b9\u306e\u5ea7\u6a19\u3092\u53d6\u5f97. let location = sender . location ( in : myMapView ) // location\u3092CLLocationCoordinate2D\u306b\u5909\u63db. let myCoordinate : CLLocationCoordinate2D = myMapView . convert ( location , toCoordinateFrom : myMapView ) // \u30d4\u30f3\u3092\u751f\u6210. let myPin : MKPointAnnotation = MKPointAnnotation () // \u5ea7\u6a19\u3092\u8a2d\u5b9a. myPin . coordinate = myCoordinate // \u30bf\u30a4\u30c8\u30eb\u3092\u8a2d\u5b9a. myPin . title = \"\u30bf\u30a4\u30c8\u30eb\" // \u30b5\u30d6\u30bf\u30a4\u30c8\u30eb\u3092\u8a2d\u5b9a. myPin . subtitle = \"\u30b5\u30d6\u30bf\u30a4\u30c8\u30eb\" // MapView\u306b\u30d4\u30f3\u3092\u8ffd\u52a0. myMapView . addAnnotation ( myPin ) } /* addAnnotation\u3057\u305f\u969b\u306b\u547c\u3070\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8\u30e1\u30bd\u30c3\u30c9. */ func mapView ( _ mapView : MKMapView , viewFor annotation : MKAnnotation ) -> MKAnnotationView ? { let myPinIdentifier = \"PinAnnotationIdentifier\" // \u30d4\u30f3\u3092\u751f\u6210. let myPinView = MKPinAnnotationView ( annotation : annotation , reuseIdentifier : myPinIdentifier ) // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u3064\u3051\u308b. myPinView . animatesDrop = true // \u30b3\u30fc\u30eb\u30a2\u30a6\u30c8\u3092\u8868\u793a\u3059\u308b. myPinView . canShowCallout = true // annotation\u3092\u8a2d\u5b9a. myPinView . annotation = annotation return myPinView } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 // // ViewController.swift // MapKit006 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit class ViewController : UIViewController , MKMapViewDelegate { var myMapView : MKMapView ! override func viewDidLoad () { super . viewDidLoad () // MapView\u3092\u751f\u6210. myMapView = MKMapView () myMapView . frame = self . view . frame // \u30c7\u30ea\u30b2\u30fc\u30c8\u3092\u8a2d\u5b9a. myMapView . delegate = self // \u7d4c\u5ea6\u3001\u7def\u5ea6\u3092\u751f\u6210. let myLatitude : CLLocationDegrees = 37.331741 let myLongitude : CLLocationDegrees = - 122.030333 // \u4e2d\u5fc3\u70b9\u3092\u6307\u5b9a. let center : CLLocationCoordinate2D = CLLocationCoordinate2DMake ( myLatitude , myLongitude ) // MapView\u306b\u4e2d\u5fc3\u70b9\u3092\u8a2d\u5b9a. myMapView . setCenterCoordinate ( center , animated : true ) // \u7e2e\u5c3a(\u8868\u793a\u9818\u57df)\u3092\u6307\u5b9a. let mySpan : MKCoordinateSpan = MKCoordinateSpan ( latitudeDelta : 0.1 , longitudeDelta : 0.1 ) let myRegion : MKCoordinateRegion = MKCoordinateRegionMake ( center , mySpan ) // MapView\u306bregion\u3092\u8ffd\u52a0. myMapView . region = myRegion // view\u306bMapView\u3092\u8ffd\u52a0. self . view . addSubview ( myMapView ) // \u9577\u62bc\u3057\u306eUIGestureRecognizer\u3092\u751f\u6210. let myLongPress : UILongPressGestureRecognizer = UILongPressGestureRecognizer () myLongPress . addTarget ( self , action : #selector ( ViewController . recognizeLongPress ( _ :))) // MapView\u306bUIGestureRecognizer\u3092\u8ffd\u52a0. myMapView . addGestureRecognizer ( myLongPress ) } /* \u9577\u62bc\u3057\u3092\u611f\u77e5\u3057\u305f\u969b\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func recognizeLongPress ( sender : UILongPressGestureRecognizer ) { // \u9577\u62bc\u3057\u306e\u6700\u4e2d\u306b\u4f55\u5ea6\u3082\u30d4\u30f3\u3092\u751f\u6210\u3057\u306a\u3044\u3088\u3046\u306b\u3059\u308b. if sender . state != UIGestureRecognizerState . Began { return } // \u9577\u62bc\u3057\u3057\u305f\u5730\u70b9\u306e\u5ea7\u6a19\u3092\u53d6\u5f97. let location = sender . locationInView ( myMapView ) // location\u3092CLLocationCoordinate2D\u306b\u5909\u63db. let myCoordinate : CLLocationCoordinate2D = myMapView . convertPoint ( location , toCoordinateFromView : myMapView ) // \u30d4\u30f3\u3092\u751f\u6210. let myPin : MKPointAnnotation = MKPointAnnotation () // \u5ea7\u6a19\u3092\u8a2d\u5b9a. myPin . coordinate = myCoordinate // \u30bf\u30a4\u30c8\u30eb\u3092\u8a2d\u5b9a. myPin . title = \"\u30bf\u30a4\u30c8\u30eb\" // \u30b5\u30d6\u30bf\u30a4\u30c8\u30eb\u3092\u8a2d\u5b9a. myPin . subtitle = \"\u30b5\u30d6\u30bf\u30a4\u30c8\u30eb\" // MapView\u306b\u30d4\u30f3\u3092\u8ffd\u52a0. myMapView . addAnnotation ( myPin ) } /* addAnnotation\u3057\u305f\u969b\u306b\u547c\u3070\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8\u30e1\u30bd\u30c3\u30c9. */ func mapView ( mapView : MKMapView , viewForAnnotation annotation : MKAnnotation ) -> MKAnnotationView ? { let myPinIdentifier = \"PinAnnotationIdentifier\" // \u30d4\u30f3\u3092\u751f\u6210. let myPinView = MKPinAnnotationView ( annotation : annotation , reuseIdentifier : myPinIdentifier ) // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u3064\u3051\u308b. myPinView . animatesDrop = true // \u30b3\u30fc\u30eb\u30a2\u30a6\u30c8\u3092\u8868\u793a\u3059\u308b. myPinView . canShowCallout = true // annotation\u3092\u8a2d\u5b9a. myPinView . annotation = annotation return myPinView } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } }","title":"\u30d4\u30f3\u3092\u9577\u62bc\u3057\u3057\u305f\u5730\u70b9\u306b\u30c9\u30ed\u30c3\u30d7\u3055\u305b\u308b"},{"location":"3.mapkit/006_pin/#3x4x","text":"MKCoordinateRegionMake(center, mySpan) \u304c MKCoordinateRegion(center: center, span: mySpan) \u306b\u5909\u66f4 func recognizeLongPress(sender: UILongPressGestureRecognizer) \u306b @objc \u3092\u8ffd\u52a0 UIGestureRecognizerState \u304c UIGestureRecognizer.State \u306b\u5909\u66f4","title":"3.x\u30684.x\u306e\u5dee\u5206"},{"location":"3.mapkit/006_pin/#2330","text":"setCenterCoordinate \u304b\u3089 setCenter \u306b\u5909\u66f4 locationInView \u304b\u3089 location(in:) \u306b\u5909\u66f4 convertPoint \u304b\u3089 convert \u306b\u5909\u66f4 func mapView(mapView: MKMapView, viewForAnnotation annotation: MKAnnotation) -> MKAnnotationView? \u304b\u3089 func mapView(_ mapView: MKMapView, viewFor annotation: MKAnnotation) -> MKAnnotationView? \u306b\u5909\u66f4","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"3.mapkit/006_pin/#reference","text":"MKMapView https://developer.apple.com/reference/mapkit/mkmapview MKPinAnnotationView https://developer.apple.com/reference/mapkit/mkpinannotationview MKPointAnnotation https://developer.apple.com/reference/mapkit/mkpointannotation MKAnnotation https://developer.apple.com/reference/mapkit/mkannotation","title":"Reference"},{"location":"3.mapkit/007_image/","text":"\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u306b\u753b\u50cf\u3092\u8ffd\u52a0 Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 // // ViewController.swift // MapKit007 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit class ViewController : UIViewController , MKMapViewDelegate { // \u7d4c\u5ea6\u7def\u5ea6. let myLan : CLLocationDegrees = 37.331741 let myLon : CLLocationDegrees = - 122.030333 var center : CLLocationCoordinate2D ! override func viewDidLoad () { super . viewDidLoad () // \u5730\u56f3\u306e\u4e2d\u5fc3\u306e\u5ea7\u6a19. center = CLLocationCoordinate2DMake ( myLan , myLon ) // mapView\u3092\u751f\u6210. let myMapView : MKMapView = MKMapView () myMapView . frame = self . view . frame myMapView . center = self . view . center myMapView . centerCoordinate = center myMapView . delegate = self // \u7e2e\u5c3a\u3092\u6307\u5b9a. let mySpan : MKCoordinateSpan = MKCoordinateSpan ( latitudeDelta : 0.1 , longitudeDelta : 0.1 ) let myRegion : MKCoordinateRegion = MKCoordinateRegion ( center : center , span : mySpan ) // region\u3092mapView\u306b\u8ffd\u52a0. myMapView . region = myRegion // view\u306bmapView\u3092\u8ffd\u52a0. self . view . addSubview ( myMapView ) // \u5186\u3092\u63cf\u753b\u3059\u308b(\u534a\u5f84500m). // let myCircle: MKCircle = MKCircle(centerCoordinate: center, radius: CLLocationDistance(500)) let myCircle : MKCircle = MKCircle ( center : center , radius : CLLocationDistance ( 500 )) // mapView\u306bcircle\u3092\u8ffd\u52a0. myMapView . addOverlay ( myCircle ) // center\u3092\u6307\u3059\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u751f\u6210. let myPointAnnotation : MKPointAnnotation = MKPointAnnotation () myPointAnnotation . title = \"title\" myPointAnnotation . subtitle = \"subtitle\" myPointAnnotation . coordinate = center // mapView\u306b\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u8ffd\u52a0. myMapView . addAnnotation ( myPointAnnotation ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } /* addAnnotation\u3057\u305f\u969b\u306b\u547c\u3070\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8\u30e1\u30bd\u30c3\u30c9. */ func mapView ( _ mapView : MKMapView , viewFor annotation : MKAnnotation ) -> MKAnnotationView ? { // Identifier\u751f\u6210. let myAnnotationIdentifier : String = \"myAnnotation\" // \u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u751f\u6210. var myAnnotationView = mapView . dequeueReusableAnnotationView ( withIdentifier : myAnnotationIdentifier ) if myAnnotationView == nil { myAnnotationView = MKPinAnnotationView ( annotation : annotation , reuseIdentifier : myAnnotationIdentifier ) // \u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u306e\u30b3\u30fc\u30eb\u30a2\u30a6\u30c8\u3092\u8a31\u53ef. myAnnotationView !. canShowCallout = true // \u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u306b\u753b\u50cf\u3092\u8ffd\u52a0. myAnnotationView !. leftCalloutAccessoryView = UIImageView ( image : UIImage ( named : \"logo\" )) } return myAnnotationView } /* addOverlay\u3057\u305f\u969b\u306b\u547c\u3070\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8\u30e1\u30bd\u30c3\u30c9. */ func mapView ( _ mapView : MKMapView , rendererFor overlay : MKOverlay ) -> MKOverlayRenderer { // renderer\u3092\u751f\u6210. let myCircleView : MKCircleRenderer = MKCircleRenderer ( overlay : overlay ) // \u5186\u306e\u5185\u90e8\u3092\u9752\u8272\u3067\u5857\u308a\u3064\u3076\u3059. myCircleView . fillColor = UIColor . blue // \u5186\u3092\u900f\u904e\u3055\u305b\u308b. myCircleView . alpha = 0.5 // \u5186\u5468\u306e\u7dda\u306e\u592a\u3055. myCircleView . lineWidth = 0.5 return myCircleView } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 // // ViewController.swift // MapKit007 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit class ViewController : UIViewController , MKMapViewDelegate { // \u7d4c\u5ea6\u7def\u5ea6. let myLan : CLLocationDegrees = 37.331741 let myLon : CLLocationDegrees = - 122.030333 var center : CLLocationCoordinate2D ! override func viewDidLoad () { super . viewDidLoad () // \u5730\u56f3\u306e\u4e2d\u5fc3\u306e\u5ea7\u6a19. center = CLLocationCoordinate2DMake ( myLan , myLon ) // mapView\u3092\u751f\u6210. let myMapView : MKMapView = MKMapView () myMapView . frame = self . view . frame myMapView . center = self . view . center myMapView . centerCoordinate = center myMapView . delegate = self // \u7e2e\u5c3a\u3092\u6307\u5b9a. let mySpan : MKCoordinateSpan = MKCoordinateSpan ( latitudeDelta : 0.1 , longitudeDelta : 0.1 ) let myRegion : MKCoordinateRegion = MKCoordinateRegion ( center : center , span : mySpan ) // region\u3092mapView\u306b\u8ffd\u52a0. myMapView . region = myRegion // view\u306bmapView\u3092\u8ffd\u52a0. self . view . addSubview ( myMapView ) // \u5186\u3092\u63cf\u753b\u3059\u308b(\u534a\u5f84500m). // let myCircle: MKCircle = MKCircle(centerCoordinate: center, radius: CLLocationDistance(500)) let myCircle : MKCircle = MKCircle ( center : center , radius : CLLocationDistance ( 500 )) // mapView\u306bcircle\u3092\u8ffd\u52a0. myMapView . add ( myCircle ) // center\u3092\u6307\u3059\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u751f\u6210. let myPointAnnotation : MKPointAnnotation = MKPointAnnotation () myPointAnnotation . title = \"title\" myPointAnnotation . subtitle = \"subtitle\" myPointAnnotation . coordinate = center // mapView\u306b\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u8ffd\u52a0. myMapView . addAnnotation ( myPointAnnotation ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } /* addAnnotation\u3057\u305f\u969b\u306b\u547c\u3070\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8\u30e1\u30bd\u30c3\u30c9. */ func mapView ( _ mapView : MKMapView , viewFor annotation : MKAnnotation ) -> MKAnnotationView ? { // Identifier\u751f\u6210. let myAnnotationIdentifier : String = \"myAnnotation\" // \u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u751f\u6210. var myAnnotationView = mapView . dequeueReusableAnnotationView ( withIdentifier : myAnnotationIdentifier ) if myAnnotationView == nil { myAnnotationView = MKPinAnnotationView ( annotation : annotation , reuseIdentifier : myAnnotationIdentifier ) // \u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u306e\u30b3\u30fc\u30eb\u30a2\u30a6\u30c8\u3092\u8a31\u53ef. myAnnotationView !. canShowCallout = true // \u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u306b\u753b\u50cf\u3092\u8ffd\u52a0. myAnnotationView !. leftCalloutAccessoryView = UIImageView ( image : UIImage ( named : \"logo\" )) } return myAnnotationView } /* addOverlay\u3057\u305f\u969b\u306b\u547c\u3070\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8\u30e1\u30bd\u30c3\u30c9. */ func mapView ( _ mapView : MKMapView , rendererFor overlay : MKOverlay ) -> MKOverlayRenderer { // renderer\u3092\u751f\u6210. let myCircleView : MKCircleRenderer = MKCircleRenderer ( overlay : overlay ) // \u5186\u306e\u5185\u90e8\u3092\u9752\u8272\u3067\u5857\u308a\u3064\u3076\u3059. myCircleView . fillColor = UIColor . blue // \u5186\u3092\u900f\u904e\u3055\u305b\u308b. myCircleView . alpha = 0.5 // \u5186\u5468\u306e\u7dda\u306e\u592a\u3055. myCircleView . lineWidth = 0.5 return myCircleView } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 // // ViewController.swift // MapKit007 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit class ViewController : UIViewController , MKMapViewDelegate { // \u7d4c\u5ea6\u7def\u5ea6. let myLan : CLLocationDegrees = 37.331741 let myLon : CLLocationDegrees = - 122.030333 var center : CLLocationCoordinate2D ! override func viewDidLoad () { super . viewDidLoad () // \u5730\u56f3\u306e\u4e2d\u5fc3\u306e\u5ea7\u6a19. center = CLLocationCoordinate2DMake ( myLan , myLon ) // mapView\u3092\u751f\u6210. let myMapView : MKMapView = MKMapView () myMapView . frame = self . view . frame myMapView . center = self . view . center myMapView . centerCoordinate = center myMapView . delegate = self // \u7e2e\u5c3a\u3092\u6307\u5b9a. let mySpan : MKCoordinateSpan = MKCoordinateSpan ( latitudeDelta : 0.1 , longitudeDelta : 0.1 ) let myRegion : MKCoordinateRegion = MKCoordinateRegion ( center : center , span : mySpan ) // region\u3092mapView\u306b\u8ffd\u52a0. myMapView . region = myRegion // view\u306bmapView\u3092\u8ffd\u52a0. self . view . addSubview ( myMapView ) // \u5186\u3092\u63cf\u753b\u3059\u308b(\u534a\u5f84500m). let myCircle : MKCircle = MKCircle ( centerCoordinate : center , radius : CLLocationDistance ( 500 )) // mapView\u306bcircle\u3092\u8ffd\u52a0. myMapView . addOverlay ( myCircle ) // center\u3092\u6307\u3059\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u751f\u6210. let myPointAnnotation : MKPointAnnotation = MKPointAnnotation () myPointAnnotation . title = \"title\" myPointAnnotation . subtitle = \"subtitle\" myPointAnnotation . coordinate = center // mapView\u306b\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u8ffd\u52a0. myMapView . addAnnotation ( myPointAnnotation ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } /* addAnnotation\u3057\u305f\u969b\u306b\u547c\u3070\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8\u30e1\u30bd\u30c3\u30c9. */ func mapView ( mapView : MKMapView , viewForAnnotation annotation : MKAnnotation ) -> MKAnnotationView ? { // Identifier\u751f\u6210. let myAnnotationIdentifier : String = \"myAnnotation\" // \u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u751f\u6210. var myAnnotationView = mapView . dequeueReusableAnnotationViewWithIdentifier ( myAnnotationIdentifier ) if myAnnotationView == nil { myAnnotationView = MKPinAnnotationView ( annotation : annotation , reuseIdentifier : myAnnotationIdentifier ) // \u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u306e\u30b3\u30fc\u30eb\u30a2\u30a6\u30c8\u3092\u8a31\u53ef. myAnnotationView !. canShowCallout = true // \u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u306b\u753b\u50cf\u3092\u8ffd\u52a0. myAnnotationView !. leftCalloutAccessoryView = UIImageView ( image : UIImage ( named : \"logo\" )) } return myAnnotationView } /* addOverlay\u3057\u305f\u969b\u306b\u547c\u3070\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8\u30e1\u30bd\u30c3\u30c9. */ func mapView ( mapView : MKMapView , rendererForOverlay overlay : MKOverlay ) -> MKOverlayRenderer { // renderer\u3092\u751f\u6210. let myCircleView : MKCircleRenderer = MKCircleRenderer ( overlay : overlay ) // \u5186\u306e\u5185\u90e8\u3092\u9752\u8272\u3067\u5857\u308a\u3064\u3076\u3059. myCircleView . fillColor = UIColor . blueColor () // \u5186\u3092\u900f\u904e\u3055\u305b\u308b. myCircleView . alpha = 0.5 // \u5186\u5468\u306e\u7dda\u306e\u592a\u3055. myCircleView . lineWidth = 0.5 return myCircleView } } 3.x\u30684.x\u306e\u5dee\u5206 add \u304c addOverlay \u306b\u5909\u66f4 2.3\u30683.0\u306e\u5dee\u5206 addOverlay \u304b\u3089 add \u306b\u5909\u66f4 MKCircle(centerCoordinate:, radius:) \u304b\u3089 MKCircle(center:, radius:) \u306b\u5909\u66f4 Reference MKPinAnnotationView https://developer.apple.com/reference/mapkit/mkpinannotationview MKCircle https://developer.apple.com/reference/mapkit/mkcircle MKCircleRenderer https://developer.apple.com/reference/mapkit/mkcirclerenderer","title":"\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u306b\u753b\u50cf\u3092\u8ffd\u52a0"},{"location":"3.mapkit/007_image/#_1","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 // // ViewController.swift // MapKit007 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit class ViewController : UIViewController , MKMapViewDelegate { // \u7d4c\u5ea6\u7def\u5ea6. let myLan : CLLocationDegrees = 37.331741 let myLon : CLLocationDegrees = - 122.030333 var center : CLLocationCoordinate2D ! override func viewDidLoad () { super . viewDidLoad () // \u5730\u56f3\u306e\u4e2d\u5fc3\u306e\u5ea7\u6a19. center = CLLocationCoordinate2DMake ( myLan , myLon ) // mapView\u3092\u751f\u6210. let myMapView : MKMapView = MKMapView () myMapView . frame = self . view . frame myMapView . center = self . view . center myMapView . centerCoordinate = center myMapView . delegate = self // \u7e2e\u5c3a\u3092\u6307\u5b9a. let mySpan : MKCoordinateSpan = MKCoordinateSpan ( latitudeDelta : 0.1 , longitudeDelta : 0.1 ) let myRegion : MKCoordinateRegion = MKCoordinateRegion ( center : center , span : mySpan ) // region\u3092mapView\u306b\u8ffd\u52a0. myMapView . region = myRegion // view\u306bmapView\u3092\u8ffd\u52a0. self . view . addSubview ( myMapView ) // \u5186\u3092\u63cf\u753b\u3059\u308b(\u534a\u5f84500m). // let myCircle: MKCircle = MKCircle(centerCoordinate: center, radius: CLLocationDistance(500)) let myCircle : MKCircle = MKCircle ( center : center , radius : CLLocationDistance ( 500 )) // mapView\u306bcircle\u3092\u8ffd\u52a0. myMapView . addOverlay ( myCircle ) // center\u3092\u6307\u3059\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u751f\u6210. let myPointAnnotation : MKPointAnnotation = MKPointAnnotation () myPointAnnotation . title = \"title\" myPointAnnotation . subtitle = \"subtitle\" myPointAnnotation . coordinate = center // mapView\u306b\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u8ffd\u52a0. myMapView . addAnnotation ( myPointAnnotation ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } /* addAnnotation\u3057\u305f\u969b\u306b\u547c\u3070\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8\u30e1\u30bd\u30c3\u30c9. */ func mapView ( _ mapView : MKMapView , viewFor annotation : MKAnnotation ) -> MKAnnotationView ? { // Identifier\u751f\u6210. let myAnnotationIdentifier : String = \"myAnnotation\" // \u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u751f\u6210. var myAnnotationView = mapView . dequeueReusableAnnotationView ( withIdentifier : myAnnotationIdentifier ) if myAnnotationView == nil { myAnnotationView = MKPinAnnotationView ( annotation : annotation , reuseIdentifier : myAnnotationIdentifier ) // \u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u306e\u30b3\u30fc\u30eb\u30a2\u30a6\u30c8\u3092\u8a31\u53ef. myAnnotationView !. canShowCallout = true // \u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u306b\u753b\u50cf\u3092\u8ffd\u52a0. myAnnotationView !. leftCalloutAccessoryView = UIImageView ( image : UIImage ( named : \"logo\" )) } return myAnnotationView } /* addOverlay\u3057\u305f\u969b\u306b\u547c\u3070\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8\u30e1\u30bd\u30c3\u30c9. */ func mapView ( _ mapView : MKMapView , rendererFor overlay : MKOverlay ) -> MKOverlayRenderer { // renderer\u3092\u751f\u6210. let myCircleView : MKCircleRenderer = MKCircleRenderer ( overlay : overlay ) // \u5186\u306e\u5185\u90e8\u3092\u9752\u8272\u3067\u5857\u308a\u3064\u3076\u3059. myCircleView . fillColor = UIColor . blue // \u5186\u3092\u900f\u904e\u3055\u305b\u308b. myCircleView . alpha = 0.5 // \u5186\u5468\u306e\u7dda\u306e\u592a\u3055. myCircleView . lineWidth = 0.5 return myCircleView } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 // // ViewController.swift // MapKit007 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit class ViewController : UIViewController , MKMapViewDelegate { // \u7d4c\u5ea6\u7def\u5ea6. let myLan : CLLocationDegrees = 37.331741 let myLon : CLLocationDegrees = - 122.030333 var center : CLLocationCoordinate2D ! override func viewDidLoad () { super . viewDidLoad () // \u5730\u56f3\u306e\u4e2d\u5fc3\u306e\u5ea7\u6a19. center = CLLocationCoordinate2DMake ( myLan , myLon ) // mapView\u3092\u751f\u6210. let myMapView : MKMapView = MKMapView () myMapView . frame = self . view . frame myMapView . center = self . view . center myMapView . centerCoordinate = center myMapView . delegate = self // \u7e2e\u5c3a\u3092\u6307\u5b9a. let mySpan : MKCoordinateSpan = MKCoordinateSpan ( latitudeDelta : 0.1 , longitudeDelta : 0.1 ) let myRegion : MKCoordinateRegion = MKCoordinateRegion ( center : center , span : mySpan ) // region\u3092mapView\u306b\u8ffd\u52a0. myMapView . region = myRegion // view\u306bmapView\u3092\u8ffd\u52a0. self . view . addSubview ( myMapView ) // \u5186\u3092\u63cf\u753b\u3059\u308b(\u534a\u5f84500m). // let myCircle: MKCircle = MKCircle(centerCoordinate: center, radius: CLLocationDistance(500)) let myCircle : MKCircle = MKCircle ( center : center , radius : CLLocationDistance ( 500 )) // mapView\u306bcircle\u3092\u8ffd\u52a0. myMapView . add ( myCircle ) // center\u3092\u6307\u3059\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u751f\u6210. let myPointAnnotation : MKPointAnnotation = MKPointAnnotation () myPointAnnotation . title = \"title\" myPointAnnotation . subtitle = \"subtitle\" myPointAnnotation . coordinate = center // mapView\u306b\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u8ffd\u52a0. myMapView . addAnnotation ( myPointAnnotation ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } /* addAnnotation\u3057\u305f\u969b\u306b\u547c\u3070\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8\u30e1\u30bd\u30c3\u30c9. */ func mapView ( _ mapView : MKMapView , viewFor annotation : MKAnnotation ) -> MKAnnotationView ? { // Identifier\u751f\u6210. let myAnnotationIdentifier : String = \"myAnnotation\" // \u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u751f\u6210. var myAnnotationView = mapView . dequeueReusableAnnotationView ( withIdentifier : myAnnotationIdentifier ) if myAnnotationView == nil { myAnnotationView = MKPinAnnotationView ( annotation : annotation , reuseIdentifier : myAnnotationIdentifier ) // \u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u306e\u30b3\u30fc\u30eb\u30a2\u30a6\u30c8\u3092\u8a31\u53ef. myAnnotationView !. canShowCallout = true // \u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u306b\u753b\u50cf\u3092\u8ffd\u52a0. myAnnotationView !. leftCalloutAccessoryView = UIImageView ( image : UIImage ( named : \"logo\" )) } return myAnnotationView } /* addOverlay\u3057\u305f\u969b\u306b\u547c\u3070\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8\u30e1\u30bd\u30c3\u30c9. */ func mapView ( _ mapView : MKMapView , rendererFor overlay : MKOverlay ) -> MKOverlayRenderer { // renderer\u3092\u751f\u6210. let myCircleView : MKCircleRenderer = MKCircleRenderer ( overlay : overlay ) // \u5186\u306e\u5185\u90e8\u3092\u9752\u8272\u3067\u5857\u308a\u3064\u3076\u3059. myCircleView . fillColor = UIColor . blue // \u5186\u3092\u900f\u904e\u3055\u305b\u308b. myCircleView . alpha = 0.5 // \u5186\u5468\u306e\u7dda\u306e\u592a\u3055. myCircleView . lineWidth = 0.5 return myCircleView } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 // // ViewController.swift // MapKit007 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit class ViewController : UIViewController , MKMapViewDelegate { // \u7d4c\u5ea6\u7def\u5ea6. let myLan : CLLocationDegrees = 37.331741 let myLon : CLLocationDegrees = - 122.030333 var center : CLLocationCoordinate2D ! override func viewDidLoad () { super . viewDidLoad () // \u5730\u56f3\u306e\u4e2d\u5fc3\u306e\u5ea7\u6a19. center = CLLocationCoordinate2DMake ( myLan , myLon ) // mapView\u3092\u751f\u6210. let myMapView : MKMapView = MKMapView () myMapView . frame = self . view . frame myMapView . center = self . view . center myMapView . centerCoordinate = center myMapView . delegate = self // \u7e2e\u5c3a\u3092\u6307\u5b9a. let mySpan : MKCoordinateSpan = MKCoordinateSpan ( latitudeDelta : 0.1 , longitudeDelta : 0.1 ) let myRegion : MKCoordinateRegion = MKCoordinateRegion ( center : center , span : mySpan ) // region\u3092mapView\u306b\u8ffd\u52a0. myMapView . region = myRegion // view\u306bmapView\u3092\u8ffd\u52a0. self . view . addSubview ( myMapView ) // \u5186\u3092\u63cf\u753b\u3059\u308b(\u534a\u5f84500m). let myCircle : MKCircle = MKCircle ( centerCoordinate : center , radius : CLLocationDistance ( 500 )) // mapView\u306bcircle\u3092\u8ffd\u52a0. myMapView . addOverlay ( myCircle ) // center\u3092\u6307\u3059\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u751f\u6210. let myPointAnnotation : MKPointAnnotation = MKPointAnnotation () myPointAnnotation . title = \"title\" myPointAnnotation . subtitle = \"subtitle\" myPointAnnotation . coordinate = center // mapView\u306b\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u8ffd\u52a0. myMapView . addAnnotation ( myPointAnnotation ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } /* addAnnotation\u3057\u305f\u969b\u306b\u547c\u3070\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8\u30e1\u30bd\u30c3\u30c9. */ func mapView ( mapView : MKMapView , viewForAnnotation annotation : MKAnnotation ) -> MKAnnotationView ? { // Identifier\u751f\u6210. let myAnnotationIdentifier : String = \"myAnnotation\" // \u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u751f\u6210. var myAnnotationView = mapView . dequeueReusableAnnotationViewWithIdentifier ( myAnnotationIdentifier ) if myAnnotationView == nil { myAnnotationView = MKPinAnnotationView ( annotation : annotation , reuseIdentifier : myAnnotationIdentifier ) // \u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u306e\u30b3\u30fc\u30eb\u30a2\u30a6\u30c8\u3092\u8a31\u53ef. myAnnotationView !. canShowCallout = true // \u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u306b\u753b\u50cf\u3092\u8ffd\u52a0. myAnnotationView !. leftCalloutAccessoryView = UIImageView ( image : UIImage ( named : \"logo\" )) } return myAnnotationView } /* addOverlay\u3057\u305f\u969b\u306b\u547c\u3070\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8\u30e1\u30bd\u30c3\u30c9. */ func mapView ( mapView : MKMapView , rendererForOverlay overlay : MKOverlay ) -> MKOverlayRenderer { // renderer\u3092\u751f\u6210. let myCircleView : MKCircleRenderer = MKCircleRenderer ( overlay : overlay ) // \u5186\u306e\u5185\u90e8\u3092\u9752\u8272\u3067\u5857\u308a\u3064\u3076\u3059. myCircleView . fillColor = UIColor . blueColor () // \u5186\u3092\u900f\u904e\u3055\u305b\u308b. myCircleView . alpha = 0.5 // \u5186\u5468\u306e\u7dda\u306e\u592a\u3055. myCircleView . lineWidth = 0.5 return myCircleView } }","title":"\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u306b\u753b\u50cf\u3092\u8ffd\u52a0"},{"location":"3.mapkit/007_image/#3x4x","text":"add \u304c addOverlay \u306b\u5909\u66f4","title":"3.x\u30684.x\u306e\u5dee\u5206"},{"location":"3.mapkit/007_image/#2330","text":"addOverlay \u304b\u3089 add \u306b\u5909\u66f4 MKCircle(centerCoordinate:, radius:) \u304b\u3089 MKCircle(center:, radius:) \u306b\u5909\u66f4","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"3.mapkit/007_image/#reference","text":"MKPinAnnotationView https://developer.apple.com/reference/mapkit/mkpinannotationview MKCircle https://developer.apple.com/reference/mapkit/mkcircle MKCircleRenderer https://developer.apple.com/reference/mapkit/mkcirclerenderer","title":"Reference"},{"location":"3.mapkit/008_image/","text":"\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u4efb\u610f\u306e\u753b\u50cf\u306b\u3059\u308b Swift 4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 // // ViewController.swift // MapKit008 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit class ViewController : UIViewController , MKMapViewDelegate { // \u7d4c\u5ea6\u7def\u5ea6. let myLan : CLLocationDegrees = 37.331741 let myLon : CLLocationDegrees = - 122.030333 var myCenter : CLLocationCoordinate2D ! var myMapView : MKMapView ! override func viewDidLoad () { super . viewDidLoad () // \u5730\u56f3\u306e\u4e2d\u5fc3\u306e\u5ea7\u6a19. myCenter = CLLocationCoordinate2DMake ( myLan , myLon ) // MapView\u3092\u751f\u6210. myMapView = MKMapView ( frame : self . view . frame ) myMapView . center = self . view . center myMapView . centerCoordinate = myCenter myMapView . delegate = self // \u7e2e\u5c3a\u3092\u6307\u5b9a. let mySpan : MKCoordinateSpan = MKCoordinateSpan ( latitudeDelta : 0.1 , longitudeDelta : 0.1 ) let myRegion : MKCoordinateRegion = MKCoordinateRegion ( center : myCenter , span : mySpan ) // region\u3092MapView\u306b\u8ffd\u52a0. myMapView . region = myRegion // PointAnnotation\u3092\u751f\u6210. let myPointAnnotation : MKPointAnnotation = MKPointAnnotation () myPointAnnotation . coordinate = myCenter myMapView . addAnnotation ( myPointAnnotation ) // view\u306bMapView\u3092\u8ffd\u52a0. self . view . addSubview ( myMapView ) } /* addAnnotation\u5f8c\u306b\u5b9f\u884c\u3055\u308c\u308b. */ func mapView ( _ mapView : MKMapView , viewFor annotation : MKAnnotation ) -> MKAnnotationView ? { let myIdentifier = \"myPin\" var myAnnotation : MKAnnotationView ! // annotation\u304c\u898b\u3064\u304b\u3089\u306a\u304b\u3063\u305f\u3089\u65b0\u3057\u304fannotation\u3092\u751f\u6210. if myAnnotation == nil { myAnnotation = MKAnnotationView ( annotation : annotation , reuseIdentifier : myIdentifier ) } // \u753b\u50cf\u3092\u9078\u629e. myAnnotation . image = UIImage ( named : \"annotation\" ) ! myAnnotation . annotation = annotation return myAnnotation } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 // // ViewController.swift // MapKit008 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit class ViewController : UIViewController , MKMapViewDelegate { // \u7d4c\u5ea6\u7def\u5ea6. let myLan : CLLocationDegrees = 37.331741 let myLon : CLLocationDegrees = - 122.030333 var myCenter : CLLocationCoordinate2D ! var myMapView : MKMapView ! override func viewDidLoad () { super . viewDidLoad () // \u5730\u56f3\u306e\u4e2d\u5fc3\u306e\u5ea7\u6a19. myCenter = CLLocationCoordinate2DMake ( myLan , myLon ) // MapView\u3092\u751f\u6210. myMapView = MKMapView ( frame : self . view . frame ) myMapView . center = self . view . center myMapView . centerCoordinate = myCenter myMapView . delegate = self // \u7e2e\u5c3a\u3092\u6307\u5b9a. let mySpan : MKCoordinateSpan = MKCoordinateSpan ( latitudeDelta : 0.1 , longitudeDelta : 0.1 ) let myRegion : MKCoordinateRegion = MKCoordinateRegion ( center : myCenter , span : mySpan ) // region\u3092MapView\u306b\u8ffd\u52a0. myMapView . region = myRegion // PointAnnotation\u3092\u751f\u6210. let myPointAnnotation : MKPointAnnotation = MKPointAnnotation () myPointAnnotation . coordinate = myCenter myMapView . addAnnotation ( myPointAnnotation ) // view\u306bMapView\u3092\u8ffd\u52a0. self . view . addSubview ( myMapView ) } /* addAnnotation\u5f8c\u306b\u5b9f\u884c\u3055\u308c\u308b. */ func mapView ( mapView : MKMapView , viewForAnnotation annotation : MKAnnotation ) -> MKAnnotationView ? { let myIdentifier = \"myPin\" var myAnnotation : MKAnnotationView ! // annotation\u304c\u898b\u3064\u304b\u3089\u306a\u304b\u3063\u305f\u3089\u65b0\u3057\u304fannotation\u3092\u751f\u6210. if myAnnotation == nil { myAnnotation = MKAnnotationView ( annotation : annotation , reuseIdentifier : myIdentifier ) } // \u753b\u50cf\u3092\u9078\u629e. myAnnotation . image = UIImage ( named : \"annotation\" ) ! myAnnotation . annotation = annotation return myAnnotation } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } 2.3\u30683.0\u306e\u5dee\u5206 func mapView(mapView: MKMapView, viewForAnnotation annotation: MKAnnotation) -> MKAnnotationView? \u304b\u3089 func mapView(_ mapView: MKMapView, viewFor annotation: MKAnnotation) -> MKAnnotationView? \u306b\u5909\u66f4 Reference MKPinAnnotationView https://developer.apple.com/reference/mapkit/mkpinannotationview MKMapView https://developer.apple.com/reference/mapkit/mkpinannotationview","title":"\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u4efb\u610f\u306e\u753b\u50cf\u306b\u3059\u308b"},{"location":"3.mapkit/008_image/#_1","text":"Swift 4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 // // ViewController.swift // MapKit008 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit class ViewController : UIViewController , MKMapViewDelegate { // \u7d4c\u5ea6\u7def\u5ea6. let myLan : CLLocationDegrees = 37.331741 let myLon : CLLocationDegrees = - 122.030333 var myCenter : CLLocationCoordinate2D ! var myMapView : MKMapView ! override func viewDidLoad () { super . viewDidLoad () // \u5730\u56f3\u306e\u4e2d\u5fc3\u306e\u5ea7\u6a19. myCenter = CLLocationCoordinate2DMake ( myLan , myLon ) // MapView\u3092\u751f\u6210. myMapView = MKMapView ( frame : self . view . frame ) myMapView . center = self . view . center myMapView . centerCoordinate = myCenter myMapView . delegate = self // \u7e2e\u5c3a\u3092\u6307\u5b9a. let mySpan : MKCoordinateSpan = MKCoordinateSpan ( latitudeDelta : 0.1 , longitudeDelta : 0.1 ) let myRegion : MKCoordinateRegion = MKCoordinateRegion ( center : myCenter , span : mySpan ) // region\u3092MapView\u306b\u8ffd\u52a0. myMapView . region = myRegion // PointAnnotation\u3092\u751f\u6210. let myPointAnnotation : MKPointAnnotation = MKPointAnnotation () myPointAnnotation . coordinate = myCenter myMapView . addAnnotation ( myPointAnnotation ) // view\u306bMapView\u3092\u8ffd\u52a0. self . view . addSubview ( myMapView ) } /* addAnnotation\u5f8c\u306b\u5b9f\u884c\u3055\u308c\u308b. */ func mapView ( _ mapView : MKMapView , viewFor annotation : MKAnnotation ) -> MKAnnotationView ? { let myIdentifier = \"myPin\" var myAnnotation : MKAnnotationView ! // annotation\u304c\u898b\u3064\u304b\u3089\u306a\u304b\u3063\u305f\u3089\u65b0\u3057\u304fannotation\u3092\u751f\u6210. if myAnnotation == nil { myAnnotation = MKAnnotationView ( annotation : annotation , reuseIdentifier : myIdentifier ) } // \u753b\u50cf\u3092\u9078\u629e. myAnnotation . image = UIImage ( named : \"annotation\" ) ! myAnnotation . annotation = annotation return myAnnotation } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 // // ViewController.swift // MapKit008 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit class ViewController : UIViewController , MKMapViewDelegate { // \u7d4c\u5ea6\u7def\u5ea6. let myLan : CLLocationDegrees = 37.331741 let myLon : CLLocationDegrees = - 122.030333 var myCenter : CLLocationCoordinate2D ! var myMapView : MKMapView ! override func viewDidLoad () { super . viewDidLoad () // \u5730\u56f3\u306e\u4e2d\u5fc3\u306e\u5ea7\u6a19. myCenter = CLLocationCoordinate2DMake ( myLan , myLon ) // MapView\u3092\u751f\u6210. myMapView = MKMapView ( frame : self . view . frame ) myMapView . center = self . view . center myMapView . centerCoordinate = myCenter myMapView . delegate = self // \u7e2e\u5c3a\u3092\u6307\u5b9a. let mySpan : MKCoordinateSpan = MKCoordinateSpan ( latitudeDelta : 0.1 , longitudeDelta : 0.1 ) let myRegion : MKCoordinateRegion = MKCoordinateRegion ( center : myCenter , span : mySpan ) // region\u3092MapView\u306b\u8ffd\u52a0. myMapView . region = myRegion // PointAnnotation\u3092\u751f\u6210. let myPointAnnotation : MKPointAnnotation = MKPointAnnotation () myPointAnnotation . coordinate = myCenter myMapView . addAnnotation ( myPointAnnotation ) // view\u306bMapView\u3092\u8ffd\u52a0. self . view . addSubview ( myMapView ) } /* addAnnotation\u5f8c\u306b\u5b9f\u884c\u3055\u308c\u308b. */ func mapView ( mapView : MKMapView , viewForAnnotation annotation : MKAnnotation ) -> MKAnnotationView ? { let myIdentifier = \"myPin\" var myAnnotation : MKAnnotationView ! // annotation\u304c\u898b\u3064\u304b\u3089\u306a\u304b\u3063\u305f\u3089\u65b0\u3057\u304fannotation\u3092\u751f\u6210. if myAnnotation == nil { myAnnotation = MKAnnotationView ( annotation : annotation , reuseIdentifier : myIdentifier ) } // \u753b\u50cf\u3092\u9078\u629e. myAnnotation . image = UIImage ( named : \"annotation\" ) ! myAnnotation . annotation = annotation return myAnnotation } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } }","title":"\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u4efb\u610f\u306e\u753b\u50cf\u306b\u3059\u308b"},{"location":"3.mapkit/008_image/#2330","text":"func mapView(mapView: MKMapView, viewForAnnotation annotation: MKAnnotation) -> MKAnnotationView? \u304b\u3089 func mapView(_ mapView: MKMapView, viewFor annotation: MKAnnotation) -> MKAnnotationView? \u306b\u5909\u66f4","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"3.mapkit/008_image/#reference","text":"MKPinAnnotationView https://developer.apple.com/reference/mapkit/mkpinannotationview MKMapView https://developer.apple.com/reference/mapkit/mkpinannotationview","title":"Reference"},{"location":"3.mapkit/009_route/","text":"\u30eb\u30fc\u30c8\u691c\u7d22\u3092\u3059\u308b Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 // // ViewController.swift // MapKit009 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit class ViewController : UIViewController , MKMapViewDelegate { override func viewDidLoad () { super . viewDidLoad () // mapView\u3092\u751f\u6210. let myMapView : MKMapView = MKMapView ( frame : self . view . frame ) // Delegate\u3092\u8a2d\u5b9a. myMapView . delegate = self // \u51fa\u767a\u70b9\u306e\u7def\u5ea6\u3001\u7d4c\u5ea6\u3092\u8a2d\u5b9a. let myLatitude : CLLocationDegrees = 37.331741 let myLongitude : CLLocationDegrees = - 122.030333 // \u76ee\u7684\u5730\u306e\u7def\u5ea6\u3001\u7d4c\u5ea6\u3092\u8a2d\u5b9a. let requestLatitude : CLLocationDegrees = 37.427474 let requestLongitude : CLLocationDegrees = - 122.169719 // \u76ee\u7684\u5730\u306e\u5ea7\u6a19\u3092\u6307\u5b9a. let requestCoordinate : CLLocationCoordinate2D = CLLocationCoordinate2DMake ( requestLatitude , requestLongitude ) let fromCoordinate : CLLocationCoordinate2D = CLLocationCoordinate2DMake ( myLatitude , myLongitude ) // \u5730\u56f3\u306e\u4e2d\u5fc3\u3092\u51fa\u767a\u70b9\u3068\u76ee\u7684\u5730\u306e\u4e2d\u9593\u306b\u8a2d\u5b9a\u3059\u308b. let center : CLLocationCoordinate2D = CLLocationCoordinate2DMake (( myLatitude + requestLatitude ) / 2 , ( myLongitude + requestLongitude ) / 2 ) // mapView\u306b\u4e2d\u5fc3\u3092\u30bb\u30c3\u30c8\u3059\u308b. myMapView . setCenter ( center , animated : true ) // \u7e2e\u5c3a\u3092\u6307\u5b9a. let mySpan : MKCoordinateSpan = MKCoordinateSpan ( latitudeDelta : 0.2 , longitudeDelta : 0.2 ) let myRegion : MKCoordinateRegion = MKCoordinateRegion ( center : center , span : mySpan ) // region\u3092mapView\u306b\u30bb\u30c3\u30c8. myMapView . region = myRegion // view\u306bmapView\u3092\u8ffd\u52a0. self . view . addSubview ( myMapView ) // PlaceMark\u3092\u751f\u6210\u3057\u3066\u51fa\u767a\u70b9\u3001\u76ee\u7684\u5730\u306e\u5ea7\u6a19\u3092\u30bb\u30c3\u30c8. let fromPlace : MKPlacemark = MKPlacemark ( coordinate : fromCoordinate , addressDictionary : nil ) let toPlace : MKPlacemark = MKPlacemark ( coordinate : requestCoordinate , addressDictionary : nil ) // Item\u3092\u751f\u6210\u3057\u3066PlaceMark\u3092\u30bb\u30c3\u30c8. let fromItem : MKMapItem = MKMapItem ( placemark : fromPlace ) let toItem : MKMapItem = MKMapItem ( placemark : toPlace ) // MKDirectionsRequest\u3092\u751f\u6210. let myRequest : MKDirections . Request = MKDirections . Request () // \u51fa\u767a\u5730\u306eItem\u3092\u30bb\u30c3\u30c8. myRequest . source = fromItem // \u76ee\u7684\u5730\u306eItem\u3092\u30bb\u30c3\u30c8. myRequest . destination = toItem // \u8907\u6570\u7d4c\u8def\u306e\u691c\u7d22\u3092\u6709\u52b9. myRequest . requestsAlternateRoutes = true // \u79fb\u52d5\u624b\u6bb5\u3092\u8eca\u306b\u8a2d\u5b9a. myRequest . transportType = MKDirectionsTransportType . automobile // MKDirections\u3092\u751f\u6210\u3057\u3066Request\u3092\u30bb\u30c3\u30c8. let myDirections : MKDirections = MKDirections ( request : myRequest ) // \u7d4c\u8def\u63a2\u7d22. myDirections . calculate { ( response , error ) in // NSError\u3092\u53d7\u3051\u53d6\u3063\u305f\u304b\u3001\u30eb\u30fc\u30c8\u304c\u306a\u3044\u5834\u5408. if error != nil || response !. routes . isEmpty { return } let route : MKRoute = response !. routes [ 0 ] as MKRoute print ( \"\u76ee\u7684\u5730\u307e\u3067 \\( route . distance ) km\" ) print ( \"\u6240\u8981\u6642\u9593 \\( Int ( route . expectedTravelTime / 60 )) \u5206\" ) // mapView\u306b\u30eb\u30fc\u30c8\u3092\u63cf\u753b. myMapView . addOverlay ( route . polyline ) } // \u30d4\u30f3\u3092\u751f\u6210. let fromPin : MKPointAnnotation = MKPointAnnotation () let toPin : MKPointAnnotation = MKPointAnnotation () // \u5ea7\u6a19\u3092\u30bb\u30c3\u30c8. fromPin . coordinate = fromCoordinate toPin . coordinate = requestCoordinate // title\u3092\u30bb\u30c3\u30c8. fromPin . title = \"\u51fa\u767a\u5730\u70b9\" toPin . title = \"\u76ee\u7684\u5730\" // mapView\u306b\u8ffd\u52a0. myMapView . addAnnotation ( fromPin ) myMapView . addAnnotation ( toPin ) } // \u30eb\u30fc\u30c8\u306e\u8868\u793a\u8a2d\u5b9a. func mapView ( _ mapView : MKMapView , rendererFor overlay : MKOverlay ) -> MKOverlayRenderer { let route : MKPolyline = overlay as ! MKPolyline let routeRenderer : MKPolylineRenderer = MKPolylineRenderer ( polyline : route ) // \u30eb\u30fc\u30c8\u306e\u7dda\u306e\u592a\u3055. routeRenderer . lineWidth = 3.0 // \u30eb\u30fc\u30c8\u306e\u7dda\u306e\u8272. routeRenderer . strokeColor = UIColor . red return routeRenderer } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 // // ViewController.swift // MapKit009 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit class ViewController : UIViewController , MKMapViewDelegate { override func viewDidLoad () { super . viewDidLoad () // mapView\u3092\u751f\u6210. let myMapView : MKMapView = MKMapView ( frame : self . view . frame ) // Delegate\u3092\u8a2d\u5b9a. myMapView . delegate = self // \u51fa\u767a\u70b9\u306e\u7def\u5ea6\u3001\u7d4c\u5ea6\u3092\u8a2d\u5b9a. let myLatitude : CLLocationDegrees = 37.331741 let myLongitude : CLLocationDegrees = - 122.030333 // \u76ee\u7684\u5730\u306e\u7def\u5ea6\u3001\u7d4c\u5ea6\u3092\u8a2d\u5b9a. let requestLatitude : CLLocationDegrees = 37.427474 let requestLongitude : CLLocationDegrees = - 122.169719 // \u76ee\u7684\u5730\u306e\u5ea7\u6a19\u3092\u6307\u5b9a. let requestCoordinate : CLLocationCoordinate2D = CLLocationCoordinate2DMake ( requestLatitude , requestLongitude ) let fromCoordinate : CLLocationCoordinate2D = CLLocationCoordinate2DMake ( myLatitude , myLongitude ) // \u5730\u56f3\u306e\u4e2d\u5fc3\u3092\u51fa\u767a\u70b9\u3068\u76ee\u7684\u5730\u306e\u4e2d\u9593\u306b\u8a2d\u5b9a\u3059\u308b. let center : CLLocationCoordinate2D = CLLocationCoordinate2DMake (( myLatitude + requestLatitude ) / 2 , ( myLongitude + requestLongitude ) / 2 ) // mapView\u306b\u4e2d\u5fc3\u3092\u30bb\u30c3\u30c8\u3059\u308b. myMapView . setCenter ( center , animated : true ) // \u7e2e\u5c3a\u3092\u6307\u5b9a. let mySpan : MKCoordinateSpan = MKCoordinateSpan ( latitudeDelta : 0.2 , longitudeDelta : 0.2 ) let myRegion : MKCoordinateRegion = MKCoordinateRegion ( center : center , span : mySpan ) // region\u3092mapView\u306b\u30bb\u30c3\u30c8. myMapView . region = myRegion // view\u306bmapView\u3092\u8ffd\u52a0. self . view . addSubview ( myMapView ) // PlaceMark\u3092\u751f\u6210\u3057\u3066\u51fa\u767a\u70b9\u3001\u76ee\u7684\u5730\u306e\u5ea7\u6a19\u3092\u30bb\u30c3\u30c8. let fromPlace : MKPlacemark = MKPlacemark ( coordinate : fromCoordinate , addressDictionary : nil ) let toPlace : MKPlacemark = MKPlacemark ( coordinate : requestCoordinate , addressDictionary : nil ) // Item\u3092\u751f\u6210\u3057\u3066PlaceMark\u3092\u30bb\u30c3\u30c8. let fromItem : MKMapItem = MKMapItem ( placemark : fromPlace ) let toItem : MKMapItem = MKMapItem ( placemark : toPlace ) // MKDirectionsRequest\u3092\u751f\u6210. let myRequest : MKDirectionsRequest = MKDirectionsRequest () // \u51fa\u767a\u5730\u306eItem\u3092\u30bb\u30c3\u30c8. myRequest . source = fromItem // \u76ee\u7684\u5730\u306eItem\u3092\u30bb\u30c3\u30c8. myRequest . destination = toItem // \u8907\u6570\u7d4c\u8def\u306e\u691c\u7d22\u3092\u6709\u52b9. myRequest . requestsAlternateRoutes = true // \u79fb\u52d5\u624b\u6bb5\u3092\u8eca\u306b\u8a2d\u5b9a. myRequest . transportType = MKDirectionsTransportType . automobile // MKDirections\u3092\u751f\u6210\u3057\u3066Request\u3092\u30bb\u30c3\u30c8. let myDirections : MKDirections = MKDirections ( request : myRequest ) // \u7d4c\u8def\u63a2\u7d22. myDirections . calculate { ( response , error ) in // NSError\u3092\u53d7\u3051\u53d6\u3063\u305f\u304b\u3001\u30eb\u30fc\u30c8\u304c\u306a\u3044\u5834\u5408. if error != nil || response !. routes . isEmpty { return } let route : MKRoute = response !. routes [ 0 ] as MKRoute print ( \"\u76ee\u7684\u5730\u307e\u3067 \\( route . distance ) km\" ) print ( \"\u6240\u8981\u6642\u9593 \\( Int ( route . expectedTravelTime / 60 )) \u5206\" ) // mapView\u306b\u30eb\u30fc\u30c8\u3092\u63cf\u753b. myMapView . add ( route . polyline ) } // \u30d4\u30f3\u3092\u751f\u6210. let fromPin : MKPointAnnotation = MKPointAnnotation () let toPin : MKPointAnnotation = MKPointAnnotation () // \u5ea7\u6a19\u3092\u30bb\u30c3\u30c8. fromPin . coordinate = fromCoordinate toPin . coordinate = requestCoordinate // title\u3092\u30bb\u30c3\u30c8. fromPin . title = \"\u51fa\u767a\u5730\u70b9\" toPin . title = \"\u76ee\u7684\u5730\" // mapView\u306b\u8ffd\u52a0. myMapView . addAnnotation ( fromPin ) myMapView . addAnnotation ( toPin ) } // \u30eb\u30fc\u30c8\u306e\u8868\u793a\u8a2d\u5b9a. func mapView ( _ mapView : MKMapView , rendererFor overlay : MKOverlay ) -> MKOverlayRenderer { let route : MKPolyline = overlay as ! MKPolyline let routeRenderer : MKPolylineRenderer = MKPolylineRenderer ( polyline : route ) // \u30eb\u30fc\u30c8\u306e\u7dda\u306e\u592a\u3055. routeRenderer . lineWidth = 3.0 // \u30eb\u30fc\u30c8\u306e\u7dda\u306e\u8272. routeRenderer . strokeColor = UIColor . red return routeRenderer } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 // // ViewController.swift // MapKit009 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit class ViewController : UIViewController , MKMapViewDelegate { override func viewDidLoad () { super . viewDidLoad () // mapView\u3092\u751f\u6210. let myMapView : MKMapView = MKMapView ( frame : self . view . frame ) // Delegate\u3092\u8a2d\u5b9a. myMapView . delegate = self // \u51fa\u767a\u70b9\u306e\u7def\u5ea6\u3001\u7d4c\u5ea6\u3092\u8a2d\u5b9a. let myLatitude : CLLocationDegrees = 37.331741 let myLongitude : CLLocationDegrees = - 122.030333 // \u76ee\u7684\u5730\u306e\u7def\u5ea6\u3001\u7d4c\u5ea6\u3092\u8a2d\u5b9a. let requestLatitude : CLLocationDegrees = 37.427474 let requestLongitude : CLLocationDegrees = - 122.169719 // \u76ee\u7684\u5730\u306e\u5ea7\u6a19\u3092\u6307\u5b9a. let requestCoordinate : CLLocationCoordinate2D = CLLocationCoordinate2DMake ( requestLatitude , requestLongitude ) let fromCoordinate : CLLocationCoordinate2D = CLLocationCoordinate2DMake ( myLatitude , myLongitude ) // \u5730\u56f3\u306e\u4e2d\u5fc3\u3092\u51fa\u767a\u70b9\u3068\u76ee\u7684\u5730\u306e\u4e2d\u9593\u306b\u8a2d\u5b9a\u3059\u308b. let center : CLLocationCoordinate2D = CLLocationCoordinate2DMake (( myLatitude + requestLatitude ) / 2 , ( myLongitude + requestLongitude ) / 2 ) // mapView\u306b\u4e2d\u5fc3\u3092\u30bb\u30c3\u30c8\u3059\u308b. myMapView . setCenterCoordinate ( center , animated : true ) // \u7e2e\u5c3a\u3092\u6307\u5b9a. let mySpan : MKCoordinateSpan = MKCoordinateSpan ( latitudeDelta : 0.2 , longitudeDelta : 0.2 ) let myRegion : MKCoordinateRegion = MKCoordinateRegion ( center : center , span : mySpan ) // region\u3092mapView\u306b\u30bb\u30c3\u30c8. myMapView . region = myRegion // view\u306bmapView\u3092\u8ffd\u52a0. self . view . addSubview ( myMapView ) // PlaceMark\u3092\u751f\u6210\u3057\u3066\u51fa\u767a\u70b9\u3001\u76ee\u7684\u5730\u306e\u5ea7\u6a19\u3092\u30bb\u30c3\u30c8. let fromPlace : MKPlacemark = MKPlacemark ( coordinate : fromCoordinate , addressDictionary : nil ) let toPlace : MKPlacemark = MKPlacemark ( coordinate : requestCoordinate , addressDictionary : nil ) // Item\u3092\u751f\u6210\u3057\u3066PlaceMark\u3092\u30bb\u30c3\u30c8. let fromItem : MKMapItem = MKMapItem ( placemark : fromPlace ) let toItem : MKMapItem = MKMapItem ( placemark : toPlace ) // MKDirectionsRequest\u3092\u751f\u6210. let myRequest : MKDirectionsRequest = MKDirectionsRequest () // \u51fa\u767a\u5730\u306eItem\u3092\u30bb\u30c3\u30c8. myRequest . source = fromItem // \u76ee\u7684\u5730\u306eItem\u3092\u30bb\u30c3\u30c8. myRequest . destination = toItem // \u8907\u6570\u7d4c\u8def\u306e\u691c\u7d22\u3092\u6709\u52b9. myRequest . requestsAlternateRoutes = true // \u79fb\u52d5\u624b\u6bb5\u3092\u8eca\u306b\u8a2d\u5b9a. myRequest . transportType = MKDirectionsTransportType . Automobile // MKDirections\u3092\u751f\u6210\u3057\u3066Request\u3092\u30bb\u30c3\u30c8. let myDirections : MKDirections = MKDirections ( request : myRequest ) // \u7d4c\u8def\u63a2\u7d22. myDirections . calculateDirectionsWithCompletionHandler { ( response , error ) in // NSError\u3092\u53d7\u3051\u53d6\u3063\u305f\u304b\u3001\u30eb\u30fc\u30c8\u304c\u306a\u3044\u5834\u5408. if error != nil || response !. routes . isEmpty { return } let route : MKRoute = response !. routes [ 0 ] as MKRoute print ( \"\u76ee\u7684\u5730\u307e\u3067 \\( route . distance ) km\" ) print ( \"\u6240\u8981\u6642\u9593 \\( Int ( route . expectedTravelTime / 60 )) \u5206\" ) // mapView\u306b\u30eb\u30fc\u30c8\u3092\u63cf\u753b. myMapView . addOverlay ( route . polyline ) } // \u30d4\u30f3\u3092\u751f\u6210. let fromPin : MKPointAnnotation = MKPointAnnotation () let toPin : MKPointAnnotation = MKPointAnnotation () // \u5ea7\u6a19\u3092\u30bb\u30c3\u30c8. fromPin . coordinate = fromCoordinate toPin . coordinate = requestCoordinate // title\u3092\u30bb\u30c3\u30c8. fromPin . title = \"\u51fa\u767a\u5730\u70b9\" toPin . title = \"\u76ee\u7684\u5730\" // mapView\u306b\u8ffd\u52a0. myMapView . addAnnotation ( fromPin ) myMapView . addAnnotation ( toPin ) } // \u30eb\u30fc\u30c8\u306e\u8868\u793a\u8a2d\u5b9a. func mapView ( mapView : MKMapView , rendererForOverlay overlay : MKOverlay ) -> MKOverlayRenderer { let route : MKPolyline = overlay as ! MKPolyline let routeRenderer : MKPolylineRenderer = MKPolylineRenderer ( polyline : route ) // \u30eb\u30fc\u30c8\u306e\u7dda\u306e\u592a\u3055. routeRenderer . lineWidth = 3.0 // \u30eb\u30fc\u30c8\u306e\u7dda\u306e\u8272. routeRenderer . strokeColor = UIColor . redColor () return routeRenderer } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } 3.x\u30684.x\u306e\u5dee\u5206 MKDirectionsRequest \u304c MKDirections.Request \u306b\u5909\u66f4 add \u304c addOverlay \u306b\u5909\u66f4 2.3\u30683.0\u306e\u5dee\u5206 setCenterCoordinate \u304b\u3089 setCenter \u306b\u5909\u66f4 addOverlay \u304b\u3089 add \u306b\u5909\u66f4 calculateDirectionsWithCompletionHandler \u304b\u3089 calculate \u306b\u5909\u66f4 Reference MKDirections https://developer.apple.com/reference/mapkit/mkdirections MKMapView https://developer.apple.com/reference/mapkit/mkpinannotationview","title":"\u30eb\u30fc\u30c8\u691c\u7d22\u3092\u3059\u308b"},{"location":"3.mapkit/009_route/#_1","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 // // ViewController.swift // MapKit009 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit class ViewController : UIViewController , MKMapViewDelegate { override func viewDidLoad () { super . viewDidLoad () // mapView\u3092\u751f\u6210. let myMapView : MKMapView = MKMapView ( frame : self . view . frame ) // Delegate\u3092\u8a2d\u5b9a. myMapView . delegate = self // \u51fa\u767a\u70b9\u306e\u7def\u5ea6\u3001\u7d4c\u5ea6\u3092\u8a2d\u5b9a. let myLatitude : CLLocationDegrees = 37.331741 let myLongitude : CLLocationDegrees = - 122.030333 // \u76ee\u7684\u5730\u306e\u7def\u5ea6\u3001\u7d4c\u5ea6\u3092\u8a2d\u5b9a. let requestLatitude : CLLocationDegrees = 37.427474 let requestLongitude : CLLocationDegrees = - 122.169719 // \u76ee\u7684\u5730\u306e\u5ea7\u6a19\u3092\u6307\u5b9a. let requestCoordinate : CLLocationCoordinate2D = CLLocationCoordinate2DMake ( requestLatitude , requestLongitude ) let fromCoordinate : CLLocationCoordinate2D = CLLocationCoordinate2DMake ( myLatitude , myLongitude ) // \u5730\u56f3\u306e\u4e2d\u5fc3\u3092\u51fa\u767a\u70b9\u3068\u76ee\u7684\u5730\u306e\u4e2d\u9593\u306b\u8a2d\u5b9a\u3059\u308b. let center : CLLocationCoordinate2D = CLLocationCoordinate2DMake (( myLatitude + requestLatitude ) / 2 , ( myLongitude + requestLongitude ) / 2 ) // mapView\u306b\u4e2d\u5fc3\u3092\u30bb\u30c3\u30c8\u3059\u308b. myMapView . setCenter ( center , animated : true ) // \u7e2e\u5c3a\u3092\u6307\u5b9a. let mySpan : MKCoordinateSpan = MKCoordinateSpan ( latitudeDelta : 0.2 , longitudeDelta : 0.2 ) let myRegion : MKCoordinateRegion = MKCoordinateRegion ( center : center , span : mySpan ) // region\u3092mapView\u306b\u30bb\u30c3\u30c8. myMapView . region = myRegion // view\u306bmapView\u3092\u8ffd\u52a0. self . view . addSubview ( myMapView ) // PlaceMark\u3092\u751f\u6210\u3057\u3066\u51fa\u767a\u70b9\u3001\u76ee\u7684\u5730\u306e\u5ea7\u6a19\u3092\u30bb\u30c3\u30c8. let fromPlace : MKPlacemark = MKPlacemark ( coordinate : fromCoordinate , addressDictionary : nil ) let toPlace : MKPlacemark = MKPlacemark ( coordinate : requestCoordinate , addressDictionary : nil ) // Item\u3092\u751f\u6210\u3057\u3066PlaceMark\u3092\u30bb\u30c3\u30c8. let fromItem : MKMapItem = MKMapItem ( placemark : fromPlace ) let toItem : MKMapItem = MKMapItem ( placemark : toPlace ) // MKDirectionsRequest\u3092\u751f\u6210. let myRequest : MKDirections . Request = MKDirections . Request () // \u51fa\u767a\u5730\u306eItem\u3092\u30bb\u30c3\u30c8. myRequest . source = fromItem // \u76ee\u7684\u5730\u306eItem\u3092\u30bb\u30c3\u30c8. myRequest . destination = toItem // \u8907\u6570\u7d4c\u8def\u306e\u691c\u7d22\u3092\u6709\u52b9. myRequest . requestsAlternateRoutes = true // \u79fb\u52d5\u624b\u6bb5\u3092\u8eca\u306b\u8a2d\u5b9a. myRequest . transportType = MKDirectionsTransportType . automobile // MKDirections\u3092\u751f\u6210\u3057\u3066Request\u3092\u30bb\u30c3\u30c8. let myDirections : MKDirections = MKDirections ( request : myRequest ) // \u7d4c\u8def\u63a2\u7d22. myDirections . calculate { ( response , error ) in // NSError\u3092\u53d7\u3051\u53d6\u3063\u305f\u304b\u3001\u30eb\u30fc\u30c8\u304c\u306a\u3044\u5834\u5408. if error != nil || response !. routes . isEmpty { return } let route : MKRoute = response !. routes [ 0 ] as MKRoute print ( \"\u76ee\u7684\u5730\u307e\u3067 \\( route . distance ) km\" ) print ( \"\u6240\u8981\u6642\u9593 \\( Int ( route . expectedTravelTime / 60 )) \u5206\" ) // mapView\u306b\u30eb\u30fc\u30c8\u3092\u63cf\u753b. myMapView . addOverlay ( route . polyline ) } // \u30d4\u30f3\u3092\u751f\u6210. let fromPin : MKPointAnnotation = MKPointAnnotation () let toPin : MKPointAnnotation = MKPointAnnotation () // \u5ea7\u6a19\u3092\u30bb\u30c3\u30c8. fromPin . coordinate = fromCoordinate toPin . coordinate = requestCoordinate // title\u3092\u30bb\u30c3\u30c8. fromPin . title = \"\u51fa\u767a\u5730\u70b9\" toPin . title = \"\u76ee\u7684\u5730\" // mapView\u306b\u8ffd\u52a0. myMapView . addAnnotation ( fromPin ) myMapView . addAnnotation ( toPin ) } // \u30eb\u30fc\u30c8\u306e\u8868\u793a\u8a2d\u5b9a. func mapView ( _ mapView : MKMapView , rendererFor overlay : MKOverlay ) -> MKOverlayRenderer { let route : MKPolyline = overlay as ! MKPolyline let routeRenderer : MKPolylineRenderer = MKPolylineRenderer ( polyline : route ) // \u30eb\u30fc\u30c8\u306e\u7dda\u306e\u592a\u3055. routeRenderer . lineWidth = 3.0 // \u30eb\u30fc\u30c8\u306e\u7dda\u306e\u8272. routeRenderer . strokeColor = UIColor . red return routeRenderer } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 // // ViewController.swift // MapKit009 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit class ViewController : UIViewController , MKMapViewDelegate { override func viewDidLoad () { super . viewDidLoad () // mapView\u3092\u751f\u6210. let myMapView : MKMapView = MKMapView ( frame : self . view . frame ) // Delegate\u3092\u8a2d\u5b9a. myMapView . delegate = self // \u51fa\u767a\u70b9\u306e\u7def\u5ea6\u3001\u7d4c\u5ea6\u3092\u8a2d\u5b9a. let myLatitude : CLLocationDegrees = 37.331741 let myLongitude : CLLocationDegrees = - 122.030333 // \u76ee\u7684\u5730\u306e\u7def\u5ea6\u3001\u7d4c\u5ea6\u3092\u8a2d\u5b9a. let requestLatitude : CLLocationDegrees = 37.427474 let requestLongitude : CLLocationDegrees = - 122.169719 // \u76ee\u7684\u5730\u306e\u5ea7\u6a19\u3092\u6307\u5b9a. let requestCoordinate : CLLocationCoordinate2D = CLLocationCoordinate2DMake ( requestLatitude , requestLongitude ) let fromCoordinate : CLLocationCoordinate2D = CLLocationCoordinate2DMake ( myLatitude , myLongitude ) // \u5730\u56f3\u306e\u4e2d\u5fc3\u3092\u51fa\u767a\u70b9\u3068\u76ee\u7684\u5730\u306e\u4e2d\u9593\u306b\u8a2d\u5b9a\u3059\u308b. let center : CLLocationCoordinate2D = CLLocationCoordinate2DMake (( myLatitude + requestLatitude ) / 2 , ( myLongitude + requestLongitude ) / 2 ) // mapView\u306b\u4e2d\u5fc3\u3092\u30bb\u30c3\u30c8\u3059\u308b. myMapView . setCenter ( center , animated : true ) // \u7e2e\u5c3a\u3092\u6307\u5b9a. let mySpan : MKCoordinateSpan = MKCoordinateSpan ( latitudeDelta : 0.2 , longitudeDelta : 0.2 ) let myRegion : MKCoordinateRegion = MKCoordinateRegion ( center : center , span : mySpan ) // region\u3092mapView\u306b\u30bb\u30c3\u30c8. myMapView . region = myRegion // view\u306bmapView\u3092\u8ffd\u52a0. self . view . addSubview ( myMapView ) // PlaceMark\u3092\u751f\u6210\u3057\u3066\u51fa\u767a\u70b9\u3001\u76ee\u7684\u5730\u306e\u5ea7\u6a19\u3092\u30bb\u30c3\u30c8. let fromPlace : MKPlacemark = MKPlacemark ( coordinate : fromCoordinate , addressDictionary : nil ) let toPlace : MKPlacemark = MKPlacemark ( coordinate : requestCoordinate , addressDictionary : nil ) // Item\u3092\u751f\u6210\u3057\u3066PlaceMark\u3092\u30bb\u30c3\u30c8. let fromItem : MKMapItem = MKMapItem ( placemark : fromPlace ) let toItem : MKMapItem = MKMapItem ( placemark : toPlace ) // MKDirectionsRequest\u3092\u751f\u6210. let myRequest : MKDirectionsRequest = MKDirectionsRequest () // \u51fa\u767a\u5730\u306eItem\u3092\u30bb\u30c3\u30c8. myRequest . source = fromItem // \u76ee\u7684\u5730\u306eItem\u3092\u30bb\u30c3\u30c8. myRequest . destination = toItem // \u8907\u6570\u7d4c\u8def\u306e\u691c\u7d22\u3092\u6709\u52b9. myRequest . requestsAlternateRoutes = true // \u79fb\u52d5\u624b\u6bb5\u3092\u8eca\u306b\u8a2d\u5b9a. myRequest . transportType = MKDirectionsTransportType . automobile // MKDirections\u3092\u751f\u6210\u3057\u3066Request\u3092\u30bb\u30c3\u30c8. let myDirections : MKDirections = MKDirections ( request : myRequest ) // \u7d4c\u8def\u63a2\u7d22. myDirections . calculate { ( response , error ) in // NSError\u3092\u53d7\u3051\u53d6\u3063\u305f\u304b\u3001\u30eb\u30fc\u30c8\u304c\u306a\u3044\u5834\u5408. if error != nil || response !. routes . isEmpty { return } let route : MKRoute = response !. routes [ 0 ] as MKRoute print ( \"\u76ee\u7684\u5730\u307e\u3067 \\( route . distance ) km\" ) print ( \"\u6240\u8981\u6642\u9593 \\( Int ( route . expectedTravelTime / 60 )) \u5206\" ) // mapView\u306b\u30eb\u30fc\u30c8\u3092\u63cf\u753b. myMapView . add ( route . polyline ) } // \u30d4\u30f3\u3092\u751f\u6210. let fromPin : MKPointAnnotation = MKPointAnnotation () let toPin : MKPointAnnotation = MKPointAnnotation () // \u5ea7\u6a19\u3092\u30bb\u30c3\u30c8. fromPin . coordinate = fromCoordinate toPin . coordinate = requestCoordinate // title\u3092\u30bb\u30c3\u30c8. fromPin . title = \"\u51fa\u767a\u5730\u70b9\" toPin . title = \"\u76ee\u7684\u5730\" // mapView\u306b\u8ffd\u52a0. myMapView . addAnnotation ( fromPin ) myMapView . addAnnotation ( toPin ) } // \u30eb\u30fc\u30c8\u306e\u8868\u793a\u8a2d\u5b9a. func mapView ( _ mapView : MKMapView , rendererFor overlay : MKOverlay ) -> MKOverlayRenderer { let route : MKPolyline = overlay as ! MKPolyline let routeRenderer : MKPolylineRenderer = MKPolylineRenderer ( polyline : route ) // \u30eb\u30fc\u30c8\u306e\u7dda\u306e\u592a\u3055. routeRenderer . lineWidth = 3.0 // \u30eb\u30fc\u30c8\u306e\u7dda\u306e\u8272. routeRenderer . strokeColor = UIColor . red return routeRenderer } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 // // ViewController.swift // MapKit009 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit class ViewController : UIViewController , MKMapViewDelegate { override func viewDidLoad () { super . viewDidLoad () // mapView\u3092\u751f\u6210. let myMapView : MKMapView = MKMapView ( frame : self . view . frame ) // Delegate\u3092\u8a2d\u5b9a. myMapView . delegate = self // \u51fa\u767a\u70b9\u306e\u7def\u5ea6\u3001\u7d4c\u5ea6\u3092\u8a2d\u5b9a. let myLatitude : CLLocationDegrees = 37.331741 let myLongitude : CLLocationDegrees = - 122.030333 // \u76ee\u7684\u5730\u306e\u7def\u5ea6\u3001\u7d4c\u5ea6\u3092\u8a2d\u5b9a. let requestLatitude : CLLocationDegrees = 37.427474 let requestLongitude : CLLocationDegrees = - 122.169719 // \u76ee\u7684\u5730\u306e\u5ea7\u6a19\u3092\u6307\u5b9a. let requestCoordinate : CLLocationCoordinate2D = CLLocationCoordinate2DMake ( requestLatitude , requestLongitude ) let fromCoordinate : CLLocationCoordinate2D = CLLocationCoordinate2DMake ( myLatitude , myLongitude ) // \u5730\u56f3\u306e\u4e2d\u5fc3\u3092\u51fa\u767a\u70b9\u3068\u76ee\u7684\u5730\u306e\u4e2d\u9593\u306b\u8a2d\u5b9a\u3059\u308b. let center : CLLocationCoordinate2D = CLLocationCoordinate2DMake (( myLatitude + requestLatitude ) / 2 , ( myLongitude + requestLongitude ) / 2 ) // mapView\u306b\u4e2d\u5fc3\u3092\u30bb\u30c3\u30c8\u3059\u308b. myMapView . setCenterCoordinate ( center , animated : true ) // \u7e2e\u5c3a\u3092\u6307\u5b9a. let mySpan : MKCoordinateSpan = MKCoordinateSpan ( latitudeDelta : 0.2 , longitudeDelta : 0.2 ) let myRegion : MKCoordinateRegion = MKCoordinateRegion ( center : center , span : mySpan ) // region\u3092mapView\u306b\u30bb\u30c3\u30c8. myMapView . region = myRegion // view\u306bmapView\u3092\u8ffd\u52a0. self . view . addSubview ( myMapView ) // PlaceMark\u3092\u751f\u6210\u3057\u3066\u51fa\u767a\u70b9\u3001\u76ee\u7684\u5730\u306e\u5ea7\u6a19\u3092\u30bb\u30c3\u30c8. let fromPlace : MKPlacemark = MKPlacemark ( coordinate : fromCoordinate , addressDictionary : nil ) let toPlace : MKPlacemark = MKPlacemark ( coordinate : requestCoordinate , addressDictionary : nil ) // Item\u3092\u751f\u6210\u3057\u3066PlaceMark\u3092\u30bb\u30c3\u30c8. let fromItem : MKMapItem = MKMapItem ( placemark : fromPlace ) let toItem : MKMapItem = MKMapItem ( placemark : toPlace ) // MKDirectionsRequest\u3092\u751f\u6210. let myRequest : MKDirectionsRequest = MKDirectionsRequest () // \u51fa\u767a\u5730\u306eItem\u3092\u30bb\u30c3\u30c8. myRequest . source = fromItem // \u76ee\u7684\u5730\u306eItem\u3092\u30bb\u30c3\u30c8. myRequest . destination = toItem // \u8907\u6570\u7d4c\u8def\u306e\u691c\u7d22\u3092\u6709\u52b9. myRequest . requestsAlternateRoutes = true // \u79fb\u52d5\u624b\u6bb5\u3092\u8eca\u306b\u8a2d\u5b9a. myRequest . transportType = MKDirectionsTransportType . Automobile // MKDirections\u3092\u751f\u6210\u3057\u3066Request\u3092\u30bb\u30c3\u30c8. let myDirections : MKDirections = MKDirections ( request : myRequest ) // \u7d4c\u8def\u63a2\u7d22. myDirections . calculateDirectionsWithCompletionHandler { ( response , error ) in // NSError\u3092\u53d7\u3051\u53d6\u3063\u305f\u304b\u3001\u30eb\u30fc\u30c8\u304c\u306a\u3044\u5834\u5408. if error != nil || response !. routes . isEmpty { return } let route : MKRoute = response !. routes [ 0 ] as MKRoute print ( \"\u76ee\u7684\u5730\u307e\u3067 \\( route . distance ) km\" ) print ( \"\u6240\u8981\u6642\u9593 \\( Int ( route . expectedTravelTime / 60 )) \u5206\" ) // mapView\u306b\u30eb\u30fc\u30c8\u3092\u63cf\u753b. myMapView . addOverlay ( route . polyline ) } // \u30d4\u30f3\u3092\u751f\u6210. let fromPin : MKPointAnnotation = MKPointAnnotation () let toPin : MKPointAnnotation = MKPointAnnotation () // \u5ea7\u6a19\u3092\u30bb\u30c3\u30c8. fromPin . coordinate = fromCoordinate toPin . coordinate = requestCoordinate // title\u3092\u30bb\u30c3\u30c8. fromPin . title = \"\u51fa\u767a\u5730\u70b9\" toPin . title = \"\u76ee\u7684\u5730\" // mapView\u306b\u8ffd\u52a0. myMapView . addAnnotation ( fromPin ) myMapView . addAnnotation ( toPin ) } // \u30eb\u30fc\u30c8\u306e\u8868\u793a\u8a2d\u5b9a. func mapView ( mapView : MKMapView , rendererForOverlay overlay : MKOverlay ) -> MKOverlayRenderer { let route : MKPolyline = overlay as ! MKPolyline let routeRenderer : MKPolylineRenderer = MKPolylineRenderer ( polyline : route ) // \u30eb\u30fc\u30c8\u306e\u7dda\u306e\u592a\u3055. routeRenderer . lineWidth = 3.0 // \u30eb\u30fc\u30c8\u306e\u7dda\u306e\u8272. routeRenderer . strokeColor = UIColor . redColor () return routeRenderer } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } }","title":"\u30eb\u30fc\u30c8\u691c\u7d22\u3092\u3059\u308b"},{"location":"3.mapkit/009_route/#3x4x","text":"MKDirectionsRequest \u304c MKDirections.Request \u306b\u5909\u66f4 add \u304c addOverlay \u306b\u5909\u66f4","title":"3.x\u30684.x\u306e\u5dee\u5206"},{"location":"3.mapkit/009_route/#2330","text":"setCenterCoordinate \u304b\u3089 setCenter \u306b\u5909\u66f4 addOverlay \u304b\u3089 add \u306b\u5909\u66f4 calculateDirectionsWithCompletionHandler \u304b\u3089 calculate \u306b\u5909\u66f4","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"3.mapkit/009_route/#reference","text":"MKDirections https://developer.apple.com/reference/mapkit/mkdirections MKMapView https://developer.apple.com/reference/mapkit/mkpinannotationview","title":"Reference"},{"location":"3.mapkit/010_local/","text":"\u30ed\u30fc\u30ab\u30eb\u691c\u7d22 Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 // // ViewController.swift // MapKit010 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit class ViewController : UIViewController , MKMapViewDelegate , UISearchBarDelegate { var myMapView : MKMapView = MKMapView () var mySearchBar : UISearchBar ! var myRegion : MKCoordinateRegion ! override func viewDidLoad () { super . viewDidLoad () // MapView\u3092\u751f\u6210. let myMapView : MKMapView = MKMapView () myMapView . frame = self . view . frame // \u7d4c\u5ea6\u3001\u7def\u5ea6\u3092\u8a2d\u5b9a. let myLatitude : CLLocationDegrees = 37.331741 let myLongitude : CLLocationDegrees = - 122.030333 // \u4e2d\u5fc3\u70b9\u3092\u8a2d\u5b9a. let center : CLLocationCoordinate2D = CLLocationCoordinate2DMake ( myLatitude , myLongitude ) // MapView\u306b\u4e2d\u5fc3\u70b9\u3092\u8a2d\u5b9a. myMapView . setCenter ( center , animated : true ) // \u7e2e\u5c3a(\u8868\u793a\u9818\u57df)\u3092\u6307\u5b9a. let mySpan : MKCoordinateSpan = MKCoordinateSpan ( latitudeDelta : 0.1 , longitudeDelta : 0.1 ) myRegion = MKCoordinateRegion ( center : center , span : mySpan ) // MapView\u306bregion\u3092\u8ffd\u52a0. myMapView . region = myRegion // view\u306bMapView\u3092\u8ffd\u52a0. self . view . addSubview ( myMapView ) // searchBar\u751f\u6210. mySearchBar = UISearchBar ( frame : CGRect ( x : 0 , y : 0 , width : 300 , height : 80 )) mySearchBar . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : 80 ) mySearchBar . delegate = self mySearchBar . layer . shadowColor = UIColor . blue . cgColor mySearchBar . layer . shadowOpacity = 0.5 mySearchBar . layer . masksToBounds = false mySearchBar . showsCancelButton = true mySearchBar . showsBookmarkButton = false mySearchBar . prompt = \"\u30ed\u30fc\u30ab\u30eb\u691c\u7d22\" mySearchBar . placeholder = \"\u3053\u3053\u306b\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\" mySearchBar . tintColor = UIColor . red mySearchBar . showsSearchResultsButton = false // searchBar\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( mySearchBar ) } /* Search\u30dc\u30bf\u30f3\u304c\u62bc\u3055\u308c\u305f\u6642\u306b\u547c\u3070\u308c\u308b. */ func searchBarSearchButtonClicked ( _ searchBar : UISearchBar ) { // \u7de8\u96c6\u7d42\u4e86. self . view . endEditing ( true ) // request\u751f\u6210. let myRequest : MKLocalSearch . Request = MKLocalSearch . Request () // \u7bc4\u56f2\u3092\u6307\u5b9a. myRequest . region = myRegion // \u691c\u7d22\u3059\u308b\u30ef\u30fc\u30c9\u3092searchBar\u306e\u30c6\u30ad\u30b9\u30c8\u306b\u6307\u5b9a. myRequest . naturalLanguageQuery = searchBar . text // LocalSearch\u3092\u751f\u6210. let mySearch : MKLocalSearch = MKLocalSearch ( request : myRequest ) // \u691c\u7d22\u958b\u59cb. mySearch . start { ( response , error ) -> Void in if error != nil { print ( \"\u5730\u540d\u7121\u3057\" ) } else if response !. mapItems . count > 0 { for item in response !. mapItems { // \u691c\u7d22\u7d50\u679c\u306e\u5185\u540d\u524d\u3092\u51fa\u529b. print ( item . name ) } } } } /* Cancel\u30dc\u30bf\u30f3\u304c\u62bc\u3055\u308c\u305f\u6642\u306b\u547c\u3070\u308c\u308b. */ func searchBarCancelButtonClicked ( _ searchBar : UISearchBar ) { searchBar . text = \"\" } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 // // ViewController.swift // MapKit010 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit class ViewController : UIViewController , MKMapViewDelegate , UISearchBarDelegate { var myMapView : MKMapView = MKMapView () var mySearchBar : UISearchBar ! var myRegion : MKCoordinateRegion ! override func viewDidLoad () { super . viewDidLoad () // MapView\u3092\u751f\u6210. let myMapView : MKMapView = MKMapView () myMapView . frame = self . view . frame // \u7d4c\u5ea6\u3001\u7def\u5ea6\u3092\u8a2d\u5b9a. let myLatitude : CLLocationDegrees = 37.331741 let myLongitude : CLLocationDegrees = - 122.030333 // \u4e2d\u5fc3\u70b9\u3092\u8a2d\u5b9a. let center : CLLocationCoordinate2D = CLLocationCoordinate2DMake ( myLatitude , myLongitude ) // MapView\u306b\u4e2d\u5fc3\u70b9\u3092\u8a2d\u5b9a. myMapView . setCenter ( center , animated : true ) // \u7e2e\u5c3a(\u8868\u793a\u9818\u57df)\u3092\u6307\u5b9a. let mySpan : MKCoordinateSpan = MKCoordinateSpan ( latitudeDelta : 0.1 , longitudeDelta : 0.1 ) myRegion = MKCoordinateRegionMake ( center , mySpan ) // MapView\u306bregion\u3092\u8ffd\u52a0. myMapView . region = myRegion // view\u306bMapView\u3092\u8ffd\u52a0. self . view . addSubview ( myMapView ) // searchBar\u751f\u6210. mySearchBar = UISearchBar ( frame : CGRect ( x : 0 , y : 0 , width : 300 , height : 80 )) mySearchBar . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : 80 ) mySearchBar . delegate = self mySearchBar . layer . shadowColor = UIColor . blue . cgColor mySearchBar . layer . shadowOpacity = 0.5 mySearchBar . layer . masksToBounds = false mySearchBar . showsCancelButton = true mySearchBar . showsBookmarkButton = false mySearchBar . prompt = \"\u30ed\u30fc\u30ab\u30eb\u691c\u7d22\" mySearchBar . placeholder = \"\u3053\u3053\u306b\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\" mySearchBar . tintColor = UIColor . red mySearchBar . showsSearchResultsButton = false // searchBar\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( mySearchBar ) } /* Search\u30dc\u30bf\u30f3\u304c\u62bc\u3055\u308c\u305f\u6642\u306b\u547c\u3070\u308c\u308b. */ func searchBarSearchButtonClicked ( _ searchBar : UISearchBar ) { // \u7de8\u96c6\u7d42\u4e86. self . view . endEditing ( true ) // request\u751f\u6210. let myRequest : MKLocalSearchRequest = MKLocalSearchRequest () // \u7bc4\u56f2\u3092\u6307\u5b9a. myRequest . region = myRegion // \u691c\u7d22\u3059\u308b\u30ef\u30fc\u30c9\u3092searchBar\u306e\u30c6\u30ad\u30b9\u30c8\u306b\u6307\u5b9a. myRequest . naturalLanguageQuery = searchBar . text // LocalSearch\u3092\u751f\u6210. let mySearch : MKLocalSearch = MKLocalSearch ( request : myRequest ) // \u691c\u7d22\u958b\u59cb. mySearch . start { ( response , error ) -> Void in if error != nil { print ( \"\u5730\u540d\u7121\u3057\" ) } else if response !. mapItems . count > 0 { for item in response !. mapItems { // \u691c\u7d22\u7d50\u679c\u306e\u5185\u540d\u524d\u3092\u51fa\u529b. print ( item . name ) } } } } /* Cancel\u30dc\u30bf\u30f3\u304c\u62bc\u3055\u308c\u305f\u6642\u306b\u547c\u3070\u308c\u308b. */ func searchBarCancelButtonClicked ( _ searchBar : UISearchBar ) { searchBar . text = \"\" } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 // // ViewController.swift // MapKit010 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit class ViewController : UIViewController , MKMapViewDelegate , UISearchBarDelegate { var myMapView : MKMapView = MKMapView () var mySearchBar : UISearchBar ! var myRegion : MKCoordinateRegion ! override func viewDidLoad () { super . viewDidLoad () // MapView\u3092\u751f\u6210. let myMapView : MKMapView = MKMapView () myMapView . frame = self . view . frame // \u7d4c\u5ea6\u3001\u7def\u5ea6\u3092\u8a2d\u5b9a. let myLatitude : CLLocationDegrees = 37.331741 let myLongitude : CLLocationDegrees = - 122.030333 // \u4e2d\u5fc3\u70b9\u3092\u8a2d\u5b9a. let center : CLLocationCoordinate2D = CLLocationCoordinate2DMake ( myLatitude , myLongitude ) // MapView\u306b\u4e2d\u5fc3\u70b9\u3092\u8a2d\u5b9a. myMapView . setCenterCoordinate ( center , animated : true ) // \u7e2e\u5c3a(\u8868\u793a\u9818\u57df)\u3092\u6307\u5b9a. let mySpan : MKCoordinateSpan = MKCoordinateSpan ( latitudeDelta : 0.1 , longitudeDelta : 0.1 ) myRegion = MKCoordinateRegionMake ( center , mySpan ) // MapView\u306bregion\u3092\u8ffd\u52a0. myMapView . region = myRegion // view\u306bMapView\u3092\u8ffd\u52a0. self . view . addSubview ( myMapView ) // searchBar\u751f\u6210. mySearchBar = UISearchBar ( frame : CGRectMake ( 0 , 0 , 300 , 80 )) mySearchBar . layer . position = CGPointMake ( self . view . frame . width / 2 , 80 ) mySearchBar . delegate = self mySearchBar . layer . shadowColor = UIColor . blueColor (). CGColor mySearchBar . layer . shadowOpacity = 0.5 mySearchBar . layer . masksToBounds = false mySearchBar . showsCancelButton = true mySearchBar . showsBookmarkButton = false mySearchBar . prompt = \"\u30ed\u30fc\u30ab\u30eb\u691c\u7d22\" mySearchBar . placeholder = \"\u3053\u3053\u306b\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\" mySearchBar . tintColor = UIColor . redColor () mySearchBar . showsSearchResultsButton = false // searchBar\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( mySearchBar ) } /* Search\u30dc\u30bf\u30f3\u304c\u62bc\u3055\u308c\u305f\u6642\u306b\u547c\u3070\u308c\u308b. */ func searchBarSearchButtonClicked ( searchBar : UISearchBar ) { // \u7de8\u96c6\u7d42\u4e86. self . view . endEditing ( true ) // request\u751f\u6210. let myRequest : MKLocalSearchRequest = MKLocalSearchRequest () // \u7bc4\u56f2\u3092\u6307\u5b9a. myRequest . region = myRegion // \u691c\u7d22\u3059\u308b\u30ef\u30fc\u30c9\u3092searchBar\u306e\u30c6\u30ad\u30b9\u30c8\u306b\u6307\u5b9a. myRequest . naturalLanguageQuery = searchBar . text // LocalSearch\u3092\u751f\u6210. let mySearch : MKLocalSearch = MKLocalSearch ( request : myRequest ) // \u691c\u7d22\u958b\u59cb. mySearch . startWithCompletionHandler { ( response , error ) -> Void in if error != nil { print ( \"\u5730\u540d\u7121\u3057\" ) } else if response !. mapItems . count > 0 { for item in response !. mapItems { // \u691c\u7d22\u7d50\u679c\u306e\u5185\u540d\u524d\u3092\u51fa\u529b. print ( item . name ) } } } } /* Cancel\u30dc\u30bf\u30f3\u304c\u62bc\u3055\u308c\u305f\u6642\u306b\u547c\u3070\u308c\u308b. */ func searchBarCancelButtonClicked ( searchBar : UISearchBar ) { searchBar . text = \"\" } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } 3.x\u30684.x\u306e\u5dee\u5206 MKCoordinateRegionMake(center, mySpan) \u304c MKCoordinateRegion(center: center, span: mySpan) \u306b\u5909\u66f4 MKLocalSearchRequest \u304c MKLocalSearch.Request \u306b\u5909\u66f4 2.3\u30683.0\u306e\u5dee\u5206 setCenterCoordinate \u304b\u3089 setCenter \u306b\u5909\u66f4 startWithCompletionHandler \u304b\u3089 start \u306b\u5909\u66f4 Reference MKLocalSearch https://developer.apple.com/reference/mapkit/mklocalsearch MKLocalSearchRequest https://developer.apple.com/reference/mapkit/mklocalsearchrequest MKLocalSearchResponse https://developer.apple.com/reference/mapkit/mklocalsearchresponse","title":"\u30ed\u30fc\u30ab\u30eb\u691c\u7d22"},{"location":"3.mapkit/010_local/#_1","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 // // ViewController.swift // MapKit010 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit class ViewController : UIViewController , MKMapViewDelegate , UISearchBarDelegate { var myMapView : MKMapView = MKMapView () var mySearchBar : UISearchBar ! var myRegion : MKCoordinateRegion ! override func viewDidLoad () { super . viewDidLoad () // MapView\u3092\u751f\u6210. let myMapView : MKMapView = MKMapView () myMapView . frame = self . view . frame // \u7d4c\u5ea6\u3001\u7def\u5ea6\u3092\u8a2d\u5b9a. let myLatitude : CLLocationDegrees = 37.331741 let myLongitude : CLLocationDegrees = - 122.030333 // \u4e2d\u5fc3\u70b9\u3092\u8a2d\u5b9a. let center : CLLocationCoordinate2D = CLLocationCoordinate2DMake ( myLatitude , myLongitude ) // MapView\u306b\u4e2d\u5fc3\u70b9\u3092\u8a2d\u5b9a. myMapView . setCenter ( center , animated : true ) // \u7e2e\u5c3a(\u8868\u793a\u9818\u57df)\u3092\u6307\u5b9a. let mySpan : MKCoordinateSpan = MKCoordinateSpan ( latitudeDelta : 0.1 , longitudeDelta : 0.1 ) myRegion = MKCoordinateRegion ( center : center , span : mySpan ) // MapView\u306bregion\u3092\u8ffd\u52a0. myMapView . region = myRegion // view\u306bMapView\u3092\u8ffd\u52a0. self . view . addSubview ( myMapView ) // searchBar\u751f\u6210. mySearchBar = UISearchBar ( frame : CGRect ( x : 0 , y : 0 , width : 300 , height : 80 )) mySearchBar . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : 80 ) mySearchBar . delegate = self mySearchBar . layer . shadowColor = UIColor . blue . cgColor mySearchBar . layer . shadowOpacity = 0.5 mySearchBar . layer . masksToBounds = false mySearchBar . showsCancelButton = true mySearchBar . showsBookmarkButton = false mySearchBar . prompt = \"\u30ed\u30fc\u30ab\u30eb\u691c\u7d22\" mySearchBar . placeholder = \"\u3053\u3053\u306b\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\" mySearchBar . tintColor = UIColor . red mySearchBar . showsSearchResultsButton = false // searchBar\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( mySearchBar ) } /* Search\u30dc\u30bf\u30f3\u304c\u62bc\u3055\u308c\u305f\u6642\u306b\u547c\u3070\u308c\u308b. */ func searchBarSearchButtonClicked ( _ searchBar : UISearchBar ) { // \u7de8\u96c6\u7d42\u4e86. self . view . endEditing ( true ) // request\u751f\u6210. let myRequest : MKLocalSearch . Request = MKLocalSearch . Request () // \u7bc4\u56f2\u3092\u6307\u5b9a. myRequest . region = myRegion // \u691c\u7d22\u3059\u308b\u30ef\u30fc\u30c9\u3092searchBar\u306e\u30c6\u30ad\u30b9\u30c8\u306b\u6307\u5b9a. myRequest . naturalLanguageQuery = searchBar . text // LocalSearch\u3092\u751f\u6210. let mySearch : MKLocalSearch = MKLocalSearch ( request : myRequest ) // \u691c\u7d22\u958b\u59cb. mySearch . start { ( response , error ) -> Void in if error != nil { print ( \"\u5730\u540d\u7121\u3057\" ) } else if response !. mapItems . count > 0 { for item in response !. mapItems { // \u691c\u7d22\u7d50\u679c\u306e\u5185\u540d\u524d\u3092\u51fa\u529b. print ( item . name ) } } } } /* Cancel\u30dc\u30bf\u30f3\u304c\u62bc\u3055\u308c\u305f\u6642\u306b\u547c\u3070\u308c\u308b. */ func searchBarCancelButtonClicked ( _ searchBar : UISearchBar ) { searchBar . text = \"\" } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 // // ViewController.swift // MapKit010 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit class ViewController : UIViewController , MKMapViewDelegate , UISearchBarDelegate { var myMapView : MKMapView = MKMapView () var mySearchBar : UISearchBar ! var myRegion : MKCoordinateRegion ! override func viewDidLoad () { super . viewDidLoad () // MapView\u3092\u751f\u6210. let myMapView : MKMapView = MKMapView () myMapView . frame = self . view . frame // \u7d4c\u5ea6\u3001\u7def\u5ea6\u3092\u8a2d\u5b9a. let myLatitude : CLLocationDegrees = 37.331741 let myLongitude : CLLocationDegrees = - 122.030333 // \u4e2d\u5fc3\u70b9\u3092\u8a2d\u5b9a. let center : CLLocationCoordinate2D = CLLocationCoordinate2DMake ( myLatitude , myLongitude ) // MapView\u306b\u4e2d\u5fc3\u70b9\u3092\u8a2d\u5b9a. myMapView . setCenter ( center , animated : true ) // \u7e2e\u5c3a(\u8868\u793a\u9818\u57df)\u3092\u6307\u5b9a. let mySpan : MKCoordinateSpan = MKCoordinateSpan ( latitudeDelta : 0.1 , longitudeDelta : 0.1 ) myRegion = MKCoordinateRegionMake ( center , mySpan ) // MapView\u306bregion\u3092\u8ffd\u52a0. myMapView . region = myRegion // view\u306bMapView\u3092\u8ffd\u52a0. self . view . addSubview ( myMapView ) // searchBar\u751f\u6210. mySearchBar = UISearchBar ( frame : CGRect ( x : 0 , y : 0 , width : 300 , height : 80 )) mySearchBar . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : 80 ) mySearchBar . delegate = self mySearchBar . layer . shadowColor = UIColor . blue . cgColor mySearchBar . layer . shadowOpacity = 0.5 mySearchBar . layer . masksToBounds = false mySearchBar . showsCancelButton = true mySearchBar . showsBookmarkButton = false mySearchBar . prompt = \"\u30ed\u30fc\u30ab\u30eb\u691c\u7d22\" mySearchBar . placeholder = \"\u3053\u3053\u306b\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\" mySearchBar . tintColor = UIColor . red mySearchBar . showsSearchResultsButton = false // searchBar\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( mySearchBar ) } /* Search\u30dc\u30bf\u30f3\u304c\u62bc\u3055\u308c\u305f\u6642\u306b\u547c\u3070\u308c\u308b. */ func searchBarSearchButtonClicked ( _ searchBar : UISearchBar ) { // \u7de8\u96c6\u7d42\u4e86. self . view . endEditing ( true ) // request\u751f\u6210. let myRequest : MKLocalSearchRequest = MKLocalSearchRequest () // \u7bc4\u56f2\u3092\u6307\u5b9a. myRequest . region = myRegion // \u691c\u7d22\u3059\u308b\u30ef\u30fc\u30c9\u3092searchBar\u306e\u30c6\u30ad\u30b9\u30c8\u306b\u6307\u5b9a. myRequest . naturalLanguageQuery = searchBar . text // LocalSearch\u3092\u751f\u6210. let mySearch : MKLocalSearch = MKLocalSearch ( request : myRequest ) // \u691c\u7d22\u958b\u59cb. mySearch . start { ( response , error ) -> Void in if error != nil { print ( \"\u5730\u540d\u7121\u3057\" ) } else if response !. mapItems . count > 0 { for item in response !. mapItems { // \u691c\u7d22\u7d50\u679c\u306e\u5185\u540d\u524d\u3092\u51fa\u529b. print ( item . name ) } } } } /* Cancel\u30dc\u30bf\u30f3\u304c\u62bc\u3055\u308c\u305f\u6642\u306b\u547c\u3070\u308c\u308b. */ func searchBarCancelButtonClicked ( _ searchBar : UISearchBar ) { searchBar . text = \"\" } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 // // ViewController.swift // MapKit010 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit class ViewController : UIViewController , MKMapViewDelegate , UISearchBarDelegate { var myMapView : MKMapView = MKMapView () var mySearchBar : UISearchBar ! var myRegion : MKCoordinateRegion ! override func viewDidLoad () { super . viewDidLoad () // MapView\u3092\u751f\u6210. let myMapView : MKMapView = MKMapView () myMapView . frame = self . view . frame // \u7d4c\u5ea6\u3001\u7def\u5ea6\u3092\u8a2d\u5b9a. let myLatitude : CLLocationDegrees = 37.331741 let myLongitude : CLLocationDegrees = - 122.030333 // \u4e2d\u5fc3\u70b9\u3092\u8a2d\u5b9a. let center : CLLocationCoordinate2D = CLLocationCoordinate2DMake ( myLatitude , myLongitude ) // MapView\u306b\u4e2d\u5fc3\u70b9\u3092\u8a2d\u5b9a. myMapView . setCenterCoordinate ( center , animated : true ) // \u7e2e\u5c3a(\u8868\u793a\u9818\u57df)\u3092\u6307\u5b9a. let mySpan : MKCoordinateSpan = MKCoordinateSpan ( latitudeDelta : 0.1 , longitudeDelta : 0.1 ) myRegion = MKCoordinateRegionMake ( center , mySpan ) // MapView\u306bregion\u3092\u8ffd\u52a0. myMapView . region = myRegion // view\u306bMapView\u3092\u8ffd\u52a0. self . view . addSubview ( myMapView ) // searchBar\u751f\u6210. mySearchBar = UISearchBar ( frame : CGRectMake ( 0 , 0 , 300 , 80 )) mySearchBar . layer . position = CGPointMake ( self . view . frame . width / 2 , 80 ) mySearchBar . delegate = self mySearchBar . layer . shadowColor = UIColor . blueColor (). CGColor mySearchBar . layer . shadowOpacity = 0.5 mySearchBar . layer . masksToBounds = false mySearchBar . showsCancelButton = true mySearchBar . showsBookmarkButton = false mySearchBar . prompt = \"\u30ed\u30fc\u30ab\u30eb\u691c\u7d22\" mySearchBar . placeholder = \"\u3053\u3053\u306b\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\" mySearchBar . tintColor = UIColor . redColor () mySearchBar . showsSearchResultsButton = false // searchBar\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( mySearchBar ) } /* Search\u30dc\u30bf\u30f3\u304c\u62bc\u3055\u308c\u305f\u6642\u306b\u547c\u3070\u308c\u308b. */ func searchBarSearchButtonClicked ( searchBar : UISearchBar ) { // \u7de8\u96c6\u7d42\u4e86. self . view . endEditing ( true ) // request\u751f\u6210. let myRequest : MKLocalSearchRequest = MKLocalSearchRequest () // \u7bc4\u56f2\u3092\u6307\u5b9a. myRequest . region = myRegion // \u691c\u7d22\u3059\u308b\u30ef\u30fc\u30c9\u3092searchBar\u306e\u30c6\u30ad\u30b9\u30c8\u306b\u6307\u5b9a. myRequest . naturalLanguageQuery = searchBar . text // LocalSearch\u3092\u751f\u6210. let mySearch : MKLocalSearch = MKLocalSearch ( request : myRequest ) // \u691c\u7d22\u958b\u59cb. mySearch . startWithCompletionHandler { ( response , error ) -> Void in if error != nil { print ( \"\u5730\u540d\u7121\u3057\" ) } else if response !. mapItems . count > 0 { for item in response !. mapItems { // \u691c\u7d22\u7d50\u679c\u306e\u5185\u540d\u524d\u3092\u51fa\u529b. print ( item . name ) } } } } /* Cancel\u30dc\u30bf\u30f3\u304c\u62bc\u3055\u308c\u305f\u6642\u306b\u547c\u3070\u308c\u308b. */ func searchBarCancelButtonClicked ( searchBar : UISearchBar ) { searchBar . text = \"\" } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } }","title":"\u30ed\u30fc\u30ab\u30eb\u691c\u7d22"},{"location":"3.mapkit/010_local/#3x4x","text":"MKCoordinateRegionMake(center, mySpan) \u304c MKCoordinateRegion(center: center, span: mySpan) \u306b\u5909\u66f4 MKLocalSearchRequest \u304c MKLocalSearch.Request \u306b\u5909\u66f4","title":"3.x\u30684.x\u306e\u5dee\u5206"},{"location":"3.mapkit/010_local/#2330","text":"setCenterCoordinate \u304b\u3089 setCenter \u306b\u5909\u66f4 startWithCompletionHandler \u304b\u3089 start \u306b\u5909\u66f4","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"3.mapkit/010_local/#reference","text":"MKLocalSearch https://developer.apple.com/reference/mapkit/mklocalsearch MKLocalSearchRequest https://developer.apple.com/reference/mapkit/mklocalsearchrequest MKLocalSearchResponse https://developer.apple.com/reference/mapkit/mklocalsearchresponse","title":"Reference"},{"location":"3.mapkit/011_maptype/","text":"\u5730\u56f3\u306e\u30bf\u30a4\u30d7\u3092\u6307\u5b9a Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 // // ViewController.swift // MapKit011 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit class ViewController : UIViewController { var mapView : MKMapView ! override func viewDidLoad () { super . viewDidLoad () // \u8868\u793a\u3059\u308b\u914d\u5217\u3092\u4f5c\u308b. let mapTypes : NSArray = [ \"Standard\" , \"Hybrid\" , \"Satellite\" ] // SecmentedControl\u3092\u4f5c\u6210\u3059\u308b. let mySegCon : UISegmentedControl = UISegmentedControl ( items : mapTypes as [ AnyObject ]) mySegCon . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 100 ) mySegCon . backgroundColor = UIColor . gray mySegCon . tintColor = UIColor . white // \u30a4\u30d9\u30f3\u30c8\u3092\u8ffd\u52a0\u3059\u308b. mySegCon . addTarget ( self , action : #selector ( ViewController . segconChanged ( segcon :)), for : UIControl . Event . valueChanged ) // MapView\u3092\u751f\u6210. mapView = MKMapView ( frame : CGRect ( x : 0 , y : 0 , width : self . view . frame . size . width , height : self . view . frame . size . height )) // MapView\u306e\u4e2d\u5fc3\u4f4d\u7f6e\u3092\u6307\u5b9a. mapView . centerCoordinate = CLLocationCoordinate2DMake ( 37.331741 , - 122.030333 ) // \u7e2e\u5c3a\u3092\u5909\u66f4. // \u500d\u7387\u3092\u6307\u5b9a. let span : MKCoordinateSpan = MKCoordinateSpan ( latitudeDelta : 0.1 , longitudeDelta : 0.1 ) // MapView\u3067\u6307\u5b9a\u3057\u305f\u4e2d\u5fc3\u4f4d\u7f6e\u3068MKCoordinateSapn\u3067\u5ba3\u8a00\u3057\u305fspan\u3092\u6307\u5b9a\u3059\u308b. let region : MKCoordinateRegion = MKCoordinateRegion ( center : mapView . centerCoordinate , span : span ) // MapView\u306eregion\u30d7\u30ed\u30d1\u30c6\u30a3\u306bregion\u3092\u6307\u5b9a. mapView . region = region // MapView\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( mapView ) // SegmentedControl\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( mySegCon ) } @objc func segconChanged ( segcon : UISegmentedControl ) { switch ( segcon . selectedSegmentIndex ) { // \u5730\u56f3\u306e\u30bf\u30a4\u30d7\u3092\u6a19\u6e96\u306b\u8a2d\u5b9a. case 0 : mapView . mapType = MKMapType . standard // \u5730\u56f3\u306e\u30bf\u30a4\u30d7\u3092\u30cf\u30a4\u30d6\u30ea\u30c3\u30c9(\u822a\u7a7a\u5199\u771f+\u6a19\u6e96)\u306b\u8a2d\u5b9a. case 1 : mapView . mapType = MKMapType . hybrid // \u5730\u56f3\u306e\u30bf\u30a4\u30d7\u3092\u822a\u7a7a\u5199\u771f\u306b\u8a2d\u5b9a. case 2 : mapView . mapType = MKMapType . satellite default : print ( \"Error\" ) } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 // // ViewController.swift // MapKit011 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit class ViewController : UIViewController { var mapView : MKMapView ! override func viewDidLoad () { super . viewDidLoad () // \u8868\u793a\u3059\u308b\u914d\u5217\u3092\u4f5c\u308b. let mapTypes : NSArray = [ \"Standard\" , \"Hybrid\" , \"Satellite\" ] // SecmentedControl\u3092\u4f5c\u6210\u3059\u308b. let mySegCon : UISegmentedControl = UISegmentedControl ( items : mapTypes as [ AnyObject ]) mySegCon . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 100 ) mySegCon . backgroundColor = UIColor . gray mySegCon . tintColor = UIColor . white // \u30a4\u30d9\u30f3\u30c8\u3092\u8ffd\u52a0\u3059\u308b. mySegCon . addTarget ( self , action : #selector ( ViewController . segconChanged ( segcon :)), for : UIControlEvents . valueChanged ) // MapView\u3092\u751f\u6210. mapView = MKMapView ( frame : CGRect ( x : 0 , y : 0 , width : self . view . frame . size . width , height : self . view . frame . size . height )) // MapView\u306e\u4e2d\u5fc3\u4f4d\u7f6e\u3092\u6307\u5b9a. mapView . centerCoordinate = CLLocationCoordinate2DMake ( 37.331741 , - 122.030333 ) // \u7e2e\u5c3a\u3092\u5909\u66f4. // \u500d\u7387\u3092\u6307\u5b9a. let span : MKCoordinateSpan = MKCoordinateSpan ( latitudeDelta : 0.1 , longitudeDelta : 0.1 ) // MapView\u3067\u6307\u5b9a\u3057\u305f\u4e2d\u5fc3\u4f4d\u7f6e\u3068MKCoordinateSapn\u3067\u5ba3\u8a00\u3057\u305fspan\u3092\u6307\u5b9a\u3059\u308b. let region : MKCoordinateRegion = MKCoordinateRegion ( center : mapView . centerCoordinate , span : span ) // MapView\u306eregion\u30d7\u30ed\u30d1\u30c6\u30a3\u306bregion\u3092\u6307\u5b9a. mapView . region = region // MapView\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( mapView ) // SegmentedControl\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( mySegCon ) } func segconChanged ( segcon : UISegmentedControl ) { switch ( segcon . selectedSegmentIndex ) { // \u5730\u56f3\u306e\u30bf\u30a4\u30d7\u3092\u6a19\u6e96\u306b\u8a2d\u5b9a. case 0 : mapView . mapType = MKMapType . standard // \u5730\u56f3\u306e\u30bf\u30a4\u30d7\u3092\u30cf\u30a4\u30d6\u30ea\u30c3\u30c9(\u822a\u7a7a\u5199\u771f+\u6a19\u6e96)\u306b\u8a2d\u5b9a. case 1 : mapView . mapType = MKMapType . hybrid // \u5730\u56f3\u306e\u30bf\u30a4\u30d7\u3092\u822a\u7a7a\u5199\u771f\u306b\u8a2d\u5b9a. case 2 : mapView . mapType = MKMapType . satellite default : print ( \"Error\" ) } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 // // ViewController.swift // MapKit011 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit class ViewController : UIViewController { var mapView : MKMapView ! override func viewDidLoad () { super . viewDidLoad () // \u8868\u793a\u3059\u308b\u914d\u5217\u3092\u4f5c\u308b. let mapTypes : NSArray = [ \"Standard\" , \"Hybrid\" , \"Satellite\" ] // SecmentedControl\u3092\u4f5c\u6210\u3059\u308b. let mySegCon : UISegmentedControl = UISegmentedControl ( items : mapTypes as [ AnyObject ]) mySegCon . layer . position = CGPointMake ( self . view . frame . width / 2 , self . view . frame . height - 100 ) mySegCon . backgroundColor = UIColor . grayColor () mySegCon . tintColor = UIColor . whiteColor () // \u30a4\u30d9\u30f3\u30c8\u3092\u8ffd\u52a0\u3059\u308b. mySegCon . addTarget ( self , action : #selector ( ViewController . segconChanged ( _ :)), forControlEvents : UIControlEvents . ValueChanged ) // MapView\u3092\u751f\u6210. mapView = MKMapView ( frame : CGRectMake ( 0 , 0 , self . view . frame . size . width , self . view . frame . size . height )) // MapView\u306e\u4e2d\u5fc3\u4f4d\u7f6e\u3092\u6307\u5b9a. mapView . centerCoordinate = CLLocationCoordinate2DMake ( 37.331741 , - 122.030333 ) // \u7e2e\u5c3a\u3092\u5909\u66f4. // \u500d\u7387\u3092\u6307\u5b9a. let span : MKCoordinateSpan = MKCoordinateSpan ( latitudeDelta : 0.1 , longitudeDelta : 0.1 ) // MapView\u3067\u6307\u5b9a\u3057\u305f\u4e2d\u5fc3\u4f4d\u7f6e\u3068MKCoordinateSapn\u3067\u5ba3\u8a00\u3057\u305fspan\u3092\u6307\u5b9a\u3059\u308b. let region : MKCoordinateRegion = MKCoordinateRegion ( center : mapView . centerCoordinate , span : span ) // MapView\u306eregion\u30d7\u30ed\u30d1\u30c6\u30a3\u306bregion\u3092\u6307\u5b9a. mapView . region = region // MapView\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( mapView ) // SegmentedControl\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( mySegCon ) } func segconChanged ( segcon : UISegmentedControl ) { switch ( segcon . selectedSegmentIndex ) { // \u5730\u56f3\u306e\u30bf\u30a4\u30d7\u3092\u6a19\u6e96\u306b\u8a2d\u5b9a. case 0 : mapView . mapType = MKMapType . Standard // \u5730\u56f3\u306e\u30bf\u30a4\u30d7\u3092\u30cf\u30a4\u30d6\u30ea\u30c3\u30c9(\u822a\u7a7a\u5199\u771f+\u6a19\u6e96)\u306b\u8a2d\u5b9a. case 1 : mapView . mapType = MKMapType . Hybrid // \u5730\u56f3\u306e\u30bf\u30a4\u30d7\u3092\u822a\u7a7a\u5199\u771f\u306b\u8a2d\u5b9a. case 2 : mapView . mapType = MKMapType . Satellite default : print ( \"Error\" ) } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } 3.x\u30684.x\u306e\u5dee\u5206 UIControlEvents \u304c UIControl.Event \u306b\u5909\u66f4 func segconChanged(segcon: UISegmentedControl) \u306b @objc \u3092\u8ffd\u52a0 2.3\u30683.0\u306e\u5dee\u5206 CGRectMake \u304c\u5ec3\u6b62 Reference MKMapView https://developer.apple.com/reference/mapkit/mkmapview","title":"\u5730\u56f3\u306e\u30bf\u30a4\u30d7\u3092\u6307\u5b9a"},{"location":"3.mapkit/011_maptype/#_1","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 // // ViewController.swift // MapKit011 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit class ViewController : UIViewController { var mapView : MKMapView ! override func viewDidLoad () { super . viewDidLoad () // \u8868\u793a\u3059\u308b\u914d\u5217\u3092\u4f5c\u308b. let mapTypes : NSArray = [ \"Standard\" , \"Hybrid\" , \"Satellite\" ] // SecmentedControl\u3092\u4f5c\u6210\u3059\u308b. let mySegCon : UISegmentedControl = UISegmentedControl ( items : mapTypes as [ AnyObject ]) mySegCon . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 100 ) mySegCon . backgroundColor = UIColor . gray mySegCon . tintColor = UIColor . white // \u30a4\u30d9\u30f3\u30c8\u3092\u8ffd\u52a0\u3059\u308b. mySegCon . addTarget ( self , action : #selector ( ViewController . segconChanged ( segcon :)), for : UIControl . Event . valueChanged ) // MapView\u3092\u751f\u6210. mapView = MKMapView ( frame : CGRect ( x : 0 , y : 0 , width : self . view . frame . size . width , height : self . view . frame . size . height )) // MapView\u306e\u4e2d\u5fc3\u4f4d\u7f6e\u3092\u6307\u5b9a. mapView . centerCoordinate = CLLocationCoordinate2DMake ( 37.331741 , - 122.030333 ) // \u7e2e\u5c3a\u3092\u5909\u66f4. // \u500d\u7387\u3092\u6307\u5b9a. let span : MKCoordinateSpan = MKCoordinateSpan ( latitudeDelta : 0.1 , longitudeDelta : 0.1 ) // MapView\u3067\u6307\u5b9a\u3057\u305f\u4e2d\u5fc3\u4f4d\u7f6e\u3068MKCoordinateSapn\u3067\u5ba3\u8a00\u3057\u305fspan\u3092\u6307\u5b9a\u3059\u308b. let region : MKCoordinateRegion = MKCoordinateRegion ( center : mapView . centerCoordinate , span : span ) // MapView\u306eregion\u30d7\u30ed\u30d1\u30c6\u30a3\u306bregion\u3092\u6307\u5b9a. mapView . region = region // MapView\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( mapView ) // SegmentedControl\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( mySegCon ) } @objc func segconChanged ( segcon : UISegmentedControl ) { switch ( segcon . selectedSegmentIndex ) { // \u5730\u56f3\u306e\u30bf\u30a4\u30d7\u3092\u6a19\u6e96\u306b\u8a2d\u5b9a. case 0 : mapView . mapType = MKMapType . standard // \u5730\u56f3\u306e\u30bf\u30a4\u30d7\u3092\u30cf\u30a4\u30d6\u30ea\u30c3\u30c9(\u822a\u7a7a\u5199\u771f+\u6a19\u6e96)\u306b\u8a2d\u5b9a. case 1 : mapView . mapType = MKMapType . hybrid // \u5730\u56f3\u306e\u30bf\u30a4\u30d7\u3092\u822a\u7a7a\u5199\u771f\u306b\u8a2d\u5b9a. case 2 : mapView . mapType = MKMapType . satellite default : print ( \"Error\" ) } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 // // ViewController.swift // MapKit011 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit class ViewController : UIViewController { var mapView : MKMapView ! override func viewDidLoad () { super . viewDidLoad () // \u8868\u793a\u3059\u308b\u914d\u5217\u3092\u4f5c\u308b. let mapTypes : NSArray = [ \"Standard\" , \"Hybrid\" , \"Satellite\" ] // SecmentedControl\u3092\u4f5c\u6210\u3059\u308b. let mySegCon : UISegmentedControl = UISegmentedControl ( items : mapTypes as [ AnyObject ]) mySegCon . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 100 ) mySegCon . backgroundColor = UIColor . gray mySegCon . tintColor = UIColor . white // \u30a4\u30d9\u30f3\u30c8\u3092\u8ffd\u52a0\u3059\u308b. mySegCon . addTarget ( self , action : #selector ( ViewController . segconChanged ( segcon :)), for : UIControlEvents . valueChanged ) // MapView\u3092\u751f\u6210. mapView = MKMapView ( frame : CGRect ( x : 0 , y : 0 , width : self . view . frame . size . width , height : self . view . frame . size . height )) // MapView\u306e\u4e2d\u5fc3\u4f4d\u7f6e\u3092\u6307\u5b9a. mapView . centerCoordinate = CLLocationCoordinate2DMake ( 37.331741 , - 122.030333 ) // \u7e2e\u5c3a\u3092\u5909\u66f4. // \u500d\u7387\u3092\u6307\u5b9a. let span : MKCoordinateSpan = MKCoordinateSpan ( latitudeDelta : 0.1 , longitudeDelta : 0.1 ) // MapView\u3067\u6307\u5b9a\u3057\u305f\u4e2d\u5fc3\u4f4d\u7f6e\u3068MKCoordinateSapn\u3067\u5ba3\u8a00\u3057\u305fspan\u3092\u6307\u5b9a\u3059\u308b. let region : MKCoordinateRegion = MKCoordinateRegion ( center : mapView . centerCoordinate , span : span ) // MapView\u306eregion\u30d7\u30ed\u30d1\u30c6\u30a3\u306bregion\u3092\u6307\u5b9a. mapView . region = region // MapView\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( mapView ) // SegmentedControl\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( mySegCon ) } func segconChanged ( segcon : UISegmentedControl ) { switch ( segcon . selectedSegmentIndex ) { // \u5730\u56f3\u306e\u30bf\u30a4\u30d7\u3092\u6a19\u6e96\u306b\u8a2d\u5b9a. case 0 : mapView . mapType = MKMapType . standard // \u5730\u56f3\u306e\u30bf\u30a4\u30d7\u3092\u30cf\u30a4\u30d6\u30ea\u30c3\u30c9(\u822a\u7a7a\u5199\u771f+\u6a19\u6e96)\u306b\u8a2d\u5b9a. case 1 : mapView . mapType = MKMapType . hybrid // \u5730\u56f3\u306e\u30bf\u30a4\u30d7\u3092\u822a\u7a7a\u5199\u771f\u306b\u8a2d\u5b9a. case 2 : mapView . mapType = MKMapType . satellite default : print ( \"Error\" ) } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 // // ViewController.swift // MapKit011 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit class ViewController : UIViewController { var mapView : MKMapView ! override func viewDidLoad () { super . viewDidLoad () // \u8868\u793a\u3059\u308b\u914d\u5217\u3092\u4f5c\u308b. let mapTypes : NSArray = [ \"Standard\" , \"Hybrid\" , \"Satellite\" ] // SecmentedControl\u3092\u4f5c\u6210\u3059\u308b. let mySegCon : UISegmentedControl = UISegmentedControl ( items : mapTypes as [ AnyObject ]) mySegCon . layer . position = CGPointMake ( self . view . frame . width / 2 , self . view . frame . height - 100 ) mySegCon . backgroundColor = UIColor . grayColor () mySegCon . tintColor = UIColor . whiteColor () // \u30a4\u30d9\u30f3\u30c8\u3092\u8ffd\u52a0\u3059\u308b. mySegCon . addTarget ( self , action : #selector ( ViewController . segconChanged ( _ :)), forControlEvents : UIControlEvents . ValueChanged ) // MapView\u3092\u751f\u6210. mapView = MKMapView ( frame : CGRectMake ( 0 , 0 , self . view . frame . size . width , self . view . frame . size . height )) // MapView\u306e\u4e2d\u5fc3\u4f4d\u7f6e\u3092\u6307\u5b9a. mapView . centerCoordinate = CLLocationCoordinate2DMake ( 37.331741 , - 122.030333 ) // \u7e2e\u5c3a\u3092\u5909\u66f4. // \u500d\u7387\u3092\u6307\u5b9a. let span : MKCoordinateSpan = MKCoordinateSpan ( latitudeDelta : 0.1 , longitudeDelta : 0.1 ) // MapView\u3067\u6307\u5b9a\u3057\u305f\u4e2d\u5fc3\u4f4d\u7f6e\u3068MKCoordinateSapn\u3067\u5ba3\u8a00\u3057\u305fspan\u3092\u6307\u5b9a\u3059\u308b. let region : MKCoordinateRegion = MKCoordinateRegion ( center : mapView . centerCoordinate , span : span ) // MapView\u306eregion\u30d7\u30ed\u30d1\u30c6\u30a3\u306bregion\u3092\u6307\u5b9a. mapView . region = region // MapView\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( mapView ) // SegmentedControl\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( mySegCon ) } func segconChanged ( segcon : UISegmentedControl ) { switch ( segcon . selectedSegmentIndex ) { // \u5730\u56f3\u306e\u30bf\u30a4\u30d7\u3092\u6a19\u6e96\u306b\u8a2d\u5b9a. case 0 : mapView . mapType = MKMapType . Standard // \u5730\u56f3\u306e\u30bf\u30a4\u30d7\u3092\u30cf\u30a4\u30d6\u30ea\u30c3\u30c9(\u822a\u7a7a\u5199\u771f+\u6a19\u6e96)\u306b\u8a2d\u5b9a. case 1 : mapView . mapType = MKMapType . Hybrid // \u5730\u56f3\u306e\u30bf\u30a4\u30d7\u3092\u822a\u7a7a\u5199\u771f\u306b\u8a2d\u5b9a. case 2 : mapView . mapType = MKMapType . Satellite default : print ( \"Error\" ) } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } }","title":"\u5730\u56f3\u306e\u30bf\u30a4\u30d7\u3092\u6307\u5b9a"},{"location":"3.mapkit/011_maptype/#3x4x","text":"UIControlEvents \u304c UIControl.Event \u306b\u5909\u66f4 func segconChanged(segcon: UISegmentedControl) \u306b @objc \u3092\u8ffd\u52a0","title":"3.x\u30684.x\u306e\u5dee\u5206"},{"location":"3.mapkit/011_maptype/#2330","text":"CGRectMake \u304c\u5ec3\u6b62","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"3.mapkit/011_maptype/#reference","text":"MKMapView https://developer.apple.com/reference/mapkit/mkmapview","title":"Reference"},{"location":"3.mapkit/012_map/","text":"\u5730\u56f3\u4e0a\u306b\u56f3\u5f62\u3092\u63cf\u304f(\u5186) Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 // // ViewController.swift // MapKit012 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit class ViewController : UIViewController , MKMapViewDelegate { // \u7d4c\u5ea6\u7def\u5ea6. let myLan : CLLocationDegrees = 37.331741 let myLon : CLLocationDegrees = - 122.030333 var center : CLLocationCoordinate2D ! override func viewDidLoad () { super . viewDidLoad () // \u5730\u56f3\u306e\u4e2d\u5fc3\u306e\u5ea7\u6a19. center = CLLocationCoordinate2DMake ( myLan , myLon ) // mapView\u3092\u751f\u6210. let myMapView : MKMapView = MKMapView () myMapView . frame = self . view . frame myMapView . center = self . view . center myMapView . centerCoordinate = center myMapView . delegate = self // \u7e2e\u5c3a\u3092\u8a2d\u5b9a. let mySpan : MKCoordinateSpan = MKCoordinateSpan ( latitudeDelta : 0.1 , longitudeDelta : 0.1 ) let myRegion : MKCoordinateRegion = MKCoordinateRegion ( center : center , span : mySpan ) // region\u3092mapView\u306b\u8ffd\u52a0. myMapView . region = myRegion // view\u306bmapView\u3092\u8ffd\u52a0. self . view . addSubview ( myMapView ) // \u5186\u3092\u63cf\u753b\u3059\u308b(\u534a\u5f841000m). let myCircle : MKCircle = MKCircle ( center : center , radius : CLLocationDistance ( 1000 )) // mapView\u306bcircle\u3092\u8ffd\u52a0. myMapView . addOverlay ( myCircle ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } /* addOverlay\u3057\u305f\u969b\u306b\u547c\u3070\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8\u30e1\u30bd\u30c3\u30c9. */ func mapView ( _ mapView : MKMapView , rendererFor overlay : MKOverlay ) -> MKOverlayRenderer { // renderer\u3092\u751f\u6210. let myCircleView : MKCircleRenderer = MKCircleRenderer ( overlay : overlay ) // \u5186\u306e\u5185\u90e8\u3092\u8d64\u8272\u3067\u5857\u308a\u3064\u3076\u3059. myCircleView . fillColor = UIColor . red // \u5186\u5468\u306e\u7dda\u306e\u8272\u3092\u9ed2\u8272\u306b\u8a2d\u5b9a. myCircleView . strokeColor = UIColor . black // \u5186\u3092\u900f\u904e\u3055\u305b\u308b. myCircleView . alpha = 0.5 // \u5186\u5468\u306e\u7dda\u306e\u592a\u3055. myCircleView . lineWidth = 1.5 return myCircleView } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 // // ViewController.swift // MapKit012 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit class ViewController : UIViewController , MKMapViewDelegate { // \u7d4c\u5ea6\u7def\u5ea6. let myLan : CLLocationDegrees = 37.331741 let myLon : CLLocationDegrees = - 122.030333 var center : CLLocationCoordinate2D ! override func viewDidLoad () { super . viewDidLoad () // \u5730\u56f3\u306e\u4e2d\u5fc3\u306e\u5ea7\u6a19. center = CLLocationCoordinate2DMake ( myLan , myLon ) // mapView\u3092\u751f\u6210. let myMapView : MKMapView = MKMapView () myMapView . frame = self . view . frame myMapView . center = self . view . center myMapView . centerCoordinate = center myMapView . delegate = self // \u7e2e\u5c3a\u3092\u8a2d\u5b9a. let mySpan : MKCoordinateSpan = MKCoordinateSpan ( latitudeDelta : 0.1 , longitudeDelta : 0.1 ) let myRegion : MKCoordinateRegion = MKCoordinateRegion ( center : center , span : mySpan ) // region\u3092mapView\u306b\u8ffd\u52a0. myMapView . region = myRegion // view\u306bmapView\u3092\u8ffd\u52a0. self . view . addSubview ( myMapView ) // \u5186\u3092\u63cf\u753b\u3059\u308b(\u534a\u5f841000m). let myCircle : MKCircle = MKCircle ( center : center , radius : CLLocationDistance ( 1000 )) // mapView\u306bcircle\u3092\u8ffd\u52a0. myMapView . add ( myCircle ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } /* addOverlay\u3057\u305f\u969b\u306b\u547c\u3070\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8\u30e1\u30bd\u30c3\u30c9. */ func mapView ( _ mapView : MKMapView , rendererFor overlay : MKOverlay ) -> MKOverlayRenderer { // renderer\u3092\u751f\u6210. let myCircleView : MKCircleRenderer = MKCircleRenderer ( overlay : overlay ) // \u5186\u306e\u5185\u90e8\u3092\u8d64\u8272\u3067\u5857\u308a\u3064\u3076\u3059. myCircleView . fillColor = UIColor . red // \u5186\u5468\u306e\u7dda\u306e\u8272\u3092\u9ed2\u8272\u306b\u8a2d\u5b9a. myCircleView . strokeColor = UIColor . black // \u5186\u3092\u900f\u904e\u3055\u305b\u308b. myCircleView . alpha = 0.5 // \u5186\u5468\u306e\u7dda\u306e\u592a\u3055. myCircleView . lineWidth = 1.5 return myCircleView } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 // // ViewController.swift // MapKit012 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit class ViewController : UIViewController , MKMapViewDelegate { // \u7d4c\u5ea6\u7def\u5ea6. let myLan : CLLocationDegrees = 37.331741 let myLon : CLLocationDegrees = - 122.030333 var center : CLLocationCoordinate2D ! override func viewDidLoad () { super . viewDidLoad () // \u5730\u56f3\u306e\u4e2d\u5fc3\u306e\u5ea7\u6a19. center = CLLocationCoordinate2DMake ( myLan , myLon ) // mapView\u3092\u751f\u6210. let myMapView : MKMapView = MKMapView () myMapView . frame = self . view . frame myMapView . center = self . view . center myMapView . centerCoordinate = center myMapView . delegate = self // \u7e2e\u5c3a\u3092\u8a2d\u5b9a. let mySpan : MKCoordinateSpan = MKCoordinateSpan ( latitudeDelta : 0.1 , longitudeDelta : 0.1 ) let myRegion : MKCoordinateRegion = MKCoordinateRegion ( center : center , span : mySpan ) // region\u3092mapView\u306b\u8ffd\u52a0. myMapView . region = myRegion // view\u306bmapView\u3092\u8ffd\u52a0. self . view . addSubview ( myMapView ) // \u5186\u3092\u63cf\u753b\u3059\u308b(\u534a\u5f841000m). let myCircle : MKCircle = MKCircle ( centerCoordinate : center , radius : CLLocationDistance ( 1000 )) // mapView\u306bcircle\u3092\u8ffd\u52a0. myMapView . addOverlay ( myCircle ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } /* addOverlay\u3057\u305f\u969b\u306b\u547c\u3070\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8\u30e1\u30bd\u30c3\u30c9. */ func mapView ( mapView : MKMapView , rendererForOverlay overlay : MKOverlay ) -> MKOverlayRenderer { // renderer\u3092\u751f\u6210. let myCircleView : MKCircleRenderer = MKCircleRenderer ( overlay : overlay ) // \u5186\u306e\u5185\u90e8\u3092\u8d64\u8272\u3067\u5857\u308a\u3064\u3076\u3059. myCircleView . fillColor = UIColor . redColor () // \u5186\u5468\u306e\u7dda\u306e\u8272\u3092\u9ed2\u8272\u306b\u8a2d\u5b9a. myCircleView . strokeColor = UIColor . blackColor () // \u5186\u3092\u900f\u904e\u3055\u305b\u308b. myCircleView . alpha = 0.5 // \u5186\u5468\u306e\u7dda\u306e\u592a\u3055. myCircleView . lineWidth = 1.5 return myCircleView } } 3.x\u30684.x\u306e\u5dee\u5206 add \u304c addOverlay \u306b\u5909\u66f4 2.3\u30683.0\u306e\u5dee\u5206 addOverlay \u304b\u3089 add \u306b\u5909\u66f4 init(centerCoordinate: center, radius: CLLocationDistance(1000)) \u304b\u3089 init(center: center, radius: CLLocationDistance(1000)) \u306b\u5909\u66f4 Reference MKCircle https://developer.apple.com/reference/mapkit/mkcircle MKCircleRenderer https://developer.apple.com/reference/mapkit/mkcirclerenderer","title":"\u5730\u56f3\u4e0a\u306b\u56f3\u5f62\u3092\u63cf\u304f(\u5186)"},{"location":"3.mapkit/012_map/#_1","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 // // ViewController.swift // MapKit012 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit class ViewController : UIViewController , MKMapViewDelegate { // \u7d4c\u5ea6\u7def\u5ea6. let myLan : CLLocationDegrees = 37.331741 let myLon : CLLocationDegrees = - 122.030333 var center : CLLocationCoordinate2D ! override func viewDidLoad () { super . viewDidLoad () // \u5730\u56f3\u306e\u4e2d\u5fc3\u306e\u5ea7\u6a19. center = CLLocationCoordinate2DMake ( myLan , myLon ) // mapView\u3092\u751f\u6210. let myMapView : MKMapView = MKMapView () myMapView . frame = self . view . frame myMapView . center = self . view . center myMapView . centerCoordinate = center myMapView . delegate = self // \u7e2e\u5c3a\u3092\u8a2d\u5b9a. let mySpan : MKCoordinateSpan = MKCoordinateSpan ( latitudeDelta : 0.1 , longitudeDelta : 0.1 ) let myRegion : MKCoordinateRegion = MKCoordinateRegion ( center : center , span : mySpan ) // region\u3092mapView\u306b\u8ffd\u52a0. myMapView . region = myRegion // view\u306bmapView\u3092\u8ffd\u52a0. self . view . addSubview ( myMapView ) // \u5186\u3092\u63cf\u753b\u3059\u308b(\u534a\u5f841000m). let myCircle : MKCircle = MKCircle ( center : center , radius : CLLocationDistance ( 1000 )) // mapView\u306bcircle\u3092\u8ffd\u52a0. myMapView . addOverlay ( myCircle ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } /* addOverlay\u3057\u305f\u969b\u306b\u547c\u3070\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8\u30e1\u30bd\u30c3\u30c9. */ func mapView ( _ mapView : MKMapView , rendererFor overlay : MKOverlay ) -> MKOverlayRenderer { // renderer\u3092\u751f\u6210. let myCircleView : MKCircleRenderer = MKCircleRenderer ( overlay : overlay ) // \u5186\u306e\u5185\u90e8\u3092\u8d64\u8272\u3067\u5857\u308a\u3064\u3076\u3059. myCircleView . fillColor = UIColor . red // \u5186\u5468\u306e\u7dda\u306e\u8272\u3092\u9ed2\u8272\u306b\u8a2d\u5b9a. myCircleView . strokeColor = UIColor . black // \u5186\u3092\u900f\u904e\u3055\u305b\u308b. myCircleView . alpha = 0.5 // \u5186\u5468\u306e\u7dda\u306e\u592a\u3055. myCircleView . lineWidth = 1.5 return myCircleView } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 // // ViewController.swift // MapKit012 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit class ViewController : UIViewController , MKMapViewDelegate { // \u7d4c\u5ea6\u7def\u5ea6. let myLan : CLLocationDegrees = 37.331741 let myLon : CLLocationDegrees = - 122.030333 var center : CLLocationCoordinate2D ! override func viewDidLoad () { super . viewDidLoad () // \u5730\u56f3\u306e\u4e2d\u5fc3\u306e\u5ea7\u6a19. center = CLLocationCoordinate2DMake ( myLan , myLon ) // mapView\u3092\u751f\u6210. let myMapView : MKMapView = MKMapView () myMapView . frame = self . view . frame myMapView . center = self . view . center myMapView . centerCoordinate = center myMapView . delegate = self // \u7e2e\u5c3a\u3092\u8a2d\u5b9a. let mySpan : MKCoordinateSpan = MKCoordinateSpan ( latitudeDelta : 0.1 , longitudeDelta : 0.1 ) let myRegion : MKCoordinateRegion = MKCoordinateRegion ( center : center , span : mySpan ) // region\u3092mapView\u306b\u8ffd\u52a0. myMapView . region = myRegion // view\u306bmapView\u3092\u8ffd\u52a0. self . view . addSubview ( myMapView ) // \u5186\u3092\u63cf\u753b\u3059\u308b(\u534a\u5f841000m). let myCircle : MKCircle = MKCircle ( center : center , radius : CLLocationDistance ( 1000 )) // mapView\u306bcircle\u3092\u8ffd\u52a0. myMapView . add ( myCircle ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } /* addOverlay\u3057\u305f\u969b\u306b\u547c\u3070\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8\u30e1\u30bd\u30c3\u30c9. */ func mapView ( _ mapView : MKMapView , rendererFor overlay : MKOverlay ) -> MKOverlayRenderer { // renderer\u3092\u751f\u6210. let myCircleView : MKCircleRenderer = MKCircleRenderer ( overlay : overlay ) // \u5186\u306e\u5185\u90e8\u3092\u8d64\u8272\u3067\u5857\u308a\u3064\u3076\u3059. myCircleView . fillColor = UIColor . red // \u5186\u5468\u306e\u7dda\u306e\u8272\u3092\u9ed2\u8272\u306b\u8a2d\u5b9a. myCircleView . strokeColor = UIColor . black // \u5186\u3092\u900f\u904e\u3055\u305b\u308b. myCircleView . alpha = 0.5 // \u5186\u5468\u306e\u7dda\u306e\u592a\u3055. myCircleView . lineWidth = 1.5 return myCircleView } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 // // ViewController.swift // MapKit012 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit class ViewController : UIViewController , MKMapViewDelegate { // \u7d4c\u5ea6\u7def\u5ea6. let myLan : CLLocationDegrees = 37.331741 let myLon : CLLocationDegrees = - 122.030333 var center : CLLocationCoordinate2D ! override func viewDidLoad () { super . viewDidLoad () // \u5730\u56f3\u306e\u4e2d\u5fc3\u306e\u5ea7\u6a19. center = CLLocationCoordinate2DMake ( myLan , myLon ) // mapView\u3092\u751f\u6210. let myMapView : MKMapView = MKMapView () myMapView . frame = self . view . frame myMapView . center = self . view . center myMapView . centerCoordinate = center myMapView . delegate = self // \u7e2e\u5c3a\u3092\u8a2d\u5b9a. let mySpan : MKCoordinateSpan = MKCoordinateSpan ( latitudeDelta : 0.1 , longitudeDelta : 0.1 ) let myRegion : MKCoordinateRegion = MKCoordinateRegion ( center : center , span : mySpan ) // region\u3092mapView\u306b\u8ffd\u52a0. myMapView . region = myRegion // view\u306bmapView\u3092\u8ffd\u52a0. self . view . addSubview ( myMapView ) // \u5186\u3092\u63cf\u753b\u3059\u308b(\u534a\u5f841000m). let myCircle : MKCircle = MKCircle ( centerCoordinate : center , radius : CLLocationDistance ( 1000 )) // mapView\u306bcircle\u3092\u8ffd\u52a0. myMapView . addOverlay ( myCircle ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } /* addOverlay\u3057\u305f\u969b\u306b\u547c\u3070\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8\u30e1\u30bd\u30c3\u30c9. */ func mapView ( mapView : MKMapView , rendererForOverlay overlay : MKOverlay ) -> MKOverlayRenderer { // renderer\u3092\u751f\u6210. let myCircleView : MKCircleRenderer = MKCircleRenderer ( overlay : overlay ) // \u5186\u306e\u5185\u90e8\u3092\u8d64\u8272\u3067\u5857\u308a\u3064\u3076\u3059. myCircleView . fillColor = UIColor . redColor () // \u5186\u5468\u306e\u7dda\u306e\u8272\u3092\u9ed2\u8272\u306b\u8a2d\u5b9a. myCircleView . strokeColor = UIColor . blackColor () // \u5186\u3092\u900f\u904e\u3055\u305b\u308b. myCircleView . alpha = 0.5 // \u5186\u5468\u306e\u7dda\u306e\u592a\u3055. myCircleView . lineWidth = 1.5 return myCircleView } }","title":"\u5730\u56f3\u4e0a\u306b\u56f3\u5f62\u3092\u63cf\u304f(\u5186)"},{"location":"3.mapkit/012_map/#3x4x","text":"add \u304c addOverlay \u306b\u5909\u66f4","title":"3.x\u30684.x\u306e\u5dee\u5206"},{"location":"3.mapkit/012_map/#2330","text":"addOverlay \u304b\u3089 add \u306b\u5909\u66f4 init(centerCoordinate: center, radius: CLLocationDistance(1000)) \u304b\u3089 init(center: center, radius: CLLocationDistance(1000)) \u306b\u5909\u66f4","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"3.mapkit/012_map/#reference","text":"MKCircle https://developer.apple.com/reference/mapkit/mkcircle MKCircleRenderer https://developer.apple.com/reference/mapkit/mkcirclerenderer","title":"Reference"},{"location":"3.mapkit/013_line/","text":"\u5730\u56f3\u4e0a\u306b\u76f4\u7dda\u3092\u5f15\u304f Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 // // ViewController.swift // MapKit013 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit class ViewController : UIViewController , MKMapViewDelegate { override func viewDidLoad () { super . viewDidLoad () // \u7d4c\u5ea6\u7def\u5ea6\u3092\u8a2d\u5b9a. let myLan : CLLocationDegrees = 37.331741 let myLon : CLLocationDegrees = - 122.030333 // \u5730\u56f3\u306e\u4e2d\u5fc3\u306e\u5ea7\u6a19. let center : CLLocationCoordinate2D = CLLocationCoordinate2DMake ( myLan , myLon ) // mapView\u3092\u751f\u6210. let myMapView : MKMapView = MKMapView () myMapView . frame = self . view . frame myMapView . center = self . view . center myMapView . centerCoordinate = center myMapView . delegate = self // \u7e2e\u5c3a\u3092\u6307\u5b9a. let mySpan : MKCoordinateSpan = MKCoordinateSpan ( latitudeDelta : 0.1 , longitudeDelta : 0.1 ) let myRegion : MKCoordinateRegion = MKCoordinateRegion ( center : center , span : mySpan ) // region\u3092mapView\u306b\u8ffd\u52a0. myMapView . region = myRegion // view\u306bmapView\u3092\u8ffd\u52a0. self . view . addSubview ( myMapView ) // \u76f4\u7dda\u3092\u5f15\u304f\u5ea7\u6a19\u3092\u4f5c\u6210. let coordinate_1 = CLLocationCoordinate2D ( latitude : 37.301741 , longitude : - 122.050333 ) let coordinate_2 = CLLocationCoordinate2D ( latitude : 37.351951 , longitude : - 122.020314 ) let coordinate_3 = CLLocationCoordinate2D ( latitude : 37.301741 , longitude : - 122.020314 ) let coordinate_4 = CLLocationCoordinate2D ( latitude : 37.351951 , longitude : - 122.050333 ) // \u5ea7\u6a19\u3092\u914d\u5217\u306b\u683c\u7d0d. var coordinates_1 = [ coordinate_1 , coordinate_2 ] var coordinates_2 = [ coordinate_3 , coordinate_4 ] // polyline\u4f5c\u6210. let myPolyLine_1 : MKPolyline = MKPolyline ( coordinates : & coordinates_1 , count : coordinates_1 . count ) let myPolyLine_2 : MKPolyline = MKPolyline ( coordinates : & coordinates_2 , count : coordinates_2 . count ) // mapView\u306bcircle\u3092\u8ffd\u52a0. myMapView . addOverlay ( myPolyLine_1 ) myMapView . addOverlay ( myPolyLine_2 ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } /* addOverlay\u3057\u305f\u969b\u306b\u547c\u3070\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8\u30e1\u30bd\u30c3\u30c9. */ func mapView ( _ mapView : MKMapView , rendererFor overlay : MKOverlay ) -> MKOverlayRenderer { // renderer\u3092\u751f\u6210. let myPolyLineRendere : MKPolylineRenderer = MKPolylineRenderer ( overlay : overlay ) // \u7dda\u306e\u592a\u3055\u3092\u6307\u5b9a. myPolyLineRendere . lineWidth = 5 // \u7dda\u306e\u8272\u3092\u6307\u5b9a. myPolyLineRendere . strokeColor = UIColor . red return myPolyLineRendere } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 // // ViewController.swift // MapKit013 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit class ViewController : UIViewController , MKMapViewDelegate { override func viewDidLoad () { super . viewDidLoad () // \u7d4c\u5ea6\u7def\u5ea6\u3092\u8a2d\u5b9a. let myLan : CLLocationDegrees = 37.331741 let myLon : CLLocationDegrees = - 122.030333 // \u5730\u56f3\u306e\u4e2d\u5fc3\u306e\u5ea7\u6a19. let center : CLLocationCoordinate2D = CLLocationCoordinate2DMake ( myLan , myLon ) // mapView\u3092\u751f\u6210. let myMapView : MKMapView = MKMapView () myMapView . frame = self . view . frame myMapView . center = self . view . center myMapView . centerCoordinate = center myMapView . delegate = self // \u7e2e\u5c3a\u3092\u6307\u5b9a. let mySpan : MKCoordinateSpan = MKCoordinateSpan ( latitudeDelta : 0.1 , longitudeDelta : 0.1 ) let myRegion : MKCoordinateRegion = MKCoordinateRegion ( center : center , span : mySpan ) // region\u3092mapView\u306b\u8ffd\u52a0. myMapView . region = myRegion // view\u306bmapView\u3092\u8ffd\u52a0. self . view . addSubview ( myMapView ) // \u76f4\u7dda\u3092\u5f15\u304f\u5ea7\u6a19\u3092\u4f5c\u6210. let coordinate_1 = CLLocationCoordinate2D ( latitude : 37.301741 , longitude : - 122.050333 ) let coordinate_2 = CLLocationCoordinate2D ( latitude : 37.351951 , longitude : - 122.020314 ) let coordinate_3 = CLLocationCoordinate2D ( latitude : 37.301741 , longitude : - 122.020314 ) let coordinate_4 = CLLocationCoordinate2D ( latitude : 37.351951 , longitude : - 122.050333 ) // \u5ea7\u6a19\u3092\u914d\u5217\u306b\u683c\u7d0d. var coordinates_1 = [ coordinate_1 , coordinate_2 ] var coordinates_2 = [ coordinate_3 , coordinate_4 ] // polyline\u4f5c\u6210. let myPolyLine_1 : MKPolyline = MKPolyline ( coordinates : & coordinates_1 , count : coordinates_1 . count ) let myPolyLine_2 : MKPolyline = MKPolyline ( coordinates : & coordinates_2 , count : coordinates_2 . count ) // mapView\u306bcircle\u3092\u8ffd\u52a0. myMapView . add ( myPolyLine_1 ) myMapView . add ( myPolyLine_2 ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } /* addOverlay\u3057\u305f\u969b\u306b\u547c\u3070\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8\u30e1\u30bd\u30c3\u30c9. */ func mapView ( _ mapView : MKMapView , rendererFor overlay : MKOverlay ) -> MKOverlayRenderer { // renderer\u3092\u751f\u6210. let myPolyLineRendere : MKPolylineRenderer = MKPolylineRenderer ( overlay : overlay ) // \u7dda\u306e\u592a\u3055\u3092\u6307\u5b9a. myPolyLineRendere . lineWidth = 5 // \u7dda\u306e\u8272\u3092\u6307\u5b9a. myPolyLineRendere . strokeColor = UIColor . red return myPolyLineRendere } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 // // ViewController.swift // MapKit013 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit class ViewController : UIViewController , MKMapViewDelegate { override func viewDidLoad () { super . viewDidLoad () // \u7d4c\u5ea6\u7def\u5ea6\u3092\u8a2d\u5b9a. let myLan : CLLocationDegrees = 37.331741 let myLon : CLLocationDegrees = - 122.030333 // \u5730\u56f3\u306e\u4e2d\u5fc3\u306e\u5ea7\u6a19. let center : CLLocationCoordinate2D = CLLocationCoordinate2DMake ( myLan , myLon ) // mapView\u3092\u751f\u6210. let myMapView : MKMapView = MKMapView () myMapView . frame = self . view . frame myMapView . center = self . view . center myMapView . centerCoordinate = center myMapView . delegate = self // \u7e2e\u5c3a\u3092\u6307\u5b9a. let mySpan : MKCoordinateSpan = MKCoordinateSpan ( latitudeDelta : 0.1 , longitudeDelta : 0.1 ) let myRegion : MKCoordinateRegion = MKCoordinateRegion ( center : center , span : mySpan ) // region\u3092mapView\u306b\u8ffd\u52a0. myMapView . region = myRegion // view\u306bmapView\u3092\u8ffd\u52a0. self . view . addSubview ( myMapView ) // \u76f4\u7dda\u3092\u5f15\u304f\u5ea7\u6a19\u3092\u4f5c\u6210. let coordinate_1 = CLLocationCoordinate2D ( latitude : 37.301741 , longitude : - 122.050333 ) let coordinate_2 = CLLocationCoordinate2D ( latitude : 37.351951 , longitude : - 122.020314 ) let coordinate_3 = CLLocationCoordinate2D ( latitude : 37.301741 , longitude : - 122.020314 ) let coordinate_4 = CLLocationCoordinate2D ( latitude : 37.351951 , longitude : - 122.050333 ) // \u5ea7\u6a19\u3092\u914d\u5217\u306b\u683c\u7d0d. var coordinates_1 = [ coordinate_1 , coordinate_2 ] var coordinates_2 = [ coordinate_3 , coordinate_4 ] // polyline\u4f5c\u6210. let myPolyLine_1 : MKPolyline = MKPolyline ( coordinates : & coordinates_1 , count : coordinates_1 . count ) let myPolyLine_2 : MKPolyline = MKPolyline ( coordinates : & coordinates_2 , count : coordinates_2 . count ) // mapView\u306bcircle\u3092\u8ffd\u52a0. myMapView . addOverlay ( myPolyLine_1 ) myMapView . addOverlay ( myPolyLine_2 ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } /* addOverlay\u3057\u305f\u969b\u306b\u547c\u3070\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8\u30e1\u30bd\u30c3\u30c9. */ func mapView ( mapView : MKMapView , rendererForOverlay overlay : MKOverlay ) -> MKOverlayRenderer { // renderer\u3092\u751f\u6210. let myPolyLineRendere : MKPolylineRenderer = MKPolylineRenderer ( overlay : overlay ) // \u7dda\u306e\u592a\u3055\u3092\u6307\u5b9a. myPolyLineRendere . lineWidth = 5 // \u7dda\u306e\u8272\u3092\u6307\u5b9a. myPolyLineRendere . strokeColor = UIColor . redColor () return myPolyLineRendere } } 3.x\u30684.x\u306e\u5dee\u5206 add \u304c addOverlay \u306b\u5909\u66f4 2.3\u30683.0\u306e\u5dee\u5206 addOverlay \u304b\u3089 add \u306b\u5909\u66f4 Reference MKPolylineRenderer https://developer.apple.com/reference/mapkit/mkpolylinerenderer","title":"\u5730\u56f3\u4e0a\u306b\u76f4\u7dda\u3092\u5f15\u304f"},{"location":"3.mapkit/013_line/#_1","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 // // ViewController.swift // MapKit013 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit class ViewController : UIViewController , MKMapViewDelegate { override func viewDidLoad () { super . viewDidLoad () // \u7d4c\u5ea6\u7def\u5ea6\u3092\u8a2d\u5b9a. let myLan : CLLocationDegrees = 37.331741 let myLon : CLLocationDegrees = - 122.030333 // \u5730\u56f3\u306e\u4e2d\u5fc3\u306e\u5ea7\u6a19. let center : CLLocationCoordinate2D = CLLocationCoordinate2DMake ( myLan , myLon ) // mapView\u3092\u751f\u6210. let myMapView : MKMapView = MKMapView () myMapView . frame = self . view . frame myMapView . center = self . view . center myMapView . centerCoordinate = center myMapView . delegate = self // \u7e2e\u5c3a\u3092\u6307\u5b9a. let mySpan : MKCoordinateSpan = MKCoordinateSpan ( latitudeDelta : 0.1 , longitudeDelta : 0.1 ) let myRegion : MKCoordinateRegion = MKCoordinateRegion ( center : center , span : mySpan ) // region\u3092mapView\u306b\u8ffd\u52a0. myMapView . region = myRegion // view\u306bmapView\u3092\u8ffd\u52a0. self . view . addSubview ( myMapView ) // \u76f4\u7dda\u3092\u5f15\u304f\u5ea7\u6a19\u3092\u4f5c\u6210. let coordinate_1 = CLLocationCoordinate2D ( latitude : 37.301741 , longitude : - 122.050333 ) let coordinate_2 = CLLocationCoordinate2D ( latitude : 37.351951 , longitude : - 122.020314 ) let coordinate_3 = CLLocationCoordinate2D ( latitude : 37.301741 , longitude : - 122.020314 ) let coordinate_4 = CLLocationCoordinate2D ( latitude : 37.351951 , longitude : - 122.050333 ) // \u5ea7\u6a19\u3092\u914d\u5217\u306b\u683c\u7d0d. var coordinates_1 = [ coordinate_1 , coordinate_2 ] var coordinates_2 = [ coordinate_3 , coordinate_4 ] // polyline\u4f5c\u6210. let myPolyLine_1 : MKPolyline = MKPolyline ( coordinates : & coordinates_1 , count : coordinates_1 . count ) let myPolyLine_2 : MKPolyline = MKPolyline ( coordinates : & coordinates_2 , count : coordinates_2 . count ) // mapView\u306bcircle\u3092\u8ffd\u52a0. myMapView . addOverlay ( myPolyLine_1 ) myMapView . addOverlay ( myPolyLine_2 ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } /* addOverlay\u3057\u305f\u969b\u306b\u547c\u3070\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8\u30e1\u30bd\u30c3\u30c9. */ func mapView ( _ mapView : MKMapView , rendererFor overlay : MKOverlay ) -> MKOverlayRenderer { // renderer\u3092\u751f\u6210. let myPolyLineRendere : MKPolylineRenderer = MKPolylineRenderer ( overlay : overlay ) // \u7dda\u306e\u592a\u3055\u3092\u6307\u5b9a. myPolyLineRendere . lineWidth = 5 // \u7dda\u306e\u8272\u3092\u6307\u5b9a. myPolyLineRendere . strokeColor = UIColor . red return myPolyLineRendere } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 // // ViewController.swift // MapKit013 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit class ViewController : UIViewController , MKMapViewDelegate { override func viewDidLoad () { super . viewDidLoad () // \u7d4c\u5ea6\u7def\u5ea6\u3092\u8a2d\u5b9a. let myLan : CLLocationDegrees = 37.331741 let myLon : CLLocationDegrees = - 122.030333 // \u5730\u56f3\u306e\u4e2d\u5fc3\u306e\u5ea7\u6a19. let center : CLLocationCoordinate2D = CLLocationCoordinate2DMake ( myLan , myLon ) // mapView\u3092\u751f\u6210. let myMapView : MKMapView = MKMapView () myMapView . frame = self . view . frame myMapView . center = self . view . center myMapView . centerCoordinate = center myMapView . delegate = self // \u7e2e\u5c3a\u3092\u6307\u5b9a. let mySpan : MKCoordinateSpan = MKCoordinateSpan ( latitudeDelta : 0.1 , longitudeDelta : 0.1 ) let myRegion : MKCoordinateRegion = MKCoordinateRegion ( center : center , span : mySpan ) // region\u3092mapView\u306b\u8ffd\u52a0. myMapView . region = myRegion // view\u306bmapView\u3092\u8ffd\u52a0. self . view . addSubview ( myMapView ) // \u76f4\u7dda\u3092\u5f15\u304f\u5ea7\u6a19\u3092\u4f5c\u6210. let coordinate_1 = CLLocationCoordinate2D ( latitude : 37.301741 , longitude : - 122.050333 ) let coordinate_2 = CLLocationCoordinate2D ( latitude : 37.351951 , longitude : - 122.020314 ) let coordinate_3 = CLLocationCoordinate2D ( latitude : 37.301741 , longitude : - 122.020314 ) let coordinate_4 = CLLocationCoordinate2D ( latitude : 37.351951 , longitude : - 122.050333 ) // \u5ea7\u6a19\u3092\u914d\u5217\u306b\u683c\u7d0d. var coordinates_1 = [ coordinate_1 , coordinate_2 ] var coordinates_2 = [ coordinate_3 , coordinate_4 ] // polyline\u4f5c\u6210. let myPolyLine_1 : MKPolyline = MKPolyline ( coordinates : & coordinates_1 , count : coordinates_1 . count ) let myPolyLine_2 : MKPolyline = MKPolyline ( coordinates : & coordinates_2 , count : coordinates_2 . count ) // mapView\u306bcircle\u3092\u8ffd\u52a0. myMapView . add ( myPolyLine_1 ) myMapView . add ( myPolyLine_2 ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } /* addOverlay\u3057\u305f\u969b\u306b\u547c\u3070\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8\u30e1\u30bd\u30c3\u30c9. */ func mapView ( _ mapView : MKMapView , rendererFor overlay : MKOverlay ) -> MKOverlayRenderer { // renderer\u3092\u751f\u6210. let myPolyLineRendere : MKPolylineRenderer = MKPolylineRenderer ( overlay : overlay ) // \u7dda\u306e\u592a\u3055\u3092\u6307\u5b9a. myPolyLineRendere . lineWidth = 5 // \u7dda\u306e\u8272\u3092\u6307\u5b9a. myPolyLineRendere . strokeColor = UIColor . red return myPolyLineRendere } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 // // ViewController.swift // MapKit013 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit class ViewController : UIViewController , MKMapViewDelegate { override func viewDidLoad () { super . viewDidLoad () // \u7d4c\u5ea6\u7def\u5ea6\u3092\u8a2d\u5b9a. let myLan : CLLocationDegrees = 37.331741 let myLon : CLLocationDegrees = - 122.030333 // \u5730\u56f3\u306e\u4e2d\u5fc3\u306e\u5ea7\u6a19. let center : CLLocationCoordinate2D = CLLocationCoordinate2DMake ( myLan , myLon ) // mapView\u3092\u751f\u6210. let myMapView : MKMapView = MKMapView () myMapView . frame = self . view . frame myMapView . center = self . view . center myMapView . centerCoordinate = center myMapView . delegate = self // \u7e2e\u5c3a\u3092\u6307\u5b9a. let mySpan : MKCoordinateSpan = MKCoordinateSpan ( latitudeDelta : 0.1 , longitudeDelta : 0.1 ) let myRegion : MKCoordinateRegion = MKCoordinateRegion ( center : center , span : mySpan ) // region\u3092mapView\u306b\u8ffd\u52a0. myMapView . region = myRegion // view\u306bmapView\u3092\u8ffd\u52a0. self . view . addSubview ( myMapView ) // \u76f4\u7dda\u3092\u5f15\u304f\u5ea7\u6a19\u3092\u4f5c\u6210. let coordinate_1 = CLLocationCoordinate2D ( latitude : 37.301741 , longitude : - 122.050333 ) let coordinate_2 = CLLocationCoordinate2D ( latitude : 37.351951 , longitude : - 122.020314 ) let coordinate_3 = CLLocationCoordinate2D ( latitude : 37.301741 , longitude : - 122.020314 ) let coordinate_4 = CLLocationCoordinate2D ( latitude : 37.351951 , longitude : - 122.050333 ) // \u5ea7\u6a19\u3092\u914d\u5217\u306b\u683c\u7d0d. var coordinates_1 = [ coordinate_1 , coordinate_2 ] var coordinates_2 = [ coordinate_3 , coordinate_4 ] // polyline\u4f5c\u6210. let myPolyLine_1 : MKPolyline = MKPolyline ( coordinates : & coordinates_1 , count : coordinates_1 . count ) let myPolyLine_2 : MKPolyline = MKPolyline ( coordinates : & coordinates_2 , count : coordinates_2 . count ) // mapView\u306bcircle\u3092\u8ffd\u52a0. myMapView . addOverlay ( myPolyLine_1 ) myMapView . addOverlay ( myPolyLine_2 ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } /* addOverlay\u3057\u305f\u969b\u306b\u547c\u3070\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8\u30e1\u30bd\u30c3\u30c9. */ func mapView ( mapView : MKMapView , rendererForOverlay overlay : MKOverlay ) -> MKOverlayRenderer { // renderer\u3092\u751f\u6210. let myPolyLineRendere : MKPolylineRenderer = MKPolylineRenderer ( overlay : overlay ) // \u7dda\u306e\u592a\u3055\u3092\u6307\u5b9a. myPolyLineRendere . lineWidth = 5 // \u7dda\u306e\u8272\u3092\u6307\u5b9a. myPolyLineRendere . strokeColor = UIColor . redColor () return myPolyLineRendere } }","title":"\u5730\u56f3\u4e0a\u306b\u76f4\u7dda\u3092\u5f15\u304f"},{"location":"3.mapkit/013_line/#3x4x","text":"add \u304c addOverlay \u306b\u5909\u66f4","title":"3.x\u30684.x\u306e\u5dee\u5206"},{"location":"3.mapkit/013_line/#2330","text":"addOverlay \u304b\u3089 add \u306b\u5909\u66f4","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"3.mapkit/013_line/#reference","text":"MKPolylineRenderer https://developer.apple.com/reference/mapkit/mkpolylinerenderer","title":"Reference"},{"location":"3.mapkit/014_snapshot/","text":"\u5730\u56f3\u306e\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u3092\u64ae\u308b Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 // // ViewController.swift // MapKit014 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit class ViewController : UIViewController { var myMapView : MKMapView ! var mySnapShotOptions : MKMapSnapshotter . Options = MKMapSnapshotter . Options () var mySnapShot : MKMapSnapshotter ! override func viewDidLoad () { super . viewDidLoad () // MapView\u3092\u751f\u6210. myMapView = MKMapView () myMapView . frame = CGRect ( x : 0 , y : 0 , width : self . view . frame . width , height : self . view . frame . height / 2 ) // \u7d4c\u5ea6\u3001\u7def\u5ea6\u3092\u8a2d\u5b9a. let myLatitude : CLLocationDegrees = 37.331741 let myLongitude : CLLocationDegrees = - 122.030333 // \u4e2d\u5fc3\u70b9\u3092\u8a2d\u5b9a. let center : CLLocationCoordinate2D = CLLocationCoordinate2DMake ( myLatitude , myLongitude ) // MapView\u306b\u4e2d\u5fc3\u70b9\u3092\u8a2d\u5b9a. myMapView . setCenter ( center , animated : true ) // \u7e2e\u5c3a(\u8868\u793a\u9818\u57df)\u3092\u6307\u5b9a. let mySpan : MKCoordinateSpan = MKCoordinateSpan ( latitudeDelta : 0.05 , longitudeDelta : 0.05 ) let myRegion : MKCoordinateRegion = MKCoordinateRegion ( center : center , span : mySpan ) // MapView\u306bregion\u3092\u8ffd\u52a0. myMapView . region = myRegion // view\u306bMapView\u3092\u8ffd\u52a0. self . view . addSubview ( myMapView ) // UIButton\u3092\u751f\u6210. let myButton : UIButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 50 )) myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 50 ) myButton . layer . cornerRadius = 20.0 myButton . backgroundColor = UIColor . red myButton . setTitle ( \"\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\" , for : . normal ) myButton . setTitleColor ( UIColor . white , for : . normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchUpInside ) // UIButton\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( myButton ) // MKMapSnapShotOptions\u306e\u8a2d\u5b9a. mySnapShotOptions . region = myRegion mySnapShotOptions . size = myMapView . frame . size mySnapShotOptions . scale = UIScreen . main . scale // MKMapSnapShotter\u306bMKMapSnapShotOptions\u3092\u30bb\u30c3\u30c8. mySnapShot = MKMapSnapshotter ( options : mySnapShotOptions ) } /* \u30dc\u30bf\u30f3\u3092\u62bc\u3057\u305f\u3068\u304d\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ @objc func onClickMyButton ( sender : UIButton ) { //\u5b9f\u884c\u4e2d\u306e\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u304c\u3042\u3063\u305f\u3089\u4e2d\u6b62\u3059\u308b. mySnapShot . cancel () // UIImageView\u306e\u751f\u6210. let myImageView : UIImageView = UIImageView ( frame : CGRect ( x : 0 , y : 0 , width : 250 , height : 180 )) myImageView . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 180 ) // \u753b\u50cf\u306e\u30a2\u30b9\u30da\u30af\u30c8\u6bd4\u3092\u7dad\u6301. myImageView . contentMode = UIView . ContentMode . scaleAspectFit // \u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u3092\u64ae\u308b. mySnapShot . start { ( snapshot , error ) -> Void in if error == nil { myImageView . image = snapshot !. image } else { print ( \"error\" ) } } // UIImageView\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( myImageView ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 // // ViewController.swift // MapKit014 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit class ViewController : UIViewController { var myMapView : MKMapView ! var mySnapShotOptions : MKMapSnapshotOptions = MKMapSnapshotOptions () var mySnapShot : MKMapSnapshotter ! override func viewDidLoad () { super . viewDidLoad () // MapView\u3092\u751f\u6210. myMapView = MKMapView () myMapView . frame = CGRect ( x : 0 , y : 0 , width : self . view . frame . width , height : self . view . frame . height / 2 ) // \u7d4c\u5ea6\u3001\u7def\u5ea6\u3092\u8a2d\u5b9a. let myLatitude : CLLocationDegrees = 37.331741 let myLongitude : CLLocationDegrees = - 122.030333 // \u4e2d\u5fc3\u70b9\u3092\u8a2d\u5b9a. let center : CLLocationCoordinate2D = CLLocationCoordinate2DMake ( myLatitude , myLongitude ) // MapView\u306b\u4e2d\u5fc3\u70b9\u3092\u8a2d\u5b9a. myMapView . setCenter ( center , animated : true ) // \u7e2e\u5c3a(\u8868\u793a\u9818\u57df)\u3092\u6307\u5b9a. let mySpan : MKCoordinateSpan = MKCoordinateSpan ( latitudeDelta : 0.05 , longitudeDelta : 0.05 ) let myRegion : MKCoordinateRegion = MKCoordinateRegionMake ( center , mySpan ) // MapView\u306bregion\u3092\u8ffd\u52a0. myMapView . region = myRegion // view\u306bMapView\u3092\u8ffd\u52a0. self . view . addSubview ( myMapView ) // UIButton\u3092\u751f\u6210. let myButton : UIButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 50 )) myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 50 ) myButton . layer . cornerRadius = 20.0 myButton . backgroundColor = UIColor . red myButton . setTitle ( \"\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\" , for : . normal ) myButton . setTitleColor ( UIColor . white , for : . normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchUpInside ) // UIButton\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( myButton ) // MKMapSnapShotOptions\u306e\u8a2d\u5b9a. mySnapShotOptions . region = myRegion mySnapShotOptions . size = myMapView . frame . size mySnapShotOptions . scale = UIScreen . main . scale // MKMapSnapShotter\u306bMKMapSnapShotOptions\u3092\u30bb\u30c3\u30c8. mySnapShot = MKMapSnapshotter ( options : mySnapShotOptions ) } /* \u30dc\u30bf\u30f3\u3092\u62bc\u3057\u305f\u3068\u304d\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func onClickMyButton ( sender : UIButton ) { //\u5b9f\u884c\u4e2d\u306e\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u304c\u3042\u3063\u305f\u3089\u4e2d\u6b62\u3059\u308b. mySnapShot . cancel () // UIImageView\u306e\u751f\u6210. let myImageView : UIImageView = UIImageView ( frame : CGRect ( x : 0 , y : 0 , width : 250 , height : 180 )) myImageView . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 180 ) // \u753b\u50cf\u306e\u30a2\u30b9\u30da\u30af\u30c8\u6bd4\u3092\u7dad\u6301. myImageView . contentMode = UIViewContentMode . scaleAspectFit // \u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u3092\u64ae\u308b. mySnapShot . start { ( snapshot , error ) -> Void in if error == nil { myImageView . image = snapshot !. image } else { print ( \"error\" ) } } // UIImageView\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( myImageView ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 // // ViewController.swift // MapKit014 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit class ViewController : UIViewController { var myMapView : MKMapView ! var mySnapShotOptions : MKMapSnapshotOptions = MKMapSnapshotOptions () var mySnapShot : MKMapSnapshotter ! override func viewDidLoad () { super . viewDidLoad () // MapView\u3092\u751f\u6210. myMapView = MKMapView () myMapView . frame = CGRectMake ( 0 , 0 , self . view . frame . width , self . view . frame . height / 2 ) // \u7d4c\u5ea6\u3001\u7def\u5ea6\u3092\u8a2d\u5b9a. let myLatitude : CLLocationDegrees = 37.331741 let myLongitude : CLLocationDegrees = - 122.030333 // \u4e2d\u5fc3\u70b9\u3092\u8a2d\u5b9a. let center : CLLocationCoordinate2D = CLLocationCoordinate2DMake ( myLatitude , myLongitude ) // MapView\u306b\u4e2d\u5fc3\u70b9\u3092\u8a2d\u5b9a. myMapView . setCenterCoordinate ( center , animated : true ) // \u7e2e\u5c3a(\u8868\u793a\u9818\u57df)\u3092\u6307\u5b9a. let mySpan : MKCoordinateSpan = MKCoordinateSpan ( latitudeDelta : 0.05 , longitudeDelta : 0.05 ) let myRegion : MKCoordinateRegion = MKCoordinateRegionMake ( center , mySpan ) // MapView\u306bregion\u3092\u8ffd\u52a0. myMapView . region = myRegion // view\u306bMapView\u3092\u8ffd\u52a0. self . view . addSubview ( myMapView ) // UIButton\u3092\u751f\u6210. let myButton : UIButton = UIButton ( frame : CGRectMake ( 0 , 0 , 200 , 50 )) myButton . layer . position = CGPointMake ( self . view . frame . width / 2 , self . view . frame . height - 50 ) myButton . layer . cornerRadius = 20.0 myButton . backgroundColor = UIColor . redColor () myButton . setTitle ( \"\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\" , forState : . Normal ) myButton . setTitleColor ( UIColor . whiteColor (), forState : . Normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : . TouchUpInside ) // UIButton\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( myButton ) // MKMapSnapShotOptions\u306e\u8a2d\u5b9a. mySnapShotOptions . region = myRegion mySnapShotOptions . size = myMapView . frame . size mySnapShotOptions . scale = UIScreen . mainScreen (). scale // MKMapSnapShotter\u306bMKMapSnapShotOptions\u3092\u30bb\u30c3\u30c8. mySnapShot = MKMapSnapshotter ( options : mySnapShotOptions ) } /* \u30dc\u30bf\u30f3\u3092\u62bc\u3057\u305f\u3068\u304d\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func onClickMyButton ( sender : UIButton ) { //\u5b9f\u884c\u4e2d\u306e\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u304c\u3042\u3063\u305f\u3089\u4e2d\u6b62\u3059\u308b. mySnapShot . cancel () // UIImageView\u306e\u751f\u6210. let myImageView : UIImageView = UIImageView ( frame : CGRectMake ( 0 , 0 , 250 , 180 )) myImageView . layer . position = CGPointMake ( self . view . frame . width / 2 , self . view . frame . height - 180 ) // \u753b\u50cf\u306e\u30a2\u30b9\u30da\u30af\u30c8\u6bd4\u3092\u7dad\u6301. myImageView . contentMode = UIViewContentMode . ScaleAspectFit // \u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u3092\u64ae\u308b. mySnapShot . startWithCompletionHandler { ( snapshot , error ) -> Void in if error == nil { myImageView . image = snapshot !. image } else { print ( \"error\" ) } } // UIImageView\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( myImageView ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } 3.x\u30684.x\u306e\u5dee\u5206 MKMapSnapshotOptions \u304c MKMapSnapshotter.Options \u306b\u5909\u66f4 MKCoordinateRegionMake(center, mySpan) \u304c MKCoordinateRegion(center: center, span: mySpan) \u306b\u5909\u66f4 func onClickMyButton(sender: UIButton) \u306b @objc \u3092\u8ffd\u52a0 UIViewContentMode \u304c UIView.ContentMode \u306b\u5909\u66f4 2.3\u30683.0\u306e\u5dee\u5206 setCenterCoordinate \u304b\u3089 setCenter \u306b\u5909\u66f4 startWithCompletionHandler \u304b\u3089 start \u306b\u5909\u66f4 Reference MKMapView https://developer.apple.com/reference/mapkit/mkmapview MKMapSnapshotter https://developer.apple.com/reference/mapkit/mkmapsnapshotter","title":"\u5730\u56f3\u306e\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u3092\u64ae\u308b"},{"location":"3.mapkit/014_snapshot/#_1","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 // // ViewController.swift // MapKit014 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit class ViewController : UIViewController { var myMapView : MKMapView ! var mySnapShotOptions : MKMapSnapshotter . Options = MKMapSnapshotter . Options () var mySnapShot : MKMapSnapshotter ! override func viewDidLoad () { super . viewDidLoad () // MapView\u3092\u751f\u6210. myMapView = MKMapView () myMapView . frame = CGRect ( x : 0 , y : 0 , width : self . view . frame . width , height : self . view . frame . height / 2 ) // \u7d4c\u5ea6\u3001\u7def\u5ea6\u3092\u8a2d\u5b9a. let myLatitude : CLLocationDegrees = 37.331741 let myLongitude : CLLocationDegrees = - 122.030333 // \u4e2d\u5fc3\u70b9\u3092\u8a2d\u5b9a. let center : CLLocationCoordinate2D = CLLocationCoordinate2DMake ( myLatitude , myLongitude ) // MapView\u306b\u4e2d\u5fc3\u70b9\u3092\u8a2d\u5b9a. myMapView . setCenter ( center , animated : true ) // \u7e2e\u5c3a(\u8868\u793a\u9818\u57df)\u3092\u6307\u5b9a. let mySpan : MKCoordinateSpan = MKCoordinateSpan ( latitudeDelta : 0.05 , longitudeDelta : 0.05 ) let myRegion : MKCoordinateRegion = MKCoordinateRegion ( center : center , span : mySpan ) // MapView\u306bregion\u3092\u8ffd\u52a0. myMapView . region = myRegion // view\u306bMapView\u3092\u8ffd\u52a0. self . view . addSubview ( myMapView ) // UIButton\u3092\u751f\u6210. let myButton : UIButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 50 )) myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 50 ) myButton . layer . cornerRadius = 20.0 myButton . backgroundColor = UIColor . red myButton . setTitle ( \"\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\" , for : . normal ) myButton . setTitleColor ( UIColor . white , for : . normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchUpInside ) // UIButton\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( myButton ) // MKMapSnapShotOptions\u306e\u8a2d\u5b9a. mySnapShotOptions . region = myRegion mySnapShotOptions . size = myMapView . frame . size mySnapShotOptions . scale = UIScreen . main . scale // MKMapSnapShotter\u306bMKMapSnapShotOptions\u3092\u30bb\u30c3\u30c8. mySnapShot = MKMapSnapshotter ( options : mySnapShotOptions ) } /* \u30dc\u30bf\u30f3\u3092\u62bc\u3057\u305f\u3068\u304d\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ @objc func onClickMyButton ( sender : UIButton ) { //\u5b9f\u884c\u4e2d\u306e\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u304c\u3042\u3063\u305f\u3089\u4e2d\u6b62\u3059\u308b. mySnapShot . cancel () // UIImageView\u306e\u751f\u6210. let myImageView : UIImageView = UIImageView ( frame : CGRect ( x : 0 , y : 0 , width : 250 , height : 180 )) myImageView . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 180 ) // \u753b\u50cf\u306e\u30a2\u30b9\u30da\u30af\u30c8\u6bd4\u3092\u7dad\u6301. myImageView . contentMode = UIView . ContentMode . scaleAspectFit // \u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u3092\u64ae\u308b. mySnapShot . start { ( snapshot , error ) -> Void in if error == nil { myImageView . image = snapshot !. image } else { print ( \"error\" ) } } // UIImageView\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( myImageView ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 // // ViewController.swift // MapKit014 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit class ViewController : UIViewController { var myMapView : MKMapView ! var mySnapShotOptions : MKMapSnapshotOptions = MKMapSnapshotOptions () var mySnapShot : MKMapSnapshotter ! override func viewDidLoad () { super . viewDidLoad () // MapView\u3092\u751f\u6210. myMapView = MKMapView () myMapView . frame = CGRect ( x : 0 , y : 0 , width : self . view . frame . width , height : self . view . frame . height / 2 ) // \u7d4c\u5ea6\u3001\u7def\u5ea6\u3092\u8a2d\u5b9a. let myLatitude : CLLocationDegrees = 37.331741 let myLongitude : CLLocationDegrees = - 122.030333 // \u4e2d\u5fc3\u70b9\u3092\u8a2d\u5b9a. let center : CLLocationCoordinate2D = CLLocationCoordinate2DMake ( myLatitude , myLongitude ) // MapView\u306b\u4e2d\u5fc3\u70b9\u3092\u8a2d\u5b9a. myMapView . setCenter ( center , animated : true ) // \u7e2e\u5c3a(\u8868\u793a\u9818\u57df)\u3092\u6307\u5b9a. let mySpan : MKCoordinateSpan = MKCoordinateSpan ( latitudeDelta : 0.05 , longitudeDelta : 0.05 ) let myRegion : MKCoordinateRegion = MKCoordinateRegionMake ( center , mySpan ) // MapView\u306bregion\u3092\u8ffd\u52a0. myMapView . region = myRegion // view\u306bMapView\u3092\u8ffd\u52a0. self . view . addSubview ( myMapView ) // UIButton\u3092\u751f\u6210. let myButton : UIButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 50 )) myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 50 ) myButton . layer . cornerRadius = 20.0 myButton . backgroundColor = UIColor . red myButton . setTitle ( \"\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\" , for : . normal ) myButton . setTitleColor ( UIColor . white , for : . normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchUpInside ) // UIButton\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( myButton ) // MKMapSnapShotOptions\u306e\u8a2d\u5b9a. mySnapShotOptions . region = myRegion mySnapShotOptions . size = myMapView . frame . size mySnapShotOptions . scale = UIScreen . main . scale // MKMapSnapShotter\u306bMKMapSnapShotOptions\u3092\u30bb\u30c3\u30c8. mySnapShot = MKMapSnapshotter ( options : mySnapShotOptions ) } /* \u30dc\u30bf\u30f3\u3092\u62bc\u3057\u305f\u3068\u304d\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func onClickMyButton ( sender : UIButton ) { //\u5b9f\u884c\u4e2d\u306e\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u304c\u3042\u3063\u305f\u3089\u4e2d\u6b62\u3059\u308b. mySnapShot . cancel () // UIImageView\u306e\u751f\u6210. let myImageView : UIImageView = UIImageView ( frame : CGRect ( x : 0 , y : 0 , width : 250 , height : 180 )) myImageView . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 180 ) // \u753b\u50cf\u306e\u30a2\u30b9\u30da\u30af\u30c8\u6bd4\u3092\u7dad\u6301. myImageView . contentMode = UIViewContentMode . scaleAspectFit // \u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u3092\u64ae\u308b. mySnapShot . start { ( snapshot , error ) -> Void in if error == nil { myImageView . image = snapshot !. image } else { print ( \"error\" ) } } // UIImageView\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( myImageView ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 // // ViewController.swift // MapKit014 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit class ViewController : UIViewController { var myMapView : MKMapView ! var mySnapShotOptions : MKMapSnapshotOptions = MKMapSnapshotOptions () var mySnapShot : MKMapSnapshotter ! override func viewDidLoad () { super . viewDidLoad () // MapView\u3092\u751f\u6210. myMapView = MKMapView () myMapView . frame = CGRectMake ( 0 , 0 , self . view . frame . width , self . view . frame . height / 2 ) // \u7d4c\u5ea6\u3001\u7def\u5ea6\u3092\u8a2d\u5b9a. let myLatitude : CLLocationDegrees = 37.331741 let myLongitude : CLLocationDegrees = - 122.030333 // \u4e2d\u5fc3\u70b9\u3092\u8a2d\u5b9a. let center : CLLocationCoordinate2D = CLLocationCoordinate2DMake ( myLatitude , myLongitude ) // MapView\u306b\u4e2d\u5fc3\u70b9\u3092\u8a2d\u5b9a. myMapView . setCenterCoordinate ( center , animated : true ) // \u7e2e\u5c3a(\u8868\u793a\u9818\u57df)\u3092\u6307\u5b9a. let mySpan : MKCoordinateSpan = MKCoordinateSpan ( latitudeDelta : 0.05 , longitudeDelta : 0.05 ) let myRegion : MKCoordinateRegion = MKCoordinateRegionMake ( center , mySpan ) // MapView\u306bregion\u3092\u8ffd\u52a0. myMapView . region = myRegion // view\u306bMapView\u3092\u8ffd\u52a0. self . view . addSubview ( myMapView ) // UIButton\u3092\u751f\u6210. let myButton : UIButton = UIButton ( frame : CGRectMake ( 0 , 0 , 200 , 50 )) myButton . layer . position = CGPointMake ( self . view . frame . width / 2 , self . view . frame . height - 50 ) myButton . layer . cornerRadius = 20.0 myButton . backgroundColor = UIColor . redColor () myButton . setTitle ( \"\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\" , forState : . Normal ) myButton . setTitleColor ( UIColor . whiteColor (), forState : . Normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : . TouchUpInside ) // UIButton\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( myButton ) // MKMapSnapShotOptions\u306e\u8a2d\u5b9a. mySnapShotOptions . region = myRegion mySnapShotOptions . size = myMapView . frame . size mySnapShotOptions . scale = UIScreen . mainScreen (). scale // MKMapSnapShotter\u306bMKMapSnapShotOptions\u3092\u30bb\u30c3\u30c8. mySnapShot = MKMapSnapshotter ( options : mySnapShotOptions ) } /* \u30dc\u30bf\u30f3\u3092\u62bc\u3057\u305f\u3068\u304d\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func onClickMyButton ( sender : UIButton ) { //\u5b9f\u884c\u4e2d\u306e\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u304c\u3042\u3063\u305f\u3089\u4e2d\u6b62\u3059\u308b. mySnapShot . cancel () // UIImageView\u306e\u751f\u6210. let myImageView : UIImageView = UIImageView ( frame : CGRectMake ( 0 , 0 , 250 , 180 )) myImageView . layer . position = CGPointMake ( self . view . frame . width / 2 , self . view . frame . height - 180 ) // \u753b\u50cf\u306e\u30a2\u30b9\u30da\u30af\u30c8\u6bd4\u3092\u7dad\u6301. myImageView . contentMode = UIViewContentMode . ScaleAspectFit // \u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u3092\u64ae\u308b. mySnapShot . startWithCompletionHandler { ( snapshot , error ) -> Void in if error == nil { myImageView . image = snapshot !. image } else { print ( \"error\" ) } } // UIImageView\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( myImageView ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } }","title":"\u5730\u56f3\u306e\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u3092\u64ae\u308b"},{"location":"3.mapkit/014_snapshot/#3x4x","text":"MKMapSnapshotOptions \u304c MKMapSnapshotter.Options \u306b\u5909\u66f4 MKCoordinateRegionMake(center, mySpan) \u304c MKCoordinateRegion(center: center, span: mySpan) \u306b\u5909\u66f4 func onClickMyButton(sender: UIButton) \u306b @objc \u3092\u8ffd\u52a0 UIViewContentMode \u304c UIView.ContentMode \u306b\u5909\u66f4","title":"3.x\u30684.x\u306e\u5dee\u5206"},{"location":"3.mapkit/014_snapshot/#2330","text":"setCenterCoordinate \u304b\u3089 setCenter \u306b\u5909\u66f4 startWithCompletionHandler \u304b\u3089 start \u306b\u5909\u66f4","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"3.mapkit/014_snapshot/#reference","text":"MKMapView https://developer.apple.com/reference/mapkit/mkmapview MKMapSnapshotter https://developer.apple.com/reference/mapkit/mkmapsnapshotter","title":"Reference"},{"location":"3.mapkit/015_geo/","text":"\u6b63\u30b8\u30aa\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0 Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 // // ViewController.swift // MapKit015 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit class ViewController : UIViewController , MKMapViewDelegate { var myMapView : MKMapView ! var myPin : MKPointAnnotation ! // \u7d4c\u5ea6\u3001\u7def\u5ea6. let myLatitude : CLLocationDegrees = 37.331741 let myLongitude : CLLocationDegrees = - 122.030333 override func viewDidLoad () { super . viewDidLoad () // UIButton\u3092\u4f5c\u6210\u3059\u308b. let myButton : UIButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 50 )) myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 100 ) myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 20.0 myButton . setTitle ( \"GeoCoding\" , for : . normal ) myButton . backgroundColor = UIColor . red myButton . setTitleColor ( UIColor . white , for : . normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchUpInside ) // MapView\u3092\u751f\u6210. myMapView = MKMapView () myMapView . frame = self . view . frame // \u30c7\u30ea\u30b2\u30fc\u30c8\u3092\u8a2d\u5b9a. myMapView . delegate = self // \u4e2d\u5fc3\u70b9. let center : CLLocationCoordinate2D = CLLocationCoordinate2DMake ( myLatitude , myLongitude ) // MapView\u306b\u4e2d\u5fc3\u70b9\u3092\u8a2d\u5b9a. myMapView . setCenter ( center , animated : true ) // \u7e2e\u5c3a\u3092\u6307\u5b9a. // \u8868\u793a\u9818\u57df. let mySpan : MKCoordinateSpan = MKCoordinateSpan ( latitudeDelta : 0.1 , longitudeDelta : 0.1 ) let myRegion : MKCoordinateRegion = MKCoordinateRegion ( center : center , span : mySpan ) // MapView\u306bregion\u3092\u8ffd\u52a0. myMapView . region = myRegion // view\u306bMapView\u3092\u8ffd\u52a0. self . view . addSubview ( myMapView ) // UIButton\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( myButton ) // pin\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u4f5c\u6210. myPin = MKPointAnnotation () myPin . title = \"Latitude\" myPin . subtitle = \"Longitude\" myPin . coordinate = center // \u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092mapView\u306b\u8ffd\u52a0. myMapView . addAnnotation ( myPin ) } @objc func onClickMyButton ( sender : UIButton ) { // geocoder\u3092\u4f5c\u6210. let myGeocoder : CLGeocoder = CLGeocoder () // \u691c\u7d22\u3059\u308b\u4f4f\u6240. let myAddress : String = \"1 Infinite Loop, Cupertino, CA, USA\" // \u6b63\u30b8\u30aa\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u958b\u59cb myGeocoder . geocodeAddressString ( myAddress , completionHandler : { ( placemarks , error ) -> Void in for placemark in placemarks ! { // location\u306bplacemark.location\u3092CLLocation\u3068\u3057\u3066\u4ee3\u5165\u3059\u308b let location : CLLocation = placemark . location ! print ( \"Latitude: \\( location . coordinate . latitude ) \" ) print ( \"Longitude: \\( location . coordinate . longitude ) \" ) // \u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u306etitle, subtitle\u306b\u305d\u308c\u305e\u308c\u7def\u5ea6\u7d4c\u5ea6\u3092\u30bb\u30c3\u30c8. self . myPin . title = \" \\( location . coordinate . latitude ) \" self . myPin . subtitle = \" \\( location . coordinate . longitude ) \" } }) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 // // ViewController.swift // MapKit015 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit class ViewController : UIViewController , MKMapViewDelegate { var myMapView : MKMapView ! var myPin : MKPointAnnotation ! // \u7d4c\u5ea6\u3001\u7def\u5ea6. let myLatitude : CLLocationDegrees = 37.331741 let myLongitude : CLLocationDegrees = - 122.030333 override func viewDidLoad () { super . viewDidLoad () // UIButton\u3092\u4f5c\u6210\u3059\u308b. let myButton : UIButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 50 )) myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 100 ) myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 20.0 myButton . setTitle ( \"GeoCoding\" , for : . normal ) myButton . backgroundColor = UIColor . red myButton . setTitleColor ( UIColor . white , for : . normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchUpInside ) // MapView\u3092\u751f\u6210. myMapView = MKMapView () myMapView . frame = self . view . frame // \u30c7\u30ea\u30b2\u30fc\u30c8\u3092\u8a2d\u5b9a. myMapView . delegate = self // \u4e2d\u5fc3\u70b9. let center : CLLocationCoordinate2D = CLLocationCoordinate2DMake ( myLatitude , myLongitude ) // MapView\u306b\u4e2d\u5fc3\u70b9\u3092\u8a2d\u5b9a. myMapView . setCenter ( center , animated : true ) // \u7e2e\u5c3a\u3092\u6307\u5b9a. // \u8868\u793a\u9818\u57df. let mySpan : MKCoordinateSpan = MKCoordinateSpan ( latitudeDelta : 0.1 , longitudeDelta : 0.1 ) let myRegion : MKCoordinateRegion = MKCoordinateRegionMake ( center , mySpan ) // MapView\u306bregion\u3092\u8ffd\u52a0. myMapView . region = myRegion // view\u306bMapView\u3092\u8ffd\u52a0. self . view . addSubview ( myMapView ) // UIButton\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( myButton ) // pin\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u4f5c\u6210. myPin = MKPointAnnotation () myPin . title = \"Latitude\" myPin . subtitle = \"Longitude\" myPin . coordinate = center // \u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092mapView\u306b\u8ffd\u52a0. myMapView . addAnnotation ( myPin ) } func onClickMyButton ( sender : UIButton ) { // geocoder\u3092\u4f5c\u6210. let myGeocoder : CLGeocoder = CLGeocoder () // \u691c\u7d22\u3059\u308b\u4f4f\u6240. let myAddress : String = \"1 Infinite Loop, Cupertino, CA, USA\" // \u6b63\u30b8\u30aa\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u958b\u59cb myGeocoder . geocodeAddressString ( myAddress , completionHandler : { ( placemarks , error ) -> Void in for placemark in placemarks ! { // location\u306bplacemark.location\u3092CLLocation\u3068\u3057\u3066\u4ee3\u5165\u3059\u308b let location : CLLocation = placemark . location ! print ( \"Latitude: \\( location . coordinate . latitude ) \" ) print ( \"Longitude: \\( location . coordinate . longitude ) \" ) // \u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u306etitle, subtitle\u306b\u305d\u308c\u305e\u308c\u7def\u5ea6\u7d4c\u5ea6\u3092\u30bb\u30c3\u30c8. self . myPin . title = \" \\( location . coordinate . latitude ) \" self . myPin . subtitle = \" \\( location . coordinate . longitude ) \" } }) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 // // ViewController.swift // MapKit015 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit class ViewController : UIViewController , MKMapViewDelegate { var myMapView : MKMapView ! var myPin : MKPointAnnotation ! // \u7d4c\u5ea6\u3001\u7def\u5ea6. let myLatitude : CLLocationDegrees = 37.331741 let myLongitude : CLLocationDegrees = - 122.030333 override func viewDidLoad () { super . viewDidLoad () // UIButton\u3092\u4f5c\u6210\u3059\u308b. let myButton : UIButton = UIButton ( frame : CGRectMake ( 0 , 0 , 200 , 50 )) myButton . layer . position = CGPointMake ( self . view . frame . width / 2 , self . view . frame . height - 100 ) myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 20.0 myButton . setTitle ( \"GeoCoding\" , forState : . Normal ) myButton . backgroundColor = UIColor . redColor () myButton . setTitleColor ( UIColor . whiteColor (), forState : . Normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : . TouchUpInside ) // MapView\u3092\u751f\u6210. myMapView = MKMapView () myMapView . frame = self . view . frame // \u30c7\u30ea\u30b2\u30fc\u30c8\u3092\u8a2d\u5b9a. myMapView . delegate = self // \u4e2d\u5fc3\u70b9. let center : CLLocationCoordinate2D = CLLocationCoordinate2DMake ( myLatitude , myLongitude ) // MapView\u306b\u4e2d\u5fc3\u70b9\u3092\u8a2d\u5b9a. myMapView . setCenterCoordinate ( center , animated : true ) // \u7e2e\u5c3a\u3092\u6307\u5b9a. // \u8868\u793a\u9818\u57df. let mySpan : MKCoordinateSpan = MKCoordinateSpan ( latitudeDelta : 0.1 , longitudeDelta : 0.1 ) let myRegion : MKCoordinateRegion = MKCoordinateRegionMake ( center , mySpan ) // MapView\u306bregion\u3092\u8ffd\u52a0. myMapView . region = myRegion // view\u306bMapView\u3092\u8ffd\u52a0. self . view . addSubview ( myMapView ) // UIButton\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( myButton ) // pin\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u4f5c\u6210. myPin = MKPointAnnotation () myPin . title = \"Latitude\" myPin . subtitle = \"Longitude\" myPin . coordinate = center // \u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092mapView\u306b\u8ffd\u52a0. myMapView . addAnnotation ( myPin ) } func onClickMyButton ( sender : UIButton ) { // geocoder\u3092\u4f5c\u6210. let myGeocoder : CLGeocoder = CLGeocoder () // \u691c\u7d22\u3059\u308b\u4f4f\u6240. let myAddress : String = \"1 Infinite Loop, Cupertino, CA, USA\" // \u6b63\u30b8\u30aa\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u958b\u59cb myGeocoder . geocodeAddressString ( myAddress , completionHandler : { ( placemarks , error ) -> Void in for placemark in placemarks ! { // location\u306bplacemark.location\u3092CLLocation\u3068\u3057\u3066\u4ee3\u5165\u3059\u308b let location : CLLocation = placemark . location ! print ( \"Latitude: \\( location . coordinate . latitude ) \" ) print ( \"Longitude: \\( location . coordinate . longitude ) \" ) // \u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u306etitle, subtitle\u306b\u305d\u308c\u305e\u308c\u7def\u5ea6\u7d4c\u5ea6\u3092\u30bb\u30c3\u30c8. self . myPin . title = \" \\( location . coordinate . latitude ) \" self . myPin . subtitle = \" \\( location . coordinate . longitude ) \" } }) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } 3.x\u30684.x\u306e\u5dee\u5206 func onClickMyButton(sender: UIButton) \u306b @objc \u3092\u8ffd\u52a0 MKCoordinateRegionMake(center, mySpan) \u304c MKCoordinateRegion(center: center, span: mySpan)\u306b\u5909\u66f4 2.3\u30683.0\u306e\u5dee\u5206 setCenterCoordinate \u304b\u3089 setCenter \u306b\u5909\u66f4 Reference CLGeocoder https://developer.apple.com/reference/corelocation/clgeocoder","title":"\u6b63\u30b8\u30aa\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0"},{"location":"3.mapkit/015_geo/#_1","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 // // ViewController.swift // MapKit015 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit class ViewController : UIViewController , MKMapViewDelegate { var myMapView : MKMapView ! var myPin : MKPointAnnotation ! // \u7d4c\u5ea6\u3001\u7def\u5ea6. let myLatitude : CLLocationDegrees = 37.331741 let myLongitude : CLLocationDegrees = - 122.030333 override func viewDidLoad () { super . viewDidLoad () // UIButton\u3092\u4f5c\u6210\u3059\u308b. let myButton : UIButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 50 )) myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 100 ) myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 20.0 myButton . setTitle ( \"GeoCoding\" , for : . normal ) myButton . backgroundColor = UIColor . red myButton . setTitleColor ( UIColor . white , for : . normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchUpInside ) // MapView\u3092\u751f\u6210. myMapView = MKMapView () myMapView . frame = self . view . frame // \u30c7\u30ea\u30b2\u30fc\u30c8\u3092\u8a2d\u5b9a. myMapView . delegate = self // \u4e2d\u5fc3\u70b9. let center : CLLocationCoordinate2D = CLLocationCoordinate2DMake ( myLatitude , myLongitude ) // MapView\u306b\u4e2d\u5fc3\u70b9\u3092\u8a2d\u5b9a. myMapView . setCenter ( center , animated : true ) // \u7e2e\u5c3a\u3092\u6307\u5b9a. // \u8868\u793a\u9818\u57df. let mySpan : MKCoordinateSpan = MKCoordinateSpan ( latitudeDelta : 0.1 , longitudeDelta : 0.1 ) let myRegion : MKCoordinateRegion = MKCoordinateRegion ( center : center , span : mySpan ) // MapView\u306bregion\u3092\u8ffd\u52a0. myMapView . region = myRegion // view\u306bMapView\u3092\u8ffd\u52a0. self . view . addSubview ( myMapView ) // UIButton\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( myButton ) // pin\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u4f5c\u6210. myPin = MKPointAnnotation () myPin . title = \"Latitude\" myPin . subtitle = \"Longitude\" myPin . coordinate = center // \u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092mapView\u306b\u8ffd\u52a0. myMapView . addAnnotation ( myPin ) } @objc func onClickMyButton ( sender : UIButton ) { // geocoder\u3092\u4f5c\u6210. let myGeocoder : CLGeocoder = CLGeocoder () // \u691c\u7d22\u3059\u308b\u4f4f\u6240. let myAddress : String = \"1 Infinite Loop, Cupertino, CA, USA\" // \u6b63\u30b8\u30aa\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u958b\u59cb myGeocoder . geocodeAddressString ( myAddress , completionHandler : { ( placemarks , error ) -> Void in for placemark in placemarks ! { // location\u306bplacemark.location\u3092CLLocation\u3068\u3057\u3066\u4ee3\u5165\u3059\u308b let location : CLLocation = placemark . location ! print ( \"Latitude: \\( location . coordinate . latitude ) \" ) print ( \"Longitude: \\( location . coordinate . longitude ) \" ) // \u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u306etitle, subtitle\u306b\u305d\u308c\u305e\u308c\u7def\u5ea6\u7d4c\u5ea6\u3092\u30bb\u30c3\u30c8. self . myPin . title = \" \\( location . coordinate . latitude ) \" self . myPin . subtitle = \" \\( location . coordinate . longitude ) \" } }) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 // // ViewController.swift // MapKit015 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit class ViewController : UIViewController , MKMapViewDelegate { var myMapView : MKMapView ! var myPin : MKPointAnnotation ! // \u7d4c\u5ea6\u3001\u7def\u5ea6. let myLatitude : CLLocationDegrees = 37.331741 let myLongitude : CLLocationDegrees = - 122.030333 override func viewDidLoad () { super . viewDidLoad () // UIButton\u3092\u4f5c\u6210\u3059\u308b. let myButton : UIButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 50 )) myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 100 ) myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 20.0 myButton . setTitle ( \"GeoCoding\" , for : . normal ) myButton . backgroundColor = UIColor . red myButton . setTitleColor ( UIColor . white , for : . normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchUpInside ) // MapView\u3092\u751f\u6210. myMapView = MKMapView () myMapView . frame = self . view . frame // \u30c7\u30ea\u30b2\u30fc\u30c8\u3092\u8a2d\u5b9a. myMapView . delegate = self // \u4e2d\u5fc3\u70b9. let center : CLLocationCoordinate2D = CLLocationCoordinate2DMake ( myLatitude , myLongitude ) // MapView\u306b\u4e2d\u5fc3\u70b9\u3092\u8a2d\u5b9a. myMapView . setCenter ( center , animated : true ) // \u7e2e\u5c3a\u3092\u6307\u5b9a. // \u8868\u793a\u9818\u57df. let mySpan : MKCoordinateSpan = MKCoordinateSpan ( latitudeDelta : 0.1 , longitudeDelta : 0.1 ) let myRegion : MKCoordinateRegion = MKCoordinateRegionMake ( center , mySpan ) // MapView\u306bregion\u3092\u8ffd\u52a0. myMapView . region = myRegion // view\u306bMapView\u3092\u8ffd\u52a0. self . view . addSubview ( myMapView ) // UIButton\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( myButton ) // pin\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u4f5c\u6210. myPin = MKPointAnnotation () myPin . title = \"Latitude\" myPin . subtitle = \"Longitude\" myPin . coordinate = center // \u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092mapView\u306b\u8ffd\u52a0. myMapView . addAnnotation ( myPin ) } func onClickMyButton ( sender : UIButton ) { // geocoder\u3092\u4f5c\u6210. let myGeocoder : CLGeocoder = CLGeocoder () // \u691c\u7d22\u3059\u308b\u4f4f\u6240. let myAddress : String = \"1 Infinite Loop, Cupertino, CA, USA\" // \u6b63\u30b8\u30aa\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u958b\u59cb myGeocoder . geocodeAddressString ( myAddress , completionHandler : { ( placemarks , error ) -> Void in for placemark in placemarks ! { // location\u306bplacemark.location\u3092CLLocation\u3068\u3057\u3066\u4ee3\u5165\u3059\u308b let location : CLLocation = placemark . location ! print ( \"Latitude: \\( location . coordinate . latitude ) \" ) print ( \"Longitude: \\( location . coordinate . longitude ) \" ) // \u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u306etitle, subtitle\u306b\u305d\u308c\u305e\u308c\u7def\u5ea6\u7d4c\u5ea6\u3092\u30bb\u30c3\u30c8. self . myPin . title = \" \\( location . coordinate . latitude ) \" self . myPin . subtitle = \" \\( location . coordinate . longitude ) \" } }) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 // // ViewController.swift // MapKit015 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit class ViewController : UIViewController , MKMapViewDelegate { var myMapView : MKMapView ! var myPin : MKPointAnnotation ! // \u7d4c\u5ea6\u3001\u7def\u5ea6. let myLatitude : CLLocationDegrees = 37.331741 let myLongitude : CLLocationDegrees = - 122.030333 override func viewDidLoad () { super . viewDidLoad () // UIButton\u3092\u4f5c\u6210\u3059\u308b. let myButton : UIButton = UIButton ( frame : CGRectMake ( 0 , 0 , 200 , 50 )) myButton . layer . position = CGPointMake ( self . view . frame . width / 2 , self . view . frame . height - 100 ) myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 20.0 myButton . setTitle ( \"GeoCoding\" , forState : . Normal ) myButton . backgroundColor = UIColor . redColor () myButton . setTitleColor ( UIColor . whiteColor (), forState : . Normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : . TouchUpInside ) // MapView\u3092\u751f\u6210. myMapView = MKMapView () myMapView . frame = self . view . frame // \u30c7\u30ea\u30b2\u30fc\u30c8\u3092\u8a2d\u5b9a. myMapView . delegate = self // \u4e2d\u5fc3\u70b9. let center : CLLocationCoordinate2D = CLLocationCoordinate2DMake ( myLatitude , myLongitude ) // MapView\u306b\u4e2d\u5fc3\u70b9\u3092\u8a2d\u5b9a. myMapView . setCenterCoordinate ( center , animated : true ) // \u7e2e\u5c3a\u3092\u6307\u5b9a. // \u8868\u793a\u9818\u57df. let mySpan : MKCoordinateSpan = MKCoordinateSpan ( latitudeDelta : 0.1 , longitudeDelta : 0.1 ) let myRegion : MKCoordinateRegion = MKCoordinateRegionMake ( center , mySpan ) // MapView\u306bregion\u3092\u8ffd\u52a0. myMapView . region = myRegion // view\u306bMapView\u3092\u8ffd\u52a0. self . view . addSubview ( myMapView ) // UIButton\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( myButton ) // pin\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u4f5c\u6210. myPin = MKPointAnnotation () myPin . title = \"Latitude\" myPin . subtitle = \"Longitude\" myPin . coordinate = center // \u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092mapView\u306b\u8ffd\u52a0. myMapView . addAnnotation ( myPin ) } func onClickMyButton ( sender : UIButton ) { // geocoder\u3092\u4f5c\u6210. let myGeocoder : CLGeocoder = CLGeocoder () // \u691c\u7d22\u3059\u308b\u4f4f\u6240. let myAddress : String = \"1 Infinite Loop, Cupertino, CA, USA\" // \u6b63\u30b8\u30aa\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u958b\u59cb myGeocoder . geocodeAddressString ( myAddress , completionHandler : { ( placemarks , error ) -> Void in for placemark in placemarks ! { // location\u306bplacemark.location\u3092CLLocation\u3068\u3057\u3066\u4ee3\u5165\u3059\u308b let location : CLLocation = placemark . location ! print ( \"Latitude: \\( location . coordinate . latitude ) \" ) print ( \"Longitude: \\( location . coordinate . longitude ) \" ) // \u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u306etitle, subtitle\u306b\u305d\u308c\u305e\u308c\u7def\u5ea6\u7d4c\u5ea6\u3092\u30bb\u30c3\u30c8. self . myPin . title = \" \\( location . coordinate . latitude ) \" self . myPin . subtitle = \" \\( location . coordinate . longitude ) \" } }) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } }","title":"\u6b63\u30b8\u30aa\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0"},{"location":"3.mapkit/015_geo/#3x4x","text":"func onClickMyButton(sender: UIButton) \u306b @objc \u3092\u8ffd\u52a0 MKCoordinateRegionMake(center, mySpan) \u304c MKCoordinateRegion(center: center, span: mySpan)\u306b\u5909\u66f4","title":"3.x\u30684.x\u306e\u5dee\u5206"},{"location":"3.mapkit/015_geo/#2330","text":"setCenterCoordinate \u304b\u3089 setCenter \u306b\u5909\u66f4","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"3.mapkit/015_geo/#reference","text":"CLGeocoder https://developer.apple.com/reference/corelocation/clgeocoder","title":"Reference"},{"location":"3.mapkit/016_geo/","text":"\u9006\u30b8\u30aa\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0 Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 // // ViewController.swift // MapKit016 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit class ViewController : UIViewController , MKMapViewDelegate { var mapView : MKMapView ! var myPin : MKPointAnnotation ! let myLat : CLLocationDegrees = 37.331741 let myLon : CLLocationDegrees = - 122.030333 override func viewDidLoad () { super . viewDidLoad () // UIButton\u3092\u4f5c\u6210\u3059\u308b. let myButton : UIButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 300 , height : 50 )) myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 100 ) myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 20.0 myButton . setTitle ( \"ReverseGeoCoding\" , for : . normal ) myButton . backgroundColor = UIColor . red myButton . setTitleColor ( UIColor . white , for : . normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchUpInside ) let center : CLLocationCoordinate2D = CLLocationCoordinate2DMake ( myLat , myLon ) // MapView\u3092\u751f\u6210. mapView = MKMapView ( frame : CGRect ( x : 0 , y : 0 , width : self . view . frame . size . width , height : self . view . frame . size . height )) // MapView\u306e\u4e2d\u5fc3\u4f4d\u7f6e\u3092\u6307\u5b9a. mapView . centerCoordinate = center // mapView\u306bdelegate\u3092\u6307\u5b9a. mapView . delegate = self // \u7e2e\u5c3a\u3092\u5909\u66f4. // \u500d\u7387\u3092\u6307\u5b9a. let span : MKCoordinateSpan = MKCoordinateSpan ( latitudeDelta : 0.1 , longitudeDelta : 0.1 ) // MapView\u3067\u6307\u5b9a\u3057\u305f\u4e2d\u5fc3\u4f4d\u7f6e\u3068MKCoordinateSapn\u3067\u5ba3\u8a00\u3057\u305fspan\u3092\u6307\u5b9a\u3059\u308b. let region : MKCoordinateRegion = MKCoordinateRegion ( center : center , span : span ) // MapView\u306eregion\u30d7\u30ed\u30d1\u30c6\u30a3\u306bregion\u3092\u6307\u5b9a. mapView . region = region // MapView\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( mapView ) // UIButton\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( myButton ) // pin\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u4f5c\u6210. myPin = MKPointAnnotation () myPin . coordinate = center myPin . title = \"Country\" myPin . subtitle = \"Name\" // \u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092maoView\u306b\u8ffd\u52a0. mapView . addAnnotation ( myPin ) } /* \u30dc\u30bf\u30f3\u304c\u62bc\u3055\u308c\u305f\u3089\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9 */ @objc func onClickMyButton ( sender : UIButton ) { // geocoder\u3092\u4f5c\u6210. let myGeocorder = CLGeocoder () // location\u3092\u4f5c\u6210. let myLocation = CLLocation ( latitude : myLat , longitude : myLon ) // \u9006\u30b8\u30aa\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u958b\u59cb. myGeocorder . reverseGeocodeLocation ( myLocation , completionHandler : { ( placemarks , error ) -> Void in for placemark in placemarks ! { print ( \"Name: \\( placemark . name ) \" ) print ( \"Country: \\( placemark . country ) \" ) print ( \"ISOcountryCode: \\( placemark . isoCountryCode ) \" ) print ( \"administrativeArea: \\( placemark . administrativeArea ) \" ) print ( \"subAdministrativeArea: \\( placemark . subAdministrativeArea ) \" ) print ( \"Locality: \\( placemark . locality ) \" ) print ( \"PostalCode: \\( placemark . postalCode ) \" ) print ( \"areaOfInterest: \\( placemark . areasOfInterest ) \" ) print ( \"Ocean: \\( placemark . ocean ) \" ) // pin\u306e\u30bf\u30a4\u30c8\u30eb\u3068\u30b5\u30d6\u30bf\u30a4\u30c8\u30eb\u3092\u5909\u66f4\u3059\u308b. self . myPin . title = \" \\( placemark . country ) \" self . myPin . subtitle = \" \\( placemark . name ) \" } }) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 // // ViewController.swift // MapKit016 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit class ViewController : UIViewController , MKMapViewDelegate { var mapView : MKMapView ! var myPin : MKPointAnnotation ! let myLat : CLLocationDegrees = 37.331741 let myLon : CLLocationDegrees = - 122.030333 override func viewDidLoad () { super . viewDidLoad () // UIButton\u3092\u4f5c\u6210\u3059\u308b. let myButton : UIButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 300 , height : 50 )) myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 100 ) myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 20.0 myButton . setTitle ( \"ReverseGeoCoding\" , for : . normal ) myButton . backgroundColor = UIColor . red myButton . setTitleColor ( UIColor . white , for : . normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchUpInside ) let center : CLLocationCoordinate2D = CLLocationCoordinate2DMake ( myLat , myLon ) // MapView\u3092\u751f\u6210. mapView = MKMapView ( frame : CGRect ( x : 0 , y : 0 , width : self . view . frame . size . width , height : self . view . frame . size . height )) // MapView\u306e\u4e2d\u5fc3\u4f4d\u7f6e\u3092\u6307\u5b9a. mapView . centerCoordinate = center // mapView\u306bdelegate\u3092\u6307\u5b9a. mapView . delegate = self // \u7e2e\u5c3a\u3092\u5909\u66f4. // \u500d\u7387\u3092\u6307\u5b9a. let span : MKCoordinateSpan = MKCoordinateSpan ( latitudeDelta : 0.1 , longitudeDelta : 0.1 ) // MapView\u3067\u6307\u5b9a\u3057\u305f\u4e2d\u5fc3\u4f4d\u7f6e\u3068MKCoordinateSapn\u3067\u5ba3\u8a00\u3057\u305fspan\u3092\u6307\u5b9a\u3059\u308b. let region : MKCoordinateRegion = MKCoordinateRegion ( center : center , span : span ) // MapView\u306eregion\u30d7\u30ed\u30d1\u30c6\u30a3\u306bregion\u3092\u6307\u5b9a. mapView . region = region // MapView\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( mapView ) // UIButton\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( myButton ) // pin\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u4f5c\u6210. myPin = MKPointAnnotation () myPin . coordinate = center myPin . title = \"Country\" myPin . subtitle = \"Name\" // \u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092maoView\u306b\u8ffd\u52a0. mapView . addAnnotation ( myPin ) } /* \u30dc\u30bf\u30f3\u304c\u62bc\u3055\u308c\u305f\u3089\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9 */ func onClickMyButton ( sender : UIButton ) { // geocoder\u3092\u4f5c\u6210. let myGeocorder = CLGeocoder () // location\u3092\u4f5c\u6210. let myLocation = CLLocation ( latitude : myLat , longitude : myLon ) // \u9006\u30b8\u30aa\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u958b\u59cb. myGeocorder . reverseGeocodeLocation ( myLocation , completionHandler : { ( placemarks , error ) -> Void in for placemark in placemarks ! { print ( \"Name: \\( placemark . name ) \" ) print ( \"Country: \\( placemark . country ) \" ) print ( \"ISOcountryCode: \\( placemark . isoCountryCode ) \" ) print ( \"administrativeArea: \\( placemark . administrativeArea ) \" ) print ( \"subAdministrativeArea: \\( placemark . subAdministrativeArea ) \" ) print ( \"Locality: \\( placemark . locality ) \" ) print ( \"PostalCode: \\( placemark . postalCode ) \" ) print ( \"areaOfInterest: \\( placemark . areasOfInterest ) \" ) print ( \"Ocean: \\( placemark . ocean ) \" ) // pin\u306e\u30bf\u30a4\u30c8\u30eb\u3068\u30b5\u30d6\u30bf\u30a4\u30c8\u30eb\u3092\u5909\u66f4\u3059\u308b. self . myPin . title = \" \\( placemark . country ) \" self . myPin . subtitle = \" \\( placemark . name ) \" } }) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 // // ViewController.swift // MapKit016 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit class ViewController : UIViewController , MKMapViewDelegate { var mapView : MKMapView ! var myPin : MKPointAnnotation ! let myLat : CLLocationDegrees = 37.331741 let myLon : CLLocationDegrees = - 122.030333 override func viewDidLoad () { super . viewDidLoad () // UIButton\u3092\u4f5c\u6210\u3059\u308b. let myButton : UIButton = UIButton ( frame : CGRectMake ( 0 , 0 , 300 , 50 )) myButton . layer . position = CGPointMake ( self . view . frame . width / 2 , self . view . frame . height - 100 ) myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 20.0 myButton . setTitle ( \"ReverseGeoCoding\" , forState : . Normal ) myButton . backgroundColor = UIColor . redColor () myButton . setTitleColor ( UIColor . whiteColor (), forState : . Normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : . TouchUpInside ) let center : CLLocationCoordinate2D = CLLocationCoordinate2DMake ( myLat , myLon ) // MapView\u3092\u751f\u6210. mapView = MKMapView ( frame : CGRectMake ( 0 , 0 , self . view . frame . size . width , self . view . frame . size . height )) // MapView\u306e\u4e2d\u5fc3\u4f4d\u7f6e\u3092\u6307\u5b9a. mapView . centerCoordinate = center // mapView\u306bdelegate\u3092\u6307\u5b9a. mapView . delegate = self // \u7e2e\u5c3a\u3092\u5909\u66f4. // \u500d\u7387\u3092\u6307\u5b9a. let span : MKCoordinateSpan = MKCoordinateSpan ( latitudeDelta : 0.1 , longitudeDelta : 0.1 ) // MapView\u3067\u6307\u5b9a\u3057\u305f\u4e2d\u5fc3\u4f4d\u7f6e\u3068MKCoordinateSapn\u3067\u5ba3\u8a00\u3057\u305fspan\u3092\u6307\u5b9a\u3059\u308b. let region : MKCoordinateRegion = MKCoordinateRegion ( center : center , span : span ) // MapView\u306eregion\u30d7\u30ed\u30d1\u30c6\u30a3\u306bregion\u3092\u6307\u5b9a. mapView . region = region // MapView\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( mapView ) // UIButton\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( myButton ) // pin\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u4f5c\u6210. myPin = MKPointAnnotation () myPin . coordinate = center myPin . title = \"Country\" myPin . subtitle = \"Name\" // \u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092maoView\u306b\u8ffd\u52a0. mapView . addAnnotation ( myPin ) } /* \u30dc\u30bf\u30f3\u304c\u62bc\u3055\u308c\u305f\u3089\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9 */ func onClickMyButton ( sender : UIButton ) { // geocoder\u3092\u4f5c\u6210. let myGeocorder = CLGeocoder () // location\u3092\u4f5c\u6210. let myLocation = CLLocation ( latitude : myLat , longitude : myLon ) // \u9006\u30b8\u30aa\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u958b\u59cb. myGeocorder . reverseGeocodeLocation ( myLocation , completionHandler : { ( placemarks , error ) -> Void in for placemark in placemarks ! { print ( \"Name: \\( placemark . name ) \" ) print ( \"Country: \\( placemark . country ) \" ) print ( \"ISOcountryCode: \\( placemark . ISOcountryCode ) \" ) print ( \"administrativeArea: \\( placemark . administrativeArea ) \" ) print ( \"subAdministrativeArea: \\( placemark . subAdministrativeArea ) \" ) print ( \"Locality: \\( placemark . locality ) \" ) print ( \"PostalCode: \\( placemark . postalCode ) \" ) print ( \"areaOfInterest: \\( placemark . areasOfInterest ) \" ) print ( \"Ocean: \\( placemark . ocean ) \" ) // pin\u306e\u30bf\u30a4\u30c8\u30eb\u3068\u30b5\u30d6\u30bf\u30a4\u30c8\u30eb\u3092\u5909\u66f4\u3059\u308b. self . myPin . title = \" \\( placemark . country ) \" self . myPin . subtitle = \" \\( placemark . name ) \" } }) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } 3.x\u30684.x\u306e\u5dee\u5206 func onClickMyButton(sender: UIButton) \u306b @objc \u3092\u8ffd\u52a0 2.3\u30683.0\u306e\u5dee\u5206 setCenterCoordinate \u304b\u3089 setCenter \u306b\u5909\u66f4 Reference CLGeocoder https://developer.apple.com/reference/corelocation/clgeocoder","title":"\u9006\u30b8\u30aa\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0"},{"location":"3.mapkit/016_geo/#_1","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 // // ViewController.swift // MapKit016 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit class ViewController : UIViewController , MKMapViewDelegate { var mapView : MKMapView ! var myPin : MKPointAnnotation ! let myLat : CLLocationDegrees = 37.331741 let myLon : CLLocationDegrees = - 122.030333 override func viewDidLoad () { super . viewDidLoad () // UIButton\u3092\u4f5c\u6210\u3059\u308b. let myButton : UIButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 300 , height : 50 )) myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 100 ) myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 20.0 myButton . setTitle ( \"ReverseGeoCoding\" , for : . normal ) myButton . backgroundColor = UIColor . red myButton . setTitleColor ( UIColor . white , for : . normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchUpInside ) let center : CLLocationCoordinate2D = CLLocationCoordinate2DMake ( myLat , myLon ) // MapView\u3092\u751f\u6210. mapView = MKMapView ( frame : CGRect ( x : 0 , y : 0 , width : self . view . frame . size . width , height : self . view . frame . size . height )) // MapView\u306e\u4e2d\u5fc3\u4f4d\u7f6e\u3092\u6307\u5b9a. mapView . centerCoordinate = center // mapView\u306bdelegate\u3092\u6307\u5b9a. mapView . delegate = self // \u7e2e\u5c3a\u3092\u5909\u66f4. // \u500d\u7387\u3092\u6307\u5b9a. let span : MKCoordinateSpan = MKCoordinateSpan ( latitudeDelta : 0.1 , longitudeDelta : 0.1 ) // MapView\u3067\u6307\u5b9a\u3057\u305f\u4e2d\u5fc3\u4f4d\u7f6e\u3068MKCoordinateSapn\u3067\u5ba3\u8a00\u3057\u305fspan\u3092\u6307\u5b9a\u3059\u308b. let region : MKCoordinateRegion = MKCoordinateRegion ( center : center , span : span ) // MapView\u306eregion\u30d7\u30ed\u30d1\u30c6\u30a3\u306bregion\u3092\u6307\u5b9a. mapView . region = region // MapView\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( mapView ) // UIButton\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( myButton ) // pin\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u4f5c\u6210. myPin = MKPointAnnotation () myPin . coordinate = center myPin . title = \"Country\" myPin . subtitle = \"Name\" // \u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092maoView\u306b\u8ffd\u52a0. mapView . addAnnotation ( myPin ) } /* \u30dc\u30bf\u30f3\u304c\u62bc\u3055\u308c\u305f\u3089\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9 */ @objc func onClickMyButton ( sender : UIButton ) { // geocoder\u3092\u4f5c\u6210. let myGeocorder = CLGeocoder () // location\u3092\u4f5c\u6210. let myLocation = CLLocation ( latitude : myLat , longitude : myLon ) // \u9006\u30b8\u30aa\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u958b\u59cb. myGeocorder . reverseGeocodeLocation ( myLocation , completionHandler : { ( placemarks , error ) -> Void in for placemark in placemarks ! { print ( \"Name: \\( placemark . name ) \" ) print ( \"Country: \\( placemark . country ) \" ) print ( \"ISOcountryCode: \\( placemark . isoCountryCode ) \" ) print ( \"administrativeArea: \\( placemark . administrativeArea ) \" ) print ( \"subAdministrativeArea: \\( placemark . subAdministrativeArea ) \" ) print ( \"Locality: \\( placemark . locality ) \" ) print ( \"PostalCode: \\( placemark . postalCode ) \" ) print ( \"areaOfInterest: \\( placemark . areasOfInterest ) \" ) print ( \"Ocean: \\( placemark . ocean ) \" ) // pin\u306e\u30bf\u30a4\u30c8\u30eb\u3068\u30b5\u30d6\u30bf\u30a4\u30c8\u30eb\u3092\u5909\u66f4\u3059\u308b. self . myPin . title = \" \\( placemark . country ) \" self . myPin . subtitle = \" \\( placemark . name ) \" } }) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 // // ViewController.swift // MapKit016 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit class ViewController : UIViewController , MKMapViewDelegate { var mapView : MKMapView ! var myPin : MKPointAnnotation ! let myLat : CLLocationDegrees = 37.331741 let myLon : CLLocationDegrees = - 122.030333 override func viewDidLoad () { super . viewDidLoad () // UIButton\u3092\u4f5c\u6210\u3059\u308b. let myButton : UIButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 300 , height : 50 )) myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 100 ) myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 20.0 myButton . setTitle ( \"ReverseGeoCoding\" , for : . normal ) myButton . backgroundColor = UIColor . red myButton . setTitleColor ( UIColor . white , for : . normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchUpInside ) let center : CLLocationCoordinate2D = CLLocationCoordinate2DMake ( myLat , myLon ) // MapView\u3092\u751f\u6210. mapView = MKMapView ( frame : CGRect ( x : 0 , y : 0 , width : self . view . frame . size . width , height : self . view . frame . size . height )) // MapView\u306e\u4e2d\u5fc3\u4f4d\u7f6e\u3092\u6307\u5b9a. mapView . centerCoordinate = center // mapView\u306bdelegate\u3092\u6307\u5b9a. mapView . delegate = self // \u7e2e\u5c3a\u3092\u5909\u66f4. // \u500d\u7387\u3092\u6307\u5b9a. let span : MKCoordinateSpan = MKCoordinateSpan ( latitudeDelta : 0.1 , longitudeDelta : 0.1 ) // MapView\u3067\u6307\u5b9a\u3057\u305f\u4e2d\u5fc3\u4f4d\u7f6e\u3068MKCoordinateSapn\u3067\u5ba3\u8a00\u3057\u305fspan\u3092\u6307\u5b9a\u3059\u308b. let region : MKCoordinateRegion = MKCoordinateRegion ( center : center , span : span ) // MapView\u306eregion\u30d7\u30ed\u30d1\u30c6\u30a3\u306bregion\u3092\u6307\u5b9a. mapView . region = region // MapView\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( mapView ) // UIButton\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( myButton ) // pin\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u4f5c\u6210. myPin = MKPointAnnotation () myPin . coordinate = center myPin . title = \"Country\" myPin . subtitle = \"Name\" // \u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092maoView\u306b\u8ffd\u52a0. mapView . addAnnotation ( myPin ) } /* \u30dc\u30bf\u30f3\u304c\u62bc\u3055\u308c\u305f\u3089\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9 */ func onClickMyButton ( sender : UIButton ) { // geocoder\u3092\u4f5c\u6210. let myGeocorder = CLGeocoder () // location\u3092\u4f5c\u6210. let myLocation = CLLocation ( latitude : myLat , longitude : myLon ) // \u9006\u30b8\u30aa\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u958b\u59cb. myGeocorder . reverseGeocodeLocation ( myLocation , completionHandler : { ( placemarks , error ) -> Void in for placemark in placemarks ! { print ( \"Name: \\( placemark . name ) \" ) print ( \"Country: \\( placemark . country ) \" ) print ( \"ISOcountryCode: \\( placemark . isoCountryCode ) \" ) print ( \"administrativeArea: \\( placemark . administrativeArea ) \" ) print ( \"subAdministrativeArea: \\( placemark . subAdministrativeArea ) \" ) print ( \"Locality: \\( placemark . locality ) \" ) print ( \"PostalCode: \\( placemark . postalCode ) \" ) print ( \"areaOfInterest: \\( placemark . areasOfInterest ) \" ) print ( \"Ocean: \\( placemark . ocean ) \" ) // pin\u306e\u30bf\u30a4\u30c8\u30eb\u3068\u30b5\u30d6\u30bf\u30a4\u30c8\u30eb\u3092\u5909\u66f4\u3059\u308b. self . myPin . title = \" \\( placemark . country ) \" self . myPin . subtitle = \" \\( placemark . name ) \" } }) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 // // ViewController.swift // MapKit016 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import MapKit class ViewController : UIViewController , MKMapViewDelegate { var mapView : MKMapView ! var myPin : MKPointAnnotation ! let myLat : CLLocationDegrees = 37.331741 let myLon : CLLocationDegrees = - 122.030333 override func viewDidLoad () { super . viewDidLoad () // UIButton\u3092\u4f5c\u6210\u3059\u308b. let myButton : UIButton = UIButton ( frame : CGRectMake ( 0 , 0 , 300 , 50 )) myButton . layer . position = CGPointMake ( self . view . frame . width / 2 , self . view . frame . height - 100 ) myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 20.0 myButton . setTitle ( \"ReverseGeoCoding\" , forState : . Normal ) myButton . backgroundColor = UIColor . redColor () myButton . setTitleColor ( UIColor . whiteColor (), forState : . Normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : . TouchUpInside ) let center : CLLocationCoordinate2D = CLLocationCoordinate2DMake ( myLat , myLon ) // MapView\u3092\u751f\u6210. mapView = MKMapView ( frame : CGRectMake ( 0 , 0 , self . view . frame . size . width , self . view . frame . size . height )) // MapView\u306e\u4e2d\u5fc3\u4f4d\u7f6e\u3092\u6307\u5b9a. mapView . centerCoordinate = center // mapView\u306bdelegate\u3092\u6307\u5b9a. mapView . delegate = self // \u7e2e\u5c3a\u3092\u5909\u66f4. // \u500d\u7387\u3092\u6307\u5b9a. let span : MKCoordinateSpan = MKCoordinateSpan ( latitudeDelta : 0.1 , longitudeDelta : 0.1 ) // MapView\u3067\u6307\u5b9a\u3057\u305f\u4e2d\u5fc3\u4f4d\u7f6e\u3068MKCoordinateSapn\u3067\u5ba3\u8a00\u3057\u305fspan\u3092\u6307\u5b9a\u3059\u308b. let region : MKCoordinateRegion = MKCoordinateRegion ( center : center , span : span ) // MapView\u306eregion\u30d7\u30ed\u30d1\u30c6\u30a3\u306bregion\u3092\u6307\u5b9a. mapView . region = region // MapView\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( mapView ) // UIButton\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( myButton ) // pin\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u4f5c\u6210. myPin = MKPointAnnotation () myPin . coordinate = center myPin . title = \"Country\" myPin . subtitle = \"Name\" // \u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092maoView\u306b\u8ffd\u52a0. mapView . addAnnotation ( myPin ) } /* \u30dc\u30bf\u30f3\u304c\u62bc\u3055\u308c\u305f\u3089\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9 */ func onClickMyButton ( sender : UIButton ) { // geocoder\u3092\u4f5c\u6210. let myGeocorder = CLGeocoder () // location\u3092\u4f5c\u6210. let myLocation = CLLocation ( latitude : myLat , longitude : myLon ) // \u9006\u30b8\u30aa\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u958b\u59cb. myGeocorder . reverseGeocodeLocation ( myLocation , completionHandler : { ( placemarks , error ) -> Void in for placemark in placemarks ! { print ( \"Name: \\( placemark . name ) \" ) print ( \"Country: \\( placemark . country ) \" ) print ( \"ISOcountryCode: \\( placemark . ISOcountryCode ) \" ) print ( \"administrativeArea: \\( placemark . administrativeArea ) \" ) print ( \"subAdministrativeArea: \\( placemark . subAdministrativeArea ) \" ) print ( \"Locality: \\( placemark . locality ) \" ) print ( \"PostalCode: \\( placemark . postalCode ) \" ) print ( \"areaOfInterest: \\( placemark . areasOfInterest ) \" ) print ( \"Ocean: \\( placemark . ocean ) \" ) // pin\u306e\u30bf\u30a4\u30c8\u30eb\u3068\u30b5\u30d6\u30bf\u30a4\u30c8\u30eb\u3092\u5909\u66f4\u3059\u308b. self . myPin . title = \" \\( placemark . country ) \" self . myPin . subtitle = \" \\( placemark . name ) \" } }) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } }","title":"\u9006\u30b8\u30aa\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0"},{"location":"3.mapkit/016_geo/#3x4x","text":"func onClickMyButton(sender: UIButton) \u306b @objc \u3092\u8ffd\u52a0","title":"3.x\u30684.x\u306e\u5dee\u5206"},{"location":"3.mapkit/016_geo/#2330","text":"setCenterCoordinate \u304b\u3089 setCenter \u306b\u5909\u66f4","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"3.mapkit/016_geo/#reference","text":"CLGeocoder https://developer.apple.com/reference/corelocation/clgeocoder","title":"Reference"},{"location":"4.coremotion/","text":"","title":"Index"},{"location":"4.coremotion/001_coremotion/","text":"\u52a0\u901f\u5ea6\u30bb\u30f3\u30b5\u30fc\u306e\u5024\u3092\u53d6\u5f97 Swift 4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 // // ViewController.swift // coremotion001 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit import CoreMotion class ViewController : UIViewController { var myMotionManager : CMMotionManager ! override func viewDidLoad () { super . viewDidLoad () // Label\u3092\u4f5c\u6210. let myXLabel : UILabel = UILabel () myXLabel . frame = CGRect ( x : 0 , y : 0 , width : 200 , height : 50 ) myXLabel . backgroundColor = UIColor . blue myXLabel . layer . masksToBounds = true myXLabel . layer . cornerRadius = 10.0 myXLabel . textColor = UIColor . white myXLabel . shadowColor = UIColor . gray myXLabel . textAlignment = NSTextAlignment . center myXLabel . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 200 ) let myYLabel : UILabel = UILabel () myYLabel . frame = CGRect ( x : 0 , y : 0 , width : 200 , height : 50 ) myYLabel . backgroundColor = UIColor . orange myYLabel . layer . masksToBounds = true myYLabel . layer . cornerRadius = 10.0 myYLabel . textColor = UIColor . white myYLabel . shadowColor = UIColor . gray myYLabel . textAlignment = NSTextAlignment . center myYLabel . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 280 ) let myZLabel : UILabel = UILabel () myZLabel . frame = CGRect ( x : 0 , y : 0 , width : 200 , height : 50 ) myZLabel . backgroundColor = UIColor . red myZLabel . layer . masksToBounds = true myZLabel . layer . cornerRadius = 10.0 myZLabel . textColor = UIColor . white myZLabel . shadowColor = UIColor . gray myZLabel . textAlignment = NSTextAlignment . center myZLabel . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 360 ) // View\u306e\u80cc\u666f\u8272\u3092\u9752\u306b\u3059\u308b. self . view . backgroundColor = UIColor . cyan // View\u306bLabel\u3092\u8ffd\u52a0. self . view . addSubview ( myXLabel ) self . view . addSubview ( myYLabel ) self . view . addSubview ( myZLabel ) // MotionManager\u3092\u751f\u6210. myMotionManager = CMMotionManager () // \u66f4\u65b0\u5468\u671f\u3092\u8a2d\u5b9a. myMotionManager . accelerometerUpdateInterval = 0.1 // \u52a0\u901f\u5ea6\u306e\u53d6\u5f97\u3092\u958b\u59cb. myMotionManager . startAccelerometerUpdates ( to : OperationQueue . main , withHandler : {( accelerometerData , error ) in if let e = error { print ( e . localizedDescription ) return } guard let data = accelerometerData else { return } myXLabel . text = \"x= \\( data . acceleration . x ) \" myYLabel . text = \"y= \\( data . acceleration . y ) \" myZLabel . text = \"z= \\( data . acceleration . z ) \" }) } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 // // ViewController.swift // coremotion001 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit import CoreMotion class ViewController : UIViewController { var myMotionManager : CMMotionManager ! override func viewDidLoad () { super . viewDidLoad () // Label\u3092\u4f5c\u6210. let myXLabel : UILabel = UILabel ( frame : CGRectMake ( 0 , 0 , 200 , 50 )) myXLabel . backgroundColor = UIColor . blueColor () myXLabel . layer . masksToBounds = true myXLabel . layer . cornerRadius = 10.0 myXLabel . textColor = UIColor . whiteColor () myXLabel . shadowColor = UIColor . grayColor () myXLabel . textAlignment = NSTextAlignment . Center myXLabel . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 200 ) let myYLabel : UILabel = UILabel ( frame : CGRectMake ( 0 , 0 , 200 , 50 )) myYLabel . backgroundColor = UIColor . orangeColor () myYLabel . layer . masksToBounds = true myYLabel . layer . cornerRadius = 10.0 myYLabel . textColor = UIColor . whiteColor () myYLabel . shadowColor = UIColor . grayColor () myYLabel . textAlignment = NSTextAlignment . Center myYLabel . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 280 ) let myZLabel : UILabel = UILabel ( frame : CGRectMake ( 0 , 0 , 200 , 50 )) myZLabel . backgroundColor = UIColor . redColor () myZLabel . layer . masksToBounds = true myZLabel . layer . cornerRadius = 10.0 myZLabel . textColor = UIColor . whiteColor () myZLabel . shadowColor = UIColor . grayColor () myZLabel . textAlignment = NSTextAlignment . Center myZLabel . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 360 ) // View\u306e\u80cc\u666f\u8272\u3092\u9752\u306b\u3059\u308b. self . view . backgroundColor = UIColor . cyanColor () // View\u306bLabel\u3092\u8ffd\u52a0. self . view . addSubview ( myXLabel ) self . view . addSubview ( myYLabel ) self . view . addSubview ( myZLabel ) // MotionManager\u3092\u751f\u6210. myMotionManager = CMMotionManager () // \u66f4\u65b0\u5468\u671f\u3092\u8a2d\u5b9a. myMotionManager . accelerometerUpdateInterval = 0.1 // \u52a0\u901f\u5ea6\u306e\u53d6\u5f97\u3092\u958b\u59cb. myMotionManager . startAccelerometerUpdatesToQueue ( NSOperationQueue . mainQueue (), withHandler : {( accelerometerData , error ) in if let e = error { print ( e . localizedDescription ) return } myXLabel . text = \"x= \\( accelerometerData !. acceleration . x ) \" myYLabel . text = \"y= \\( accelerometerData !. acceleration . y ) \" myZLabel . text = \"z= \\( accelerometerData !. acceleration . z ) \" }) } } 2.x\u30683.x\u306e\u5dee\u5206 UIColor\u306b\u3088\u308b\u8272\u6307\u5b9a\u306e\u7c21\u7565\u5316 \u4f8b : UIColor.blueColor() \u304b\u3089 UIColor.blue CMMotionManager.startAccelerometerUpdatesToQueue(NSOperationQueue, withHandler: CMAccelerometerHandler) \u304b\u3089 CMMotionManager.startAccelerometerUpdates(to: OperationQueue, withHandler: CMAccelerometerHandler) \u306b\u5909\u66f4 NSOperationQueue.mainQueue() \u304b\u3089 OperationQueue.main \u306b\u5909\u66f4 Reference CMMotionManager https://developer.apple.com/library/ios/documentation/CoreMotion/Reference/CMMotionManager_Class/ NSOperationQueue https://developer.apple.com/library/mac/documentation/Cocoa/Reference/NSOperationQueue_class/ https://developer.apple.com/reference/foundation/nsoperationqueue","title":"\u52a0\u901f\u5ea6\u30bb\u30f3\u30b5\u30fc\u306e\u5024\u3092\u53d6\u5f97"},{"location":"4.coremotion/001_coremotion/#_1","text":"Swift 4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 // // ViewController.swift // coremotion001 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit import CoreMotion class ViewController : UIViewController { var myMotionManager : CMMotionManager ! override func viewDidLoad () { super . viewDidLoad () // Label\u3092\u4f5c\u6210. let myXLabel : UILabel = UILabel () myXLabel . frame = CGRect ( x : 0 , y : 0 , width : 200 , height : 50 ) myXLabel . backgroundColor = UIColor . blue myXLabel . layer . masksToBounds = true myXLabel . layer . cornerRadius = 10.0 myXLabel . textColor = UIColor . white myXLabel . shadowColor = UIColor . gray myXLabel . textAlignment = NSTextAlignment . center myXLabel . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 200 ) let myYLabel : UILabel = UILabel () myYLabel . frame = CGRect ( x : 0 , y : 0 , width : 200 , height : 50 ) myYLabel . backgroundColor = UIColor . orange myYLabel . layer . masksToBounds = true myYLabel . layer . cornerRadius = 10.0 myYLabel . textColor = UIColor . white myYLabel . shadowColor = UIColor . gray myYLabel . textAlignment = NSTextAlignment . center myYLabel . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 280 ) let myZLabel : UILabel = UILabel () myZLabel . frame = CGRect ( x : 0 , y : 0 , width : 200 , height : 50 ) myZLabel . backgroundColor = UIColor . red myZLabel . layer . masksToBounds = true myZLabel . layer . cornerRadius = 10.0 myZLabel . textColor = UIColor . white myZLabel . shadowColor = UIColor . gray myZLabel . textAlignment = NSTextAlignment . center myZLabel . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 360 ) // View\u306e\u80cc\u666f\u8272\u3092\u9752\u306b\u3059\u308b. self . view . backgroundColor = UIColor . cyan // View\u306bLabel\u3092\u8ffd\u52a0. self . view . addSubview ( myXLabel ) self . view . addSubview ( myYLabel ) self . view . addSubview ( myZLabel ) // MotionManager\u3092\u751f\u6210. myMotionManager = CMMotionManager () // \u66f4\u65b0\u5468\u671f\u3092\u8a2d\u5b9a. myMotionManager . accelerometerUpdateInterval = 0.1 // \u52a0\u901f\u5ea6\u306e\u53d6\u5f97\u3092\u958b\u59cb. myMotionManager . startAccelerometerUpdates ( to : OperationQueue . main , withHandler : {( accelerometerData , error ) in if let e = error { print ( e . localizedDescription ) return } guard let data = accelerometerData else { return } myXLabel . text = \"x= \\( data . acceleration . x ) \" myYLabel . text = \"y= \\( data . acceleration . y ) \" myZLabel . text = \"z= \\( data . acceleration . z ) \" }) } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 // // ViewController.swift // coremotion001 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit import CoreMotion class ViewController : UIViewController { var myMotionManager : CMMotionManager ! override func viewDidLoad () { super . viewDidLoad () // Label\u3092\u4f5c\u6210. let myXLabel : UILabel = UILabel ( frame : CGRectMake ( 0 , 0 , 200 , 50 )) myXLabel . backgroundColor = UIColor . blueColor () myXLabel . layer . masksToBounds = true myXLabel . layer . cornerRadius = 10.0 myXLabel . textColor = UIColor . whiteColor () myXLabel . shadowColor = UIColor . grayColor () myXLabel . textAlignment = NSTextAlignment . Center myXLabel . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 200 ) let myYLabel : UILabel = UILabel ( frame : CGRectMake ( 0 , 0 , 200 , 50 )) myYLabel . backgroundColor = UIColor . orangeColor () myYLabel . layer . masksToBounds = true myYLabel . layer . cornerRadius = 10.0 myYLabel . textColor = UIColor . whiteColor () myYLabel . shadowColor = UIColor . grayColor () myYLabel . textAlignment = NSTextAlignment . Center myYLabel . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 280 ) let myZLabel : UILabel = UILabel ( frame : CGRectMake ( 0 , 0 , 200 , 50 )) myZLabel . backgroundColor = UIColor . redColor () myZLabel . layer . masksToBounds = true myZLabel . layer . cornerRadius = 10.0 myZLabel . textColor = UIColor . whiteColor () myZLabel . shadowColor = UIColor . grayColor () myZLabel . textAlignment = NSTextAlignment . Center myZLabel . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 360 ) // View\u306e\u80cc\u666f\u8272\u3092\u9752\u306b\u3059\u308b. self . view . backgroundColor = UIColor . cyanColor () // View\u306bLabel\u3092\u8ffd\u52a0. self . view . addSubview ( myXLabel ) self . view . addSubview ( myYLabel ) self . view . addSubview ( myZLabel ) // MotionManager\u3092\u751f\u6210. myMotionManager = CMMotionManager () // \u66f4\u65b0\u5468\u671f\u3092\u8a2d\u5b9a. myMotionManager . accelerometerUpdateInterval = 0.1 // \u52a0\u901f\u5ea6\u306e\u53d6\u5f97\u3092\u958b\u59cb. myMotionManager . startAccelerometerUpdatesToQueue ( NSOperationQueue . mainQueue (), withHandler : {( accelerometerData , error ) in if let e = error { print ( e . localizedDescription ) return } myXLabel . text = \"x= \\( accelerometerData !. acceleration . x ) \" myYLabel . text = \"y= \\( accelerometerData !. acceleration . y ) \" myZLabel . text = \"z= \\( accelerometerData !. acceleration . z ) \" }) } }","title":"\u52a0\u901f\u5ea6\u30bb\u30f3\u30b5\u30fc\u306e\u5024\u3092\u53d6\u5f97"},{"location":"4.coremotion/001_coremotion/#2x3x","text":"UIColor\u306b\u3088\u308b\u8272\u6307\u5b9a\u306e\u7c21\u7565\u5316 \u4f8b : UIColor.blueColor() \u304b\u3089 UIColor.blue CMMotionManager.startAccelerometerUpdatesToQueue(NSOperationQueue, withHandler: CMAccelerometerHandler) \u304b\u3089 CMMotionManager.startAccelerometerUpdates(to: OperationQueue, withHandler: CMAccelerometerHandler) \u306b\u5909\u66f4 NSOperationQueue.mainQueue() \u304b\u3089 OperationQueue.main \u306b\u5909\u66f4","title":"2.x\u30683.x\u306e\u5dee\u5206"},{"location":"4.coremotion/001_coremotion/#reference","text":"CMMotionManager https://developer.apple.com/library/ios/documentation/CoreMotion/Reference/CMMotionManager_Class/ NSOperationQueue https://developer.apple.com/library/mac/documentation/Cocoa/Reference/NSOperationQueue_class/ https://developer.apple.com/reference/foundation/nsoperationqueue","title":"Reference"},{"location":"4.coremotion/002_coremotion/","text":"\u6d3b\u52d5\u91cf\u8a08\u306e\u5024\u306e\u53d6\u5f97 info.plist\u306b NSMotionUsageDescription \u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002 Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 // // ViewController.swift // coremotion002 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit import CoreMotion class ViewController : UIViewController { var myPedometer = CMPedometer () // \u30da\u30c9\u30e1\u30fc\u30bf\u30fc(\u6b69\u6570\u8a08)\u3092\u751f\u6210. let myDistanceLabel : UILabel = UILabel ( frame : CGRect ( x : 0 , y : 0 , width : 150 , height : 150 )) let myTimeLabel : UILabel = UILabel ( frame : CGRect ( x : 0 , y : 0 , width : 150 , height : 150 )) let mySpeedLabel : UILabel = UILabel ( frame : CGRect ( x : 0 , y : 0 , width : 150 , height : 150 )) override func viewDidLoad () { super . viewDidLoad () // Label\u3092\u4f5c\u6210. myDistanceLabel . backgroundColor = UIColor . blue myDistanceLabel . layer . masksToBounds = true myDistanceLabel . layer . cornerRadius = 75.0 myDistanceLabel . textColor = UIColor . white myDistanceLabel . shadowColor = UIColor . gray myDistanceLabel . font = UIFont . systemFont ( ofSize : CGFloat ( 30 )) myDistanceLabel . textAlignment = NSTextAlignment . center myDistanceLabel . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 100 ) myDistanceLabel . text = \"0 m\" myTimeLabel . backgroundColor = UIColor . orange myTimeLabel . layer . masksToBounds = true myTimeLabel . layer . cornerRadius = 75.0 myTimeLabel . textColor = UIColor . white myTimeLabel . shadowColor = UIColor . gray myTimeLabel . font = UIFont . systemFont ( ofSize : CGFloat ( 30 )) myTimeLabel . textAlignment = NSTextAlignment . center myTimeLabel . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 275 ) myTimeLabel . text = \"0 sec\" mySpeedLabel . backgroundColor = UIColor . red mySpeedLabel . layer . masksToBounds = true mySpeedLabel . layer . cornerRadius = 75.0 mySpeedLabel . textColor = UIColor . white mySpeedLabel . shadowColor = UIColor . gray mySpeedLabel . font = UIFont . systemFont ( ofSize : CGFloat ( 30 )) mySpeedLabel . textAlignment = NSTextAlignment . center mySpeedLabel . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 450 ) mySpeedLabel . text = \"0 m/S\" // View\u306e\u80cc\u666f\u8272\u3092\u9752\u306b\u3059\u308b. self . view . backgroundColor = UIColor . cyan // View\u306b\u8ffd\u52a0. self . view . addSubview ( myDistanceLabel ) self . view . addSubview ( myTimeLabel ) self . view . addSubview ( mySpeedLabel ) // \u30da\u30c9\u30e1\u30fc\u30bf\u30fc(\u6b69\u6570\u8a08)\u3067\u8a08\u6e2c\u958b\u59cb. myPedometer . startUpdates ( from : Date (), withHandler : {( pedometerData , error ) in if let e = error { print ( e . localizedDescription ) return } guard let data = pedometerData else { return } let myDistance = data . distance !. doubleValue let myTime : Double = data . endDate . timeIntervalSince ( data . startDate ) let mySpeed = myDistance / myTime DispatchQueue . main . async { self . myDistanceLabel . text = \" \\( round ( myDistance )) m\" self . myTimeLabel . text = \" \\( round ( myTime )) sec\" self . mySpeedLabel . text = \" \\( round ( mySpeed )) m/s\" } }) } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 // // ViewController.swift // coremotion002 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit import CoreMotion class ViewController : UIViewController { var myPedometer = CMPedometer () // \u30da\u30c9\u30e1\u30fc\u30bf\u30fc(\u6b69\u6570\u8a08)\u3092\u751f\u6210. let myDistanceLabel : UILabel = UILabel ( frame : CGRect ( x : 0 , y : 0 , width : 150 , height : 150 )) let myTimeLabel : UILabel = UILabel ( frame : CGRect ( x : 0 , y : 0 , width : 150 , height : 150 )) let mySpeedLabel : UILabel = UILabel ( frame : CGRect ( x : 0 , y : 0 , width : 150 , height : 150 )) override func viewDidLoad () { super . viewDidLoad () // Label\u3092\u4f5c\u6210. myDistanceLabel . backgroundColor = UIColor . blue myDistanceLabel . layer . masksToBounds = true myDistanceLabel . layer . cornerRadius = 75.0 myDistanceLabel . textColor = UIColor . white myDistanceLabel . shadowColor = UIColor . gray myDistanceLabel . font = UIFont . systemFont ( ofSize : CGFloat ( 30 )) myDistanceLabel . textAlignment = NSTextAlignment . center myDistanceLabel . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 100 ) myDistanceLabel . text = \"0 m\" myTimeLabel . backgroundColor = UIColor . orange myTimeLabel . layer . masksToBounds = true myTimeLabel . layer . cornerRadius = 75.0 myTimeLabel . textColor = UIColor . white myTimeLabel . shadowColor = UIColor . gray myTimeLabel . font = UIFont . systemFont ( ofSize : CGFloat ( 30 )) myTimeLabel . textAlignment = NSTextAlignment . center myTimeLabel . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 275 ) myTimeLabel . text = \"0 sec\" mySpeedLabel . backgroundColor = UIColor . red mySpeedLabel . layer . masksToBounds = true mySpeedLabel . layer . cornerRadius = 75.0 mySpeedLabel . textColor = UIColor . white mySpeedLabel . shadowColor = UIColor . gray mySpeedLabel . font = UIFont . systemFont ( ofSize : CGFloat ( 30 )) mySpeedLabel . textAlignment = NSTextAlignment . center mySpeedLabel . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 450 ) mySpeedLabel . text = \"0 m/S\" // View\u306e\u80cc\u666f\u8272\u3092\u9752\u306b\u3059\u308b. self . view . backgroundColor = UIColor . cyan // View\u306b\u8ffd\u52a0. self . view . addSubview ( myDistanceLabel ) self . view . addSubview ( myTimeLabel ) self . view . addSubview ( mySpeedLabel ) // \u30da\u30c9\u30e1\u30fc\u30bf\u30fc(\u6b69\u6570\u8a08)\u3067\u8a08\u6e2c\u958b\u59cb. myPedometer . startUpdates ( from : Date (), withHandler : {( pedometerData , error ) in if let e = error { print ( e . localizedDescription ) return } guard let data = pedometerData else { return } let myDistance = data . distance !. doubleValue let myTime : Double = data . endDate . timeIntervalSince ( data . startDate ) let mySpeed = myDistance / myTime self . myDistanceLabel . text = \" \\( round ( myDistance )) m\" self . myTimeLabel . text = \" \\( round ( myTime )) sec\" self . mySpeedLabel . text = \" \\( round ( mySpeed )) m/s\" }) } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 // // ViewController.swift // coremotion002 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit import CoreMotion class ViewController : UIViewController { var myPedometer = CMPedometer () // \u30da\u30c9\u30e1\u30fc\u30bf\u30fc(\u6b69\u6570\u8a08)\u3092\u751f\u6210. let myDistanceLabel : UILabel = UILabel ( frame : CGRectMake ( 0 , 0 , 150 , 150 )) let myTimeLabel : UILabel = UILabel ( frame : CGRectMake ( 0 , 0 , 150 , 150 )) let mySpeedLabel : UILabel = UILabel ( frame : CGRectMake ( 0 , 0 , 150 , 150 )) override func viewDidLoad () { super . viewDidLoad () // Label\u3092\u4f5c\u6210. myDistanceLabel . backgroundColor = UIColor . blueColor () myDistanceLabel . layer . masksToBounds = true myDistanceLabel . layer . cornerRadius = 75.0 myDistanceLabel . textColor = UIColor . whiteColor () myDistanceLabel . shadowColor = UIColor . grayColor () myDistanceLabel . font = UIFont . systemFontOfSize ( CGFloat ( 30 )) myDistanceLabel . textAlignment = NSTextAlignment . Center myDistanceLabel . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 100 ) myDistanceLabel . text = \"0 m\" myTimeLabel . backgroundColor = UIColor . orangeColor () myTimeLabel . layer . masksToBounds = true myTimeLabel . layer . cornerRadius = 75.0 myTimeLabel . textColor = UIColor . whiteColor () myTimeLabel . shadowColor = UIColor . grayColor () myTimeLabel . font = UIFont . systemFontOfSize ( CGFloat ( 30 )) myTimeLabel . textAlignment = NSTextAlignment . Center myTimeLabel . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 275 ) myTimeLabel . text = \"0 sec\" mySpeedLabel . backgroundColor = UIColor . redColor () mySpeedLabel . layer . masksToBounds = true mySpeedLabel . layer . cornerRadius = 75.0 mySpeedLabel . textColor = UIColor . whiteColor () mySpeedLabel . shadowColor = UIColor . grayColor () mySpeedLabel . font = UIFont . systemFontOfSize ( CGFloat ( 30 )) mySpeedLabel . textAlignment = NSTextAlignment . Center mySpeedLabel . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 450 ) mySpeedLabel . text = \"0 m/S\" // View\u306e\u80cc\u666f\u8272\u3092\u9752\u306b\u3059\u308b. self . view . backgroundColor = UIColor . cyanColor () // View\u306b\u8ffd\u52a0. self . view . addSubview ( myDistanceLabel ) self . view . addSubview ( myTimeLabel ) self . view . addSubview ( mySpeedLabel ) // \u30da\u30c9\u30e1\u30fc\u30bf\u30fc(\u6b69\u6570\u8a08)\u3067\u8a08\u6e2c\u958b\u59cb. myPedometer . startPedometerUpdatesFromDate ( NSDate (), withHandler : { pedometerData , error in if let e = error { print ( e . localizedDescription ) return } guard let data = pedometerData else { return } let myDistance = data . distance !. doubleValue let myTime : Double = data . endDate . timeIntervalSinceDate ( data . startDate ) let mySpeed = myDistance / myTime self . myDistanceLabel . text = \" \\( round ( myDistance )) m\" self . myTimeLabel . text = \" \\( round ( myTime )) sec\" self . mySpeedLabel . text = \" \\( round ( mySpeed )) m/s\" }) } } 3.x\u30684.x\u306e\u5dee\u5206 self.myDistanceLabel.text = \"\\(round(myDistance)) m\" self.myTimeLabel.text = \"\\(round(myTime)) sec\" self.mySpeedLabel.text = \"\\(round(mySpeed)) m/s\" \u3092 DispatchQueue.main.async {} \u3067\u56f2\u3080 2.3\u30683.0\u306e\u5dee\u5206 CGRectMake(CGFloat, CGFloat, CGFloat, CGFloat) \u304b\u3089 CGRect(x: CGFloat, y: CGFloat, width: CGFloat, height: CGFloat) \u306b\u5909\u66f4 CMPedometer.startPedometerUpdatesFromDate(NSDate, withHandler: CMPedometerHandler) \u304b\u3089 CMPedometer.startUpdates(from: Date, withHandler: CMPedometerHandler) \u306b\u5909\u66f4 NSDate \u304b\u3089 Date \u306b\u5909\u66f4 NSDate.endDate.timeIntervalSinceDate(NSDate) \u304b\u3089 Date.endDate.timeIntervalSince(Date) \u306b\u5909\u66f4 Reference CMPedometer https://developer.apple.com/library/ios/documentation/CoreMotion/Reference/CMPedometer_class/ NSDate https://developer.apple.com/reference/foundation/nsdate https://developer.apple.com/reference/foundation/date","title":"\u6d3b\u52d5\u91cf\u8a08\u306e\u5024\u306e\u53d6\u5f97"},{"location":"4.coremotion/002_coremotion/#_1","text":"info.plist\u306b NSMotionUsageDescription \u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002 Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 // // ViewController.swift // coremotion002 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit import CoreMotion class ViewController : UIViewController { var myPedometer = CMPedometer () // \u30da\u30c9\u30e1\u30fc\u30bf\u30fc(\u6b69\u6570\u8a08)\u3092\u751f\u6210. let myDistanceLabel : UILabel = UILabel ( frame : CGRect ( x : 0 , y : 0 , width : 150 , height : 150 )) let myTimeLabel : UILabel = UILabel ( frame : CGRect ( x : 0 , y : 0 , width : 150 , height : 150 )) let mySpeedLabel : UILabel = UILabel ( frame : CGRect ( x : 0 , y : 0 , width : 150 , height : 150 )) override func viewDidLoad () { super . viewDidLoad () // Label\u3092\u4f5c\u6210. myDistanceLabel . backgroundColor = UIColor . blue myDistanceLabel . layer . masksToBounds = true myDistanceLabel . layer . cornerRadius = 75.0 myDistanceLabel . textColor = UIColor . white myDistanceLabel . shadowColor = UIColor . gray myDistanceLabel . font = UIFont . systemFont ( ofSize : CGFloat ( 30 )) myDistanceLabel . textAlignment = NSTextAlignment . center myDistanceLabel . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 100 ) myDistanceLabel . text = \"0 m\" myTimeLabel . backgroundColor = UIColor . orange myTimeLabel . layer . masksToBounds = true myTimeLabel . layer . cornerRadius = 75.0 myTimeLabel . textColor = UIColor . white myTimeLabel . shadowColor = UIColor . gray myTimeLabel . font = UIFont . systemFont ( ofSize : CGFloat ( 30 )) myTimeLabel . textAlignment = NSTextAlignment . center myTimeLabel . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 275 ) myTimeLabel . text = \"0 sec\" mySpeedLabel . backgroundColor = UIColor . red mySpeedLabel . layer . masksToBounds = true mySpeedLabel . layer . cornerRadius = 75.0 mySpeedLabel . textColor = UIColor . white mySpeedLabel . shadowColor = UIColor . gray mySpeedLabel . font = UIFont . systemFont ( ofSize : CGFloat ( 30 )) mySpeedLabel . textAlignment = NSTextAlignment . center mySpeedLabel . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 450 ) mySpeedLabel . text = \"0 m/S\" // View\u306e\u80cc\u666f\u8272\u3092\u9752\u306b\u3059\u308b. self . view . backgroundColor = UIColor . cyan // View\u306b\u8ffd\u52a0. self . view . addSubview ( myDistanceLabel ) self . view . addSubview ( myTimeLabel ) self . view . addSubview ( mySpeedLabel ) // \u30da\u30c9\u30e1\u30fc\u30bf\u30fc(\u6b69\u6570\u8a08)\u3067\u8a08\u6e2c\u958b\u59cb. myPedometer . startUpdates ( from : Date (), withHandler : {( pedometerData , error ) in if let e = error { print ( e . localizedDescription ) return } guard let data = pedometerData else { return } let myDistance = data . distance !. doubleValue let myTime : Double = data . endDate . timeIntervalSince ( data . startDate ) let mySpeed = myDistance / myTime DispatchQueue . main . async { self . myDistanceLabel . text = \" \\( round ( myDistance )) m\" self . myTimeLabel . text = \" \\( round ( myTime )) sec\" self . mySpeedLabel . text = \" \\( round ( mySpeed )) m/s\" } }) } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 // // ViewController.swift // coremotion002 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit import CoreMotion class ViewController : UIViewController { var myPedometer = CMPedometer () // \u30da\u30c9\u30e1\u30fc\u30bf\u30fc(\u6b69\u6570\u8a08)\u3092\u751f\u6210. let myDistanceLabel : UILabel = UILabel ( frame : CGRect ( x : 0 , y : 0 , width : 150 , height : 150 )) let myTimeLabel : UILabel = UILabel ( frame : CGRect ( x : 0 , y : 0 , width : 150 , height : 150 )) let mySpeedLabel : UILabel = UILabel ( frame : CGRect ( x : 0 , y : 0 , width : 150 , height : 150 )) override func viewDidLoad () { super . viewDidLoad () // Label\u3092\u4f5c\u6210. myDistanceLabel . backgroundColor = UIColor . blue myDistanceLabel . layer . masksToBounds = true myDistanceLabel . layer . cornerRadius = 75.0 myDistanceLabel . textColor = UIColor . white myDistanceLabel . shadowColor = UIColor . gray myDistanceLabel . font = UIFont . systemFont ( ofSize : CGFloat ( 30 )) myDistanceLabel . textAlignment = NSTextAlignment . center myDistanceLabel . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 100 ) myDistanceLabel . text = \"0 m\" myTimeLabel . backgroundColor = UIColor . orange myTimeLabel . layer . masksToBounds = true myTimeLabel . layer . cornerRadius = 75.0 myTimeLabel . textColor = UIColor . white myTimeLabel . shadowColor = UIColor . gray myTimeLabel . font = UIFont . systemFont ( ofSize : CGFloat ( 30 )) myTimeLabel . textAlignment = NSTextAlignment . center myTimeLabel . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 275 ) myTimeLabel . text = \"0 sec\" mySpeedLabel . backgroundColor = UIColor . red mySpeedLabel . layer . masksToBounds = true mySpeedLabel . layer . cornerRadius = 75.0 mySpeedLabel . textColor = UIColor . white mySpeedLabel . shadowColor = UIColor . gray mySpeedLabel . font = UIFont . systemFont ( ofSize : CGFloat ( 30 )) mySpeedLabel . textAlignment = NSTextAlignment . center mySpeedLabel . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 450 ) mySpeedLabel . text = \"0 m/S\" // View\u306e\u80cc\u666f\u8272\u3092\u9752\u306b\u3059\u308b. self . view . backgroundColor = UIColor . cyan // View\u306b\u8ffd\u52a0. self . view . addSubview ( myDistanceLabel ) self . view . addSubview ( myTimeLabel ) self . view . addSubview ( mySpeedLabel ) // \u30da\u30c9\u30e1\u30fc\u30bf\u30fc(\u6b69\u6570\u8a08)\u3067\u8a08\u6e2c\u958b\u59cb. myPedometer . startUpdates ( from : Date (), withHandler : {( pedometerData , error ) in if let e = error { print ( e . localizedDescription ) return } guard let data = pedometerData else { return } let myDistance = data . distance !. doubleValue let myTime : Double = data . endDate . timeIntervalSince ( data . startDate ) let mySpeed = myDistance / myTime self . myDistanceLabel . text = \" \\( round ( myDistance )) m\" self . myTimeLabel . text = \" \\( round ( myTime )) sec\" self . mySpeedLabel . text = \" \\( round ( mySpeed )) m/s\" }) } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 // // ViewController.swift // coremotion002 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit import CoreMotion class ViewController : UIViewController { var myPedometer = CMPedometer () // \u30da\u30c9\u30e1\u30fc\u30bf\u30fc(\u6b69\u6570\u8a08)\u3092\u751f\u6210. let myDistanceLabel : UILabel = UILabel ( frame : CGRectMake ( 0 , 0 , 150 , 150 )) let myTimeLabel : UILabel = UILabel ( frame : CGRectMake ( 0 , 0 , 150 , 150 )) let mySpeedLabel : UILabel = UILabel ( frame : CGRectMake ( 0 , 0 , 150 , 150 )) override func viewDidLoad () { super . viewDidLoad () // Label\u3092\u4f5c\u6210. myDistanceLabel . backgroundColor = UIColor . blueColor () myDistanceLabel . layer . masksToBounds = true myDistanceLabel . layer . cornerRadius = 75.0 myDistanceLabel . textColor = UIColor . whiteColor () myDistanceLabel . shadowColor = UIColor . grayColor () myDistanceLabel . font = UIFont . systemFontOfSize ( CGFloat ( 30 )) myDistanceLabel . textAlignment = NSTextAlignment . Center myDistanceLabel . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 100 ) myDistanceLabel . text = \"0 m\" myTimeLabel . backgroundColor = UIColor . orangeColor () myTimeLabel . layer . masksToBounds = true myTimeLabel . layer . cornerRadius = 75.0 myTimeLabel . textColor = UIColor . whiteColor () myTimeLabel . shadowColor = UIColor . grayColor () myTimeLabel . font = UIFont . systemFontOfSize ( CGFloat ( 30 )) myTimeLabel . textAlignment = NSTextAlignment . Center myTimeLabel . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 275 ) myTimeLabel . text = \"0 sec\" mySpeedLabel . backgroundColor = UIColor . redColor () mySpeedLabel . layer . masksToBounds = true mySpeedLabel . layer . cornerRadius = 75.0 mySpeedLabel . textColor = UIColor . whiteColor () mySpeedLabel . shadowColor = UIColor . grayColor () mySpeedLabel . font = UIFont . systemFontOfSize ( CGFloat ( 30 )) mySpeedLabel . textAlignment = NSTextAlignment . Center mySpeedLabel . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 450 ) mySpeedLabel . text = \"0 m/S\" // View\u306e\u80cc\u666f\u8272\u3092\u9752\u306b\u3059\u308b. self . view . backgroundColor = UIColor . cyanColor () // View\u306b\u8ffd\u52a0. self . view . addSubview ( myDistanceLabel ) self . view . addSubview ( myTimeLabel ) self . view . addSubview ( mySpeedLabel ) // \u30da\u30c9\u30e1\u30fc\u30bf\u30fc(\u6b69\u6570\u8a08)\u3067\u8a08\u6e2c\u958b\u59cb. myPedometer . startPedometerUpdatesFromDate ( NSDate (), withHandler : { pedometerData , error in if let e = error { print ( e . localizedDescription ) return } guard let data = pedometerData else { return } let myDistance = data . distance !. doubleValue let myTime : Double = data . endDate . timeIntervalSinceDate ( data . startDate ) let mySpeed = myDistance / myTime self . myDistanceLabel . text = \" \\( round ( myDistance )) m\" self . myTimeLabel . text = \" \\( round ( myTime )) sec\" self . mySpeedLabel . text = \" \\( round ( mySpeed )) m/s\" }) } }","title":"\u6d3b\u52d5\u91cf\u8a08\u306e\u5024\u306e\u53d6\u5f97"},{"location":"4.coremotion/002_coremotion/#3x4x","text":"self.myDistanceLabel.text = \"\\(round(myDistance)) m\" self.myTimeLabel.text = \"\\(round(myTime)) sec\" self.mySpeedLabel.text = \"\\(round(mySpeed)) m/s\" \u3092 DispatchQueue.main.async {} \u3067\u56f2\u3080","title":"3.x\u30684.x\u306e\u5dee\u5206"},{"location":"4.coremotion/002_coremotion/#2330","text":"CGRectMake(CGFloat, CGFloat, CGFloat, CGFloat) \u304b\u3089 CGRect(x: CGFloat, y: CGFloat, width: CGFloat, height: CGFloat) \u306b\u5909\u66f4 CMPedometer.startPedometerUpdatesFromDate(NSDate, withHandler: CMPedometerHandler) \u304b\u3089 CMPedometer.startUpdates(from: Date, withHandler: CMPedometerHandler) \u306b\u5909\u66f4 NSDate \u304b\u3089 Date \u306b\u5909\u66f4 NSDate.endDate.timeIntervalSinceDate(NSDate) \u304b\u3089 Date.endDate.timeIntervalSince(Date) \u306b\u5909\u66f4","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"4.coremotion/002_coremotion/#reference","text":"CMPedometer https://developer.apple.com/library/ios/documentation/CoreMotion/Reference/CMPedometer_class/ NSDate https://developer.apple.com/reference/foundation/nsdate https://developer.apple.com/reference/foundation/date","title":"Reference"},{"location":"4.coremotion/003_coremotion/","text":"\u4e07\u6b69\u8a08\u306e\u6b69\u6570\u306e\u53d6\u5f97 info.plist\u306b NSMotionUsageDescription \u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002 Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 // // ViewController.swift // coremotion003 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit import CoreMotion class ViewController : UIViewController { var myPedometer : CMPedometer ! override func viewDidLoad () { super . viewDidLoad () // Label\u3092\u4f5c\u6210. let myStepLabel : UILabel = UILabel ( frame : CGRect ( x : 0 , y : 0 , width : 150 , height : 150 )) myStepLabel . backgroundColor = UIColor . orange myStepLabel . layer . masksToBounds = true myStepLabel . layer . cornerRadius = 75.0 myStepLabel . textColor = UIColor . white myStepLabel . shadowColor = UIColor . gray myStepLabel . font = UIFont . systemFont ( ofSize : 30 ) myStepLabel . textAlignment = NSTextAlignment . center myStepLabel . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 300 ) // View\u306e\u80cc\u666f\u8272\u3092\u9752\u306b\u3059\u308b. self . view . backgroundColor = UIColor . cyan // View\u306b\u8ffd\u52a0. self . view . addSubview ( myStepLabel ) // \u6b69\u6570\u8a08\u3092\u751f\u6210. myPedometer = CMPedometer () // \u30da\u30c9\u30e1\u30fc\u30bf\u30fc(\u6b69\u6570\u8a08)\u3067\u8a08\u6e2c\u958b\u59cb. myPedometer . startUpdates ( from : NSDate () as Date , withHandler : { ( pedometerData , error ) in if let e = error { print ( e . localizedDescription ) return } guard let data = pedometerData else { return } let myStep = data . numberOfSteps DispatchQueue . main . async { myStepLabel . text = \" \\( myStep ) \u6b69\" } }) } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 // // ViewController.swift // coremotion003 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit import CoreMotion class ViewController : UIViewController { var myPedometer : CMPedometer ! override func viewDidLoad () { super . viewDidLoad () // Label\u3092\u4f5c\u6210. let myStepLabel : UILabel = UILabel ( frame : CGRect ( x : 0 , y : 0 , width : 150 , height : 150 )) myStepLabel . backgroundColor = UIColor . orange myStepLabel . layer . masksToBounds = true myStepLabel . layer . cornerRadius = 75.0 myStepLabel . textColor = UIColor . white myStepLabel . shadowColor = UIColor . gray myStepLabel . font = UIFont . systemFont ( ofSize : 30 ) myStepLabel . textAlignment = NSTextAlignment . center myStepLabel . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 300 ) // View\u306e\u80cc\u666f\u8272\u3092\u9752\u306b\u3059\u308b. self . view . backgroundColor = UIColor . cyan // View\u306b\u8ffd\u52a0. self . view . addSubview ( myStepLabel ) // \u6b69\u6570\u8a08\u3092\u751f\u6210. myPedometer = CMPedometer () // \u30da\u30c9\u30e1\u30fc\u30bf\u30fc(\u6b69\u6570\u8a08)\u3067\u8a08\u6e2c\u958b\u59cb. myPedometer . startUpdates ( from : NSDate () as Date , withHandler : { ( pedometerData , error ) in if let e = error { print ( e . localizedDescription ) return } guard let data = pedometerData else { return } let myStep = data . numberOfSteps myStepLabel . text = \" \\( myStep ) \u6b69\" }) } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 // // ViewController.swift // coremotion003 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit import CoreMotion class ViewController : UIViewController { var myPedometer : CMPedometer ! override func viewDidLoad () { super . viewDidLoad () // Label\u3092\u4f5c\u6210. let myStepLabel : UILabel = UILabel ( frame : CGRectMake ( 0 , 0 , 150 , 150 )) myStepLabel . backgroundColor = UIColor . orangeColor () myStepLabel . layer . masksToBounds = true myStepLabel . layer . cornerRadius = 75.0 myStepLabel . textColor = UIColor . whiteColor () myStepLabel . shadowColor = UIColor . grayColor () myStepLabel . font = UIFont . systemFontOfSize ( CGFloat ( 30 )) myStepLabel . textAlignment = NSTextAlignment . Center myStepLabel . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 300 ) // View\u306e\u80cc\u666f\u8272\u3092\u9752\u306b\u3059\u308b. self . view . backgroundColor = UIColor . cyanColor () // View\u306b\u8ffd\u52a0. self . view . addSubview ( myStepLabel ) // \u6b69\u6570\u8a08\u3092\u751f\u6210. myPedometer = CMPedometer () // \u30da\u30c9\u30e1\u30fc\u30bf\u30fc(\u6b69\u6570\u8a08)\u3067\u8a08\u6e2c\u958b\u59cb. myPedometer . startPedometerUpdatesFromDate ( NSDate (), withHandler : { ( pedometerData , error ) in if let e = error { print ( e . localizedDescription ) return } guard let data = pedometerData else { return } let myStep = data . numberOfSteps myStepLabel . text = \" \\( myStep ) \u6b69\" }) } } 3.x\u30684.x\u306e\u5dee\u5206 myStepLabel.text = \"\\(myStep) \u6b69\" \u3092 DispatchQueue.main.async {} \u3067\u56f2\u3080 2.3\u30683.0\u306e\u5dee\u5206 UIColor\u306b\u3088\u308b\u8272\u6307\u5b9a\u306e\u7c21\u7565\u5316 \u4f8b : UIColor.blueColor() \u304b\u3089 UIColor.blue CGRectMake(CGFloat, CGFloat, CGFloat, CGFloat) \u304b\u3089 CGRect(x: CGFloat, y: CGFloat, width: CGFloat, height: CGFloat) \u306b\u5909\u66f4 UIFont.systemFontOfSize(CGFloat) \u304b\u3089 UIFont.systemFont(ofSize fontSize: CGFloat) \u306b\u5909\u66f4 NSTextAlignment.Center \u304b\u3089 NSTextAlignment.center \u306b\u5909\u66f4 CMPedometer.startPedometerUpdatesFromDate(NSDate, withHandler: CMPedometerHandler) \u304b\u3089 CMPedometer.startUpdates(from: Date, withHandler: CMPedometerHandler) \u306b\u5909\u66f4 Reference CMPedometer https://developer.apple.com/library/ios/documentation/CoreMotion/Reference/CMPedometer_class/ NSTextAlignment https://developer.apple.com/reference/uikit/nstextalignment UIFont https://developer.apple.com/reference/uikit/uifont","title":"\u4e07\u6b69\u8a08\u306e\u6b69\u6570\u306e\u53d6\u5f97"},{"location":"4.coremotion/003_coremotion/#_1","text":"info.plist\u306b NSMotionUsageDescription \u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002 Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 // // ViewController.swift // coremotion003 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit import CoreMotion class ViewController : UIViewController { var myPedometer : CMPedometer ! override func viewDidLoad () { super . viewDidLoad () // Label\u3092\u4f5c\u6210. let myStepLabel : UILabel = UILabel ( frame : CGRect ( x : 0 , y : 0 , width : 150 , height : 150 )) myStepLabel . backgroundColor = UIColor . orange myStepLabel . layer . masksToBounds = true myStepLabel . layer . cornerRadius = 75.0 myStepLabel . textColor = UIColor . white myStepLabel . shadowColor = UIColor . gray myStepLabel . font = UIFont . systemFont ( ofSize : 30 ) myStepLabel . textAlignment = NSTextAlignment . center myStepLabel . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 300 ) // View\u306e\u80cc\u666f\u8272\u3092\u9752\u306b\u3059\u308b. self . view . backgroundColor = UIColor . cyan // View\u306b\u8ffd\u52a0. self . view . addSubview ( myStepLabel ) // \u6b69\u6570\u8a08\u3092\u751f\u6210. myPedometer = CMPedometer () // \u30da\u30c9\u30e1\u30fc\u30bf\u30fc(\u6b69\u6570\u8a08)\u3067\u8a08\u6e2c\u958b\u59cb. myPedometer . startUpdates ( from : NSDate () as Date , withHandler : { ( pedometerData , error ) in if let e = error { print ( e . localizedDescription ) return } guard let data = pedometerData else { return } let myStep = data . numberOfSteps DispatchQueue . main . async { myStepLabel . text = \" \\( myStep ) \u6b69\" } }) } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 // // ViewController.swift // coremotion003 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit import CoreMotion class ViewController : UIViewController { var myPedometer : CMPedometer ! override func viewDidLoad () { super . viewDidLoad () // Label\u3092\u4f5c\u6210. let myStepLabel : UILabel = UILabel ( frame : CGRect ( x : 0 , y : 0 , width : 150 , height : 150 )) myStepLabel . backgroundColor = UIColor . orange myStepLabel . layer . masksToBounds = true myStepLabel . layer . cornerRadius = 75.0 myStepLabel . textColor = UIColor . white myStepLabel . shadowColor = UIColor . gray myStepLabel . font = UIFont . systemFont ( ofSize : 30 ) myStepLabel . textAlignment = NSTextAlignment . center myStepLabel . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 300 ) // View\u306e\u80cc\u666f\u8272\u3092\u9752\u306b\u3059\u308b. self . view . backgroundColor = UIColor . cyan // View\u306b\u8ffd\u52a0. self . view . addSubview ( myStepLabel ) // \u6b69\u6570\u8a08\u3092\u751f\u6210. myPedometer = CMPedometer () // \u30da\u30c9\u30e1\u30fc\u30bf\u30fc(\u6b69\u6570\u8a08)\u3067\u8a08\u6e2c\u958b\u59cb. myPedometer . startUpdates ( from : NSDate () as Date , withHandler : { ( pedometerData , error ) in if let e = error { print ( e . localizedDescription ) return } guard let data = pedometerData else { return } let myStep = data . numberOfSteps myStepLabel . text = \" \\( myStep ) \u6b69\" }) } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 // // ViewController.swift // coremotion003 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit import CoreMotion class ViewController : UIViewController { var myPedometer : CMPedometer ! override func viewDidLoad () { super . viewDidLoad () // Label\u3092\u4f5c\u6210. let myStepLabel : UILabel = UILabel ( frame : CGRectMake ( 0 , 0 , 150 , 150 )) myStepLabel . backgroundColor = UIColor . orangeColor () myStepLabel . layer . masksToBounds = true myStepLabel . layer . cornerRadius = 75.0 myStepLabel . textColor = UIColor . whiteColor () myStepLabel . shadowColor = UIColor . grayColor () myStepLabel . font = UIFont . systemFontOfSize ( CGFloat ( 30 )) myStepLabel . textAlignment = NSTextAlignment . Center myStepLabel . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 300 ) // View\u306e\u80cc\u666f\u8272\u3092\u9752\u306b\u3059\u308b. self . view . backgroundColor = UIColor . cyanColor () // View\u306b\u8ffd\u52a0. self . view . addSubview ( myStepLabel ) // \u6b69\u6570\u8a08\u3092\u751f\u6210. myPedometer = CMPedometer () // \u30da\u30c9\u30e1\u30fc\u30bf\u30fc(\u6b69\u6570\u8a08)\u3067\u8a08\u6e2c\u958b\u59cb. myPedometer . startPedometerUpdatesFromDate ( NSDate (), withHandler : { ( pedometerData , error ) in if let e = error { print ( e . localizedDescription ) return } guard let data = pedometerData else { return } let myStep = data . numberOfSteps myStepLabel . text = \" \\( myStep ) \u6b69\" }) } }","title":"\u4e07\u6b69\u8a08\u306e\u6b69\u6570\u306e\u53d6\u5f97"},{"location":"4.coremotion/003_coremotion/#3x4x","text":"myStepLabel.text = \"\\(myStep) \u6b69\" \u3092 DispatchQueue.main.async {} \u3067\u56f2\u3080","title":"3.x\u30684.x\u306e\u5dee\u5206"},{"location":"4.coremotion/003_coremotion/#2330","text":"UIColor\u306b\u3088\u308b\u8272\u6307\u5b9a\u306e\u7c21\u7565\u5316 \u4f8b : UIColor.blueColor() \u304b\u3089 UIColor.blue CGRectMake(CGFloat, CGFloat, CGFloat, CGFloat) \u304b\u3089 CGRect(x: CGFloat, y: CGFloat, width: CGFloat, height: CGFloat) \u306b\u5909\u66f4 UIFont.systemFontOfSize(CGFloat) \u304b\u3089 UIFont.systemFont(ofSize fontSize: CGFloat) \u306b\u5909\u66f4 NSTextAlignment.Center \u304b\u3089 NSTextAlignment.center \u306b\u5909\u66f4 CMPedometer.startPedometerUpdatesFromDate(NSDate, withHandler: CMPedometerHandler) \u304b\u3089 CMPedometer.startUpdates(from: Date, withHandler: CMPedometerHandler) \u306b\u5909\u66f4","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"4.coremotion/003_coremotion/#reference","text":"CMPedometer https://developer.apple.com/library/ios/documentation/CoreMotion/Reference/CMPedometer_class/ NSTextAlignment https://developer.apple.com/reference/uikit/nstextalignment UIFont https://developer.apple.com/reference/uikit/uifont","title":"Reference"},{"location":"4.coremotion/004_coremotion/","text":"\u9ad8\u5ea6\u306e\u8a08\u6e2c \u203biPhone6\u4ee5\u4e0a\u306e\u7aef\u672b\u3067\u306a\u3044\u3068\u52d5\u4f5c\u3057\u307e\u305b\u3093 Swift 4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 // // ViewController.swift // coremotion004 // // Created by akimach on 2016/08/24. // Copyright \u00a9 2016\u5e74 akimacho. All rights reserved. // import UIKit import CoreMotion class ViewController : UIViewController { var myCMAltimeter : CMAltimeter ! var myAltimeter : UITextField ! override func viewDidLoad () { super . viewDidLoad () // CMAltimeter\u3092\u53d6\u5f97. myCMAltimeter = CMAltimeter () // CMAltimeter\u304c\u5229\u7528\u3067\u304d\u308b\u304b(iPhone5S\u3067\u306fNo\u304c\u8fd4\u3063\u3066\u304f\u308b). let isAltimeter = CMAltimeter . isRelativeAltitudeAvailable () // UITextField\u3092\u4f5c\u6210. myAltimeter = UITextField ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 30 )) // \u67a0\u306e\u7dda\u3092\u8868\u793a. myAltimeter . borderStyle = UITextBorderStyle . roundedRect // UITextField\u306e\u8868\u793a\u3059\u308b\u4f4d\u7f6e. myAltimeter . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 100 ) // View\u306b\u8ffd\u52a0. self . view . addSubview ( myAltimeter ) // Altimeter\u306e\u30e2\u30cb\u30bf\u30ea\u30f3\u30b0\u306e\u30b9\u30bf\u30fc\u30c8. if ! isAltimeter { print ( \"not use altimeter\" ) return } myCMAltimeter . startRelativeAltitudeUpdates ( to : OperationQueue . main , withHandler : {( altimeterData , error ) in if let e = error { print ( e . localizedDescription ) } guard let data = altimeterData else { return } self . myAltimeter . text = \"Altitude: \\( data . relativeAltitude ) \" }) } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 // // ViewController.swift // coremotion004 // // Created by akimach on 2016/08/24. // Copyright \u00a9 2016\u5e74 akimacho. All rights reserved. // import UIKit import CoreMotion class ViewController : UIViewController { var myCMAltimeter : CMAltimeter ! var myAltimeter : UITextField ! override func viewDidLoad () { super . viewDidLoad () // CMAltimeter\u3092\u53d6\u5f97. myCMAltimeter = CMAltimeter () // CMAltimeter\u304c\u5229\u7528\u3067\u304d\u308b\u304b(iPhone5S\u3067\u306fNo\u304c\u8fd4\u3063\u3066\u304f\u308b). let isAltimeter = CMAltimeter . isRelativeAltitudeAvailable () // UITextField\u3092\u4f5c\u6210. myAltimeter = UITextField ( frame : CGRectMake ( 0 , 0 , 200 , 30 )) // \u67a0\u306e\u7dda\u3092\u8868\u793a. myAltimeter . borderStyle = UITextBorderStyle . RoundedRect // UITextField\u306e\u8868\u793a\u3059\u308b\u4f4d\u7f6e. myAltimeter . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 100 ) // View\u306b\u8ffd\u52a0. self . view . addSubview ( myAltimeter ) // Altimeter\u306e\u30e2\u30cb\u30bf\u30ea\u30f3\u30b0\u306e\u30b9\u30bf\u30fc\u30c8. if ! isAltimeter { print ( \"not use altimeter\" ) return } myCMAltimeter . startRelativeAltitudeUpdatesToQueue ( NSOperationQueue . mainQueue (), withHandler : {( altimeterData , error ) in if let e = error { print ( e . localizedDescription ) } guard let data = altimeterData else { return } self . myAltimeter . text = \"Altitude: \\( data . relativeAltitude ) \" }) } } 2.3\u30683.0\u306e\u5dee\u5206 CGRectMake(CGFloat, CGFloat, CGFloat, CGFloat) \u304b\u3089 CGRect(x: CGFloat, y: CGFloat, width: CGFloat, height: CGFloat) \u306b\u5909\u66f4 UITextBorderStyle.RoundedRect \u304b\u3089 UITextBorderStyle.roundedRect \u306b\u5909\u66f4 CMAltimeter.startRelativeAltitudeUpdatesToQueue(NSOperationQueue, withHandler: CMAltitudeHandler) \u304b\u3089 CMAltimeter.startRelativeAltitudeUpdates(to: OperationQueue, withHandler: CMAltitudeHandler) \u306b\u5909\u66f4 NSOperationQueue.mainQueue() \u304b\u3089 OperationQueue.main \u306b\u5909\u66f4 Reference CMAltimeter https://developer.apple.com/reference/coremotion/cmaltimeter NSOperationQueue https://developer.apple.com/library/mac/documentation/Cocoa/Reference/NSOperationQueue_class/ https://developer.apple.com/reference/foundation/nsoperationqueue","title":"\u9ad8\u5ea6\u306e\u8a08\u6e2c"},{"location":"4.coremotion/004_coremotion/#_1","text":"\u203biPhone6\u4ee5\u4e0a\u306e\u7aef\u672b\u3067\u306a\u3044\u3068\u52d5\u4f5c\u3057\u307e\u305b\u3093 Swift 4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 // // ViewController.swift // coremotion004 // // Created by akimach on 2016/08/24. // Copyright \u00a9 2016\u5e74 akimacho. All rights reserved. // import UIKit import CoreMotion class ViewController : UIViewController { var myCMAltimeter : CMAltimeter ! var myAltimeter : UITextField ! override func viewDidLoad () { super . viewDidLoad () // CMAltimeter\u3092\u53d6\u5f97. myCMAltimeter = CMAltimeter () // CMAltimeter\u304c\u5229\u7528\u3067\u304d\u308b\u304b(iPhone5S\u3067\u306fNo\u304c\u8fd4\u3063\u3066\u304f\u308b). let isAltimeter = CMAltimeter . isRelativeAltitudeAvailable () // UITextField\u3092\u4f5c\u6210. myAltimeter = UITextField ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 30 )) // \u67a0\u306e\u7dda\u3092\u8868\u793a. myAltimeter . borderStyle = UITextBorderStyle . roundedRect // UITextField\u306e\u8868\u793a\u3059\u308b\u4f4d\u7f6e. myAltimeter . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 100 ) // View\u306b\u8ffd\u52a0. self . view . addSubview ( myAltimeter ) // Altimeter\u306e\u30e2\u30cb\u30bf\u30ea\u30f3\u30b0\u306e\u30b9\u30bf\u30fc\u30c8. if ! isAltimeter { print ( \"not use altimeter\" ) return } myCMAltimeter . startRelativeAltitudeUpdates ( to : OperationQueue . main , withHandler : {( altimeterData , error ) in if let e = error { print ( e . localizedDescription ) } guard let data = altimeterData else { return } self . myAltimeter . text = \"Altitude: \\( data . relativeAltitude ) \" }) } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 // // ViewController.swift // coremotion004 // // Created by akimach on 2016/08/24. // Copyright \u00a9 2016\u5e74 akimacho. All rights reserved. // import UIKit import CoreMotion class ViewController : UIViewController { var myCMAltimeter : CMAltimeter ! var myAltimeter : UITextField ! override func viewDidLoad () { super . viewDidLoad () // CMAltimeter\u3092\u53d6\u5f97. myCMAltimeter = CMAltimeter () // CMAltimeter\u304c\u5229\u7528\u3067\u304d\u308b\u304b(iPhone5S\u3067\u306fNo\u304c\u8fd4\u3063\u3066\u304f\u308b). let isAltimeter = CMAltimeter . isRelativeAltitudeAvailable () // UITextField\u3092\u4f5c\u6210. myAltimeter = UITextField ( frame : CGRectMake ( 0 , 0 , 200 , 30 )) // \u67a0\u306e\u7dda\u3092\u8868\u793a. myAltimeter . borderStyle = UITextBorderStyle . RoundedRect // UITextField\u306e\u8868\u793a\u3059\u308b\u4f4d\u7f6e. myAltimeter . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 100 ) // View\u306b\u8ffd\u52a0. self . view . addSubview ( myAltimeter ) // Altimeter\u306e\u30e2\u30cb\u30bf\u30ea\u30f3\u30b0\u306e\u30b9\u30bf\u30fc\u30c8. if ! isAltimeter { print ( \"not use altimeter\" ) return } myCMAltimeter . startRelativeAltitudeUpdatesToQueue ( NSOperationQueue . mainQueue (), withHandler : {( altimeterData , error ) in if let e = error { print ( e . localizedDescription ) } guard let data = altimeterData else { return } self . myAltimeter . text = \"Altitude: \\( data . relativeAltitude ) \" }) } }","title":"\u9ad8\u5ea6\u306e\u8a08\u6e2c"},{"location":"4.coremotion/004_coremotion/#2330","text":"CGRectMake(CGFloat, CGFloat, CGFloat, CGFloat) \u304b\u3089 CGRect(x: CGFloat, y: CGFloat, width: CGFloat, height: CGFloat) \u306b\u5909\u66f4 UITextBorderStyle.RoundedRect \u304b\u3089 UITextBorderStyle.roundedRect \u306b\u5909\u66f4 CMAltimeter.startRelativeAltitudeUpdatesToQueue(NSOperationQueue, withHandler: CMAltitudeHandler) \u304b\u3089 CMAltimeter.startRelativeAltitudeUpdates(to: OperationQueue, withHandler: CMAltitudeHandler) \u306b\u5909\u66f4 NSOperationQueue.mainQueue() \u304b\u3089 OperationQueue.main \u306b\u5909\u66f4","title":"2.3\u30683.0\u306e\u5dee\u5206"},{"location":"4.coremotion/004_coremotion/#reference","text":"CMAltimeter https://developer.apple.com/reference/coremotion/cmaltimeter NSOperationQueue https://developer.apple.com/library/mac/documentation/Cocoa/Reference/NSOperationQueue_class/ https://developer.apple.com/reference/foundation/nsoperationqueue","title":"Reference"},{"location":"5.avfoundation/","text":"","title":"Index"},{"location":"5.avfoundation/001_avfoundation/","text":"\u97f3\u6e90\u306e\u518d\u751f Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 // // ViewController.swift // avfoundation001 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit import AVFoundation //AudioPlayerDelegate\u30d7\u30ed\u30c8\u30b3\u30eb\u3092\u63a1\u7528. class ViewController : UIViewController , AVAudioPlayerDelegate { //\u5909\u6570\u5ba3\u8a00. var myAudioPlayer : AVAudioPlayer ! var myButton : UIButton ! override func viewDidLoad () { super . viewDidLoad () //\u518d\u751f\u3059\u308b\u97f3\u6e90\u306eURL\u3092\u751f\u6210. let soundFilePath : String = Bundle . main . path ( forResource : \"Sample\" , ofType : \"mp3\" ) ! let fileURL = URL ( fileURLWithPath : soundFilePath ) //AVAudioPlayer\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316. myAudioPlayer = try ! AVAudioPlayer ( contentsOf : fileURL ) //AVAudioPlayer\u306e\u30c7\u30ea\u30b2\u30fc\u30c8\u3092\u30bb\u30c3\u30c8. myAudioPlayer . delegate = self //\u30dc\u30bf\u30f3\u306e\u751f\u6210. myButton = UIButton () myButton . frame . size = CGSize ( width : 100 , height : 100 ) myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height / 2 ) myButton . setTitle ( \"\u25b6\ufe0e\" , for : UIControl . State . normal ) myButton . setTitleColor ( UIColor . black , for : . normal ) myButton . backgroundColor = UIColor . cyan myButton . addTarget ( self , action : #selector ( onClickMyButton ), for : UIControl . Event . touchUpInside ) myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 50.0 self . view . addSubview ( myButton ) } //\u30dc\u30bf\u30f3\u304c\u30bf\u30c3\u30d7\u3055\u308c\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. @objc func onClickMyButton ( sender : UIButton ) { //playing\u30d7\u30ed\u30d1\u30c6\u30a3\u304ctrue\u3067\u3042\u308c\u3070\u97f3\u6e90\u518d\u751f\u4e2d. if myAudioPlayer . isPlaying == true { //myAudioPlayer\u3092\u4e00\u6642\u505c\u6b62. myAudioPlayer . pause () sender . setTitle ( \"\u25b6\ufe0e\" , for : . normal ) } else { //myAudioPlayer\u306e\u518d\u751f. myAudioPlayer . play () sender . setTitle ( \"\u25a0\" , for : . normal ) } } // MARK: - AVAudioPlayerDelegate //\u97f3\u697d\u518d\u751f\u304c\u6210\u529f\u3057\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. func audioPlayerDidFinishPlaying ( _ player : AVAudioPlayer , successfully flag : Bool ) { if ! flag { return } print ( \"Music Finish\" ) //\u518d\u5ea6myButton\u3092\"\u25b6\ufe0e\"\u306b\u8a2d\u5b9a. myButton . setTitle ( \"\u25b6\ufe0e\" , for : . normal ) } //\u30c7\u30b3\u30fc\u30c9\u4e2d\u306b\u30a8\u30e9\u30fc\u304c\u8d77\u304d\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. func audioPlayerDecodeErrorDidOccur ( _ player : AVAudioPlayer , error : Error ?) { if let e = error { print ( \"Error\" ) print ( e . localizedDescription ) return } } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 // // ViewController.swift // avfoundation001 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit import AVFoundation //AudioPlayerDelegate\u30d7\u30ed\u30c8\u30b3\u30eb\u3092\u63a1\u7528. class ViewController : UIViewController , AVAudioPlayerDelegate { //\u5909\u6570\u5ba3\u8a00. var myAudioPlayer : AVAudioPlayer ! var myButton : UIButton ! override func viewDidLoad () { super . viewDidLoad () //\u518d\u751f\u3059\u308b\u97f3\u6e90\u306eURL\u3092\u751f\u6210. let soundFilePath : String = Bundle . main . path ( forResource : \"Sample\" , ofType : \"mp3\" ) ! let fileURL = URL ( fileURLWithPath : soundFilePath ) //AVAudioPlayer\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316. myAudioPlayer = try ! AVAudioPlayer ( contentsOf : fileURL ) //AVAudioPlayer\u306e\u30c7\u30ea\u30b2\u30fc\u30c8\u3092\u30bb\u30c3\u30c8. myAudioPlayer . delegate = self //\u30dc\u30bf\u30f3\u306e\u751f\u6210. myButton = UIButton () myButton . frame . size = CGSize ( width : 100 , height : 100 ) myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height / 2 ) myButton . setTitle ( \"\u25b6\ufe0e\" , for : UIControlState . normal ) myButton . setTitleColor ( UIColor . black , for : . normal ) myButton . backgroundColor = UIColor . cyan myButton . addTarget ( self , action : #selector ( onClickMyButton ), for : UIControlEvents . touchUpInside ) myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 50.0 self . view . addSubview ( myButton ) } //\u30dc\u30bf\u30f3\u304c\u30bf\u30c3\u30d7\u3055\u308c\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. func onClickMyButton ( sender : UIButton ) { //playing\u30d7\u30ed\u30d1\u30c6\u30a3\u304ctrue\u3067\u3042\u308c\u3070\u97f3\u6e90\u518d\u751f\u4e2d. if myAudioPlayer . isPlaying == true { //myAudioPlayer\u3092\u4e00\u6642\u505c\u6b62. myAudioPlayer . pause () sender . setTitle ( \"\u25b6\ufe0e\" , for : . normal ) } else { //myAudioPlayer\u306e\u518d\u751f. myAudioPlayer . play () sender . setTitle ( \"\u25a0\" , for : . normal ) } } // MARK: - AVAudioPlayerDelegate //\u97f3\u697d\u518d\u751f\u304c\u6210\u529f\u3057\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. func audioPlayerDidFinishPlaying ( _ player : AVAudioPlayer , successfully flag : Bool ) { if ! flag { return } print ( \"Music Finish\" ) //\u518d\u5ea6myButton\u3092\"\u25b6\ufe0e\"\u306b\u8a2d\u5b9a. myButton . setTitle ( \"\u25b6\ufe0e\" , for : . normal ) } //\u30c7\u30b3\u30fc\u30c9\u4e2d\u306b\u30a8\u30e9\u30fc\u304c\u8d77\u304d\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. func audioPlayerDecodeErrorDidOccur ( _ player : AVAudioPlayer , error : Error ?) { if let e = error { print ( \"Error\" ) print ( e . localizedDescription ) return } } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 // // ViewController.swift // avfoundation001 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit import AVFoundation //AudioPlayerDelegate\u30d7\u30ed\u30c8\u30b3\u30eb\u3092\u63a1\u7528. class ViewController : UIViewController , AVAudioPlayerDelegate { //\u5909\u6570\u5ba3\u8a00. var myAudioPlayer : AVAudioPlayer ! var myButton : UIButton ! override func viewDidLoad () { super . viewDidLoad () //\u518d\u751f\u3059\u308b\u97f3\u6e90\u306eURL\u3092\u751f\u6210. let soundFilePath : NSString = NSBundle . mainBundle (). pathForResource ( \"Sample\" , ofType : \"mp3\" ) ! let fileURL : NSURL = NSURL ( fileURLWithPath : soundFilePath as String ) //AVAudioPlayer\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316. myAudioPlayer = try ! AVAudioPlayer ( contentsOfURL : fileURL ) //AVAudioPlayer\u306e\u30c7\u30ea\u30b2\u30fc\u30c8\u3092\u30bb\u30c3\u30c8. myAudioPlayer . delegate = self //\u30dc\u30bf\u30f3\u306e\u751f\u6210. myButton = UIButton () myButton . frame . size = CGSizeMake ( 100 , 100 ) myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height / 2 ) myButton . setTitle ( \"\u25b6\ufe0e\" , forState : UIControlState . Normal ) myButton . setTitleColor ( UIColor . blackColor (), forState : . Normal ) myButton . backgroundColor = UIColor . cyanColor () myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : UIControlEvents . TouchUpInside ) myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 50.0 self . view . addSubview ( myButton ) } //\u30dc\u30bf\u30f3\u304c\u30bf\u30c3\u30d7\u3055\u308c\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. func onClickMyButton ( sender : UIButton ) { //playing\u30d7\u30ed\u30d1\u30c6\u30a3\u304ctrue\u3067\u3042\u308c\u3070\u97f3\u6e90\u518d\u751f\u4e2d. if myAudioPlayer . playing == true { //myAudioPlayer\u3092\u4e00\u6642\u505c\u6b62. myAudioPlayer . pause () sender . setTitle ( \"\u25b6\ufe0e\" , forState : . Normal ) } else { //myAudioPlayer\u306e\u518d\u751f. myAudioPlayer . play () sender . setTitle ( \"\u25a0\" , forState : . Normal ) } } // MARK: - AVAudioPlayerDelegate //\u97f3\u697d\u518d\u751f\u304c\u6210\u529f\u3057\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. func audioPlayerDidFinishPlaying ( player : AVAudioPlayer , successfully flag : Bool ) { if ! flag { return } print ( \"Music Finish\" ) //\u518d\u5ea6myButton\u3092\"\u25b6\ufe0e\"\u306b\u8a2d\u5b9a. myButton . setTitle ( \"\u25b6\ufe0e\" , forState : . Normal ) } //\u30c7\u30b3\u30fc\u30c9\u4e2d\u306b\u30a8\u30e9\u30fc\u304c\u8d77\u304d\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. func audioPlayerDecodeErrorDidOccur ( player : AVAudioPlayer , error : NSError ?) { if let e = error { print ( \"Error\" ) print ( e . localizedDescription ) return } } } 3.x\u30684.x\u306e\u5dee\u5206 UIControlState \u304c UIControl.State \u306b\u5909\u66f4 UIControlEvents \u304c UIControl.Event \u306b\u5909\u66f4 func onClickMyButton(sender: UIButton) \u306b @objc \u3092\u8ffd\u52a0 2.x\u30683.x\u306e\u5dee\u5206 NSBundle \u304b\u3089 Bundle \u306b\u5909\u66f4 NSBundle.mainBundle().pathForResource(String?, ofType: String?) \u304b\u3089 Bundle.main.path(forResource: String?, ofType: String?) \u306b\u5909\u66f4 NSURL \u304b\u3089 URL \u306b\u5909\u66f4 CGSizeMake(CGFloat, CGFloat) \u304b\u3089 CGSize(width: CGFloat, height: CGFloat) \u306b\u5909\u66f4 UIControlState.Normal \u304b\u3089 UIControlState.normal \u306b\u5909\u66f4 UIButton.setTitle(String?, forState: UIControlState) \u304b\u3089 UIButton.setTitle(String?, for: UIControlState) \u306b\u5909\u66f4 UIColor\u306b\u3088\u308b\u8272\u6307\u5b9a\u306e\u7c21\u7565\u5316 \u4f8b : UIColor.blueColor() \u304b\u3089 UIColor.blue \u306b\u5909\u66f4 UIControlEvents.TouchUpInside \u304b\u3089 UIControlEvents.touchUpInside \u306b\u5909\u66f4 AVAudioPlayer \u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u540d\u5909\u66f4 AVAudioPlayer.isPlaying \u2192 AVAudioPlayer.playing AVAudioPlayerDelegate \u30d7\u30ed\u30c8\u30b3\u30eb\u306e\u30e1\u30bd\u30c3\u30c9\u306e\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u5909\u66f4 func audioPlayerDidFinishPlaying(player: AVAudioPlayer, successfully flag: Bool)``func audioPlayerDidFinishPlaying(_ player: AVAudioPlayer, successfully flag: Bool) func audioPlayerDecodeErrorDidOccur(player: AVAudioPlayer, error: NSError?) \u2192 func audioPlayerDecodeErrorDidOccur(_ player: AVAudioPlayer, error: Error?) Reference NSBundle https://developer.apple.com/reference/foundation/nsbundle https://developer.apple.com/library/mac/documentation/Cocoa/Reference/Foundation/Classes/NSBundle_Class/ AV Foundation Framework https://developer.apple.com/library/ios/documentation/AVFoundation/Reference/AVFoundationFramework/ AVAudioPlayerDelegate https://developer.apple.com/library/ios/documentation/AVFoundation/Reference/AVAudioPlayerDelegateProtocolReference/index.html#//apple_ref/occ/intf/AVAudioPlayerDelegate","title":"\u97f3\u6e90\u306e\u518d\u751f"},{"location":"5.avfoundation/001_avfoundation/#_1","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 // // ViewController.swift // avfoundation001 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit import AVFoundation //AudioPlayerDelegate\u30d7\u30ed\u30c8\u30b3\u30eb\u3092\u63a1\u7528. class ViewController : UIViewController , AVAudioPlayerDelegate { //\u5909\u6570\u5ba3\u8a00. var myAudioPlayer : AVAudioPlayer ! var myButton : UIButton ! override func viewDidLoad () { super . viewDidLoad () //\u518d\u751f\u3059\u308b\u97f3\u6e90\u306eURL\u3092\u751f\u6210. let soundFilePath : String = Bundle . main . path ( forResource : \"Sample\" , ofType : \"mp3\" ) ! let fileURL = URL ( fileURLWithPath : soundFilePath ) //AVAudioPlayer\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316. myAudioPlayer = try ! AVAudioPlayer ( contentsOf : fileURL ) //AVAudioPlayer\u306e\u30c7\u30ea\u30b2\u30fc\u30c8\u3092\u30bb\u30c3\u30c8. myAudioPlayer . delegate = self //\u30dc\u30bf\u30f3\u306e\u751f\u6210. myButton = UIButton () myButton . frame . size = CGSize ( width : 100 , height : 100 ) myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height / 2 ) myButton . setTitle ( \"\u25b6\ufe0e\" , for : UIControl . State . normal ) myButton . setTitleColor ( UIColor . black , for : . normal ) myButton . backgroundColor = UIColor . cyan myButton . addTarget ( self , action : #selector ( onClickMyButton ), for : UIControl . Event . touchUpInside ) myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 50.0 self . view . addSubview ( myButton ) } //\u30dc\u30bf\u30f3\u304c\u30bf\u30c3\u30d7\u3055\u308c\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. @objc func onClickMyButton ( sender : UIButton ) { //playing\u30d7\u30ed\u30d1\u30c6\u30a3\u304ctrue\u3067\u3042\u308c\u3070\u97f3\u6e90\u518d\u751f\u4e2d. if myAudioPlayer . isPlaying == true { //myAudioPlayer\u3092\u4e00\u6642\u505c\u6b62. myAudioPlayer . pause () sender . setTitle ( \"\u25b6\ufe0e\" , for : . normal ) } else { //myAudioPlayer\u306e\u518d\u751f. myAudioPlayer . play () sender . setTitle ( \"\u25a0\" , for : . normal ) } } // MARK: - AVAudioPlayerDelegate //\u97f3\u697d\u518d\u751f\u304c\u6210\u529f\u3057\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. func audioPlayerDidFinishPlaying ( _ player : AVAudioPlayer , successfully flag : Bool ) { if ! flag { return } print ( \"Music Finish\" ) //\u518d\u5ea6myButton\u3092\"\u25b6\ufe0e\"\u306b\u8a2d\u5b9a. myButton . setTitle ( \"\u25b6\ufe0e\" , for : . normal ) } //\u30c7\u30b3\u30fc\u30c9\u4e2d\u306b\u30a8\u30e9\u30fc\u304c\u8d77\u304d\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. func audioPlayerDecodeErrorDidOccur ( _ player : AVAudioPlayer , error : Error ?) { if let e = error { print ( \"Error\" ) print ( e . localizedDescription ) return } } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 // // ViewController.swift // avfoundation001 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit import AVFoundation //AudioPlayerDelegate\u30d7\u30ed\u30c8\u30b3\u30eb\u3092\u63a1\u7528. class ViewController : UIViewController , AVAudioPlayerDelegate { //\u5909\u6570\u5ba3\u8a00. var myAudioPlayer : AVAudioPlayer ! var myButton : UIButton ! override func viewDidLoad () { super . viewDidLoad () //\u518d\u751f\u3059\u308b\u97f3\u6e90\u306eURL\u3092\u751f\u6210. let soundFilePath : String = Bundle . main . path ( forResource : \"Sample\" , ofType : \"mp3\" ) ! let fileURL = URL ( fileURLWithPath : soundFilePath ) //AVAudioPlayer\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316. myAudioPlayer = try ! AVAudioPlayer ( contentsOf : fileURL ) //AVAudioPlayer\u306e\u30c7\u30ea\u30b2\u30fc\u30c8\u3092\u30bb\u30c3\u30c8. myAudioPlayer . delegate = self //\u30dc\u30bf\u30f3\u306e\u751f\u6210. myButton = UIButton () myButton . frame . size = CGSize ( width : 100 , height : 100 ) myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height / 2 ) myButton . setTitle ( \"\u25b6\ufe0e\" , for : UIControlState . normal ) myButton . setTitleColor ( UIColor . black , for : . normal ) myButton . backgroundColor = UIColor . cyan myButton . addTarget ( self , action : #selector ( onClickMyButton ), for : UIControlEvents . touchUpInside ) myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 50.0 self . view . addSubview ( myButton ) } //\u30dc\u30bf\u30f3\u304c\u30bf\u30c3\u30d7\u3055\u308c\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. func onClickMyButton ( sender : UIButton ) { //playing\u30d7\u30ed\u30d1\u30c6\u30a3\u304ctrue\u3067\u3042\u308c\u3070\u97f3\u6e90\u518d\u751f\u4e2d. if myAudioPlayer . isPlaying == true { //myAudioPlayer\u3092\u4e00\u6642\u505c\u6b62. myAudioPlayer . pause () sender . setTitle ( \"\u25b6\ufe0e\" , for : . normal ) } else { //myAudioPlayer\u306e\u518d\u751f. myAudioPlayer . play () sender . setTitle ( \"\u25a0\" , for : . normal ) } } // MARK: - AVAudioPlayerDelegate //\u97f3\u697d\u518d\u751f\u304c\u6210\u529f\u3057\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. func audioPlayerDidFinishPlaying ( _ player : AVAudioPlayer , successfully flag : Bool ) { if ! flag { return } print ( \"Music Finish\" ) //\u518d\u5ea6myButton\u3092\"\u25b6\ufe0e\"\u306b\u8a2d\u5b9a. myButton . setTitle ( \"\u25b6\ufe0e\" , for : . normal ) } //\u30c7\u30b3\u30fc\u30c9\u4e2d\u306b\u30a8\u30e9\u30fc\u304c\u8d77\u304d\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. func audioPlayerDecodeErrorDidOccur ( _ player : AVAudioPlayer , error : Error ?) { if let e = error { print ( \"Error\" ) print ( e . localizedDescription ) return } } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 // // ViewController.swift // avfoundation001 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit import AVFoundation //AudioPlayerDelegate\u30d7\u30ed\u30c8\u30b3\u30eb\u3092\u63a1\u7528. class ViewController : UIViewController , AVAudioPlayerDelegate { //\u5909\u6570\u5ba3\u8a00. var myAudioPlayer : AVAudioPlayer ! var myButton : UIButton ! override func viewDidLoad () { super . viewDidLoad () //\u518d\u751f\u3059\u308b\u97f3\u6e90\u306eURL\u3092\u751f\u6210. let soundFilePath : NSString = NSBundle . mainBundle (). pathForResource ( \"Sample\" , ofType : \"mp3\" ) ! let fileURL : NSURL = NSURL ( fileURLWithPath : soundFilePath as String ) //AVAudioPlayer\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316. myAudioPlayer = try ! AVAudioPlayer ( contentsOfURL : fileURL ) //AVAudioPlayer\u306e\u30c7\u30ea\u30b2\u30fc\u30c8\u3092\u30bb\u30c3\u30c8. myAudioPlayer . delegate = self //\u30dc\u30bf\u30f3\u306e\u751f\u6210. myButton = UIButton () myButton . frame . size = CGSizeMake ( 100 , 100 ) myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height / 2 ) myButton . setTitle ( \"\u25b6\ufe0e\" , forState : UIControlState . Normal ) myButton . setTitleColor ( UIColor . blackColor (), forState : . Normal ) myButton . backgroundColor = UIColor . cyanColor () myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : UIControlEvents . TouchUpInside ) myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 50.0 self . view . addSubview ( myButton ) } //\u30dc\u30bf\u30f3\u304c\u30bf\u30c3\u30d7\u3055\u308c\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. func onClickMyButton ( sender : UIButton ) { //playing\u30d7\u30ed\u30d1\u30c6\u30a3\u304ctrue\u3067\u3042\u308c\u3070\u97f3\u6e90\u518d\u751f\u4e2d. if myAudioPlayer . playing == true { //myAudioPlayer\u3092\u4e00\u6642\u505c\u6b62. myAudioPlayer . pause () sender . setTitle ( \"\u25b6\ufe0e\" , forState : . Normal ) } else { //myAudioPlayer\u306e\u518d\u751f. myAudioPlayer . play () sender . setTitle ( \"\u25a0\" , forState : . Normal ) } } // MARK: - AVAudioPlayerDelegate //\u97f3\u697d\u518d\u751f\u304c\u6210\u529f\u3057\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. func audioPlayerDidFinishPlaying ( player : AVAudioPlayer , successfully flag : Bool ) { if ! flag { return } print ( \"Music Finish\" ) //\u518d\u5ea6myButton\u3092\"\u25b6\ufe0e\"\u306b\u8a2d\u5b9a. myButton . setTitle ( \"\u25b6\ufe0e\" , forState : . Normal ) } //\u30c7\u30b3\u30fc\u30c9\u4e2d\u306b\u30a8\u30e9\u30fc\u304c\u8d77\u304d\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. func audioPlayerDecodeErrorDidOccur ( player : AVAudioPlayer , error : NSError ?) { if let e = error { print ( \"Error\" ) print ( e . localizedDescription ) return } } }","title":"\u97f3\u6e90\u306e\u518d\u751f"},{"location":"5.avfoundation/001_avfoundation/#3x4x","text":"UIControlState \u304c UIControl.State \u306b\u5909\u66f4 UIControlEvents \u304c UIControl.Event \u306b\u5909\u66f4 func onClickMyButton(sender: UIButton) \u306b @objc \u3092\u8ffd\u52a0","title":"3.x\u30684.x\u306e\u5dee\u5206"},{"location":"5.avfoundation/001_avfoundation/#2x3x","text":"NSBundle \u304b\u3089 Bundle \u306b\u5909\u66f4 NSBundle.mainBundle().pathForResource(String?, ofType: String?) \u304b\u3089 Bundle.main.path(forResource: String?, ofType: String?) \u306b\u5909\u66f4 NSURL \u304b\u3089 URL \u306b\u5909\u66f4 CGSizeMake(CGFloat, CGFloat) \u304b\u3089 CGSize(width: CGFloat, height: CGFloat) \u306b\u5909\u66f4 UIControlState.Normal \u304b\u3089 UIControlState.normal \u306b\u5909\u66f4 UIButton.setTitle(String?, forState: UIControlState) \u304b\u3089 UIButton.setTitle(String?, for: UIControlState) \u306b\u5909\u66f4 UIColor\u306b\u3088\u308b\u8272\u6307\u5b9a\u306e\u7c21\u7565\u5316 \u4f8b : UIColor.blueColor() \u304b\u3089 UIColor.blue \u306b\u5909\u66f4 UIControlEvents.TouchUpInside \u304b\u3089 UIControlEvents.touchUpInside \u306b\u5909\u66f4 AVAudioPlayer \u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u540d\u5909\u66f4 AVAudioPlayer.isPlaying \u2192 AVAudioPlayer.playing AVAudioPlayerDelegate \u30d7\u30ed\u30c8\u30b3\u30eb\u306e\u30e1\u30bd\u30c3\u30c9\u306e\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u5909\u66f4 func audioPlayerDidFinishPlaying(player: AVAudioPlayer, successfully flag: Bool)``func audioPlayerDidFinishPlaying(_ player: AVAudioPlayer, successfully flag: Bool) func audioPlayerDecodeErrorDidOccur(player: AVAudioPlayer, error: NSError?) \u2192 func audioPlayerDecodeErrorDidOccur(_ player: AVAudioPlayer, error: Error?)","title":"2.x\u30683.x\u306e\u5dee\u5206"},{"location":"5.avfoundation/001_avfoundation/#reference","text":"NSBundle https://developer.apple.com/reference/foundation/nsbundle https://developer.apple.com/library/mac/documentation/Cocoa/Reference/Foundation/Classes/NSBundle_Class/ AV Foundation Framework https://developer.apple.com/library/ios/documentation/AVFoundation/Reference/AVFoundationFramework/ AVAudioPlayerDelegate https://developer.apple.com/library/ios/documentation/AVFoundation/Reference/AVAudioPlayerDelegateProtocolReference/index.html#//apple_ref/occ/intf/AVAudioPlayerDelegate","title":"Reference"},{"location":"5.avfoundation/002_avfoundation/","text":"\u30ab\u30e1\u30e9\u306e\u8d77\u52d5\u3068\u753b\u50cf\u306e\u4fdd\u5b58 Info.plist \u306b NSCameraUsageDescription \u3068 NSPhotoLibraryUsageDescription \u3068 NSPhotoLibraryAddUsageDescription \u3092\u8ffd\u52a0\u3057\u307e\u3059 Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 // // ViewController.swift // avfoundation002 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit import AVFoundation class ViewController : UIViewController { // \u30bb\u30c3\u30b7\u30e7\u30f3. var mySession : AVCaptureSession ! // \u30c7\u30d0\u30a4\u30b9. var myDevice : AVCaptureDevice ! // \u753b\u50cf\u306e\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8. var myImageOutput : AVCaptureStillImageOutput ! override func viewDidLoad () { super . viewDidLoad () // \u30bb\u30c3\u30b7\u30e7\u30f3\u306e\u4f5c\u6210. mySession = AVCaptureSession () // \u30c7\u30d0\u30a4\u30b9\u4e00\u89a7\u306e\u53d6\u5f97. let devices = AVCaptureDevice . devices () // \u30d0\u30c3\u30af\u30ab\u30e1\u30e9\u3092myDevice\u306b\u683c\u7d0d. for device in devices { if ( device . position == AVCaptureDevice . Position . back ){ myDevice = device as ! AVCaptureDevice } } // \u30d0\u30c3\u30af\u30ab\u30e1\u30e9\u304b\u3089VideoInput\u3092\u53d6\u5f97. let videoInput = try ! AVCaptureDeviceInput . init ( device : myDevice ) // \u30bb\u30c3\u30b7\u30e7\u30f3\u306b\u8ffd\u52a0. mySession . addInput ( videoInput ) // \u51fa\u529b\u5148\u3092\u751f\u6210. myImageOutput = AVCaptureStillImageOutput () // \u30bb\u30c3\u30b7\u30e7\u30f3\u306b\u8ffd\u52a0. mySession . addOutput ( myImageOutput ) // \u753b\u50cf\u3092\u8868\u793a\u3059\u308b\u30ec\u30a4\u30e4\u30fc\u3092\u751f\u6210. let myVideoLayer = AVCaptureVideoPreviewLayer . init ( session : mySession ) myVideoLayer . frame = self . view . bounds myVideoLayer . videoGravity = AVLayerVideoGravity . resizeAspectFill // View\u306b\u8ffd\u52a0. self . view . layer . addSublayer ( myVideoLayer ) // \u30bb\u30c3\u30b7\u30e7\u30f3\u958b\u59cb. mySession . startRunning () // UI\u30dc\u30bf\u30f3\u3092\u4f5c\u6210. let myButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 120 , height : 50 )) myButton . backgroundColor = UIColor . red myButton . layer . masksToBounds = true myButton . setTitle ( \"\u64ae\u5f71\" , for : . normal ) myButton . layer . cornerRadius = 20.0 myButton . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : self . view . bounds . height - 50 ) myButton . addTarget ( self , action : #selector ( onClickMyButton ), for : . touchUpInside ) // UI\u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0. self . view . addSubview ( myButton ); } // \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. @objc func onClickMyButton ( sender : UIButton ){ // \u30d3\u30c7\u30aa\u51fa\u529b\u306b\u63a5\u7d9a. // let myVideoConnection = myImageOutput.connectionWithMediaType(AVMediaTypeVideo) let myVideoConnection = myImageOutput . connection ( with : AVMediaType . video ) // \u63a5\u7d9a\u304b\u3089\u753b\u50cf\u3092\u53d6\u5f97. self . myImageOutput . captureStillImageAsynchronously ( from : myVideoConnection !, completionHandler : {( imageDataBuffer , error ) in if let e = error { print ( e . localizedDescription ) return } // \u53d6\u5f97\u3057\u305fImage\u306eDataBuffer\u3092Jpeg\u306b\u5909\u63db. let myImageData = AVCapturePhotoOutput . jpegPhotoDataRepresentation ( forJPEGSampleBuffer : imageDataBuffer !, previewPhotoSampleBuffer : nil ) // Jpeg\u304b\u3089UIIMage\u3092\u4f5c\u6210. let myImage = UIImage ( data : myImageData !) // \u30a2\u30eb\u30d0\u30e0\u306b\u8ffd\u52a0. UIImageWriteToSavedPhotosAlbum ( myImage !, nil , nil , nil ) }) } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 // // ViewController.swift // avfoundation002 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit import AVFoundation class ViewController : UIViewController { // \u30bb\u30c3\u30b7\u30e7\u30f3. var mySession : AVCaptureSession ! // \u30c7\u30d0\u30a4\u30b9. var myDevice : AVCaptureDevice ! // \u753b\u50cf\u306e\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8. var myImageOutput : AVCaptureStillImageOutput ! override func viewDidLoad () { super . viewDidLoad () // \u30bb\u30c3\u30b7\u30e7\u30f3\u306e\u4f5c\u6210. mySession = AVCaptureSession () // \u30c7\u30d0\u30a4\u30b9\u4e00\u89a7\u306e\u53d6\u5f97. let devices = AVCaptureDevice . devices () // \u30d0\u30c3\u30af\u30ab\u30e1\u30e9\u3092myDevice\u306b\u683c\u7d0d. for device in devices ! { if ( device . position == AVCaptureDevicePosition . back ){ myDevice = device as ! AVCaptureDevice } } // \u30d0\u30c3\u30af\u30ab\u30e1\u30e9\u304b\u3089VideoInput\u3092\u53d6\u5f97. let videoInput = try ! AVCaptureDeviceInput . init ( device : myDevice ) // \u30bb\u30c3\u30b7\u30e7\u30f3\u306b\u8ffd\u52a0. mySession . addInput ( videoInput ) // \u51fa\u529b\u5148\u3092\u751f\u6210. myImageOutput = AVCaptureStillImageOutput () // \u30bb\u30c3\u30b7\u30e7\u30f3\u306b\u8ffd\u52a0. mySession . addOutput ( myImageOutput ) // \u753b\u50cf\u3092\u8868\u793a\u3059\u308b\u30ec\u30a4\u30e4\u30fc\u3092\u751f\u6210. let myVideoLayer = AVCaptureVideoPreviewLayer . init ( session : mySession ) myVideoLayer ?. frame = self . view . bounds myVideoLayer ?. videoGravity = AVLayerVideoGravityResizeAspectFill // View\u306b\u8ffd\u52a0. self . view . layer . addSublayer ( myVideoLayer !) // \u30bb\u30c3\u30b7\u30e7\u30f3\u958b\u59cb. mySession . startRunning () // UI\u30dc\u30bf\u30f3\u3092\u4f5c\u6210. let myButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 120 , height : 50 )) myButton . backgroundColor = UIColor . red myButton . layer . masksToBounds = true myButton . setTitle ( \"\u64ae\u5f71\" , for : . normal ) myButton . layer . cornerRadius = 20.0 myButton . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : self . view . bounds . height - 50 ) myButton . addTarget ( self , action : #selector ( onClickMyButton ), for : . touchUpInside ) // UI\u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0. self . view . addSubview ( myButton ); } // \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. func onClickMyButton ( sender : UIButton ){ // \u30d3\u30c7\u30aa\u51fa\u529b\u306b\u63a5\u7d9a. // let myVideoConnection = myImageOutput.connectionWithMediaType(AVMediaTypeVideo) let myVideoConnection = myImageOutput . connection ( withMediaType : AVMediaTypeVideo ) // \u63a5\u7d9a\u304b\u3089\u753b\u50cf\u3092\u53d6\u5f97. self . myImageOutput . captureStillImageAsynchronously ( from : myVideoConnection , completionHandler : {( imageDataBuffer , error ) in if let e = error { print ( e . localizedDescription ) return } // \u53d6\u5f97\u3057\u305fImage\u306eDataBuffer\u3092Jpeg\u306b\u5909\u63db. let myImageData = AVCapturePhotoOutput . jpegPhotoDataRepresentation ( forJPEGSampleBuffer : imageDataBuffer !, previewPhotoSampleBuffer : nil ) // Jpeg\u304b\u3089UIIMage\u3092\u4f5c\u6210. let myImage = UIImage ( data : myImageData !) // \u30a2\u30eb\u30d0\u30e0\u306b\u8ffd\u52a0. UIImageWriteToSavedPhotosAlbum ( myImage !, nil , nil , nil ) }) } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 // // ViewController.swift // avfoundation002 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit import AVFoundation class ViewController : UIViewController { // \u30bb\u30c3\u30b7\u30e7\u30f3. var mySession : AVCaptureSession ! // \u30c7\u30d0\u30a4\u30b9. var myDevice : AVCaptureDevice ! // \u753b\u50cf\u306e\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8. var myImageOutput : AVCaptureStillImageOutput ! override func viewDidLoad () { super . viewDidLoad () // \u30bb\u30c3\u30b7\u30e7\u30f3\u306e\u4f5c\u6210. mySession = AVCaptureSession () // \u30c7\u30d0\u30a4\u30b9\u4e00\u89a7\u306e\u53d6\u5f97. let devices = AVCaptureDevice . devices () // \u30d0\u30c3\u30af\u30ab\u30e1\u30e9\u3092myDevice\u306b\u683c\u7d0d. for device in devices { if ( device . position == AVCaptureDevicePosition . Back ){ myDevice = device as ! AVCaptureDevice } } // \u30d0\u30c3\u30af\u30ab\u30e1\u30e9\u304b\u3089VideoInput\u3092\u53d6\u5f97. let videoInput = try ! AVCaptureDeviceInput . init ( device : myDevice ) // \u30bb\u30c3\u30b7\u30e7\u30f3\u306b\u8ffd\u52a0. mySession . addInput ( videoInput ) // \u51fa\u529b\u5148\u3092\u751f\u6210. myImageOutput = AVCaptureStillImageOutput () // \u30bb\u30c3\u30b7\u30e7\u30f3\u306b\u8ffd\u52a0. mySession . addOutput ( myImageOutput ) // \u753b\u50cf\u3092\u8868\u793a\u3059\u308b\u30ec\u30a4\u30e4\u30fc\u3092\u751f\u6210. let myVideoLayer = AVCaptureVideoPreviewLayer . init ( session : mySession ) myVideoLayer . frame = self . view . bounds myVideoLayer . videoGravity = AVLayerVideoGravityResizeAspectFill // View\u306b\u8ffd\u52a0. self . view . layer . addSublayer ( myVideoLayer ) // \u30bb\u30c3\u30b7\u30e7\u30f3\u958b\u59cb. mySession . startRunning () // UI\u30dc\u30bf\u30f3\u3092\u4f5c\u6210. let myButton = UIButton ( frame : CGRectMake ( 0 , 0 , 120 , 50 )) myButton . backgroundColor = UIColor . redColor (); myButton . layer . masksToBounds = true myButton . setTitle ( \"\u64ae\u5f71\" , forState : . Normal ) myButton . layer . cornerRadius = 20.0 myButton . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : self . view . bounds . height - 50 ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : . TouchUpInside ) // UI\u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0. self . view . addSubview ( myButton ); } // \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. func onClickMyButton ( sender : UIButton ){ // \u30d3\u30c7\u30aa\u51fa\u529b\u306b\u63a5\u7d9a. let myVideoConnection = myImageOutput . connectionWithMediaType ( AVMediaTypeVideo ) // \u63a5\u7d9a\u304b\u3089\u753b\u50cf\u3092\u53d6\u5f97. self . myImageOutput . captureStillImageAsynchronouslyFromConnection ( myVideoConnection , completionHandler : { ( imageDataBuffer , error ) -> Void in if let e = error { print ( e . localizedDescription ) return } // \u53d6\u5f97\u3057\u305fImage\u306eDataBuffer\u3092Jpeg\u306b\u5909\u63db. let myImageData = AVCaptureStillImageOutput . jpegStillImageNSDataRepresentation ( imageDataBuffer ) // Jpeg\u304b\u3089UIIMage\u3092\u4f5c\u6210. let myImage = UIImage ( data : myImageData ) ! // \u30a2\u30eb\u30d0\u30e0\u306b\u8ffd\u52a0. UIImageWriteToSavedPhotosAlbum ( myImage , self , nil , nil ) }) } } 3.x\u30684.x\u306e\u5dee\u5206 dvices! \u304c devices \u306b\u5909\u66f4 AVCaptureDevicePosition.back \u304c AVCaptureDevice.Position.back \u306b\u5909\u66f4 myVideoLayer? \u3068 myVideoLayer! \u304c myVideoLayer \u306b\u5909\u66f4 AVLayerVideoGravityResizeAspectFill \u304c AVLayerVideoGravity.resizeAspectFill \u306b\u5909\u66f4 func onClickMyButton(sender: UIButton) \u306b @objc \u3092\u8ffd\u52a0 (withMediaType: AVMediaTypeVideo) \u304c (with: AVMediaType.video) \u306b\u5909\u66f4 myVideoConnection \u304c myVideoConnection! \u306b\u5909\u66f4 2.x\u30683.x\u306e\u5dee\u5206 AVCaptureStillImageOutput \u306fDeprecated\u3002\u4ee3\u308f\u308a\u306b AVCapturePhotoOutput \u3092\u4f7f\u7528 enum\u5217\u6319\u4f53\u306e\u30a4\u30cb\u30b7\u30e3\u30eb\u306e\u5c0f\u6587\u5b57\u5316 \u4f8b : AVCaptureDevicePosition.Back \u304b\u3089 AVCaptureDevicePosition.back \u306b\u5909\u66f4 UIColor\u306b\u3088\u308b\u8272\u6307\u5b9a\u306e\u7c21\u7565\u5316 \u4f8b : UIColor.blueColor() \u304b\u3089 UIColor.blue UIButton.setTitle(String?, forState: UIControlState) \u304b\u3089 UIButton.setTitle(String?, for: UIControlState) \u306b\u5909\u66f4 UIButton.addTarget(AnyObject?, action: Selector, forControlEvents: UIControlEvents) \u304b\u3089 UIButton.addTarget(AnyObject?, action: Selector, for: UIControlEvents) \u306b\u5909\u66f4 UIControlEvents.TouchUpInside \u304b\u3089 UIControlEvents.touchUpInside \u306b\u5909\u66f4 AVCaptureStillImageOutput.connectionWithMediaType(String!) \u304b\u3089 AVCapturePhotoOutput.connection(withMediaType: String!) \u306b\u5909\u66f4 AVCaptureStillImageOutput.captureStillImageAsynchronouslyFromConnection(AVCaptureConnection!, completionHandler: ((CMSampleBuffer!, NSError!) -> Void)!) \u304b\u3089 AVCaptureStillImageOutput.captureStillImageAsynchronously(from: AVCaptureConnection!, completionHandler: ((CMSampleBuffer?, Error?) -> Void)!) \u306b\u5909\u66f4 Reference AV Foundation Framework https://developer.apple.com/library/ios/documentation/AVFoundation/Reference/AVFoundationFramework/ AVCaptureStillImageOutput https://developer.apple.com/reference/avfoundation/avcapturestillimageoutput","title":"\u30ab\u30e1\u30e9\u306e\u8d77\u52d5\u3068\u753b\u50cf\u306e\u4fdd\u5b58"},{"location":"5.avfoundation/002_avfoundation/#_1","text":"Info.plist \u306b NSCameraUsageDescription \u3068 NSPhotoLibraryUsageDescription \u3068 NSPhotoLibraryAddUsageDescription \u3092\u8ffd\u52a0\u3057\u307e\u3059 Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 // // ViewController.swift // avfoundation002 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit import AVFoundation class ViewController : UIViewController { // \u30bb\u30c3\u30b7\u30e7\u30f3. var mySession : AVCaptureSession ! // \u30c7\u30d0\u30a4\u30b9. var myDevice : AVCaptureDevice ! // \u753b\u50cf\u306e\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8. var myImageOutput : AVCaptureStillImageOutput ! override func viewDidLoad () { super . viewDidLoad () // \u30bb\u30c3\u30b7\u30e7\u30f3\u306e\u4f5c\u6210. mySession = AVCaptureSession () // \u30c7\u30d0\u30a4\u30b9\u4e00\u89a7\u306e\u53d6\u5f97. let devices = AVCaptureDevice . devices () // \u30d0\u30c3\u30af\u30ab\u30e1\u30e9\u3092myDevice\u306b\u683c\u7d0d. for device in devices { if ( device . position == AVCaptureDevice . Position . back ){ myDevice = device as ! AVCaptureDevice } } // \u30d0\u30c3\u30af\u30ab\u30e1\u30e9\u304b\u3089VideoInput\u3092\u53d6\u5f97. let videoInput = try ! AVCaptureDeviceInput . init ( device : myDevice ) // \u30bb\u30c3\u30b7\u30e7\u30f3\u306b\u8ffd\u52a0. mySession . addInput ( videoInput ) // \u51fa\u529b\u5148\u3092\u751f\u6210. myImageOutput = AVCaptureStillImageOutput () // \u30bb\u30c3\u30b7\u30e7\u30f3\u306b\u8ffd\u52a0. mySession . addOutput ( myImageOutput ) // \u753b\u50cf\u3092\u8868\u793a\u3059\u308b\u30ec\u30a4\u30e4\u30fc\u3092\u751f\u6210. let myVideoLayer = AVCaptureVideoPreviewLayer . init ( session : mySession ) myVideoLayer . frame = self . view . bounds myVideoLayer . videoGravity = AVLayerVideoGravity . resizeAspectFill // View\u306b\u8ffd\u52a0. self . view . layer . addSublayer ( myVideoLayer ) // \u30bb\u30c3\u30b7\u30e7\u30f3\u958b\u59cb. mySession . startRunning () // UI\u30dc\u30bf\u30f3\u3092\u4f5c\u6210. let myButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 120 , height : 50 )) myButton . backgroundColor = UIColor . red myButton . layer . masksToBounds = true myButton . setTitle ( \"\u64ae\u5f71\" , for : . normal ) myButton . layer . cornerRadius = 20.0 myButton . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : self . view . bounds . height - 50 ) myButton . addTarget ( self , action : #selector ( onClickMyButton ), for : . touchUpInside ) // UI\u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0. self . view . addSubview ( myButton ); } // \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. @objc func onClickMyButton ( sender : UIButton ){ // \u30d3\u30c7\u30aa\u51fa\u529b\u306b\u63a5\u7d9a. // let myVideoConnection = myImageOutput.connectionWithMediaType(AVMediaTypeVideo) let myVideoConnection = myImageOutput . connection ( with : AVMediaType . video ) // \u63a5\u7d9a\u304b\u3089\u753b\u50cf\u3092\u53d6\u5f97. self . myImageOutput . captureStillImageAsynchronously ( from : myVideoConnection !, completionHandler : {( imageDataBuffer , error ) in if let e = error { print ( e . localizedDescription ) return } // \u53d6\u5f97\u3057\u305fImage\u306eDataBuffer\u3092Jpeg\u306b\u5909\u63db. let myImageData = AVCapturePhotoOutput . jpegPhotoDataRepresentation ( forJPEGSampleBuffer : imageDataBuffer !, previewPhotoSampleBuffer : nil ) // Jpeg\u304b\u3089UIIMage\u3092\u4f5c\u6210. let myImage = UIImage ( data : myImageData !) // \u30a2\u30eb\u30d0\u30e0\u306b\u8ffd\u52a0. UIImageWriteToSavedPhotosAlbum ( myImage !, nil , nil , nil ) }) } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 // // ViewController.swift // avfoundation002 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit import AVFoundation class ViewController : UIViewController { // \u30bb\u30c3\u30b7\u30e7\u30f3. var mySession : AVCaptureSession ! // \u30c7\u30d0\u30a4\u30b9. var myDevice : AVCaptureDevice ! // \u753b\u50cf\u306e\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8. var myImageOutput : AVCaptureStillImageOutput ! override func viewDidLoad () { super . viewDidLoad () // \u30bb\u30c3\u30b7\u30e7\u30f3\u306e\u4f5c\u6210. mySession = AVCaptureSession () // \u30c7\u30d0\u30a4\u30b9\u4e00\u89a7\u306e\u53d6\u5f97. let devices = AVCaptureDevice . devices () // \u30d0\u30c3\u30af\u30ab\u30e1\u30e9\u3092myDevice\u306b\u683c\u7d0d. for device in devices ! { if ( device . position == AVCaptureDevicePosition . back ){ myDevice = device as ! AVCaptureDevice } } // \u30d0\u30c3\u30af\u30ab\u30e1\u30e9\u304b\u3089VideoInput\u3092\u53d6\u5f97. let videoInput = try ! AVCaptureDeviceInput . init ( device : myDevice ) // \u30bb\u30c3\u30b7\u30e7\u30f3\u306b\u8ffd\u52a0. mySession . addInput ( videoInput ) // \u51fa\u529b\u5148\u3092\u751f\u6210. myImageOutput = AVCaptureStillImageOutput () // \u30bb\u30c3\u30b7\u30e7\u30f3\u306b\u8ffd\u52a0. mySession . addOutput ( myImageOutput ) // \u753b\u50cf\u3092\u8868\u793a\u3059\u308b\u30ec\u30a4\u30e4\u30fc\u3092\u751f\u6210. let myVideoLayer = AVCaptureVideoPreviewLayer . init ( session : mySession ) myVideoLayer ?. frame = self . view . bounds myVideoLayer ?. videoGravity = AVLayerVideoGravityResizeAspectFill // View\u306b\u8ffd\u52a0. self . view . layer . addSublayer ( myVideoLayer !) // \u30bb\u30c3\u30b7\u30e7\u30f3\u958b\u59cb. mySession . startRunning () // UI\u30dc\u30bf\u30f3\u3092\u4f5c\u6210. let myButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 120 , height : 50 )) myButton . backgroundColor = UIColor . red myButton . layer . masksToBounds = true myButton . setTitle ( \"\u64ae\u5f71\" , for : . normal ) myButton . layer . cornerRadius = 20.0 myButton . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : self . view . bounds . height - 50 ) myButton . addTarget ( self , action : #selector ( onClickMyButton ), for : . touchUpInside ) // UI\u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0. self . view . addSubview ( myButton ); } // \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. func onClickMyButton ( sender : UIButton ){ // \u30d3\u30c7\u30aa\u51fa\u529b\u306b\u63a5\u7d9a. // let myVideoConnection = myImageOutput.connectionWithMediaType(AVMediaTypeVideo) let myVideoConnection = myImageOutput . connection ( withMediaType : AVMediaTypeVideo ) // \u63a5\u7d9a\u304b\u3089\u753b\u50cf\u3092\u53d6\u5f97. self . myImageOutput . captureStillImageAsynchronously ( from : myVideoConnection , completionHandler : {( imageDataBuffer , error ) in if let e = error { print ( e . localizedDescription ) return } // \u53d6\u5f97\u3057\u305fImage\u306eDataBuffer\u3092Jpeg\u306b\u5909\u63db. let myImageData = AVCapturePhotoOutput . jpegPhotoDataRepresentation ( forJPEGSampleBuffer : imageDataBuffer !, previewPhotoSampleBuffer : nil ) // Jpeg\u304b\u3089UIIMage\u3092\u4f5c\u6210. let myImage = UIImage ( data : myImageData !) // \u30a2\u30eb\u30d0\u30e0\u306b\u8ffd\u52a0. UIImageWriteToSavedPhotosAlbum ( myImage !, nil , nil , nil ) }) } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 // // ViewController.swift // avfoundation002 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit import AVFoundation class ViewController : UIViewController { // \u30bb\u30c3\u30b7\u30e7\u30f3. var mySession : AVCaptureSession ! // \u30c7\u30d0\u30a4\u30b9. var myDevice : AVCaptureDevice ! // \u753b\u50cf\u306e\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8. var myImageOutput : AVCaptureStillImageOutput ! override func viewDidLoad () { super . viewDidLoad () // \u30bb\u30c3\u30b7\u30e7\u30f3\u306e\u4f5c\u6210. mySession = AVCaptureSession () // \u30c7\u30d0\u30a4\u30b9\u4e00\u89a7\u306e\u53d6\u5f97. let devices = AVCaptureDevice . devices () // \u30d0\u30c3\u30af\u30ab\u30e1\u30e9\u3092myDevice\u306b\u683c\u7d0d. for device in devices { if ( device . position == AVCaptureDevicePosition . Back ){ myDevice = device as ! AVCaptureDevice } } // \u30d0\u30c3\u30af\u30ab\u30e1\u30e9\u304b\u3089VideoInput\u3092\u53d6\u5f97. let videoInput = try ! AVCaptureDeviceInput . init ( device : myDevice ) // \u30bb\u30c3\u30b7\u30e7\u30f3\u306b\u8ffd\u52a0. mySession . addInput ( videoInput ) // \u51fa\u529b\u5148\u3092\u751f\u6210. myImageOutput = AVCaptureStillImageOutput () // \u30bb\u30c3\u30b7\u30e7\u30f3\u306b\u8ffd\u52a0. mySession . addOutput ( myImageOutput ) // \u753b\u50cf\u3092\u8868\u793a\u3059\u308b\u30ec\u30a4\u30e4\u30fc\u3092\u751f\u6210. let myVideoLayer = AVCaptureVideoPreviewLayer . init ( session : mySession ) myVideoLayer . frame = self . view . bounds myVideoLayer . videoGravity = AVLayerVideoGravityResizeAspectFill // View\u306b\u8ffd\u52a0. self . view . layer . addSublayer ( myVideoLayer ) // \u30bb\u30c3\u30b7\u30e7\u30f3\u958b\u59cb. mySession . startRunning () // UI\u30dc\u30bf\u30f3\u3092\u4f5c\u6210. let myButton = UIButton ( frame : CGRectMake ( 0 , 0 , 120 , 50 )) myButton . backgroundColor = UIColor . redColor (); myButton . layer . masksToBounds = true myButton . setTitle ( \"\u64ae\u5f71\" , forState : . Normal ) myButton . layer . cornerRadius = 20.0 myButton . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : self . view . bounds . height - 50 ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : . TouchUpInside ) // UI\u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0. self . view . addSubview ( myButton ); } // \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. func onClickMyButton ( sender : UIButton ){ // \u30d3\u30c7\u30aa\u51fa\u529b\u306b\u63a5\u7d9a. let myVideoConnection = myImageOutput . connectionWithMediaType ( AVMediaTypeVideo ) // \u63a5\u7d9a\u304b\u3089\u753b\u50cf\u3092\u53d6\u5f97. self . myImageOutput . captureStillImageAsynchronouslyFromConnection ( myVideoConnection , completionHandler : { ( imageDataBuffer , error ) -> Void in if let e = error { print ( e . localizedDescription ) return } // \u53d6\u5f97\u3057\u305fImage\u306eDataBuffer\u3092Jpeg\u306b\u5909\u63db. let myImageData = AVCaptureStillImageOutput . jpegStillImageNSDataRepresentation ( imageDataBuffer ) // Jpeg\u304b\u3089UIIMage\u3092\u4f5c\u6210. let myImage = UIImage ( data : myImageData ) ! // \u30a2\u30eb\u30d0\u30e0\u306b\u8ffd\u52a0. UIImageWriteToSavedPhotosAlbum ( myImage , self , nil , nil ) }) } }","title":"\u30ab\u30e1\u30e9\u306e\u8d77\u52d5\u3068\u753b\u50cf\u306e\u4fdd\u5b58"},{"location":"5.avfoundation/002_avfoundation/#3x4x","text":"dvices! \u304c devices \u306b\u5909\u66f4 AVCaptureDevicePosition.back \u304c AVCaptureDevice.Position.back \u306b\u5909\u66f4 myVideoLayer? \u3068 myVideoLayer! \u304c myVideoLayer \u306b\u5909\u66f4 AVLayerVideoGravityResizeAspectFill \u304c AVLayerVideoGravity.resizeAspectFill \u306b\u5909\u66f4 func onClickMyButton(sender: UIButton) \u306b @objc \u3092\u8ffd\u52a0 (withMediaType: AVMediaTypeVideo) \u304c (with: AVMediaType.video) \u306b\u5909\u66f4 myVideoConnection \u304c myVideoConnection! \u306b\u5909\u66f4","title":"3.x\u30684.x\u306e\u5dee\u5206"},{"location":"5.avfoundation/002_avfoundation/#2x3x","text":"AVCaptureStillImageOutput \u306fDeprecated\u3002\u4ee3\u308f\u308a\u306b AVCapturePhotoOutput \u3092\u4f7f\u7528 enum\u5217\u6319\u4f53\u306e\u30a4\u30cb\u30b7\u30e3\u30eb\u306e\u5c0f\u6587\u5b57\u5316 \u4f8b : AVCaptureDevicePosition.Back \u304b\u3089 AVCaptureDevicePosition.back \u306b\u5909\u66f4 UIColor\u306b\u3088\u308b\u8272\u6307\u5b9a\u306e\u7c21\u7565\u5316 \u4f8b : UIColor.blueColor() \u304b\u3089 UIColor.blue UIButton.setTitle(String?, forState: UIControlState) \u304b\u3089 UIButton.setTitle(String?, for: UIControlState) \u306b\u5909\u66f4 UIButton.addTarget(AnyObject?, action: Selector, forControlEvents: UIControlEvents) \u304b\u3089 UIButton.addTarget(AnyObject?, action: Selector, for: UIControlEvents) \u306b\u5909\u66f4 UIControlEvents.TouchUpInside \u304b\u3089 UIControlEvents.touchUpInside \u306b\u5909\u66f4 AVCaptureStillImageOutput.connectionWithMediaType(String!) \u304b\u3089 AVCapturePhotoOutput.connection(withMediaType: String!) \u306b\u5909\u66f4 AVCaptureStillImageOutput.captureStillImageAsynchronouslyFromConnection(AVCaptureConnection!, completionHandler: ((CMSampleBuffer!, NSError!) -> Void)!) \u304b\u3089 AVCaptureStillImageOutput.captureStillImageAsynchronously(from: AVCaptureConnection!, completionHandler: ((CMSampleBuffer?, Error?) -> Void)!) \u306b\u5909\u66f4","title":"2.x\u30683.x\u306e\u5dee\u5206"},{"location":"5.avfoundation/002_avfoundation/#reference","text":"AV Foundation Framework https://developer.apple.com/library/ios/documentation/AVFoundation/Reference/AVFoundationFramework/ AVCaptureStillImageOutput https://developer.apple.com/reference/avfoundation/avcapturestillimageoutput","title":"Reference"},{"location":"5.avfoundation/003_avfoundation/","text":"\u52d5\u753b\u306e\u64ae\u5f71 Info.plist \u306b NSMicrophoneUsageDescription \u3068 NSCameraUsageDescription \u3092\u8ffd\u52a0\u3057\u307e\u3059 Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 // // ViewController.swift // avfoundation003 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit import AVFoundation class ViewController : UIViewController , AVCaptureFileOutputRecordingDelegate { // \u30d3\u30c7\u30aa\u306e\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8. private var myVideoOutput : AVCaptureMovieFileOutput ! // \u30b9\u30bf\u30fc\u30c8\u30dc\u30bf\u30f3. private var myButtonStart : UIButton ! // \u30b9\u30c8\u30c3\u30d7\u30dc\u30bf\u30f3. private var myButtonStop : UIButton ! override func viewDidLoad () { super . viewDidLoad () // \u30bb\u30c3\u30b7\u30e7\u30f3\u306e\u4f5c\u6210. let mySession = AVCaptureSession () // \u30c7\u30d0\u30a4\u30b9. var myDevice = AVCaptureDevice . default ( for : . video ) // \u51fa\u529b\u5148\u3092\u751f\u6210. let myImageOutput = AVCaptureStillImageOutput () // \u30c7\u30d0\u30a4\u30b9\u4e00\u89a7\u306e\u53d6\u5f97. let devices = AVCaptureDevice . devices () // \u30de\u30a4\u30af\u3092\u53d6\u5f97. let audioCaptureDevice = AVCaptureDevice . default ( for : . audio ) // \u30de\u30a4\u30af\u3092\u30bb\u30c3\u30b7\u30e7\u30f3\u306eInput\u306b\u8ffd\u52a0. let audioInput = try ! AVCaptureDeviceInput . init ( device : audioCaptureDevice !) // \u30d0\u30c3\u30af\u30e9\u30a4\u30c8\u3092myDevice\u306b\u683c\u7d0d. for device in devices { if ( device . position == AVCaptureDevice . Position . back ){ myDevice = device } } // \u30d0\u30c3\u30af\u30ab\u30e1\u30e9\u3092\u53d6\u5f97. let videoInput = try ! AVCaptureDeviceInput . init ( device : myDevice !) // \u30d3\u30c7\u30aa\u3092\u30bb\u30c3\u30b7\u30e7\u30f3\u306eInput\u306b\u8ffd\u52a0. mySession . addInput ( videoInput ) // \u30aa\u30fc\u30c7\u30a3\u30aa\u3092\u30bb\u30c3\u30b7\u30e7\u30f3\u306b\u8ffd\u52a0. mySession . addInput ( audioInput ) // \u30bb\u30c3\u30b7\u30e7\u30f3\u306b\u8ffd\u52a0. mySession . addOutput ( myImageOutput ) // \u52d5\u753b\u306e\u4fdd\u5b58. myVideoOutput = AVCaptureMovieFileOutput () // \u30d3\u30c7\u30aa\u51fa\u529b\u3092Output\u306b\u8ffd\u52a0. mySession . addOutput ( myVideoOutput ) // \u753b\u50cf\u3092\u8868\u793a\u3059\u308b\u30ec\u30a4\u30e4\u30fc\u3092\u751f\u6210. let myVideoLayer = AVCaptureVideoPreviewLayer . init ( session : mySession ) myVideoLayer . frame = self . view . bounds myVideoLayer . videoGravity = AVLayerVideoGravity . resizeAspectFill // View\u306b\u8ffd\u52a0. self . view . layer . addSublayer ( myVideoLayer ) // \u30bb\u30c3\u30b7\u30e7\u30f3\u958b\u59cb. mySession . startRunning () // UI\u30dc\u30bf\u30f3\u3092\u4f5c\u6210. myButtonStart = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 120 , height : 50 )) myButtonStop = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 120 , height : 50 )) myButtonStart . backgroundColor = UIColor . red myButtonStop . backgroundColor = UIColor . gray myButtonStart . layer . masksToBounds = true myButtonStop . layer . masksToBounds = true myButtonStart . setTitle ( \"\u64ae\u5f71\" , for : . normal ) myButtonStop . setTitle ( \"\u505c\u6b62\" , for : . normal ) myButtonStart . layer . cornerRadius = 20.0 myButtonStop . layer . cornerRadius = 20.0 myButtonStart . layer . position = CGPoint ( x : self . view . bounds . width / 2 - 70 , y : self . view . bounds . height - 50 ) myButtonStop . layer . position = CGPoint ( x : self . view . bounds . width / 2 + 70 , y : self . view . bounds . height - 50 ) myButtonStart . addTarget ( self , action : #selector ( ViewController . onClickMyButton ), for : . touchUpInside ) myButtonStop . addTarget ( self , action : #selector ( ViewController . onClickMyButton ), for : . touchUpInside ) // UI\u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0. self . view . addSubview ( myButtonStart ) self . view . addSubview ( myButtonStop ) } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. */ @objc internal func onClickMyButton ( sender : UIButton ){ // \u64ae\u5f71\u958b\u59cb. if ( sender == myButtonStart ){ let paths = NSSearchPathForDirectoriesInDomains (. documentDirectory , . userDomainMask , true ) // \u30d5\u30a9\u30eb\u30c0. let documentsDirectory = paths [ 0 ] // \u30d5\u30a1\u30a4\u30eb\u540d. let filePath = \" \\( documentsDirectory ) /test.mp4\" // URL. let fileURL = URL ( fileURLWithPath : filePath ) // \u9332\u753b\u958b\u59cb. myVideoOutput . startRecording ( to : fileURL , recordingDelegate : self ) } // \u64ae\u5f71\u505c\u6b62. else if ( sender == myButtonStop ){ myVideoOutput . stopRecording () } } // MARK: - AVCaptureFileOutputRecordingDelegate /* \u52d5\u753b\u304c\u30ad\u30e3\u30d7\u30c1\u30e3\u30fc\u3055\u308c\u305f\u5f8c\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func fileOutput ( _ output : AVCaptureFileOutput , didFinishRecordingTo outputFileURL : URL , from connections : [ AVCaptureConnection ], error : Error ?) { print ( \"didFinishRecordingTo outputFileURL\" ) } /* \u52d5\u753b\u306e\u30ad\u30e3\u30d7\u30c1\u30e3\u30fc\u304c\u958b\u59cb\u3055\u308c\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func fileOutput ( _ output : AVCaptureFileOutput , didStartRecordingTo fileURL : URL , from connections : [ AVCaptureConnection ]) { print ( \"didStartRecordingTo fileURL\" ) } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 // // ViewController.swift // avfoundation003 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit import AVFoundation class ViewController : UIViewController , AVCaptureFileOutputRecordingDelegate { // \u30d3\u30c7\u30aa\u306e\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8. private var myVideoOutput : AVCaptureMovieFileOutput ! // \u30b9\u30bf\u30fc\u30c8\u30dc\u30bf\u30f3. private var myButtonStart : UIButton ! // \u30b9\u30c8\u30c3\u30d7\u30dc\u30bf\u30f3. private var myButtonStop : UIButton ! override func viewDidLoad () { super . viewDidLoad () // \u30bb\u30c3\u30b7\u30e7\u30f3\u306e\u4f5c\u6210. let mySession = AVCaptureSession () // \u30c7\u30d0\u30a4\u30b9. var myDevice = AVCaptureDevice . defaultDevice ( withMediaType : AVMediaTypeVideo ) // \u51fa\u529b\u5148\u3092\u751f\u6210. let myImageOutput = AVCaptureStillImageOutput () // \u30c7\u30d0\u30a4\u30b9\u4e00\u89a7\u306e\u53d6\u5f97. let devices = AVCaptureDevice . devices () // \u30de\u30a4\u30af\u3092\u53d6\u5f97. let audioCaptureDevice = AVCaptureDevice . devices ( withMediaType : AVMediaTypeAudio ) // \u30de\u30a4\u30af\u3092\u30bb\u30c3\u30b7\u30e7\u30f3\u306eInput\u306b\u8ffd\u52a0. let audioInput = try ! AVCaptureDeviceInput . init ( device : audioCaptureDevice ?. first as ! AVCaptureDevice ) // \u30d0\u30c3\u30af\u30e9\u30a4\u30c8\u3092myDevice\u306b\u683c\u7d0d. for device in devices ! { if ( device . position == AVCaptureDevicePosition . back ){ myDevice = device as ? AVCaptureDevice } } // \u30d0\u30c3\u30af\u30ab\u30e1\u30e9\u3092\u53d6\u5f97. let videoInput = try ! AVCaptureDeviceInput . init ( device : myDevice ) // \u30d3\u30c7\u30aa\u3092\u30bb\u30c3\u30b7\u30e7\u30f3\u306eInput\u306b\u8ffd\u52a0. mySession . addInput ( videoInput ) // \u30aa\u30fc\u30c7\u30a3\u30aa\u3092\u30bb\u30c3\u30b7\u30e7\u30f3\u306b\u8ffd\u52a0. mySession . addInput ( audioInput ) // \u30bb\u30c3\u30b7\u30e7\u30f3\u306b\u8ffd\u52a0. mySession . addOutput ( myImageOutput ) // \u52d5\u753b\u306e\u4fdd\u5b58. myVideoOutput = AVCaptureMovieFileOutput () // \u30d3\u30c7\u30aa\u51fa\u529b\u3092Output\u306b\u8ffd\u52a0. mySession . addOutput ( myVideoOutput ) // \u753b\u50cf\u3092\u8868\u793a\u3059\u308b\u30ec\u30a4\u30e4\u30fc\u3092\u751f\u6210. let myVideoLayer = AVCaptureVideoPreviewLayer . init ( session : mySession ) myVideoLayer ?. frame = self . view . bounds myVideoLayer ?. videoGravity = AVLayerVideoGravityResizeAspectFill // View\u306b\u8ffd\u52a0. self . view . layer . addSublayer ( myVideoLayer !) // \u30bb\u30c3\u30b7\u30e7\u30f3\u958b\u59cb. mySession . startRunning () // UI\u30dc\u30bf\u30f3\u3092\u4f5c\u6210. myButtonStart = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 120 , height : 50 )) myButtonStop = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 120 , height : 50 )) myButtonStart . backgroundColor = UIColor . red myButtonStop . backgroundColor = UIColor . gray myButtonStart . layer . masksToBounds = true myButtonStop . layer . masksToBounds = true myButtonStart . setTitle ( \"\u64ae\u5f71\" , for : . normal ) myButtonStop . setTitle ( \"\u505c\u6b62\" , for : . normal ) myButtonStart . layer . cornerRadius = 20.0 myButtonStop . layer . cornerRadius = 20.0 myButtonStart . layer . position = CGPoint ( x : self . view . bounds . width / 2 - 70 , y : self . view . bounds . height - 50 ) myButtonStop . layer . position = CGPoint ( x : self . view . bounds . width / 2 + 70 , y : self . view . bounds . height - 50 ) myButtonStart . addTarget ( self , action : #selector ( ViewController . onClickMyButton ), for : . touchUpInside ) myButtonStop . addTarget ( self , action : #selector ( ViewController . onClickMyButton ), for : . touchUpInside ) // UI\u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0. self . view . addSubview ( myButtonStart ) self . view . addSubview ( myButtonStop ) } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. */ internal func onClickMyButton ( sender : UIButton ){ // \u64ae\u5f71\u958b\u59cb. if ( sender == myButtonStart ){ let paths = NSSearchPathForDirectoriesInDomains (. documentDirectory , . userDomainMask , true ) // \u30d5\u30a9\u30eb\u30c0. let documentsDirectory = paths [ 0 ] // \u30d5\u30a1\u30a4\u30eb\u540d. let filePath = \" \\( documentsDirectory ) /test.mp4\" // URL. let fileURL = URL ( fileURLWithPath : filePath !) // \u9332\u753b\u958b\u59cb. myVideoOutput . startRecording ( toOutputFileURL : fileURL , recordingDelegate : self ) } // \u64ae\u5f71\u505c\u6b62. else if ( sender == myButtonStop ){ myVideoOutput . stopRecording () } } // MARK: - AVCaptureFileOutputRecordingDelegate /* \u52d5\u753b\u304c\u30ad\u30e3\u30d7\u30c1\u30e3\u30fc\u3055\u308c\u305f\u5f8c\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func capture ( _ captureOutput : AVCaptureFileOutput !, didFinishRecordingToOutputFileAt outputFileURL : URL !, fromConnections connections : [ AnyObject ] ! , error : Error !) { print ( \"didFinishRecordingToOutputFileAtURL\" ) } /* \u52d5\u753b\u306e\u30ad\u30e3\u30d7\u30c1\u30e3\u30fc\u304c\u958b\u59cb\u3055\u308c\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func capture ( _ captureOutput : AVCaptureFileOutput !, didStartRecordingToOutputFileAt fileURL : URL !, fromConnections connections : [ AnyObject ] ! ) { print ( \"didStartRecordingToOutputFileAtURL\" ) } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 // // ViewController.swift // avfoundation003 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit import AVFoundation class ViewController : UIViewController , AVCaptureFileOutputRecordingDelegate { // \u30d3\u30c7\u30aa\u306e\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8. private var myVideoOutput : AVCaptureMovieFileOutput ! // \u30b9\u30bf\u30fc\u30c8\u30dc\u30bf\u30f3. private var myButtonStart : UIButton ! // \u30b9\u30c8\u30c3\u30d7\u30dc\u30bf\u30f3. private var myButtonStop : UIButton ! override func viewDidLoad () { super . viewDidLoad () // \u30bb\u30c3\u30b7\u30e7\u30f3\u306e\u4f5c\u6210. let mySession : AVCaptureSession = AVCaptureSession () // \u30c7\u30d0\u30a4\u30b9. var myDevice = AVCaptureDevice . defaultDeviceWithMediaType ( AVMediaTypeVideo ) // \u51fa\u529b\u5148\u3092\u751f\u6210. let myImageOutput = AVCaptureStillImageOutput () // \u30c7\u30d0\u30a4\u30b9\u4e00\u89a7\u306e\u53d6\u5f97. let devices = AVCaptureDevice . devices () // \u30de\u30a4\u30af\u3092\u53d6\u5f97. let audioCaptureDevice = AVCaptureDevice . devicesWithMediaType ( AVMediaTypeAudio ) // \u30de\u30a4\u30af\u3092\u30bb\u30c3\u30b7\u30e7\u30f3\u306eInput\u306b\u8ffd\u52a0. let audioInput = try ! AVCaptureDeviceInput . init ( device : audioCaptureDevice . first as ! AVCaptureDevice ) // \u30d0\u30c3\u30af\u30e9\u30a4\u30c8\u3092myDevice\u306b\u683c\u7d0d. for device in devices { if ( device . position == AVCaptureDevicePosition . Back ){ myDevice = device as ! AVCaptureDevice } } // \u30d0\u30c3\u30af\u30ab\u30e1\u30e9\u3092\u53d6\u5f97. let videoInput = try ! AVCaptureDeviceInput . init ( device : myDevice ) // \u30d3\u30c7\u30aa\u3092\u30bb\u30c3\u30b7\u30e7\u30f3\u306eInput\u306b\u8ffd\u52a0. mySession . addInput ( videoInput ) // \u30aa\u30fc\u30c7\u30a3\u30aa\u3092\u30bb\u30c3\u30b7\u30e7\u30f3\u306b\u8ffd\u52a0. mySession . addInput ( audioInput ) // \u30bb\u30c3\u30b7\u30e7\u30f3\u306b\u8ffd\u52a0. mySession . addOutput ( myImageOutput ) // \u52d5\u753b\u306e\u4fdd\u5b58. myVideoOutput = AVCaptureMovieFileOutput () // \u30d3\u30c7\u30aa\u51fa\u529b\u3092Output\u306b\u8ffd\u52a0. mySession . addOutput ( myVideoOutput ) // \u753b\u50cf\u3092\u8868\u793a\u3059\u308b\u30ec\u30a4\u30e4\u30fc\u3092\u751f\u6210. let myVideoLayer = AVCaptureVideoPreviewLayer . init ( session : mySession ) myVideoLayer . frame = self . view . bounds myVideoLayer . videoGravity = AVLayerVideoGravityResizeAspectFill // View\u306b\u8ffd\u52a0. self . view . layer . addSublayer ( myVideoLayer ) // \u30bb\u30c3\u30b7\u30e7\u30f3\u958b\u59cb. mySession . startRunning () // UI\u30dc\u30bf\u30f3\u3092\u4f5c\u6210. myButtonStart = UIButton ( frame : CGRectMake ( 0 , 0 , 120 , 50 )) myButtonStop = UIButton ( frame : CGRectMake ( 0 , 0 , 120 , 50 )) myButtonStart . backgroundColor = UIColor . redColor (); myButtonStop . backgroundColor = UIColor . grayColor (); myButtonStart . layer . masksToBounds = true myButtonStop . layer . masksToBounds = true myButtonStart . setTitle ( \"\u64ae\u5f71\" , forState : . Normal ) myButtonStop . setTitle ( \"\u505c\u6b62\" , forState : . Normal ) myButtonStart . layer . cornerRadius = 20.0 myButtonStop . layer . cornerRadius = 20.0 myButtonStart . layer . position = CGPoint ( x : self . view . bounds . width / 2 - 70 , y : self . view . bounds . height - 50 ) myButtonStop . layer . position = CGPoint ( x : self . view . bounds . width / 2 + 70 , y : self . view . bounds . height - 50 ) myButtonStart . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : . TouchUpInside ) myButtonStop . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : . TouchUpInside ) // UI\u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0. self . view . addSubview ( myButtonStart ) self . view . addSubview ( myButtonStop ) } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. */ internal func onClickMyButton ( sender : UIButton ){ // \u64ae\u5f71\u958b\u59cb. if ( sender == myButtonStart ){ let paths = NSSearchPathForDirectoriesInDomains (. DocumentDirectory , . UserDomainMask , true ) // \u30d5\u30a9\u30eb\u30c0. let documentsDirectory = paths [ 0 ] // \u30d5\u30a1\u30a4\u30eb\u540d. let filePath = \" \\( documentsDirectory ) /test.mp4\" // URL. let fileURL = NSURL ( fileURLWithPath : filePath ) // \u9332\u753b\u958b\u59cb. myVideoOutput . startRecordingToOutputFileURL ( fileURL , recordingDelegate : self ) } // \u64ae\u5f71\u505c\u6b62. else if ( sender == myButtonStop ){ myVideoOutput . stopRecording () } } // MARK: - AVCaptureFileOutputRecordingDelegate /* \u52d5\u753b\u304c\u30ad\u30e3\u30d7\u30c1\u30e3\u30fc\u3055\u308c\u305f\u5f8c\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func captureOutput ( captureOutput : AVCaptureFileOutput !, didFinishRecordingToOutputFileAtURL outputFileURL : NSURL !, fromConnections connections : [ AnyObject ] ! , error : NSError !) { print ( \"didFinishRecordingToOutputFileAtURL\" ) } /* \u52d5\u753b\u306e\u30ad\u30e3\u30d7\u30c1\u30e3\u30fc\u304c\u958b\u59cb\u3055\u308c\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func captureOutput ( captureOutput : AVCaptureFileOutput !, didStartRecordingToOutputFileAtURL fileURL : NSURL !, fromConnections connections : [ AnyObject ] ! ) { print ( \"didStartRecordingToOutputFileAtURL\" ) } } 3.x\u30684.x\u306e\u5dee\u5206 AVCaptureDevice.defaultDevice(withMediaType: AVMediaTypeVideo) \u304c AVCaptureDevice.default(for: .video) \u306b\u5909\u66f4 AVCaptureDevice.devices(withMediaType: AVMediaTypeAudio) \u304c AVCaptureDevice.default(for: .audio) \u306b\u5909\u66f4 AVCaptureDeviceInput.init(device: audioCaptureDevice?.first as! AVCaptureDevice) \u304c AVCaptureDeviceInput.init(device: audioCaptureDevice!) \u306b\u5909\u66f4 devices! \u304c devices \u306b\u5909\u66f4 AVCaptureDevicePosition \u304c AVCaptureDevice.Position \u306b\u5909\u66f4 device as? AVCaptureDevice \u304c device \u306b\u5909\u66f4 AVCaptureDeviceInput.init(device: myDevice) \u304c AVCaptureDeviceInput.init(device: myDevice!) \u306b\u5909\u66f4 myVideoLayer? \u3068 myVideoLayer! \u304c myVideoLayer \u306b\u5909\u66f4 AVLayerVideoGravityResizeAspectFill \u304c AVLayerVideoGravity.resizeAspectFill \u306b\u5909\u66f4 internal func onClickMyButton(sender: UIButton) \u306b @objc \u3092\u8ffd\u52a0 filePath! \u304c filePath \u306b\u5909\u66f4 (toOutputFileURL: fileURL, recordingDelegate: self) \u304c (to: fileURL, recordingDelegate: self) \u306b\u5909\u66f4 func capture(_ captureOutput: AVCaptureFileOutput!, didFinishRecordingToOutputFileAt outputFileURL: URL!, fromConnections connections: [AnyObject]!, error: Error!) \u304c func fileOutput(_ output: AVCaptureFileOutput, didFinishRecordingTo outputFileURL: URL, from connections: [AVCaptureConnection], error: Error?) \u306b\u5909\u66f4 func capture(_ captureOutput: AVCaptureFileOutput!, didStartRecordingToOutputFileAt fileURL: URL!, fromConnections connections: [AnyObject]!) \u304c func fileOutput(_ output: AVCaptureFileOutput, didStartRecordingTo fileURL: URL, from connections: [AVCaptureConnection]) \u306b\u5909\u66f4 2.x\u30683.x\u306e\u5dee\u5206 AVCaptureFileOutputRecordingDelegate \u30d7\u30ed\u30c8\u30b3\u30eb\u306b\u304a\u3051\u308b\u306e\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u306e\u5909\u66f4 func captureOutput(captureOutput: AVCaptureFileOutput!, didFinishRecordingToOutputFileAtURL outputFileURL: NSURL!, fromConnections connections: [AnyObject]!, error: NSError!) \u2192 func capture(_ captureOutput: AVCaptureFileOutput!, didFinishRecordingToOutputFileAt outputFileURL: URL!, fromConnections connections: [AnyObject]!, error: Error!) func captureOutput(captureOutput: AVCaptureFileOutput!, didStartRecordingToOutputFileAtURL fileURL: NSURL!, fromConnections connections: [AnyObject]!) \u2192 func capture(_ captureOutput: AVCaptureFileOutput!, didStartRecordingToOutputFileAt fileURL: URL!, fromConnections connections: [AnyObject]!) AVCaptureDevice.defaultDeviceWithMediaType(AVMediaTypeVideo) \u304b\u3089 AVCaptureDevice.defaultDevice(withMediaType: AVMediaTypeVideo) \u306b\u5909\u66f4 AVCaptureDevice.devicesWithMediaType(AVMediaTypeAudio) \u304b\u3089 AVCaptureDevice.devices(withMediaType: AVMediaTypeAudio) \u306b\u5909\u66f4 AVCaptureDevicePosition.Back \u304b\u3089 AVCaptureDevicePosition.back \u306b\u5909\u66f4 CGSizeMake(CGFloat, CGFloat) \u304b\u3089 CGSize(width: CGFloat, height: CGFloat) \u306b\u5909\u66f4 UIButton.setTitle(String?, forState: UIControlState) \u304b\u3089 UIButton.setTitle(String?, for: UIControlState) \u306b\u5909\u66f4 NSURL \u304b\u3089 URL \u306b\u5909\u66f4 AVCaptureMovieFileOutput.startRecordingToOutputFileURL(NSURL!, recordingDelegate: AVCaptureFileOutputRecordingDelegate!) \u304b\u3089 AVCaptureMovieFileOutput.startRecording(toOutputFileURL: URL!, recordingDelegate: AVCaptureFileOutputRecordingDelegate!) \u306b\u5909\u66f4 Reference AV Foundation Framework https://developer.apple.com/library/ios/documentation/AVFoundation/Reference/AVFoundationFramework/ AVCaptureFileOutputRecordingDelegate https://developer.apple.com/reference/avfoundation/avcapturefileoutputrecordingdelegate","title":"\u52d5\u753b\u306e\u64ae\u5f71"},{"location":"5.avfoundation/003_avfoundation/#_1","text":"Info.plist \u306b NSMicrophoneUsageDescription \u3068 NSCameraUsageDescription \u3092\u8ffd\u52a0\u3057\u307e\u3059 Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 // // ViewController.swift // avfoundation003 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit import AVFoundation class ViewController : UIViewController , AVCaptureFileOutputRecordingDelegate { // \u30d3\u30c7\u30aa\u306e\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8. private var myVideoOutput : AVCaptureMovieFileOutput ! // \u30b9\u30bf\u30fc\u30c8\u30dc\u30bf\u30f3. private var myButtonStart : UIButton ! // \u30b9\u30c8\u30c3\u30d7\u30dc\u30bf\u30f3. private var myButtonStop : UIButton ! override func viewDidLoad () { super . viewDidLoad () // \u30bb\u30c3\u30b7\u30e7\u30f3\u306e\u4f5c\u6210. let mySession = AVCaptureSession () // \u30c7\u30d0\u30a4\u30b9. var myDevice = AVCaptureDevice . default ( for : . video ) // \u51fa\u529b\u5148\u3092\u751f\u6210. let myImageOutput = AVCaptureStillImageOutput () // \u30c7\u30d0\u30a4\u30b9\u4e00\u89a7\u306e\u53d6\u5f97. let devices = AVCaptureDevice . devices () // \u30de\u30a4\u30af\u3092\u53d6\u5f97. let audioCaptureDevice = AVCaptureDevice . default ( for : . audio ) // \u30de\u30a4\u30af\u3092\u30bb\u30c3\u30b7\u30e7\u30f3\u306eInput\u306b\u8ffd\u52a0. let audioInput = try ! AVCaptureDeviceInput . init ( device : audioCaptureDevice !) // \u30d0\u30c3\u30af\u30e9\u30a4\u30c8\u3092myDevice\u306b\u683c\u7d0d. for device in devices { if ( device . position == AVCaptureDevice . Position . back ){ myDevice = device } } // \u30d0\u30c3\u30af\u30ab\u30e1\u30e9\u3092\u53d6\u5f97. let videoInput = try ! AVCaptureDeviceInput . init ( device : myDevice !) // \u30d3\u30c7\u30aa\u3092\u30bb\u30c3\u30b7\u30e7\u30f3\u306eInput\u306b\u8ffd\u52a0. mySession . addInput ( videoInput ) // \u30aa\u30fc\u30c7\u30a3\u30aa\u3092\u30bb\u30c3\u30b7\u30e7\u30f3\u306b\u8ffd\u52a0. mySession . addInput ( audioInput ) // \u30bb\u30c3\u30b7\u30e7\u30f3\u306b\u8ffd\u52a0. mySession . addOutput ( myImageOutput ) // \u52d5\u753b\u306e\u4fdd\u5b58. myVideoOutput = AVCaptureMovieFileOutput () // \u30d3\u30c7\u30aa\u51fa\u529b\u3092Output\u306b\u8ffd\u52a0. mySession . addOutput ( myVideoOutput ) // \u753b\u50cf\u3092\u8868\u793a\u3059\u308b\u30ec\u30a4\u30e4\u30fc\u3092\u751f\u6210. let myVideoLayer = AVCaptureVideoPreviewLayer . init ( session : mySession ) myVideoLayer . frame = self . view . bounds myVideoLayer . videoGravity = AVLayerVideoGravity . resizeAspectFill // View\u306b\u8ffd\u52a0. self . view . layer . addSublayer ( myVideoLayer ) // \u30bb\u30c3\u30b7\u30e7\u30f3\u958b\u59cb. mySession . startRunning () // UI\u30dc\u30bf\u30f3\u3092\u4f5c\u6210. myButtonStart = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 120 , height : 50 )) myButtonStop = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 120 , height : 50 )) myButtonStart . backgroundColor = UIColor . red myButtonStop . backgroundColor = UIColor . gray myButtonStart . layer . masksToBounds = true myButtonStop . layer . masksToBounds = true myButtonStart . setTitle ( \"\u64ae\u5f71\" , for : . normal ) myButtonStop . setTitle ( \"\u505c\u6b62\" , for : . normal ) myButtonStart . layer . cornerRadius = 20.0 myButtonStop . layer . cornerRadius = 20.0 myButtonStart . layer . position = CGPoint ( x : self . view . bounds . width / 2 - 70 , y : self . view . bounds . height - 50 ) myButtonStop . layer . position = CGPoint ( x : self . view . bounds . width / 2 + 70 , y : self . view . bounds . height - 50 ) myButtonStart . addTarget ( self , action : #selector ( ViewController . onClickMyButton ), for : . touchUpInside ) myButtonStop . addTarget ( self , action : #selector ( ViewController . onClickMyButton ), for : . touchUpInside ) // UI\u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0. self . view . addSubview ( myButtonStart ) self . view . addSubview ( myButtonStop ) } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. */ @objc internal func onClickMyButton ( sender : UIButton ){ // \u64ae\u5f71\u958b\u59cb. if ( sender == myButtonStart ){ let paths = NSSearchPathForDirectoriesInDomains (. documentDirectory , . userDomainMask , true ) // \u30d5\u30a9\u30eb\u30c0. let documentsDirectory = paths [ 0 ] // \u30d5\u30a1\u30a4\u30eb\u540d. let filePath = \" \\( documentsDirectory ) /test.mp4\" // URL. let fileURL = URL ( fileURLWithPath : filePath ) // \u9332\u753b\u958b\u59cb. myVideoOutput . startRecording ( to : fileURL , recordingDelegate : self ) } // \u64ae\u5f71\u505c\u6b62. else if ( sender == myButtonStop ){ myVideoOutput . stopRecording () } } // MARK: - AVCaptureFileOutputRecordingDelegate /* \u52d5\u753b\u304c\u30ad\u30e3\u30d7\u30c1\u30e3\u30fc\u3055\u308c\u305f\u5f8c\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func fileOutput ( _ output : AVCaptureFileOutput , didFinishRecordingTo outputFileURL : URL , from connections : [ AVCaptureConnection ], error : Error ?) { print ( \"didFinishRecordingTo outputFileURL\" ) } /* \u52d5\u753b\u306e\u30ad\u30e3\u30d7\u30c1\u30e3\u30fc\u304c\u958b\u59cb\u3055\u308c\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func fileOutput ( _ output : AVCaptureFileOutput , didStartRecordingTo fileURL : URL , from connections : [ AVCaptureConnection ]) { print ( \"didStartRecordingTo fileURL\" ) } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 // // ViewController.swift // avfoundation003 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit import AVFoundation class ViewController : UIViewController , AVCaptureFileOutputRecordingDelegate { // \u30d3\u30c7\u30aa\u306e\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8. private var myVideoOutput : AVCaptureMovieFileOutput ! // \u30b9\u30bf\u30fc\u30c8\u30dc\u30bf\u30f3. private var myButtonStart : UIButton ! // \u30b9\u30c8\u30c3\u30d7\u30dc\u30bf\u30f3. private var myButtonStop : UIButton ! override func viewDidLoad () { super . viewDidLoad () // \u30bb\u30c3\u30b7\u30e7\u30f3\u306e\u4f5c\u6210. let mySession = AVCaptureSession () // \u30c7\u30d0\u30a4\u30b9. var myDevice = AVCaptureDevice . defaultDevice ( withMediaType : AVMediaTypeVideo ) // \u51fa\u529b\u5148\u3092\u751f\u6210. let myImageOutput = AVCaptureStillImageOutput () // \u30c7\u30d0\u30a4\u30b9\u4e00\u89a7\u306e\u53d6\u5f97. let devices = AVCaptureDevice . devices () // \u30de\u30a4\u30af\u3092\u53d6\u5f97. let audioCaptureDevice = AVCaptureDevice . devices ( withMediaType : AVMediaTypeAudio ) // \u30de\u30a4\u30af\u3092\u30bb\u30c3\u30b7\u30e7\u30f3\u306eInput\u306b\u8ffd\u52a0. let audioInput = try ! AVCaptureDeviceInput . init ( device : audioCaptureDevice ?. first as ! AVCaptureDevice ) // \u30d0\u30c3\u30af\u30e9\u30a4\u30c8\u3092myDevice\u306b\u683c\u7d0d. for device in devices ! { if ( device . position == AVCaptureDevicePosition . back ){ myDevice = device as ? AVCaptureDevice } } // \u30d0\u30c3\u30af\u30ab\u30e1\u30e9\u3092\u53d6\u5f97. let videoInput = try ! AVCaptureDeviceInput . init ( device : myDevice ) // \u30d3\u30c7\u30aa\u3092\u30bb\u30c3\u30b7\u30e7\u30f3\u306eInput\u306b\u8ffd\u52a0. mySession . addInput ( videoInput ) // \u30aa\u30fc\u30c7\u30a3\u30aa\u3092\u30bb\u30c3\u30b7\u30e7\u30f3\u306b\u8ffd\u52a0. mySession . addInput ( audioInput ) // \u30bb\u30c3\u30b7\u30e7\u30f3\u306b\u8ffd\u52a0. mySession . addOutput ( myImageOutput ) // \u52d5\u753b\u306e\u4fdd\u5b58. myVideoOutput = AVCaptureMovieFileOutput () // \u30d3\u30c7\u30aa\u51fa\u529b\u3092Output\u306b\u8ffd\u52a0. mySession . addOutput ( myVideoOutput ) // \u753b\u50cf\u3092\u8868\u793a\u3059\u308b\u30ec\u30a4\u30e4\u30fc\u3092\u751f\u6210. let myVideoLayer = AVCaptureVideoPreviewLayer . init ( session : mySession ) myVideoLayer ?. frame = self . view . bounds myVideoLayer ?. videoGravity = AVLayerVideoGravityResizeAspectFill // View\u306b\u8ffd\u52a0. self . view . layer . addSublayer ( myVideoLayer !) // \u30bb\u30c3\u30b7\u30e7\u30f3\u958b\u59cb. mySession . startRunning () // UI\u30dc\u30bf\u30f3\u3092\u4f5c\u6210. myButtonStart = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 120 , height : 50 )) myButtonStop = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 120 , height : 50 )) myButtonStart . backgroundColor = UIColor . red myButtonStop . backgroundColor = UIColor . gray myButtonStart . layer . masksToBounds = true myButtonStop . layer . masksToBounds = true myButtonStart . setTitle ( \"\u64ae\u5f71\" , for : . normal ) myButtonStop . setTitle ( \"\u505c\u6b62\" , for : . normal ) myButtonStart . layer . cornerRadius = 20.0 myButtonStop . layer . cornerRadius = 20.0 myButtonStart . layer . position = CGPoint ( x : self . view . bounds . width / 2 - 70 , y : self . view . bounds . height - 50 ) myButtonStop . layer . position = CGPoint ( x : self . view . bounds . width / 2 + 70 , y : self . view . bounds . height - 50 ) myButtonStart . addTarget ( self , action : #selector ( ViewController . onClickMyButton ), for : . touchUpInside ) myButtonStop . addTarget ( self , action : #selector ( ViewController . onClickMyButton ), for : . touchUpInside ) // UI\u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0. self . view . addSubview ( myButtonStart ) self . view . addSubview ( myButtonStop ) } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. */ internal func onClickMyButton ( sender : UIButton ){ // \u64ae\u5f71\u958b\u59cb. if ( sender == myButtonStart ){ let paths = NSSearchPathForDirectoriesInDomains (. documentDirectory , . userDomainMask , true ) // \u30d5\u30a9\u30eb\u30c0. let documentsDirectory = paths [ 0 ] // \u30d5\u30a1\u30a4\u30eb\u540d. let filePath = \" \\( documentsDirectory ) /test.mp4\" // URL. let fileURL = URL ( fileURLWithPath : filePath !) // \u9332\u753b\u958b\u59cb. myVideoOutput . startRecording ( toOutputFileURL : fileURL , recordingDelegate : self ) } // \u64ae\u5f71\u505c\u6b62. else if ( sender == myButtonStop ){ myVideoOutput . stopRecording () } } // MARK: - AVCaptureFileOutputRecordingDelegate /* \u52d5\u753b\u304c\u30ad\u30e3\u30d7\u30c1\u30e3\u30fc\u3055\u308c\u305f\u5f8c\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func capture ( _ captureOutput : AVCaptureFileOutput !, didFinishRecordingToOutputFileAt outputFileURL : URL !, fromConnections connections : [ AnyObject ] ! , error : Error !) { print ( \"didFinishRecordingToOutputFileAtURL\" ) } /* \u52d5\u753b\u306e\u30ad\u30e3\u30d7\u30c1\u30e3\u30fc\u304c\u958b\u59cb\u3055\u308c\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func capture ( _ captureOutput : AVCaptureFileOutput !, didStartRecordingToOutputFileAt fileURL : URL !, fromConnections connections : [ AnyObject ] ! ) { print ( \"didStartRecordingToOutputFileAtURL\" ) } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 // // ViewController.swift // avfoundation003 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit import AVFoundation class ViewController : UIViewController , AVCaptureFileOutputRecordingDelegate { // \u30d3\u30c7\u30aa\u306e\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8. private var myVideoOutput : AVCaptureMovieFileOutput ! // \u30b9\u30bf\u30fc\u30c8\u30dc\u30bf\u30f3. private var myButtonStart : UIButton ! // \u30b9\u30c8\u30c3\u30d7\u30dc\u30bf\u30f3. private var myButtonStop : UIButton ! override func viewDidLoad () { super . viewDidLoad () // \u30bb\u30c3\u30b7\u30e7\u30f3\u306e\u4f5c\u6210. let mySession : AVCaptureSession = AVCaptureSession () // \u30c7\u30d0\u30a4\u30b9. var myDevice = AVCaptureDevice . defaultDeviceWithMediaType ( AVMediaTypeVideo ) // \u51fa\u529b\u5148\u3092\u751f\u6210. let myImageOutput = AVCaptureStillImageOutput () // \u30c7\u30d0\u30a4\u30b9\u4e00\u89a7\u306e\u53d6\u5f97. let devices = AVCaptureDevice . devices () // \u30de\u30a4\u30af\u3092\u53d6\u5f97. let audioCaptureDevice = AVCaptureDevice . devicesWithMediaType ( AVMediaTypeAudio ) // \u30de\u30a4\u30af\u3092\u30bb\u30c3\u30b7\u30e7\u30f3\u306eInput\u306b\u8ffd\u52a0. let audioInput = try ! AVCaptureDeviceInput . init ( device : audioCaptureDevice . first as ! AVCaptureDevice ) // \u30d0\u30c3\u30af\u30e9\u30a4\u30c8\u3092myDevice\u306b\u683c\u7d0d. for device in devices { if ( device . position == AVCaptureDevicePosition . Back ){ myDevice = device as ! AVCaptureDevice } } // \u30d0\u30c3\u30af\u30ab\u30e1\u30e9\u3092\u53d6\u5f97. let videoInput = try ! AVCaptureDeviceInput . init ( device : myDevice ) // \u30d3\u30c7\u30aa\u3092\u30bb\u30c3\u30b7\u30e7\u30f3\u306eInput\u306b\u8ffd\u52a0. mySession . addInput ( videoInput ) // \u30aa\u30fc\u30c7\u30a3\u30aa\u3092\u30bb\u30c3\u30b7\u30e7\u30f3\u306b\u8ffd\u52a0. mySession . addInput ( audioInput ) // \u30bb\u30c3\u30b7\u30e7\u30f3\u306b\u8ffd\u52a0. mySession . addOutput ( myImageOutput ) // \u52d5\u753b\u306e\u4fdd\u5b58. myVideoOutput = AVCaptureMovieFileOutput () // \u30d3\u30c7\u30aa\u51fa\u529b\u3092Output\u306b\u8ffd\u52a0. mySession . addOutput ( myVideoOutput ) // \u753b\u50cf\u3092\u8868\u793a\u3059\u308b\u30ec\u30a4\u30e4\u30fc\u3092\u751f\u6210. let myVideoLayer = AVCaptureVideoPreviewLayer . init ( session : mySession ) myVideoLayer . frame = self . view . bounds myVideoLayer . videoGravity = AVLayerVideoGravityResizeAspectFill // View\u306b\u8ffd\u52a0. self . view . layer . addSublayer ( myVideoLayer ) // \u30bb\u30c3\u30b7\u30e7\u30f3\u958b\u59cb. mySession . startRunning () // UI\u30dc\u30bf\u30f3\u3092\u4f5c\u6210. myButtonStart = UIButton ( frame : CGRectMake ( 0 , 0 , 120 , 50 )) myButtonStop = UIButton ( frame : CGRectMake ( 0 , 0 , 120 , 50 )) myButtonStart . backgroundColor = UIColor . redColor (); myButtonStop . backgroundColor = UIColor . grayColor (); myButtonStart . layer . masksToBounds = true myButtonStop . layer . masksToBounds = true myButtonStart . setTitle ( \"\u64ae\u5f71\" , forState : . Normal ) myButtonStop . setTitle ( \"\u505c\u6b62\" , forState : . Normal ) myButtonStart . layer . cornerRadius = 20.0 myButtonStop . layer . cornerRadius = 20.0 myButtonStart . layer . position = CGPoint ( x : self . view . bounds . width / 2 - 70 , y : self . view . bounds . height - 50 ) myButtonStop . layer . position = CGPoint ( x : self . view . bounds . width / 2 + 70 , y : self . view . bounds . height - 50 ) myButtonStart . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : . TouchUpInside ) myButtonStop . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : . TouchUpInside ) // UI\u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0. self . view . addSubview ( myButtonStart ) self . view . addSubview ( myButtonStop ) } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. */ internal func onClickMyButton ( sender : UIButton ){ // \u64ae\u5f71\u958b\u59cb. if ( sender == myButtonStart ){ let paths = NSSearchPathForDirectoriesInDomains (. DocumentDirectory , . UserDomainMask , true ) // \u30d5\u30a9\u30eb\u30c0. let documentsDirectory = paths [ 0 ] // \u30d5\u30a1\u30a4\u30eb\u540d. let filePath = \" \\( documentsDirectory ) /test.mp4\" // URL. let fileURL = NSURL ( fileURLWithPath : filePath ) // \u9332\u753b\u958b\u59cb. myVideoOutput . startRecordingToOutputFileURL ( fileURL , recordingDelegate : self ) } // \u64ae\u5f71\u505c\u6b62. else if ( sender == myButtonStop ){ myVideoOutput . stopRecording () } } // MARK: - AVCaptureFileOutputRecordingDelegate /* \u52d5\u753b\u304c\u30ad\u30e3\u30d7\u30c1\u30e3\u30fc\u3055\u308c\u305f\u5f8c\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func captureOutput ( captureOutput : AVCaptureFileOutput !, didFinishRecordingToOutputFileAtURL outputFileURL : NSURL !, fromConnections connections : [ AnyObject ] ! , error : NSError !) { print ( \"didFinishRecordingToOutputFileAtURL\" ) } /* \u52d5\u753b\u306e\u30ad\u30e3\u30d7\u30c1\u30e3\u30fc\u304c\u958b\u59cb\u3055\u308c\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func captureOutput ( captureOutput : AVCaptureFileOutput !, didStartRecordingToOutputFileAtURL fileURL : NSURL !, fromConnections connections : [ AnyObject ] ! ) { print ( \"didStartRecordingToOutputFileAtURL\" ) } }","title":"\u52d5\u753b\u306e\u64ae\u5f71"},{"location":"5.avfoundation/003_avfoundation/#3x4x","text":"AVCaptureDevice.defaultDevice(withMediaType: AVMediaTypeVideo) \u304c AVCaptureDevice.default(for: .video) \u306b\u5909\u66f4 AVCaptureDevice.devices(withMediaType: AVMediaTypeAudio) \u304c AVCaptureDevice.default(for: .audio) \u306b\u5909\u66f4 AVCaptureDeviceInput.init(device: audioCaptureDevice?.first as! AVCaptureDevice) \u304c AVCaptureDeviceInput.init(device: audioCaptureDevice!) \u306b\u5909\u66f4 devices! \u304c devices \u306b\u5909\u66f4 AVCaptureDevicePosition \u304c AVCaptureDevice.Position \u306b\u5909\u66f4 device as? AVCaptureDevice \u304c device \u306b\u5909\u66f4 AVCaptureDeviceInput.init(device: myDevice) \u304c AVCaptureDeviceInput.init(device: myDevice!) \u306b\u5909\u66f4 myVideoLayer? \u3068 myVideoLayer! \u304c myVideoLayer \u306b\u5909\u66f4 AVLayerVideoGravityResizeAspectFill \u304c AVLayerVideoGravity.resizeAspectFill \u306b\u5909\u66f4 internal func onClickMyButton(sender: UIButton) \u306b @objc \u3092\u8ffd\u52a0 filePath! \u304c filePath \u306b\u5909\u66f4 (toOutputFileURL: fileURL, recordingDelegate: self) \u304c (to: fileURL, recordingDelegate: self) \u306b\u5909\u66f4 func capture(_ captureOutput: AVCaptureFileOutput!, didFinishRecordingToOutputFileAt outputFileURL: URL!, fromConnections connections: [AnyObject]!, error: Error!) \u304c func fileOutput(_ output: AVCaptureFileOutput, didFinishRecordingTo outputFileURL: URL, from connections: [AVCaptureConnection], error: Error?) \u306b\u5909\u66f4 func capture(_ captureOutput: AVCaptureFileOutput!, didStartRecordingToOutputFileAt fileURL: URL!, fromConnections connections: [AnyObject]!) \u304c func fileOutput(_ output: AVCaptureFileOutput, didStartRecordingTo fileURL: URL, from connections: [AVCaptureConnection]) \u306b\u5909\u66f4","title":"3.x\u30684.x\u306e\u5dee\u5206"},{"location":"5.avfoundation/003_avfoundation/#2x3x","text":"AVCaptureFileOutputRecordingDelegate \u30d7\u30ed\u30c8\u30b3\u30eb\u306b\u304a\u3051\u308b\u306e\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u306e\u5909\u66f4 func captureOutput(captureOutput: AVCaptureFileOutput!, didFinishRecordingToOutputFileAtURL outputFileURL: NSURL!, fromConnections connections: [AnyObject]!, error: NSError!) \u2192 func capture(_ captureOutput: AVCaptureFileOutput!, didFinishRecordingToOutputFileAt outputFileURL: URL!, fromConnections connections: [AnyObject]!, error: Error!) func captureOutput(captureOutput: AVCaptureFileOutput!, didStartRecordingToOutputFileAtURL fileURL: NSURL!, fromConnections connections: [AnyObject]!) \u2192 func capture(_ captureOutput: AVCaptureFileOutput!, didStartRecordingToOutputFileAt fileURL: URL!, fromConnections connections: [AnyObject]!) AVCaptureDevice.defaultDeviceWithMediaType(AVMediaTypeVideo) \u304b\u3089 AVCaptureDevice.defaultDevice(withMediaType: AVMediaTypeVideo) \u306b\u5909\u66f4 AVCaptureDevice.devicesWithMediaType(AVMediaTypeAudio) \u304b\u3089 AVCaptureDevice.devices(withMediaType: AVMediaTypeAudio) \u306b\u5909\u66f4 AVCaptureDevicePosition.Back \u304b\u3089 AVCaptureDevicePosition.back \u306b\u5909\u66f4 CGSizeMake(CGFloat, CGFloat) \u304b\u3089 CGSize(width: CGFloat, height: CGFloat) \u306b\u5909\u66f4 UIButton.setTitle(String?, forState: UIControlState) \u304b\u3089 UIButton.setTitle(String?, for: UIControlState) \u306b\u5909\u66f4 NSURL \u304b\u3089 URL \u306b\u5909\u66f4 AVCaptureMovieFileOutput.startRecordingToOutputFileURL(NSURL!, recordingDelegate: AVCaptureFileOutputRecordingDelegate!) \u304b\u3089 AVCaptureMovieFileOutput.startRecording(toOutputFileURL: URL!, recordingDelegate: AVCaptureFileOutputRecordingDelegate!) \u306b\u5909\u66f4","title":"2.x\u30683.x\u306e\u5dee\u5206"},{"location":"5.avfoundation/003_avfoundation/#reference","text":"AV Foundation Framework https://developer.apple.com/library/ios/documentation/AVFoundation/Reference/AVFoundationFramework/ AVCaptureFileOutputRecordingDelegate https://developer.apple.com/reference/avfoundation/avcapturefileoutputrecordingdelegate","title":"Reference"},{"location":"5.avfoundation/004_avfoundation/","text":"\u64ae\u5f71\u3057\u305f\u52d5\u753b\u3092\u4fdd\u5b58\u3059\u308b Info.plist \u306b NSMicrophoneUsageDescription \u3068 NSCameraUsageDescription \u3001 NSPhotoLibraryUsageDescription \u3092\u8ffd\u52a0\u3057\u307e\u3059 Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 // // ViewController.swift // avfoundation004 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit import AVFoundation import AssetsLibrary class ViewController : UIViewController , AVCaptureFileOutputRecordingDelegate { // \u30b9\u30bf\u30fc\u30c8\u30dc\u30bf\u30f3. private var myButtonStart : UIButton ! // \u30b9\u30c8\u30c3\u30d7\u30dc\u30bf\u30f3. private var myButtonStop : UIButton ! // \u30d3\u30c7\u30aa\u306e\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8. private var myVideoOutput : AVCaptureMovieFileOutput ! override func viewDidLoad () { super . viewDidLoad () // \u30bb\u30c3\u30b7\u30e7\u30f3\u306e\u4f5c\u6210. let mySession = AVCaptureSession () // \u30c7\u30d0\u30a4\u30b9. var myDevice : AVCaptureDevice ! // \u51fa\u529b\u5148\u3092\u751f\u6210. let myImageOutput = AVCaptureStillImageOutput () // \u30de\u30a4\u30af\u3092\u53d6\u5f97. let audioCaptureDevice = AVCaptureDevice . devices ( for : AVMediaType . audio ) // \u30de\u30a4\u30af\u3092\u30bb\u30c3\u30b7\u30e7\u30f3\u306eInput\u306b\u8ffd\u52a0. let audioInput = try ! AVCaptureDeviceInput . init ( device : audioCaptureDevice . first !) // \u30c7\u30d0\u30a4\u30b9\u4e00\u89a7\u306e\u53d6\u5f97. let devices = AVCaptureDevice . devices () // \u30d0\u30c3\u30af\u30e9\u30a4\u30c8\u3092myDevice\u306b\u683c\u7d0d. for device in devices { if ( device . position == AVCaptureDevice . Position . back ){ myDevice = device } } // \u30d0\u30c3\u30af\u30ab\u30e1\u30e9\u3092\u53d6\u5f97. let videoInput = try ! AVCaptureDeviceInput . init ( device : myDevice ) // \u30d3\u30c7\u30aa\u3092\u30bb\u30c3\u30b7\u30e7\u30f3\u306eInput\u306b\u8ffd\u52a0. mySession . addInput ( videoInput ) // \u30aa\u30fc\u30c7\u30a3\u30aa\u3092\u30bb\u30c3\u30b7\u30e7\u30f3\u306b\u8ffd\u52a0. mySession . addInput ( audioInput ); // \u30bb\u30c3\u30b7\u30e7\u30f3\u306b\u8ffd\u52a0. mySession . addOutput ( myImageOutput ) // \u52d5\u753b\u306e\u4fdd\u5b58. myVideoOutput = AVCaptureMovieFileOutput () // \u30d3\u30c7\u30aa\u51fa\u529b\u3092Output\u306b\u8ffd\u52a0. mySession . addOutput ( myVideoOutput ) // \u753b\u50cf\u3092\u8868\u793a\u3059\u308b\u30ec\u30a4\u30e4\u30fc\u3092\u751f\u6210. let myVideoLayer = AVCaptureVideoPreviewLayer . init ( session : mySession ) myVideoLayer . frame = self . view . bounds myVideoLayer . videoGravity = AVLayerVideoGravity . resizeAspectFill // View\u306b\u8ffd\u52a0. self . view . layer . addSublayer ( myVideoLayer ) // \u30bb\u30c3\u30b7\u30e7\u30f3\u958b\u59cb. mySession . startRunning () // UI\u30dc\u30bf\u30f3\u3092\u4f5c\u6210. myButtonStart = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 120 , height : 50 )) myButtonStop = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 120 , height : 50 )) myButtonStart . backgroundColor = UIColor . red myButtonStop . backgroundColor = UIColor . gray myButtonStart . layer . masksToBounds = true myButtonStop . layer . masksToBounds = true myButtonStart . setTitle ( \"\u64ae\u5f71\" , for : . normal ) myButtonStop . setTitle ( \"\u505c\u6b62\" , for : . normal ) myButtonStart . layer . cornerRadius = 20.0 myButtonStop . layer . cornerRadius = 20.0 myButtonStart . layer . position = CGPoint ( x : self . view . bounds . width / 2 - 70 , y : self . view . bounds . height - 50 ) myButtonStop . layer . position = CGPoint ( x : self . view . bounds . width / 2 + 70 , y : self . view . bounds . height - 50 ) myButtonStart . addTarget ( self , action : #selector ( ViewController . onClickMyButton ), for : . touchUpInside ) myButtonStop . addTarget ( self , action : #selector ( ViewController . onClickMyButton ), for : . touchUpInside ) // UI\u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0. self . view . addSubview ( myButtonStart ); self . view . addSubview ( myButtonStop ); } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. */ @objc internal func onClickMyButton ( sender : UIButton ){ // \u64ae\u5f71\u958b\u59cb. if ( sender == myButtonStart ){ let paths = NSSearchPathForDirectoriesInDomains (. documentDirectory , . userDomainMask , true ) // \u30d5\u30a9\u30eb\u30c0. let documentsDirectory = paths [ 0 ] // \u30d5\u30a1\u30a4\u30eb\u540d. let filePath = \" \\( documentsDirectory ) /test.mp4\" // URL. let fileURL = URL ( fileURLWithPath : filePath ) // \u9332\u753b\u958b\u59cb. myVideoOutput . startRecording ( to : fileURL , recordingDelegate : self ) } // \u64ae\u5f71\u505c\u6b62. else if ( sender == myButtonStop ){ myVideoOutput . stopRecording () } } // MARK: - AVCaptureFileOutputRecordingDelegate /* \u52d5\u753b\u306e\u30ad\u30e3\u30d7\u30c1\u30e3\u30fc\u304c\u7d42\u308f\u3063\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func fileOutput ( _ output : AVCaptureFileOutput , didFinishRecordingTo outputFileURL : URL , from connections : [ AVCaptureConnection ], error : Error ?) { //AssetsLibrary\u3092\u751f\u6210\u3059\u308b. let assetsLib = ALAssetsLibrary () //\u52d5\u753b\u306e\u30d1\u30b9\u304b\u3089\u52d5\u753b\u3092\u30d5\u30a9\u30c8\u30e9\u30a4\u30d6\u30e9\u30ea\u306b\u4fdd\u5b58\u3059\u308b. assetsLib . writeVideoAtPath ( toSavedPhotosAlbum : outputFileURL , completionBlock : nil ) } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 // // ViewController.swift // avfoundation004 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit import AVFoundation import AssetsLibrary class ViewController : UIViewController , AVCaptureFileOutputRecordingDelegate { // \u30b9\u30bf\u30fc\u30c8\u30dc\u30bf\u30f3. private var myButtonStart : UIButton ! // \u30b9\u30c8\u30c3\u30d7\u30dc\u30bf\u30f3. private var myButtonStop : UIButton ! // \u30d3\u30c7\u30aa\u306e\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8. private var myVideoOutput : AVCaptureMovieFileOutput ! override func viewDidLoad () { super . viewDidLoad () // \u30bb\u30c3\u30b7\u30e7\u30f3\u306e\u4f5c\u6210. let mySession = AVCaptureSession () // \u30c7\u30d0\u30a4\u30b9. var myDevice : AVCaptureDevice ! // \u51fa\u529b\u5148\u3092\u751f\u6210. let myImageOutput = AVCaptureStillImageOutput () // \u30de\u30a4\u30af\u3092\u53d6\u5f97. let audioCaptureDevice = AVCaptureDevice . devices ( withMediaType : AVMediaTypeAudio ) // \u30de\u30a4\u30af\u3092\u30bb\u30c3\u30b7\u30e7\u30f3\u306eInput\u306b\u8ffd\u52a0. let audioInput = try ! AVCaptureDeviceInput . init ( device : audioCaptureDevice ?. first as ! AVCaptureDevice ) // \u30c7\u30d0\u30a4\u30b9\u4e00\u89a7\u306e\u53d6\u5f97. let devices = AVCaptureDevice . devices () // \u30d0\u30c3\u30af\u30e9\u30a4\u30c8\u3092myDevice\u306b\u683c\u7d0d. for device in devices ! { if ( device . position == AVCaptureDevicePosition . back ){ myDevice = device as ? AVCaptureDevice } } // \u30d0\u30c3\u30af\u30ab\u30e1\u30e9\u3092\u53d6\u5f97. let videoInput = try ! AVCaptureDeviceInput . init ( device : myDevice ) // \u30d3\u30c7\u30aa\u3092\u30bb\u30c3\u30b7\u30e7\u30f3\u306eInput\u306b\u8ffd\u52a0. mySession . addInput ( videoInput ) // \u30aa\u30fc\u30c7\u30a3\u30aa\u3092\u30bb\u30c3\u30b7\u30e7\u30f3\u306b\u8ffd\u52a0. mySession . addInput ( audioInput ); // \u30bb\u30c3\u30b7\u30e7\u30f3\u306b\u8ffd\u52a0. mySession . addOutput ( myImageOutput ) // \u52d5\u753b\u306e\u4fdd\u5b58. myVideoOutput = AVCaptureMovieFileOutput () // \u30d3\u30c7\u30aa\u51fa\u529b\u3092Output\u306b\u8ffd\u52a0. mySession . addOutput ( myVideoOutput ) // \u753b\u50cf\u3092\u8868\u793a\u3059\u308b\u30ec\u30a4\u30e4\u30fc\u3092\u751f\u6210. let myVideoLayer = AVCaptureVideoPreviewLayer . init ( session : mySession ) myVideoLayer ?. frame = self . view . bounds myVideoLayer ?. videoGravity = AVLayerVideoGravityResizeAspectFill // View\u306b\u8ffd\u52a0. self . view . layer . addSublayer ( myVideoLayer !) // \u30bb\u30c3\u30b7\u30e7\u30f3\u958b\u59cb. mySession . startRunning () // UI\u30dc\u30bf\u30f3\u3092\u4f5c\u6210. myButtonStart = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 120 , height : 50 )) myButtonStop = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 120 , height : 50 )) myButtonStart . backgroundColor = UIColor . red myButtonStop . backgroundColor = UIColor . gray myButtonStart . layer . masksToBounds = true myButtonStop . layer . masksToBounds = true myButtonStart . setTitle ( \"\u64ae\u5f71\" , for : . normal ) myButtonStop . setTitle ( \"\u505c\u6b62\" , for : . normal ) myButtonStart . layer . cornerRadius = 20.0 myButtonStop . layer . cornerRadius = 20.0 myButtonStart . layer . position = CGPoint ( x : self . view . bounds . width / 2 - 70 , y : self . view . bounds . height - 50 ) myButtonStop . layer . position = CGPoint ( x : self . view . bounds . width / 2 + 70 , y : self . view . bounds . height - 50 ) myButtonStart . addTarget ( self , action : #selector ( ViewController . onClickMyButton ), for : . touchUpInside ) myButtonStop . addTarget ( self , action : #selector ( ViewController . onClickMyButton ), for : . touchUpInside ) // UI\u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0. self . view . addSubview ( myButtonStart ); self . view . addSubview ( myButtonStop ); } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. */ internal func onClickMyButton ( sender : UIButton ){ // \u64ae\u5f71\u958b\u59cb. if ( sender == myButtonStart ){ let paths = NSSearchPathForDirectoriesInDomains (. documentDirectory , . userDomainMask , true ) // \u30d5\u30a9\u30eb\u30c0. let documentsDirectory = paths [ 0 ] // \u30d5\u30a1\u30a4\u30eb\u540d. let filePath = \" \\( documentsDirectory ) /test.mp4\" // URL. let fileURL = URL ( fileURLWithPath : filePath !) // \u9332\u753b\u958b\u59cb. myVideoOutput . startRecording ( toOutputFileURL : fileURL , recordingDelegate : self ) } // \u64ae\u5f71\u505c\u6b62. else if ( sender == myButtonStop ){ myVideoOutput . stopRecording () } } // MARK: - AVCaptureFileOutputRecordingDelegate /* \u52d5\u753b\u306e\u30ad\u30e3\u30d7\u30c1\u30e3\u30fc\u304c\u7d42\u308f\u3063\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func capture ( _ captureOutput : AVCaptureFileOutput !, didFinishRecordingToOutputFileAt outputFileURL : URL !, fromConnections connections : [ AnyObject ] ! , error : Error !) { //AssetsLibrary\u3092\u751f\u6210\u3059\u308b. let assetsLib = ALAssetsLibrary () //\u52d5\u753b\u306e\u30d1\u30b9\u304b\u3089\u52d5\u753b\u3092\u30d5\u30a9\u30c8\u30e9\u30a4\u30d6\u30e9\u30ea\u306b\u4fdd\u5b58\u3059\u308b. assetsLib . writeVideoAtPath ( toSavedPhotosAlbum : outputFileURL , completionBlock : nil ) } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 // // ViewController.swift // avfoundation004 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit import AVFoundation import AssetsLibrary class ViewController : UIViewController , AVCaptureFileOutputRecordingDelegate { // \u30b9\u30bf\u30fc\u30c8\u30dc\u30bf\u30f3. private var myButtonStart : UIButton ! // \u30b9\u30c8\u30c3\u30d7\u30dc\u30bf\u30f3. private var myButtonStop : UIButton ! // \u30d3\u30c7\u30aa\u306e\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8. private var myVideoOutput : AVCaptureMovieFileOutput ! override func viewDidLoad () { super . viewDidLoad () // \u30bb\u30c3\u30b7\u30e7\u30f3\u306e\u4f5c\u6210. let mySession : AVCaptureSession = AVCaptureSession () // \u30c7\u30d0\u30a4\u30b9. var myDevice : AVCaptureDevice ! // \u51fa\u529b\u5148\u3092\u751f\u6210. let myImageOutput = AVCaptureStillImageOutput () // \u30de\u30a4\u30af\u3092\u53d6\u5f97. let audioCaptureDevice = AVCaptureDevice . devicesWithMediaType ( AVMediaTypeAudio ) // \u30de\u30a4\u30af\u3092\u30bb\u30c3\u30b7\u30e7\u30f3\u306eInput\u306b\u8ffd\u52a0. let audioInput = try ! AVCaptureDeviceInput . init ( device : audioCaptureDevice ?. first as ! AVCaptureDevice ) // \u30c7\u30d0\u30a4\u30b9\u4e00\u89a7\u306e\u53d6\u5f97. let devices = AVCaptureDevice . devices () // \u30d0\u30c3\u30af\u30e9\u30a4\u30c8\u3092myDevice\u306b\u683c\u7d0d. for device in devices { if ( device . position == AVCaptureDevicePosition . Back ){ myDevice = device as ! AVCaptureDevice } } // \u30d0\u30c3\u30af\u30ab\u30e1\u30e9\u3092\u53d6\u5f97. let videoInput = try ! AVCaptureDeviceInput . init ( device : myDevice ) // \u30d3\u30c7\u30aa\u3092\u30bb\u30c3\u30b7\u30e7\u30f3\u306eInput\u306b\u8ffd\u52a0. mySession . addInput ( videoInput ) // \u30aa\u30fc\u30c7\u30a3\u30aa\u3092\u30bb\u30c3\u30b7\u30e7\u30f3\u306b\u8ffd\u52a0. mySession . addInput ( audioInput ); // \u30bb\u30c3\u30b7\u30e7\u30f3\u306b\u8ffd\u52a0. mySession . addOutput ( myImageOutput ) // \u52d5\u753b\u306e\u4fdd\u5b58. myVideoOutput = AVCaptureMovieFileOutput () // \u30d3\u30c7\u30aa\u51fa\u529b\u3092Output\u306b\u8ffd\u52a0. mySession . addOutput ( myVideoOutput ) // \u753b\u50cf\u3092\u8868\u793a\u3059\u308b\u30ec\u30a4\u30e4\u30fc\u3092\u751f\u6210. let myVideoLayer = AVCaptureVideoPreviewLayer . init ( session : mySession ) myVideoLayer . frame = self . view . bounds myVideoLayer . videoGravity = AVLayerVideoGravityResizeAspectFill // View\u306b\u8ffd\u52a0. self . view . layer . addSublayer ( myVideoLayer ) // \u30bb\u30c3\u30b7\u30e7\u30f3\u958b\u59cb. mySession . startRunning () // UI\u30dc\u30bf\u30f3\u3092\u4f5c\u6210. myButtonStart = UIButton ( frame : CGRectMake ( 0 , 0 , 120 , 50 )) myButtonStop = UIButton ( frame : CGRectMake ( 0 , 0 , 120 , 50 )) myButtonStart . backgroundColor = UIColor . redColor (); myButtonStop . backgroundColor = UIColor . grayColor (); myButtonStart . layer . masksToBounds = true myButtonStop . layer . masksToBounds = true myButtonStart . setTitle ( \"\u64ae\u5f71\" , forState : . Normal ) myButtonStop . setTitle ( \"\u505c\u6b62\" , forState : . Normal ) myButtonStart . layer . cornerRadius = 20.0 myButtonStop . layer . cornerRadius = 20.0 myButtonStart . layer . position = CGPoint ( x : self . view . bounds . width / 2 - 70 , y : self . view . bounds . height - 50 ) myButtonStop . layer . position = CGPoint ( x : self . view . bounds . width / 2 + 70 , y : self . view . bounds . height - 50 ) myButtonStart . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : . TouchUpInside ) myButtonStop . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : . TouchUpInside ) // UI\u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0. self . view . addSubview ( myButtonStart ); self . view . addSubview ( myButtonStop ); } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. */ internal func onClickMyButton ( sender : UIButton ){ // \u64ae\u5f71\u958b\u59cb. if ( sender == myButtonStart ){ let paths = NSSearchPathForDirectoriesInDomains (. DocumentDirectory , . UserDomainMask , true ) // \u30d5\u30a9\u30eb\u30c0. let documentsDirectory = paths [ 0 ] // \u30d5\u30a1\u30a4\u30eb\u540d. let filePath : String ? = \" \\( documentsDirectory ) /test.mp4\" // URL. let fileURL = NSURL ( fileURLWithPath : filePath !) // \u9332\u753b\u958b\u59cb. myVideoOutput . startRecordingToOutputFileURL ( fileURL , recordingDelegate : self ) } // \u64ae\u5f71\u505c\u6b62. else if ( sender == myButtonStop ){ myVideoOutput . stopRecording () } } // MARK: - AVCaptureFileOutputRecordingDelegate /* \u52d5\u753b\u306e\u30ad\u30e3\u30d7\u30c1\u30e3\u30fc\u304c\u7d42\u308f\u3063\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func captureOutput ( captureOutput : AVCaptureFileOutput !, didFinishRecordingToOutputFileAtURL outputFileURL : NSURL !, fromConnections connections : [ AnyObject ] ! , error : NSError !) { //AssetsLibrary\u3092\u751f\u6210\u3059\u308b. let assetsLib = ALAssetsLibrary () //\u52d5\u753b\u306e\u30d1\u30b9\u304b\u3089\u52d5\u753b\u3092\u30d5\u30a9\u30c8\u30e9\u30a4\u30d6\u30e9\u30ea\u306b\u4fdd\u5b58\u3059\u308b. assetsLib . writeVideoAtPathToSavedPhotosAlbum ( outputFileURL , completionBlock : nil ) } } 3.x\u30684.x\u306e\u5dee\u5206 AVCaptureDevice.devices(withMediaType: AVMediaTypeAudio) \u304c AVCaptureDevice.devices(for: AVMediaType.audio) \u306b\u5909\u66f4 AVCaptureDeviceInput.init(device: audioCaptureDevice?.first as! AVCaptureDevice) \u304c AVCaptureDeviceInput.init(device: audioCaptureDevice.first!) \u306b\u5909\u66f4 devices! \u304c devices \u306b\u5909\u66f4 AVCaptureDevicePosition \u304c AVCaptureDevice.Position \u306b\u5909\u66f4 myVideoLayer? \u3068 myVideoLayer! \u3092 myVideoLayer \u306b\u5909\u66f4 device as? AVCaptureDevice \u3092 device \u306b\u5909\u66f4 AVLayerVideoGravityResizeAspectFill \u304c AVLayerVideoGravity.resizeAspectFill \u306b\u5909\u66f4 internal func onClickMyButton(sender: UIButton) \u306b @objc \u3092\u8ffd\u52a0 filePath! \u3092 filePath \u306b\u5909\u66f4 startRecording(toOutputFileURL: fileURL, recordingDelegate: self) \u304c startRecording(to: fileURL, recordingDelegate: self) \u306b\u5909\u66f4 capture(_ captureOutput: AVCaptureFileOutput!, didFinishRecordingToOutputFileAt outputFileURL: URL!, fromConnections connections: [AnyObject]!, error: Error!) \u304c fileOutput(_ output: AVCaptureFileOutput, didFinishRecordingTo outputFileURL: URL, from connections: [AVCaptureConnection], error: Error?) \u306b\u5909\u66f4 2.x\u30683.x\u306e\u5dee\u5206 ALAssetsLibrary.writeVideoAtPathToSavedPhotosAlbum(outputFileURL, completionBlock: nil) \u304b\u3089 ALAssetsLibrary.writeVideoAtPath(toSavedPhotosAlbum videoPathURL: URL!, completionBlock: ALAssetsLibraryWriteVideoCompletionBlock!) \u306b\u5909\u66f4\u3059\u308b AVCaptureFileOutputRecordingDelegate \u30d7\u30ed\u30c8\u30b3\u30eb\u306b\u304a\u3051\u308b\u306e\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u306e\u5909\u66f4 func captureOutput(captureOutput: AVCaptureFileOutput!, didFinishRecordingToOutputFileAtURL outputFileURL: NSURL!, fromConnections connections: [AnyObject]!, error: NSError!) \u2192 func capture(_ captureOutput: AVCaptureFileOutput!, didFinishRecordingToOutputFileAt outputFileURL: URL!, fromConnections connections: [AnyObject]!, error: Error!) AVCaptureDevice.defaultDeviceWithMediaType(AVMediaTypeVideo) \u304b\u3089 AVCaptureDevice.defaultDevice(withMediaType: AVMediaTypeVideo) \u306b\u5909\u66f4 AVCaptureDevice.devicesWithMediaType(AVMediaTypeAudio) \u304b\u3089 AVCaptureDevice.devices(withMediaType: AVMediaTypeAudio) \u306b\u5909\u66f4 AVCaptureDevicePosition.Back \u304b\u3089 AVCaptureDevicePosition.back \u306b\u5909\u66f4 CGSizeMake(CGFloat, CGFloat) \u304b\u3089 CGSize(width: CGFloat, height: CGFloat) \u306b\u5909\u66f4 UIButton.setTitle(String?, forState: UIControlState) \u304b\u3089 UIButton.setTitle(String?, for: UIControlState) \u306b\u5909\u66f4 NSURL \u304b\u3089 URL \u306b\u5909\u66f4 AVCaptureMovieFileOutput.startRecordingToOutputFileURL(NSURL!, recordingDelegate: AVCaptureFileOutputRecordingDelegate!) \u304b\u3089 AVCaptureMovieFileOutput.startRecording(toOutputFileURL: URL!, recordingDelegate: AVCaptureFileOutputRecordingDelegate!) \u306b\u5909\u66f4 Reference AV Foundation Framework https://developer.apple.com/library/ios/documentation/AVFoundation/Reference/AVFoundationFramework/","title":"\u64ae\u5f71\u3057\u305f\u52d5\u753b\u3092\u4fdd\u5b58\u3059\u308b"},{"location":"5.avfoundation/004_avfoundation/#_1","text":"Info.plist \u306b NSMicrophoneUsageDescription \u3068 NSCameraUsageDescription \u3001 NSPhotoLibraryUsageDescription \u3092\u8ffd\u52a0\u3057\u307e\u3059 Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 // // ViewController.swift // avfoundation004 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit import AVFoundation import AssetsLibrary class ViewController : UIViewController , AVCaptureFileOutputRecordingDelegate { // \u30b9\u30bf\u30fc\u30c8\u30dc\u30bf\u30f3. private var myButtonStart : UIButton ! // \u30b9\u30c8\u30c3\u30d7\u30dc\u30bf\u30f3. private var myButtonStop : UIButton ! // \u30d3\u30c7\u30aa\u306e\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8. private var myVideoOutput : AVCaptureMovieFileOutput ! override func viewDidLoad () { super . viewDidLoad () // \u30bb\u30c3\u30b7\u30e7\u30f3\u306e\u4f5c\u6210. let mySession = AVCaptureSession () // \u30c7\u30d0\u30a4\u30b9. var myDevice : AVCaptureDevice ! // \u51fa\u529b\u5148\u3092\u751f\u6210. let myImageOutput = AVCaptureStillImageOutput () // \u30de\u30a4\u30af\u3092\u53d6\u5f97. let audioCaptureDevice = AVCaptureDevice . devices ( for : AVMediaType . audio ) // \u30de\u30a4\u30af\u3092\u30bb\u30c3\u30b7\u30e7\u30f3\u306eInput\u306b\u8ffd\u52a0. let audioInput = try ! AVCaptureDeviceInput . init ( device : audioCaptureDevice . first !) // \u30c7\u30d0\u30a4\u30b9\u4e00\u89a7\u306e\u53d6\u5f97. let devices = AVCaptureDevice . devices () // \u30d0\u30c3\u30af\u30e9\u30a4\u30c8\u3092myDevice\u306b\u683c\u7d0d. for device in devices { if ( device . position == AVCaptureDevice . Position . back ){ myDevice = device } } // \u30d0\u30c3\u30af\u30ab\u30e1\u30e9\u3092\u53d6\u5f97. let videoInput = try ! AVCaptureDeviceInput . init ( device : myDevice ) // \u30d3\u30c7\u30aa\u3092\u30bb\u30c3\u30b7\u30e7\u30f3\u306eInput\u306b\u8ffd\u52a0. mySession . addInput ( videoInput ) // \u30aa\u30fc\u30c7\u30a3\u30aa\u3092\u30bb\u30c3\u30b7\u30e7\u30f3\u306b\u8ffd\u52a0. mySession . addInput ( audioInput ); // \u30bb\u30c3\u30b7\u30e7\u30f3\u306b\u8ffd\u52a0. mySession . addOutput ( myImageOutput ) // \u52d5\u753b\u306e\u4fdd\u5b58. myVideoOutput = AVCaptureMovieFileOutput () // \u30d3\u30c7\u30aa\u51fa\u529b\u3092Output\u306b\u8ffd\u52a0. mySession . addOutput ( myVideoOutput ) // \u753b\u50cf\u3092\u8868\u793a\u3059\u308b\u30ec\u30a4\u30e4\u30fc\u3092\u751f\u6210. let myVideoLayer = AVCaptureVideoPreviewLayer . init ( session : mySession ) myVideoLayer . frame = self . view . bounds myVideoLayer . videoGravity = AVLayerVideoGravity . resizeAspectFill // View\u306b\u8ffd\u52a0. self . view . layer . addSublayer ( myVideoLayer ) // \u30bb\u30c3\u30b7\u30e7\u30f3\u958b\u59cb. mySession . startRunning () // UI\u30dc\u30bf\u30f3\u3092\u4f5c\u6210. myButtonStart = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 120 , height : 50 )) myButtonStop = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 120 , height : 50 )) myButtonStart . backgroundColor = UIColor . red myButtonStop . backgroundColor = UIColor . gray myButtonStart . layer . masksToBounds = true myButtonStop . layer . masksToBounds = true myButtonStart . setTitle ( \"\u64ae\u5f71\" , for : . normal ) myButtonStop . setTitle ( \"\u505c\u6b62\" , for : . normal ) myButtonStart . layer . cornerRadius = 20.0 myButtonStop . layer . cornerRadius = 20.0 myButtonStart . layer . position = CGPoint ( x : self . view . bounds . width / 2 - 70 , y : self . view . bounds . height - 50 ) myButtonStop . layer . position = CGPoint ( x : self . view . bounds . width / 2 + 70 , y : self . view . bounds . height - 50 ) myButtonStart . addTarget ( self , action : #selector ( ViewController . onClickMyButton ), for : . touchUpInside ) myButtonStop . addTarget ( self , action : #selector ( ViewController . onClickMyButton ), for : . touchUpInside ) // UI\u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0. self . view . addSubview ( myButtonStart ); self . view . addSubview ( myButtonStop ); } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. */ @objc internal func onClickMyButton ( sender : UIButton ){ // \u64ae\u5f71\u958b\u59cb. if ( sender == myButtonStart ){ let paths = NSSearchPathForDirectoriesInDomains (. documentDirectory , . userDomainMask , true ) // \u30d5\u30a9\u30eb\u30c0. let documentsDirectory = paths [ 0 ] // \u30d5\u30a1\u30a4\u30eb\u540d. let filePath = \" \\( documentsDirectory ) /test.mp4\" // URL. let fileURL = URL ( fileURLWithPath : filePath ) // \u9332\u753b\u958b\u59cb. myVideoOutput . startRecording ( to : fileURL , recordingDelegate : self ) } // \u64ae\u5f71\u505c\u6b62. else if ( sender == myButtonStop ){ myVideoOutput . stopRecording () } } // MARK: - AVCaptureFileOutputRecordingDelegate /* \u52d5\u753b\u306e\u30ad\u30e3\u30d7\u30c1\u30e3\u30fc\u304c\u7d42\u308f\u3063\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func fileOutput ( _ output : AVCaptureFileOutput , didFinishRecordingTo outputFileURL : URL , from connections : [ AVCaptureConnection ], error : Error ?) { //AssetsLibrary\u3092\u751f\u6210\u3059\u308b. let assetsLib = ALAssetsLibrary () //\u52d5\u753b\u306e\u30d1\u30b9\u304b\u3089\u52d5\u753b\u3092\u30d5\u30a9\u30c8\u30e9\u30a4\u30d6\u30e9\u30ea\u306b\u4fdd\u5b58\u3059\u308b. assetsLib . writeVideoAtPath ( toSavedPhotosAlbum : outputFileURL , completionBlock : nil ) } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 // // ViewController.swift // avfoundation004 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit import AVFoundation import AssetsLibrary class ViewController : UIViewController , AVCaptureFileOutputRecordingDelegate { // \u30b9\u30bf\u30fc\u30c8\u30dc\u30bf\u30f3. private var myButtonStart : UIButton ! // \u30b9\u30c8\u30c3\u30d7\u30dc\u30bf\u30f3. private var myButtonStop : UIButton ! // \u30d3\u30c7\u30aa\u306e\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8. private var myVideoOutput : AVCaptureMovieFileOutput ! override func viewDidLoad () { super . viewDidLoad () // \u30bb\u30c3\u30b7\u30e7\u30f3\u306e\u4f5c\u6210. let mySession = AVCaptureSession () // \u30c7\u30d0\u30a4\u30b9. var myDevice : AVCaptureDevice ! // \u51fa\u529b\u5148\u3092\u751f\u6210. let myImageOutput = AVCaptureStillImageOutput () // \u30de\u30a4\u30af\u3092\u53d6\u5f97. let audioCaptureDevice = AVCaptureDevice . devices ( withMediaType : AVMediaTypeAudio ) // \u30de\u30a4\u30af\u3092\u30bb\u30c3\u30b7\u30e7\u30f3\u306eInput\u306b\u8ffd\u52a0. let audioInput = try ! AVCaptureDeviceInput . init ( device : audioCaptureDevice ?. first as ! AVCaptureDevice ) // \u30c7\u30d0\u30a4\u30b9\u4e00\u89a7\u306e\u53d6\u5f97. let devices = AVCaptureDevice . devices () // \u30d0\u30c3\u30af\u30e9\u30a4\u30c8\u3092myDevice\u306b\u683c\u7d0d. for device in devices ! { if ( device . position == AVCaptureDevicePosition . back ){ myDevice = device as ? AVCaptureDevice } } // \u30d0\u30c3\u30af\u30ab\u30e1\u30e9\u3092\u53d6\u5f97. let videoInput = try ! AVCaptureDeviceInput . init ( device : myDevice ) // \u30d3\u30c7\u30aa\u3092\u30bb\u30c3\u30b7\u30e7\u30f3\u306eInput\u306b\u8ffd\u52a0. mySession . addInput ( videoInput ) // \u30aa\u30fc\u30c7\u30a3\u30aa\u3092\u30bb\u30c3\u30b7\u30e7\u30f3\u306b\u8ffd\u52a0. mySession . addInput ( audioInput ); // \u30bb\u30c3\u30b7\u30e7\u30f3\u306b\u8ffd\u52a0. mySession . addOutput ( myImageOutput ) // \u52d5\u753b\u306e\u4fdd\u5b58. myVideoOutput = AVCaptureMovieFileOutput () // \u30d3\u30c7\u30aa\u51fa\u529b\u3092Output\u306b\u8ffd\u52a0. mySession . addOutput ( myVideoOutput ) // \u753b\u50cf\u3092\u8868\u793a\u3059\u308b\u30ec\u30a4\u30e4\u30fc\u3092\u751f\u6210. let myVideoLayer = AVCaptureVideoPreviewLayer . init ( session : mySession ) myVideoLayer ?. frame = self . view . bounds myVideoLayer ?. videoGravity = AVLayerVideoGravityResizeAspectFill // View\u306b\u8ffd\u52a0. self . view . layer . addSublayer ( myVideoLayer !) // \u30bb\u30c3\u30b7\u30e7\u30f3\u958b\u59cb. mySession . startRunning () // UI\u30dc\u30bf\u30f3\u3092\u4f5c\u6210. myButtonStart = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 120 , height : 50 )) myButtonStop = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 120 , height : 50 )) myButtonStart . backgroundColor = UIColor . red myButtonStop . backgroundColor = UIColor . gray myButtonStart . layer . masksToBounds = true myButtonStop . layer . masksToBounds = true myButtonStart . setTitle ( \"\u64ae\u5f71\" , for : . normal ) myButtonStop . setTitle ( \"\u505c\u6b62\" , for : . normal ) myButtonStart . layer . cornerRadius = 20.0 myButtonStop . layer . cornerRadius = 20.0 myButtonStart . layer . position = CGPoint ( x : self . view . bounds . width / 2 - 70 , y : self . view . bounds . height - 50 ) myButtonStop . layer . position = CGPoint ( x : self . view . bounds . width / 2 + 70 , y : self . view . bounds . height - 50 ) myButtonStart . addTarget ( self , action : #selector ( ViewController . onClickMyButton ), for : . touchUpInside ) myButtonStop . addTarget ( self , action : #selector ( ViewController . onClickMyButton ), for : . touchUpInside ) // UI\u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0. self . view . addSubview ( myButtonStart ); self . view . addSubview ( myButtonStop ); } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. */ internal func onClickMyButton ( sender : UIButton ){ // \u64ae\u5f71\u958b\u59cb. if ( sender == myButtonStart ){ let paths = NSSearchPathForDirectoriesInDomains (. documentDirectory , . userDomainMask , true ) // \u30d5\u30a9\u30eb\u30c0. let documentsDirectory = paths [ 0 ] // \u30d5\u30a1\u30a4\u30eb\u540d. let filePath = \" \\( documentsDirectory ) /test.mp4\" // URL. let fileURL = URL ( fileURLWithPath : filePath !) // \u9332\u753b\u958b\u59cb. myVideoOutput . startRecording ( toOutputFileURL : fileURL , recordingDelegate : self ) } // \u64ae\u5f71\u505c\u6b62. else if ( sender == myButtonStop ){ myVideoOutput . stopRecording () } } // MARK: - AVCaptureFileOutputRecordingDelegate /* \u52d5\u753b\u306e\u30ad\u30e3\u30d7\u30c1\u30e3\u30fc\u304c\u7d42\u308f\u3063\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func capture ( _ captureOutput : AVCaptureFileOutput !, didFinishRecordingToOutputFileAt outputFileURL : URL !, fromConnections connections : [ AnyObject ] ! , error : Error !) { //AssetsLibrary\u3092\u751f\u6210\u3059\u308b. let assetsLib = ALAssetsLibrary () //\u52d5\u753b\u306e\u30d1\u30b9\u304b\u3089\u52d5\u753b\u3092\u30d5\u30a9\u30c8\u30e9\u30a4\u30d6\u30e9\u30ea\u306b\u4fdd\u5b58\u3059\u308b. assetsLib . writeVideoAtPath ( toSavedPhotosAlbum : outputFileURL , completionBlock : nil ) } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 // // ViewController.swift // avfoundation004 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit import AVFoundation import AssetsLibrary class ViewController : UIViewController , AVCaptureFileOutputRecordingDelegate { // \u30b9\u30bf\u30fc\u30c8\u30dc\u30bf\u30f3. private var myButtonStart : UIButton ! // \u30b9\u30c8\u30c3\u30d7\u30dc\u30bf\u30f3. private var myButtonStop : UIButton ! // \u30d3\u30c7\u30aa\u306e\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8. private var myVideoOutput : AVCaptureMovieFileOutput ! override func viewDidLoad () { super . viewDidLoad () // \u30bb\u30c3\u30b7\u30e7\u30f3\u306e\u4f5c\u6210. let mySession : AVCaptureSession = AVCaptureSession () // \u30c7\u30d0\u30a4\u30b9. var myDevice : AVCaptureDevice ! // \u51fa\u529b\u5148\u3092\u751f\u6210. let myImageOutput = AVCaptureStillImageOutput () // \u30de\u30a4\u30af\u3092\u53d6\u5f97. let audioCaptureDevice = AVCaptureDevice . devicesWithMediaType ( AVMediaTypeAudio ) // \u30de\u30a4\u30af\u3092\u30bb\u30c3\u30b7\u30e7\u30f3\u306eInput\u306b\u8ffd\u52a0. let audioInput = try ! AVCaptureDeviceInput . init ( device : audioCaptureDevice ?. first as ! AVCaptureDevice ) // \u30c7\u30d0\u30a4\u30b9\u4e00\u89a7\u306e\u53d6\u5f97. let devices = AVCaptureDevice . devices () // \u30d0\u30c3\u30af\u30e9\u30a4\u30c8\u3092myDevice\u306b\u683c\u7d0d. for device in devices { if ( device . position == AVCaptureDevicePosition . Back ){ myDevice = device as ! AVCaptureDevice } } // \u30d0\u30c3\u30af\u30ab\u30e1\u30e9\u3092\u53d6\u5f97. let videoInput = try ! AVCaptureDeviceInput . init ( device : myDevice ) // \u30d3\u30c7\u30aa\u3092\u30bb\u30c3\u30b7\u30e7\u30f3\u306eInput\u306b\u8ffd\u52a0. mySession . addInput ( videoInput ) // \u30aa\u30fc\u30c7\u30a3\u30aa\u3092\u30bb\u30c3\u30b7\u30e7\u30f3\u306b\u8ffd\u52a0. mySession . addInput ( audioInput ); // \u30bb\u30c3\u30b7\u30e7\u30f3\u306b\u8ffd\u52a0. mySession . addOutput ( myImageOutput ) // \u52d5\u753b\u306e\u4fdd\u5b58. myVideoOutput = AVCaptureMovieFileOutput () // \u30d3\u30c7\u30aa\u51fa\u529b\u3092Output\u306b\u8ffd\u52a0. mySession . addOutput ( myVideoOutput ) // \u753b\u50cf\u3092\u8868\u793a\u3059\u308b\u30ec\u30a4\u30e4\u30fc\u3092\u751f\u6210. let myVideoLayer = AVCaptureVideoPreviewLayer . init ( session : mySession ) myVideoLayer . frame = self . view . bounds myVideoLayer . videoGravity = AVLayerVideoGravityResizeAspectFill // View\u306b\u8ffd\u52a0. self . view . layer . addSublayer ( myVideoLayer ) // \u30bb\u30c3\u30b7\u30e7\u30f3\u958b\u59cb. mySession . startRunning () // UI\u30dc\u30bf\u30f3\u3092\u4f5c\u6210. myButtonStart = UIButton ( frame : CGRectMake ( 0 , 0 , 120 , 50 )) myButtonStop = UIButton ( frame : CGRectMake ( 0 , 0 , 120 , 50 )) myButtonStart . backgroundColor = UIColor . redColor (); myButtonStop . backgroundColor = UIColor . grayColor (); myButtonStart . layer . masksToBounds = true myButtonStop . layer . masksToBounds = true myButtonStart . setTitle ( \"\u64ae\u5f71\" , forState : . Normal ) myButtonStop . setTitle ( \"\u505c\u6b62\" , forState : . Normal ) myButtonStart . layer . cornerRadius = 20.0 myButtonStop . layer . cornerRadius = 20.0 myButtonStart . layer . position = CGPoint ( x : self . view . bounds . width / 2 - 70 , y : self . view . bounds . height - 50 ) myButtonStop . layer . position = CGPoint ( x : self . view . bounds . width / 2 + 70 , y : self . view . bounds . height - 50 ) myButtonStart . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : . TouchUpInside ) myButtonStop . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : . TouchUpInside ) // UI\u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0. self . view . addSubview ( myButtonStart ); self . view . addSubview ( myButtonStop ); } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. */ internal func onClickMyButton ( sender : UIButton ){ // \u64ae\u5f71\u958b\u59cb. if ( sender == myButtonStart ){ let paths = NSSearchPathForDirectoriesInDomains (. DocumentDirectory , . UserDomainMask , true ) // \u30d5\u30a9\u30eb\u30c0. let documentsDirectory = paths [ 0 ] // \u30d5\u30a1\u30a4\u30eb\u540d. let filePath : String ? = \" \\( documentsDirectory ) /test.mp4\" // URL. let fileURL = NSURL ( fileURLWithPath : filePath !) // \u9332\u753b\u958b\u59cb. myVideoOutput . startRecordingToOutputFileURL ( fileURL , recordingDelegate : self ) } // \u64ae\u5f71\u505c\u6b62. else if ( sender == myButtonStop ){ myVideoOutput . stopRecording () } } // MARK: - AVCaptureFileOutputRecordingDelegate /* \u52d5\u753b\u306e\u30ad\u30e3\u30d7\u30c1\u30e3\u30fc\u304c\u7d42\u308f\u3063\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func captureOutput ( captureOutput : AVCaptureFileOutput !, didFinishRecordingToOutputFileAtURL outputFileURL : NSURL !, fromConnections connections : [ AnyObject ] ! , error : NSError !) { //AssetsLibrary\u3092\u751f\u6210\u3059\u308b. let assetsLib = ALAssetsLibrary () //\u52d5\u753b\u306e\u30d1\u30b9\u304b\u3089\u52d5\u753b\u3092\u30d5\u30a9\u30c8\u30e9\u30a4\u30d6\u30e9\u30ea\u306b\u4fdd\u5b58\u3059\u308b. assetsLib . writeVideoAtPathToSavedPhotosAlbum ( outputFileURL , completionBlock : nil ) } }","title":"\u64ae\u5f71\u3057\u305f\u52d5\u753b\u3092\u4fdd\u5b58\u3059\u308b"},{"location":"5.avfoundation/004_avfoundation/#3x4x","text":"AVCaptureDevice.devices(withMediaType: AVMediaTypeAudio) \u304c AVCaptureDevice.devices(for: AVMediaType.audio) \u306b\u5909\u66f4 AVCaptureDeviceInput.init(device: audioCaptureDevice?.first as! AVCaptureDevice) \u304c AVCaptureDeviceInput.init(device: audioCaptureDevice.first!) \u306b\u5909\u66f4 devices! \u304c devices \u306b\u5909\u66f4 AVCaptureDevicePosition \u304c AVCaptureDevice.Position \u306b\u5909\u66f4 myVideoLayer? \u3068 myVideoLayer! \u3092 myVideoLayer \u306b\u5909\u66f4 device as? AVCaptureDevice \u3092 device \u306b\u5909\u66f4 AVLayerVideoGravityResizeAspectFill \u304c AVLayerVideoGravity.resizeAspectFill \u306b\u5909\u66f4 internal func onClickMyButton(sender: UIButton) \u306b @objc \u3092\u8ffd\u52a0 filePath! \u3092 filePath \u306b\u5909\u66f4 startRecording(toOutputFileURL: fileURL, recordingDelegate: self) \u304c startRecording(to: fileURL, recordingDelegate: self) \u306b\u5909\u66f4 capture(_ captureOutput: AVCaptureFileOutput!, didFinishRecordingToOutputFileAt outputFileURL: URL!, fromConnections connections: [AnyObject]!, error: Error!) \u304c fileOutput(_ output: AVCaptureFileOutput, didFinishRecordingTo outputFileURL: URL, from connections: [AVCaptureConnection], error: Error?) \u306b\u5909\u66f4","title":"3.x\u30684.x\u306e\u5dee\u5206"},{"location":"5.avfoundation/004_avfoundation/#2x3x","text":"ALAssetsLibrary.writeVideoAtPathToSavedPhotosAlbum(outputFileURL, completionBlock: nil) \u304b\u3089 ALAssetsLibrary.writeVideoAtPath(toSavedPhotosAlbum videoPathURL: URL!, completionBlock: ALAssetsLibraryWriteVideoCompletionBlock!) \u306b\u5909\u66f4\u3059\u308b AVCaptureFileOutputRecordingDelegate \u30d7\u30ed\u30c8\u30b3\u30eb\u306b\u304a\u3051\u308b\u306e\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u306e\u5909\u66f4 func captureOutput(captureOutput: AVCaptureFileOutput!, didFinishRecordingToOutputFileAtURL outputFileURL: NSURL!, fromConnections connections: [AnyObject]!, error: NSError!) \u2192 func capture(_ captureOutput: AVCaptureFileOutput!, didFinishRecordingToOutputFileAt outputFileURL: URL!, fromConnections connections: [AnyObject]!, error: Error!) AVCaptureDevice.defaultDeviceWithMediaType(AVMediaTypeVideo) \u304b\u3089 AVCaptureDevice.defaultDevice(withMediaType: AVMediaTypeVideo) \u306b\u5909\u66f4 AVCaptureDevice.devicesWithMediaType(AVMediaTypeAudio) \u304b\u3089 AVCaptureDevice.devices(withMediaType: AVMediaTypeAudio) \u306b\u5909\u66f4 AVCaptureDevicePosition.Back \u304b\u3089 AVCaptureDevicePosition.back \u306b\u5909\u66f4 CGSizeMake(CGFloat, CGFloat) \u304b\u3089 CGSize(width: CGFloat, height: CGFloat) \u306b\u5909\u66f4 UIButton.setTitle(String?, forState: UIControlState) \u304b\u3089 UIButton.setTitle(String?, for: UIControlState) \u306b\u5909\u66f4 NSURL \u304b\u3089 URL \u306b\u5909\u66f4 AVCaptureMovieFileOutput.startRecordingToOutputFileURL(NSURL!, recordingDelegate: AVCaptureFileOutputRecordingDelegate!) \u304b\u3089 AVCaptureMovieFileOutput.startRecording(toOutputFileURL: URL!, recordingDelegate: AVCaptureFileOutputRecordingDelegate!) \u306b\u5909\u66f4","title":"2.x\u30683.x\u306e\u5dee\u5206"},{"location":"5.avfoundation/004_avfoundation/#reference","text":"AV Foundation Framework https://developer.apple.com/library/ios/documentation/AVFoundation/Reference/AVFoundationFramework/","title":"Reference"},{"location":"5.avfoundation/005_avfoundation/","text":"\u52d5\u753b\u304b\u3089\u9759\u6b62\u753b\u3092\u53d6\u308a\u51fa\u3059 Swift 4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 // // ViewController.swift // avfoundation005 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit import AVFoundation import AssetsLibrary class ViewController : UIViewController { override func viewDidLoad () { // \u30d1\u30b9\u304b\u3089asset\u3092\u751f\u6210. let path = Bundle . main . path ( forResource : \"test\" , ofType : \"mov\" ) let fileURL = URL ( fileURLWithPath : path !) let avAsset = AVURLAsset ( url : fileURL , options : nil ) // asset\u304b\u3089\u753b\u50cf\u3092\u30ad\u30e3\u30d7\u30c1\u30e3\u30fc\u3059\u308b\u70ba\u306e\u30b8\u30e5\u30cd\u30ec\u30fc\u30bf\u30fc\u3092\u751f\u6210. let generator = AVAssetImageGenerator ( asset : avAsset ) generator . maximumSize = self . view . frame . size // \u52d5\u753b\u306e\u6307\u5b9a\u3057\u305f\u6642\u9593\u3067\u306e\u753b\u50cf\u3092\u5f97\u308b(\u4eca\u56de\u306f\u52d5\u753b\u306e\u6700\u5f8c\u306e\u30ad\u30e3\u30d7\u30c1\u30e3\u3092\u64ae\u308b). let capturedImage = try ! generator . copyCGImage ( at : avAsset . duration , actualTime : nil ) // \u9759\u6b62\u753b\u7528\u306eImageView\u3092\u751f\u6210. let imageView = UIImageView ( frame : self . view . frame ) imageView . image = UIImage ( cgImage : capturedImage ) print ( avAsset . duration ) // imageView\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( imageView ) } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 // // ViewController.swift // avfoundation005 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit import AVFoundation import AssetsLibrary class ViewController : UIViewController { override func viewDidLoad () { // \u30d1\u30b9\u304b\u3089asset\u3092\u751f\u6210. let path = NSBundle . mainBundle (). pathForResource ( \"test\" , ofType : \"mov\" ) let fileURL = NSURL ( fileURLWithPath : path !) let avAsset = AVURLAsset ( URL : fileURL , options : nil ) // asset\u304b\u3089\u753b\u50cf\u3092\u30ad\u30e3\u30d7\u30c1\u30e3\u30fc\u3059\u308b\u70ba\u306e\u30b8\u30e5\u30cd\u30ec\u30fc\u30bf\u30fc\u3092\u751f\u6210. let generator = AVAssetImageGenerator ( asset : avAsset ) generator . maximumSize = self . view . frame . size // \u52d5\u753b\u306e\u6307\u5b9a\u3057\u305f\u6642\u9593\u3067\u306e\u753b\u50cf\u3092\u5f97\u308b(\u4eca\u56de\u306f\u52d5\u753b\u306e\u6700\u5f8c\u306e\u30ad\u30e3\u30d7\u30c1\u30e3\u3092\u64ae\u308b). let capturedImage = try ! generator . copyCGImageAtTime ( avAsset . duration , actualTime : nil ) // \u9759\u6b62\u753b\u7528\u306eImageView\u3092\u751f\u6210. let imageView = UIImageView ( frame : self . view . frame ) imageView . image = UIImage ( CGImage : capturedImage ) print ( avAsset . duration ) // imageView\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( imageView ) } } 2.x\u30683.x\u306e\u5dee\u5206 NSBundle.mainBundle().pathForResource(String?, ofType: String?) \u304b\u3089 Bundle.main.path(forResource: String?, ofType: String?) \u306b\u5909\u66f4 NSURL \u304b\u3089 URL \u306b\u5909\u66f4 AVURLAsset(URL: NSURL) \u306b AVURLAsset(url: URL) \u306b\u5909\u66f4 AVAssetImageGenerator.copyCGImageAtTime(CMTime, actualTime: UnsafeMutablePointer<CMTime>) \u304b\u3089 AVAssetImageGenerator.copyCGImage(at: CMTime, actualTime: UnsafeMutablePointer<CMTime>?) \u306b\u5909\u66f4 UIImage(CGImage: CGImage) \u304b\u3089 UIImage(cgImage: CGImage) \u306b\u5909\u66f4 Reference AV Foundation Framework https://developer.apple.com/library/ios/documentation/AVFoundation/Reference/AVFoundationFramework/ NSBundle https://developer.apple.com/library/mac/documentation/Cocoa/Reference/Foundation/Classes/NSBundle_Class/ https://developer.apple.com/reference/foundation/nsbundle AssetsLibrary https://developer.apple.com/library/ios/documentation/AssetsLibrary/Reference/AssetsLibraryFramework/","title":"\u52d5\u753b\u304b\u3089\u9759\u6b62\u753b\u3092\u53d6\u308a\u51fa\u3059"},{"location":"5.avfoundation/005_avfoundation/#_1","text":"Swift 4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 // // ViewController.swift // avfoundation005 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit import AVFoundation import AssetsLibrary class ViewController : UIViewController { override func viewDidLoad () { // \u30d1\u30b9\u304b\u3089asset\u3092\u751f\u6210. let path = Bundle . main . path ( forResource : \"test\" , ofType : \"mov\" ) let fileURL = URL ( fileURLWithPath : path !) let avAsset = AVURLAsset ( url : fileURL , options : nil ) // asset\u304b\u3089\u753b\u50cf\u3092\u30ad\u30e3\u30d7\u30c1\u30e3\u30fc\u3059\u308b\u70ba\u306e\u30b8\u30e5\u30cd\u30ec\u30fc\u30bf\u30fc\u3092\u751f\u6210. let generator = AVAssetImageGenerator ( asset : avAsset ) generator . maximumSize = self . view . frame . size // \u52d5\u753b\u306e\u6307\u5b9a\u3057\u305f\u6642\u9593\u3067\u306e\u753b\u50cf\u3092\u5f97\u308b(\u4eca\u56de\u306f\u52d5\u753b\u306e\u6700\u5f8c\u306e\u30ad\u30e3\u30d7\u30c1\u30e3\u3092\u64ae\u308b). let capturedImage = try ! generator . copyCGImage ( at : avAsset . duration , actualTime : nil ) // \u9759\u6b62\u753b\u7528\u306eImageView\u3092\u751f\u6210. let imageView = UIImageView ( frame : self . view . frame ) imageView . image = UIImage ( cgImage : capturedImage ) print ( avAsset . duration ) // imageView\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( imageView ) } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 // // ViewController.swift // avfoundation005 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit import AVFoundation import AssetsLibrary class ViewController : UIViewController { override func viewDidLoad () { // \u30d1\u30b9\u304b\u3089asset\u3092\u751f\u6210. let path = NSBundle . mainBundle (). pathForResource ( \"test\" , ofType : \"mov\" ) let fileURL = NSURL ( fileURLWithPath : path !) let avAsset = AVURLAsset ( URL : fileURL , options : nil ) // asset\u304b\u3089\u753b\u50cf\u3092\u30ad\u30e3\u30d7\u30c1\u30e3\u30fc\u3059\u308b\u70ba\u306e\u30b8\u30e5\u30cd\u30ec\u30fc\u30bf\u30fc\u3092\u751f\u6210. let generator = AVAssetImageGenerator ( asset : avAsset ) generator . maximumSize = self . view . frame . size // \u52d5\u753b\u306e\u6307\u5b9a\u3057\u305f\u6642\u9593\u3067\u306e\u753b\u50cf\u3092\u5f97\u308b(\u4eca\u56de\u306f\u52d5\u753b\u306e\u6700\u5f8c\u306e\u30ad\u30e3\u30d7\u30c1\u30e3\u3092\u64ae\u308b). let capturedImage = try ! generator . copyCGImageAtTime ( avAsset . duration , actualTime : nil ) // \u9759\u6b62\u753b\u7528\u306eImageView\u3092\u751f\u6210. let imageView = UIImageView ( frame : self . view . frame ) imageView . image = UIImage ( CGImage : capturedImage ) print ( avAsset . duration ) // imageView\u3092view\u306b\u8ffd\u52a0. self . view . addSubview ( imageView ) } }","title":"\u52d5\u753b\u304b\u3089\u9759\u6b62\u753b\u3092\u53d6\u308a\u51fa\u3059"},{"location":"5.avfoundation/005_avfoundation/#2x3x","text":"NSBundle.mainBundle().pathForResource(String?, ofType: String?) \u304b\u3089 Bundle.main.path(forResource: String?, ofType: String?) \u306b\u5909\u66f4 NSURL \u304b\u3089 URL \u306b\u5909\u66f4 AVURLAsset(URL: NSURL) \u306b AVURLAsset(url: URL) \u306b\u5909\u66f4 AVAssetImageGenerator.copyCGImageAtTime(CMTime, actualTime: UnsafeMutablePointer<CMTime>) \u304b\u3089 AVAssetImageGenerator.copyCGImage(at: CMTime, actualTime: UnsafeMutablePointer<CMTime>?) \u306b\u5909\u66f4 UIImage(CGImage: CGImage) \u304b\u3089 UIImage(cgImage: CGImage) \u306b\u5909\u66f4","title":"2.x\u30683.x\u306e\u5dee\u5206"},{"location":"5.avfoundation/005_avfoundation/#reference","text":"AV Foundation Framework https://developer.apple.com/library/ios/documentation/AVFoundation/Reference/AVFoundationFramework/ NSBundle https://developer.apple.com/library/mac/documentation/Cocoa/Reference/Foundation/Classes/NSBundle_Class/ https://developer.apple.com/reference/foundation/nsbundle AssetsLibrary https://developer.apple.com/library/ios/documentation/AssetsLibrary/Reference/AssetsLibraryFramework/","title":"Reference"},{"location":"5.avfoundation/006_avfoundation/","text":"\u52d5\u753b\u306e\u518d\u751f Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 // // ViewController.swift // avfoundation006 // // Created by akimach on 2016/08/28. // Copyright \u00a9 2016\u5e74 akimacho. All rights reserved. // import UIKit import AVFoundation import CoreMedia // MARK: - \u30ec\u30a4\u30e4\u30fc\u3092AVPlayerLayer\u306b\u3059\u308b\u70ba\u306e\u30e9\u30c3\u30d1\u30fc\u30af\u30e9\u30b9. class AVPlayerView : UIView { required init ( coder aDecoder : NSCoder ) { super . init ( coder : aDecoder ) ! } override init ( frame : CGRect ) { super . init ( frame : frame ) } override class var layerClass : AnyClass { return AVPlayerLayer . self } } class ViewController : UIViewController { // \u518d\u751f\u7528\u306e\u30a2\u30a4\u30c6\u30e0. var playerItem : AVPlayerItem ! // AVPlayer. var videoPlayer : AVPlayer ! // \u30b7\u30fc\u30af\u30d0\u30fc. var seekBar : UISlider ! override func viewDidLoad () { // \u30d1\u30b9\u304b\u3089asset\u3092\u751f\u6210. let path = Bundle . main . path ( forResource : \"test\" , ofType : \"mov\" ) let fileURL = URL ( fileURLWithPath : path !) let avAsset = AVURLAsset ( url : fileURL ) // AVPlayer\u306b\u518d\u751f\u3055\u305b\u308b\u30a2\u30a4\u30c6\u30e0\u3092\u751f\u6210. playerItem = AVPlayerItem ( asset : avAsset ) // AVPlayer\u3092\u751f\u6210. videoPlayer = AVPlayer ( playerItem : playerItem ) // View\u3092\u751f\u6210. let videoPlayerView = AVPlayerView ( frame : self . view . bounds ) // UIView\u306e\u30ec\u30a4\u30e4\u30fc\u3092AVPlayerLayer\u306b\u3059\u308b. let layer = videoPlayerView . layer as ! AVPlayerLayer layer . videoGravity = AVLayerVideoGravity . resizeAspect layer . player = videoPlayer // \u30ec\u30a4\u30e4\u30fc\u3092\u8ffd\u52a0\u3059\u308b. self . view . layer . addSublayer ( layer ) // \u52d5\u753b\u306e\u30b7\u30fc\u30af\u30d0\u30fc\u3068\u306a\u308bUISlider\u3092\u751f\u6210. seekBar = UISlider ( frame : CGRect ( x : 0 , y : 0 , width : self . view . bounds . maxX - 100 , height : 50 )) seekBar . layer . position = CGPoint ( x : self . view . bounds . midX , y : self . view . bounds . maxY - 100 ) seekBar . minimumValue = 0 seekBar . maximumValue = Float ( CMTimeGetSeconds ( avAsset . duration )) seekBar . addTarget ( self , action : #selector ( onSliderValueChange ( sender :)), for : UIControl . Event . valueChanged ) self . view . addSubview ( seekBar ) /* \u30b7\u30fc\u30af\u30d0\u30fc\u3092\u52d5\u753b\u3068\u30b7\u30f3\u30af\u30ed\u3055\u305b\u308b\u70ba\u306e\u51e6\u7406. */ // 0.5\u5206\u5272\u3067\u52d5\u304b\u3059\u4e8b\u304c\u51fa\u6765\u308b\u69d8\u306b\u30a4\u30f3\u30bf\u30fc\u30d0\u30eb\u3092\u6307\u5b9a. let interval : Double = Double ( 0.5 * seekBar . maximumValue ) / Double ( seekBar . bounds . maxX ) // CMTime\u306b\u5909\u63db\u3059\u308b. let time : CMTime = CMTimeMakeWithSeconds ( interval , preferredTimescale : Int32 ( NSEC_PER_SEC )) // time\u6bce\u306b\u547c\u3073\u51fa\u3055\u308c\u308b. videoPlayer . addPeriodicTimeObserver ( forInterval : time , queue : nil , using : { time in // \u7dcf\u518d\u751f\u6642\u9593\u3092\u53d6\u5f97. let duration = CMTimeGetSeconds ( self . videoPlayer . currentItem !. duration ) // \u73fe\u5728\u306e\u6642\u9593\u3092\u53d6\u5f97. let time = CMTimeGetSeconds ( self . videoPlayer . currentTime ()) // \u30b7\u30fc\u30af\u30d0\u30fc\u306e\u4f4d\u7f6e\u3092\u5909\u66f4. let value = Float ( self . seekBar . maximumValue - self . seekBar . minimumValue ) * Float ( time ) / Float ( duration ) + Float ( self . seekBar . minimumValue ) self . seekBar . value = value }) // \u52d5\u753b\u306e\u518d\u751f\u30dc\u30bf\u30f3\u3092\u751f\u6210. let startButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 50 , height : 50 )) startButton . layer . position = CGPoint ( x : self . view . bounds . midX , y : self . view . bounds . maxY - 50 ) startButton . layer . masksToBounds = true startButton . layer . cornerRadius = 20.0 startButton . backgroundColor = UIColor . orange startButton . setTitle ( \"Start\" , for : UIControl . State . normal ) startButton . addTarget ( self , action : #selector ( onButtonClick ( sender :)), for : UIControl . Event . touchUpInside ) self . view . addSubview ( startButton ) } // \u518d\u751f\u30dc\u30bf\u30f3\u304c\u62bc\u3055\u308c\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. @objc func onButtonClick ( sender : UIButton ){ // \u518d\u751f\u6642\u9593\u3092\u6700\u521d\u306b\u623b\u3057\u3066\u518d\u751f. videoPlayer . seek ( to : CMTimeMakeWithSeconds ( 0 , preferredTimescale : Int32 ( NSEC_PER_SEC ))) videoPlayer . play () } // \u30b7\u30fc\u30af\u30d0\u30fc\u306e\u5024\u304c\u5909\u308f\u3063\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. @objc func onSliderValueChange ( sender : UISlider ){ // \u52d5\u753b\u306e\u518d\u751f\u6642\u9593\u3092\u30b7\u30fc\u30af\u30d0\u30fc\u3068\u30b7\u30f3\u30af\u30ed\u3055\u305b\u308b. videoPlayer . seek ( to : CMTimeMakeWithSeconds ( Float64 ( seekBar . value ), preferredTimescale : Int32 ( NSEC_PER_SEC ))) } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 // // ViewController.swift // avfoundation006 // // Created by akimach on 2016/08/28. // Copyright \u00a9 2016\u5e74 akimacho. All rights reserved. // import UIKit import AVFoundation import CoreMedia // MARK: - \u30ec\u30a4\u30e4\u30fc\u3092AVPlayerLayer\u306b\u3059\u308b\u70ba\u306e\u30e9\u30c3\u30d1\u30fc\u30af\u30e9\u30b9. class AVPlayerView : UIView { required init ( coder aDecoder : NSCoder ) { super . init ( coder : aDecoder ) ! } override init ( frame : CGRect ) { super . init ( frame : frame ) } override class var layerClass : AnyClass { return AVPlayerLayer . self } } class ViewController : UIViewController { // \u518d\u751f\u7528\u306e\u30a2\u30a4\u30c6\u30e0. var playerItem : AVPlayerItem ! // AVPlayer. var videoPlayer : AVPlayer ! // \u30b7\u30fc\u30af\u30d0\u30fc. var seekBar : UISlider ! override func viewDidLoad () { // \u30d1\u30b9\u304b\u3089asset\u3092\u751f\u6210. let path = Bundle . main . path ( forResource : \"test\" , ofType : \"mov\" ) let fileURL = URL ( fileURLWithPath : path !) let avAsset = AVURLAsset ( url : fileURL ) // AVPlayer\u306b\u518d\u751f\u3055\u305b\u308b\u30a2\u30a4\u30c6\u30e0\u3092\u751f\u6210. playerItem = AVPlayerItem ( asset : avAsset ) // AVPlayer\u3092\u751f\u6210. videoPlayer = AVPlayer ( playerItem : playerItem ) // View\u3092\u751f\u6210. let videoPlayerView = AVPlayerView ( frame : self . view . bounds ) // UIView\u306e\u30ec\u30a4\u30e4\u30fc\u3092AVPlayerLayer\u306b\u3059\u308b. let layer = videoPlayerView . layer as ! AVPlayerLayer layer . videoGravity = AVLayerVideoGravityResizeAspect layer . player = videoPlayer // \u30ec\u30a4\u30e4\u30fc\u3092\u8ffd\u52a0\u3059\u308b. self . view . layer . addSublayer ( layer ) // \u52d5\u753b\u306e\u30b7\u30fc\u30af\u30d0\u30fc\u3068\u306a\u308bUISlider\u3092\u751f\u6210. seekBar = UISlider ( frame : CGRect ( x : 0 , y : 0 , width : self . view . bounds . maxX - 100 , height : 50 )) seekBar . layer . position = CGPoint ( x : self . view . bounds . midX , y : self . view . bounds . maxY - 100 ) seekBar . minimumValue = 0 seekBar . maximumValue = Float ( CMTimeGetSeconds ( avAsset . duration )) seekBar . addTarget ( self , action : #selector ( onSliderValueChange ( sender :)), for : UIControlEvents . valueChanged ) self . view . addSubview ( seekBar ) /* \u30b7\u30fc\u30af\u30d0\u30fc\u3092\u52d5\u753b\u3068\u30b7\u30f3\u30af\u30ed\u3055\u305b\u308b\u70ba\u306e\u51e6\u7406. */ // 0.5\u5206\u5272\u3067\u52d5\u304b\u3059\u4e8b\u304c\u51fa\u6765\u308b\u69d8\u306b\u30a4\u30f3\u30bf\u30fc\u30d0\u30eb\u3092\u6307\u5b9a. let interval : Double = Double ( 0.5 * seekBar . maximumValue ) / Double ( seekBar . bounds . maxX ) // CMTime\u306b\u5909\u63db\u3059\u308b. let time : CMTime = CMTimeMakeWithSeconds ( interval , Int32 ( NSEC_PER_SEC )) // time\u6bce\u306b\u547c\u3073\u51fa\u3055\u308c\u308b. videoPlayer . addPeriodicTimeObserver ( forInterval : time , queue : nil , using : { time in // \u7dcf\u518d\u751f\u6642\u9593\u3092\u53d6\u5f97. let duration = CMTimeGetSeconds ( self . videoPlayer . currentItem !. duration ) // \u73fe\u5728\u306e\u6642\u9593\u3092\u53d6\u5f97. let time = CMTimeGetSeconds ( self . videoPlayer . currentTime ()) // \u30b7\u30fc\u30af\u30d0\u30fc\u306e\u4f4d\u7f6e\u3092\u5909\u66f4. let value = Float ( self . seekBar . maximumValue - self . seekBar . minimumValue ) * Float ( time ) / Float ( duration ) + Float ( self . seekBar . minimumValue ) self . seekBar . value = value }) // \u52d5\u753b\u306e\u518d\u751f\u30dc\u30bf\u30f3\u3092\u751f\u6210. let startButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 50 , height : 50 )) startButton . layer . position = CGPoint ( x : self . view . bounds . midX , y : self . view . bounds . maxY - 50 ) startButton . layer . masksToBounds = true startButton . layer . cornerRadius = 20.0 startButton . backgroundColor = UIColor . orange startButton . setTitle ( \"Start\" , for : UIControlState . normal ) startButton . addTarget ( self , action : #selector ( onButtonClick ( sender :)), for : UIControlEvents . touchUpInside ) self . view . addSubview ( startButton ) } // \u518d\u751f\u30dc\u30bf\u30f3\u304c\u62bc\u3055\u308c\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. func onButtonClick ( sender : UIButton ){ // \u518d\u751f\u6642\u9593\u3092\u6700\u521d\u306b\u623b\u3057\u3066\u518d\u751f. videoPlayer . seek ( to : CMTimeMakeWithSeconds ( 0 , Int32 ( NSEC_PER_SEC ))) videoPlayer . play () } // \u30b7\u30fc\u30af\u30d0\u30fc\u306e\u5024\u304c\u5909\u308f\u3063\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. func onSliderValueChange ( sender : UISlider ){ // \u52d5\u753b\u306e\u518d\u751f\u6642\u9593\u3092\u30b7\u30fc\u30af\u30d0\u30fc\u3068\u30b7\u30f3\u30af\u30ed\u3055\u305b\u308b. videoPlayer . seek ( to : CMTimeMakeWithSeconds ( Float64 ( seekBar . value ), Int32 ( NSEC_PER_SEC ))) } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 // // ViewController.swift // avfoundation006 // // Created by akimach on 2016/08/28. // Copyright \u00a9 2016\u5e74 akimacho. All rights reserved. // import UIKit import AVFoundation import CoreMedia // MARK: - \u30ec\u30a4\u30e4\u30fc\u3092AVPlayerLayer\u306b\u3059\u308b\u70ba\u306e\u30e9\u30c3\u30d1\u30fc\u30af\u30e9\u30b9. class AVPlayerView : UIView { required init ( coder aDecoder : NSCoder ) { super . init ( coder : aDecoder ) ! } override init ( frame : CGRect ) { super . init ( frame : frame ) } override class func layerClass () -> AnyClass { return AVPlayerLayer . self } } class ViewController : UIViewController { // \u518d\u751f\u7528\u306e\u30a2\u30a4\u30c6\u30e0. var playerItem : AVPlayerItem ! // AVPlayer. var videoPlayer : AVPlayer ! // \u30b7\u30fc\u30af\u30d0\u30fc. var seekBar : UISlider ! override func viewDidLoad () { // \u30d1\u30b9\u304b\u3089asset\u3092\u751f\u6210. let path = NSBundle . mainBundle (). pathForResource ( \"test\" , ofType : \"mov\" ) let fileURL = NSURL ( fileURLWithPath : path !) let avAsset = AVURLAsset ( URL : fileURL ) // AVPlayer\u306b\u518d\u751f\u3055\u305b\u308b\u30a2\u30a4\u30c6\u30e0\u3092\u751f\u6210. playerItem = AVPlayerItem ( asset : avAsset ) // AVPlayer\u3092\u751f\u6210. videoPlayer = AVPlayer ( playerItem : playerItem ) // View\u3092\u751f\u6210. let videoPlayerView = AVPlayerView ( frame : self . view . bounds ) // UIView\u306e\u30ec\u30a4\u30e4\u30fc\u3092AVPlayerLayer\u306b\u3059\u308b. let layer = videoPlayerView . layer as ! AVPlayerLayer layer . videoGravity = AVLayerVideoGravityResizeAspect layer . player = videoPlayer // \u30ec\u30a4\u30e4\u30fc\u3092\u8ffd\u52a0\u3059\u308b. self . view . layer . addSublayer ( layer ) // \u52d5\u753b\u306e\u30b7\u30fc\u30af\u30d0\u30fc\u3068\u306a\u308bUISlider\u3092\u751f\u6210. seekBar = UISlider ( frame : CGRectMake ( 0 , 0 , self . view . bounds . maxX - 100 , 50 )) seekBar . layer . position = CGPointMake ( self . view . bounds . midX , self . view . bounds . maxY - 100 ) seekBar . minimumValue = 0 seekBar . maximumValue = Float ( CMTimeGetSeconds ( avAsset . duration )) seekBar . addTarget ( self , action : #selector ( ViewController . onSliderValueChange ( _ :)), forControlEvents : UIControlEvents . ValueChanged ) self . view . addSubview ( seekBar ) /* \u30b7\u30fc\u30af\u30d0\u30fc\u3092\u52d5\u753b\u3068\u30b7\u30f3\u30af\u30ed\u3055\u305b\u308b\u70ba\u306e\u51e6\u7406. */ // 0.5\u5206\u5272\u3067\u52d5\u304b\u3059\u4e8b\u304c\u51fa\u6765\u308b\u69d8\u306b\u30a4\u30f3\u30bf\u30fc\u30d0\u30eb\u3092\u6307\u5b9a. let interval : Double = Double ( 0.5 * seekBar . maximumValue ) / Double ( seekBar . bounds . maxX ) // CMTime\u306b\u5909\u63db\u3059\u308b. let time : CMTime = CMTimeMakeWithSeconds ( interval , Int32 ( NSEC_PER_SEC )) // time\u6bce\u306b\u547c\u3073\u51fa\u3055\u308c\u308b. videoPlayer . addPeriodicTimeObserverForInterval ( time , queue : nil ) { time in // \u7dcf\u518d\u751f\u6642\u9593\u3092\u53d6\u5f97. let duration = CMTimeGetSeconds ( self . videoPlayer . currentItem !. duration ) // \u73fe\u5728\u306e\u6642\u9593\u3092\u53d6\u5f97. let time = CMTimeGetSeconds ( self . videoPlayer . currentTime ()) // \u30b7\u30fc\u30af\u30d0\u30fc\u306e\u4f4d\u7f6e\u3092\u5909\u66f4. let value = Float ( self . seekBar . maximumValue - self . seekBar . minimumValue ) * Float ( time ) / Float ( duration ) + Float ( self . seekBar . minimumValue ) self . seekBar . value = value } // \u52d5\u753b\u306e\u518d\u751f\u30dc\u30bf\u30f3\u3092\u751f\u6210. let startButton = UIButton ( frame : CGRectMake ( 0 , 0 , 50 , 50 )) startButton . layer . position = CGPointMake ( self . view . bounds . midX , self . view . bounds . maxY - 50 ) startButton . layer . masksToBounds = true startButton . layer . cornerRadius = 20.0 startButton . backgroundColor = UIColor . orangeColor () startButton . setTitle ( \"Start\" , forState : UIControlState . Normal ) startButton . addTarget ( self , action : #selector ( ViewController . onButtonClick ( _ :)), forControlEvents : UIControlEvents . TouchUpInside ) self . view . addSubview ( startButton ) } // \u518d\u751f\u30dc\u30bf\u30f3\u304c\u62bc\u3055\u308c\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. func onButtonClick ( sender : UIButton ){ // \u518d\u751f\u6642\u9593\u3092\u6700\u521d\u306b\u623b\u3057\u3066\u518d\u751f. videoPlayer . seekToTime ( CMTimeMakeWithSeconds ( 0 , Int32 ( NSEC_PER_SEC ))) videoPlayer . play () } // \u30b7\u30fc\u30af\u30d0\u30fc\u306e\u5024\u304c\u5909\u308f\u3063\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. func onSliderValueChange ( sender : UISlider ){ // \u52d5\u753b\u306e\u518d\u751f\u6642\u9593\u3092\u30b7\u30fc\u30af\u30d0\u30fc\u3068\u30b7\u30f3\u30af\u30ed\u3055\u305b\u308b. videoPlayer . seekToTime ( CMTimeMakeWithSeconds ( Float64 ( seekBar . value ), Int32 ( NSEC_PER_SEC ))) } } 3.x\u30684.x\u306e\u5dee\u5206 AVLayerVideoGravityResizeAspect \u304c AVLayerVideoGravity.resizeAspect \u306b\u5909\u66f4 UIControlEvents \u304c UIControl.Event \u306b\u5909\u66f4 func onButtonClick(sender : UIButton) \u3068 func onSliderValueChange(sender : UISlider) \u306b @objc \u3092\u8ffd\u52a0 (interval, Int32(NSEC_PER_SEC)) \u304c interval, preferredTimescale: Int32(NSEC_PER_SEC)) \u306b\u5909\u66f4 UIControlState \u304c UIControl.State.normal \u306b\u5909\u66f4 CMTimeMakeWithSeconds(0, Int32(NSEC_PER_SEC)) \u304c CMTimeMakeWithSeconds(0, preferredTimescale: Int32(NSEC_PER_SEC)) \u306b\u5909\u66f4 CMTimeMakeWithSeconds(Float64(seekBar.value), Int32(NSEC_PER_SEC)) \u304c CMTimeMakeWithSeconds(Float64(seekBar.value), preferredTimescale: Int32(NSEC_PER_SEC)) \u306b\u5909\u66f4 2.x\u30683.x\u306e\u5dee\u5206 UIView\u306e\u30af\u30e9\u30b9\u30e1\u30bd\u30c3\u30c9 func layerClass() -> AnyClass \u304c\u30d7\u30ed\u30d1\u30c6\u30a3 class var layerClass: AnyClass \u306b\u5909\u66f4 NSURL \u304b\u3089 URL \u306b\u5909\u66f4 AVURLAsset(URL: NSURL) \u306b AVURLAsset(url: URL) \u306b\u5909\u66f4 CGRectMake(CGFloat, CGFloat, CGFloat, CGFloat) \u304b\u3089 CGRect(x: CGFloat, y: CGFloat, width: CGFloat, height: CGFloat) \u306b\u5909\u66f4 UISlider.addTarget(AnyObject?, action: Selector, forControlEvents: UIControlEvents) \u304b\u3089 UISlider.addTarget(AnyObject?, action: Selector, for: UIControlEvents) \u306b\u5909\u66f4 AVPlayer.addPeriodicTimeObserverForInterval(CMTime, queue: dispatch_queue_t?, usingBlock: (CMTime) -> Void) \u304b\u3089 AVPlayer.addPeriodicTimeObserver(forInterval: CMTime, queue: DispatchQueue?, using: (CMTime) -> Void) \u306b\u5909\u66f4 Reference AV Foundation Framework https://developer.apple.com/library/ios/documentation/AVFoundation/Reference/AVFoundationFramework/ NSBundle https://developer.apple.com/library/mac/documentation/Cocoa/Reference/Foundation/Classes/NSBundle_Class/ https://developer.apple.com/reference/foundation/nsbundle AssetsLibrary https://developer.apple.com/library/ios/documentation/AssetsLibrary/Reference/AssetsLibraryFramework/ UIView https://developer.apple.com/reference/uikit/uiview","title":"\u52d5\u753b\u306e\u518d\u751f"},{"location":"5.avfoundation/006_avfoundation/#_1","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 // // ViewController.swift // avfoundation006 // // Created by akimach on 2016/08/28. // Copyright \u00a9 2016\u5e74 akimacho. All rights reserved. // import UIKit import AVFoundation import CoreMedia // MARK: - \u30ec\u30a4\u30e4\u30fc\u3092AVPlayerLayer\u306b\u3059\u308b\u70ba\u306e\u30e9\u30c3\u30d1\u30fc\u30af\u30e9\u30b9. class AVPlayerView : UIView { required init ( coder aDecoder : NSCoder ) { super . init ( coder : aDecoder ) ! } override init ( frame : CGRect ) { super . init ( frame : frame ) } override class var layerClass : AnyClass { return AVPlayerLayer . self } } class ViewController : UIViewController { // \u518d\u751f\u7528\u306e\u30a2\u30a4\u30c6\u30e0. var playerItem : AVPlayerItem ! // AVPlayer. var videoPlayer : AVPlayer ! // \u30b7\u30fc\u30af\u30d0\u30fc. var seekBar : UISlider ! override func viewDidLoad () { // \u30d1\u30b9\u304b\u3089asset\u3092\u751f\u6210. let path = Bundle . main . path ( forResource : \"test\" , ofType : \"mov\" ) let fileURL = URL ( fileURLWithPath : path !) let avAsset = AVURLAsset ( url : fileURL ) // AVPlayer\u306b\u518d\u751f\u3055\u305b\u308b\u30a2\u30a4\u30c6\u30e0\u3092\u751f\u6210. playerItem = AVPlayerItem ( asset : avAsset ) // AVPlayer\u3092\u751f\u6210. videoPlayer = AVPlayer ( playerItem : playerItem ) // View\u3092\u751f\u6210. let videoPlayerView = AVPlayerView ( frame : self . view . bounds ) // UIView\u306e\u30ec\u30a4\u30e4\u30fc\u3092AVPlayerLayer\u306b\u3059\u308b. let layer = videoPlayerView . layer as ! AVPlayerLayer layer . videoGravity = AVLayerVideoGravity . resizeAspect layer . player = videoPlayer // \u30ec\u30a4\u30e4\u30fc\u3092\u8ffd\u52a0\u3059\u308b. self . view . layer . addSublayer ( layer ) // \u52d5\u753b\u306e\u30b7\u30fc\u30af\u30d0\u30fc\u3068\u306a\u308bUISlider\u3092\u751f\u6210. seekBar = UISlider ( frame : CGRect ( x : 0 , y : 0 , width : self . view . bounds . maxX - 100 , height : 50 )) seekBar . layer . position = CGPoint ( x : self . view . bounds . midX , y : self . view . bounds . maxY - 100 ) seekBar . minimumValue = 0 seekBar . maximumValue = Float ( CMTimeGetSeconds ( avAsset . duration )) seekBar . addTarget ( self , action : #selector ( onSliderValueChange ( sender :)), for : UIControl . Event . valueChanged ) self . view . addSubview ( seekBar ) /* \u30b7\u30fc\u30af\u30d0\u30fc\u3092\u52d5\u753b\u3068\u30b7\u30f3\u30af\u30ed\u3055\u305b\u308b\u70ba\u306e\u51e6\u7406. */ // 0.5\u5206\u5272\u3067\u52d5\u304b\u3059\u4e8b\u304c\u51fa\u6765\u308b\u69d8\u306b\u30a4\u30f3\u30bf\u30fc\u30d0\u30eb\u3092\u6307\u5b9a. let interval : Double = Double ( 0.5 * seekBar . maximumValue ) / Double ( seekBar . bounds . maxX ) // CMTime\u306b\u5909\u63db\u3059\u308b. let time : CMTime = CMTimeMakeWithSeconds ( interval , preferredTimescale : Int32 ( NSEC_PER_SEC )) // time\u6bce\u306b\u547c\u3073\u51fa\u3055\u308c\u308b. videoPlayer . addPeriodicTimeObserver ( forInterval : time , queue : nil , using : { time in // \u7dcf\u518d\u751f\u6642\u9593\u3092\u53d6\u5f97. let duration = CMTimeGetSeconds ( self . videoPlayer . currentItem !. duration ) // \u73fe\u5728\u306e\u6642\u9593\u3092\u53d6\u5f97. let time = CMTimeGetSeconds ( self . videoPlayer . currentTime ()) // \u30b7\u30fc\u30af\u30d0\u30fc\u306e\u4f4d\u7f6e\u3092\u5909\u66f4. let value = Float ( self . seekBar . maximumValue - self . seekBar . minimumValue ) * Float ( time ) / Float ( duration ) + Float ( self . seekBar . minimumValue ) self . seekBar . value = value }) // \u52d5\u753b\u306e\u518d\u751f\u30dc\u30bf\u30f3\u3092\u751f\u6210. let startButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 50 , height : 50 )) startButton . layer . position = CGPoint ( x : self . view . bounds . midX , y : self . view . bounds . maxY - 50 ) startButton . layer . masksToBounds = true startButton . layer . cornerRadius = 20.0 startButton . backgroundColor = UIColor . orange startButton . setTitle ( \"Start\" , for : UIControl . State . normal ) startButton . addTarget ( self , action : #selector ( onButtonClick ( sender :)), for : UIControl . Event . touchUpInside ) self . view . addSubview ( startButton ) } // \u518d\u751f\u30dc\u30bf\u30f3\u304c\u62bc\u3055\u308c\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. @objc func onButtonClick ( sender : UIButton ){ // \u518d\u751f\u6642\u9593\u3092\u6700\u521d\u306b\u623b\u3057\u3066\u518d\u751f. videoPlayer . seek ( to : CMTimeMakeWithSeconds ( 0 , preferredTimescale : Int32 ( NSEC_PER_SEC ))) videoPlayer . play () } // \u30b7\u30fc\u30af\u30d0\u30fc\u306e\u5024\u304c\u5909\u308f\u3063\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. @objc func onSliderValueChange ( sender : UISlider ){ // \u52d5\u753b\u306e\u518d\u751f\u6642\u9593\u3092\u30b7\u30fc\u30af\u30d0\u30fc\u3068\u30b7\u30f3\u30af\u30ed\u3055\u305b\u308b. videoPlayer . seek ( to : CMTimeMakeWithSeconds ( Float64 ( seekBar . value ), preferredTimescale : Int32 ( NSEC_PER_SEC ))) } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 // // ViewController.swift // avfoundation006 // // Created by akimach on 2016/08/28. // Copyright \u00a9 2016\u5e74 akimacho. All rights reserved. // import UIKit import AVFoundation import CoreMedia // MARK: - \u30ec\u30a4\u30e4\u30fc\u3092AVPlayerLayer\u306b\u3059\u308b\u70ba\u306e\u30e9\u30c3\u30d1\u30fc\u30af\u30e9\u30b9. class AVPlayerView : UIView { required init ( coder aDecoder : NSCoder ) { super . init ( coder : aDecoder ) ! } override init ( frame : CGRect ) { super . init ( frame : frame ) } override class var layerClass : AnyClass { return AVPlayerLayer . self } } class ViewController : UIViewController { // \u518d\u751f\u7528\u306e\u30a2\u30a4\u30c6\u30e0. var playerItem : AVPlayerItem ! // AVPlayer. var videoPlayer : AVPlayer ! // \u30b7\u30fc\u30af\u30d0\u30fc. var seekBar : UISlider ! override func viewDidLoad () { // \u30d1\u30b9\u304b\u3089asset\u3092\u751f\u6210. let path = Bundle . main . path ( forResource : \"test\" , ofType : \"mov\" ) let fileURL = URL ( fileURLWithPath : path !) let avAsset = AVURLAsset ( url : fileURL ) // AVPlayer\u306b\u518d\u751f\u3055\u305b\u308b\u30a2\u30a4\u30c6\u30e0\u3092\u751f\u6210. playerItem = AVPlayerItem ( asset : avAsset ) // AVPlayer\u3092\u751f\u6210. videoPlayer = AVPlayer ( playerItem : playerItem ) // View\u3092\u751f\u6210. let videoPlayerView = AVPlayerView ( frame : self . view . bounds ) // UIView\u306e\u30ec\u30a4\u30e4\u30fc\u3092AVPlayerLayer\u306b\u3059\u308b. let layer = videoPlayerView . layer as ! AVPlayerLayer layer . videoGravity = AVLayerVideoGravityResizeAspect layer . player = videoPlayer // \u30ec\u30a4\u30e4\u30fc\u3092\u8ffd\u52a0\u3059\u308b. self . view . layer . addSublayer ( layer ) // \u52d5\u753b\u306e\u30b7\u30fc\u30af\u30d0\u30fc\u3068\u306a\u308bUISlider\u3092\u751f\u6210. seekBar = UISlider ( frame : CGRect ( x : 0 , y : 0 , width : self . view . bounds . maxX - 100 , height : 50 )) seekBar . layer . position = CGPoint ( x : self . view . bounds . midX , y : self . view . bounds . maxY - 100 ) seekBar . minimumValue = 0 seekBar . maximumValue = Float ( CMTimeGetSeconds ( avAsset . duration )) seekBar . addTarget ( self , action : #selector ( onSliderValueChange ( sender :)), for : UIControlEvents . valueChanged ) self . view . addSubview ( seekBar ) /* \u30b7\u30fc\u30af\u30d0\u30fc\u3092\u52d5\u753b\u3068\u30b7\u30f3\u30af\u30ed\u3055\u305b\u308b\u70ba\u306e\u51e6\u7406. */ // 0.5\u5206\u5272\u3067\u52d5\u304b\u3059\u4e8b\u304c\u51fa\u6765\u308b\u69d8\u306b\u30a4\u30f3\u30bf\u30fc\u30d0\u30eb\u3092\u6307\u5b9a. let interval : Double = Double ( 0.5 * seekBar . maximumValue ) / Double ( seekBar . bounds . maxX ) // CMTime\u306b\u5909\u63db\u3059\u308b. let time : CMTime = CMTimeMakeWithSeconds ( interval , Int32 ( NSEC_PER_SEC )) // time\u6bce\u306b\u547c\u3073\u51fa\u3055\u308c\u308b. videoPlayer . addPeriodicTimeObserver ( forInterval : time , queue : nil , using : { time in // \u7dcf\u518d\u751f\u6642\u9593\u3092\u53d6\u5f97. let duration = CMTimeGetSeconds ( self . videoPlayer . currentItem !. duration ) // \u73fe\u5728\u306e\u6642\u9593\u3092\u53d6\u5f97. let time = CMTimeGetSeconds ( self . videoPlayer . currentTime ()) // \u30b7\u30fc\u30af\u30d0\u30fc\u306e\u4f4d\u7f6e\u3092\u5909\u66f4. let value = Float ( self . seekBar . maximumValue - self . seekBar . minimumValue ) * Float ( time ) / Float ( duration ) + Float ( self . seekBar . minimumValue ) self . seekBar . value = value }) // \u52d5\u753b\u306e\u518d\u751f\u30dc\u30bf\u30f3\u3092\u751f\u6210. let startButton = UIButton ( frame : CGRect ( x : 0 , y : 0 , width : 50 , height : 50 )) startButton . layer . position = CGPoint ( x : self . view . bounds . midX , y : self . view . bounds . maxY - 50 ) startButton . layer . masksToBounds = true startButton . layer . cornerRadius = 20.0 startButton . backgroundColor = UIColor . orange startButton . setTitle ( \"Start\" , for : UIControlState . normal ) startButton . addTarget ( self , action : #selector ( onButtonClick ( sender :)), for : UIControlEvents . touchUpInside ) self . view . addSubview ( startButton ) } // \u518d\u751f\u30dc\u30bf\u30f3\u304c\u62bc\u3055\u308c\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. func onButtonClick ( sender : UIButton ){ // \u518d\u751f\u6642\u9593\u3092\u6700\u521d\u306b\u623b\u3057\u3066\u518d\u751f. videoPlayer . seek ( to : CMTimeMakeWithSeconds ( 0 , Int32 ( NSEC_PER_SEC ))) videoPlayer . play () } // \u30b7\u30fc\u30af\u30d0\u30fc\u306e\u5024\u304c\u5909\u308f\u3063\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. func onSliderValueChange ( sender : UISlider ){ // \u52d5\u753b\u306e\u518d\u751f\u6642\u9593\u3092\u30b7\u30fc\u30af\u30d0\u30fc\u3068\u30b7\u30f3\u30af\u30ed\u3055\u305b\u308b. videoPlayer . seek ( to : CMTimeMakeWithSeconds ( Float64 ( seekBar . value ), Int32 ( NSEC_PER_SEC ))) } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 // // ViewController.swift // avfoundation006 // // Created by akimach on 2016/08/28. // Copyright \u00a9 2016\u5e74 akimacho. All rights reserved. // import UIKit import AVFoundation import CoreMedia // MARK: - \u30ec\u30a4\u30e4\u30fc\u3092AVPlayerLayer\u306b\u3059\u308b\u70ba\u306e\u30e9\u30c3\u30d1\u30fc\u30af\u30e9\u30b9. class AVPlayerView : UIView { required init ( coder aDecoder : NSCoder ) { super . init ( coder : aDecoder ) ! } override init ( frame : CGRect ) { super . init ( frame : frame ) } override class func layerClass () -> AnyClass { return AVPlayerLayer . self } } class ViewController : UIViewController { // \u518d\u751f\u7528\u306e\u30a2\u30a4\u30c6\u30e0. var playerItem : AVPlayerItem ! // AVPlayer. var videoPlayer : AVPlayer ! // \u30b7\u30fc\u30af\u30d0\u30fc. var seekBar : UISlider ! override func viewDidLoad () { // \u30d1\u30b9\u304b\u3089asset\u3092\u751f\u6210. let path = NSBundle . mainBundle (). pathForResource ( \"test\" , ofType : \"mov\" ) let fileURL = NSURL ( fileURLWithPath : path !) let avAsset = AVURLAsset ( URL : fileURL ) // AVPlayer\u306b\u518d\u751f\u3055\u305b\u308b\u30a2\u30a4\u30c6\u30e0\u3092\u751f\u6210. playerItem = AVPlayerItem ( asset : avAsset ) // AVPlayer\u3092\u751f\u6210. videoPlayer = AVPlayer ( playerItem : playerItem ) // View\u3092\u751f\u6210. let videoPlayerView = AVPlayerView ( frame : self . view . bounds ) // UIView\u306e\u30ec\u30a4\u30e4\u30fc\u3092AVPlayerLayer\u306b\u3059\u308b. let layer = videoPlayerView . layer as ! AVPlayerLayer layer . videoGravity = AVLayerVideoGravityResizeAspect layer . player = videoPlayer // \u30ec\u30a4\u30e4\u30fc\u3092\u8ffd\u52a0\u3059\u308b. self . view . layer . addSublayer ( layer ) // \u52d5\u753b\u306e\u30b7\u30fc\u30af\u30d0\u30fc\u3068\u306a\u308bUISlider\u3092\u751f\u6210. seekBar = UISlider ( frame : CGRectMake ( 0 , 0 , self . view . bounds . maxX - 100 , 50 )) seekBar . layer . position = CGPointMake ( self . view . bounds . midX , self . view . bounds . maxY - 100 ) seekBar . minimumValue = 0 seekBar . maximumValue = Float ( CMTimeGetSeconds ( avAsset . duration )) seekBar . addTarget ( self , action : #selector ( ViewController . onSliderValueChange ( _ :)), forControlEvents : UIControlEvents . ValueChanged ) self . view . addSubview ( seekBar ) /* \u30b7\u30fc\u30af\u30d0\u30fc\u3092\u52d5\u753b\u3068\u30b7\u30f3\u30af\u30ed\u3055\u305b\u308b\u70ba\u306e\u51e6\u7406. */ // 0.5\u5206\u5272\u3067\u52d5\u304b\u3059\u4e8b\u304c\u51fa\u6765\u308b\u69d8\u306b\u30a4\u30f3\u30bf\u30fc\u30d0\u30eb\u3092\u6307\u5b9a. let interval : Double = Double ( 0.5 * seekBar . maximumValue ) / Double ( seekBar . bounds . maxX ) // CMTime\u306b\u5909\u63db\u3059\u308b. let time : CMTime = CMTimeMakeWithSeconds ( interval , Int32 ( NSEC_PER_SEC )) // time\u6bce\u306b\u547c\u3073\u51fa\u3055\u308c\u308b. videoPlayer . addPeriodicTimeObserverForInterval ( time , queue : nil ) { time in // \u7dcf\u518d\u751f\u6642\u9593\u3092\u53d6\u5f97. let duration = CMTimeGetSeconds ( self . videoPlayer . currentItem !. duration ) // \u73fe\u5728\u306e\u6642\u9593\u3092\u53d6\u5f97. let time = CMTimeGetSeconds ( self . videoPlayer . currentTime ()) // \u30b7\u30fc\u30af\u30d0\u30fc\u306e\u4f4d\u7f6e\u3092\u5909\u66f4. let value = Float ( self . seekBar . maximumValue - self . seekBar . minimumValue ) * Float ( time ) / Float ( duration ) + Float ( self . seekBar . minimumValue ) self . seekBar . value = value } // \u52d5\u753b\u306e\u518d\u751f\u30dc\u30bf\u30f3\u3092\u751f\u6210. let startButton = UIButton ( frame : CGRectMake ( 0 , 0 , 50 , 50 )) startButton . layer . position = CGPointMake ( self . view . bounds . midX , self . view . bounds . maxY - 50 ) startButton . layer . masksToBounds = true startButton . layer . cornerRadius = 20.0 startButton . backgroundColor = UIColor . orangeColor () startButton . setTitle ( \"Start\" , forState : UIControlState . Normal ) startButton . addTarget ( self , action : #selector ( ViewController . onButtonClick ( _ :)), forControlEvents : UIControlEvents . TouchUpInside ) self . view . addSubview ( startButton ) } // \u518d\u751f\u30dc\u30bf\u30f3\u304c\u62bc\u3055\u308c\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. func onButtonClick ( sender : UIButton ){ // \u518d\u751f\u6642\u9593\u3092\u6700\u521d\u306b\u623b\u3057\u3066\u518d\u751f. videoPlayer . seekToTime ( CMTimeMakeWithSeconds ( 0 , Int32 ( NSEC_PER_SEC ))) videoPlayer . play () } // \u30b7\u30fc\u30af\u30d0\u30fc\u306e\u5024\u304c\u5909\u308f\u3063\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. func onSliderValueChange ( sender : UISlider ){ // \u52d5\u753b\u306e\u518d\u751f\u6642\u9593\u3092\u30b7\u30fc\u30af\u30d0\u30fc\u3068\u30b7\u30f3\u30af\u30ed\u3055\u305b\u308b. videoPlayer . seekToTime ( CMTimeMakeWithSeconds ( Float64 ( seekBar . value ), Int32 ( NSEC_PER_SEC ))) } }","title":"\u52d5\u753b\u306e\u518d\u751f"},{"location":"5.avfoundation/006_avfoundation/#3x4x","text":"AVLayerVideoGravityResizeAspect \u304c AVLayerVideoGravity.resizeAspect \u306b\u5909\u66f4 UIControlEvents \u304c UIControl.Event \u306b\u5909\u66f4 func onButtonClick(sender : UIButton) \u3068 func onSliderValueChange(sender : UISlider) \u306b @objc \u3092\u8ffd\u52a0 (interval, Int32(NSEC_PER_SEC)) \u304c interval, preferredTimescale: Int32(NSEC_PER_SEC)) \u306b\u5909\u66f4 UIControlState \u304c UIControl.State.normal \u306b\u5909\u66f4 CMTimeMakeWithSeconds(0, Int32(NSEC_PER_SEC)) \u304c CMTimeMakeWithSeconds(0, preferredTimescale: Int32(NSEC_PER_SEC)) \u306b\u5909\u66f4 CMTimeMakeWithSeconds(Float64(seekBar.value), Int32(NSEC_PER_SEC)) \u304c CMTimeMakeWithSeconds(Float64(seekBar.value), preferredTimescale: Int32(NSEC_PER_SEC)) \u306b\u5909\u66f4","title":"3.x\u30684.x\u306e\u5dee\u5206"},{"location":"5.avfoundation/006_avfoundation/#2x3x","text":"UIView\u306e\u30af\u30e9\u30b9\u30e1\u30bd\u30c3\u30c9 func layerClass() -> AnyClass \u304c\u30d7\u30ed\u30d1\u30c6\u30a3 class var layerClass: AnyClass \u306b\u5909\u66f4 NSURL \u304b\u3089 URL \u306b\u5909\u66f4 AVURLAsset(URL: NSURL) \u306b AVURLAsset(url: URL) \u306b\u5909\u66f4 CGRectMake(CGFloat, CGFloat, CGFloat, CGFloat) \u304b\u3089 CGRect(x: CGFloat, y: CGFloat, width: CGFloat, height: CGFloat) \u306b\u5909\u66f4 UISlider.addTarget(AnyObject?, action: Selector, forControlEvents: UIControlEvents) \u304b\u3089 UISlider.addTarget(AnyObject?, action: Selector, for: UIControlEvents) \u306b\u5909\u66f4 AVPlayer.addPeriodicTimeObserverForInterval(CMTime, queue: dispatch_queue_t?, usingBlock: (CMTime) -> Void) \u304b\u3089 AVPlayer.addPeriodicTimeObserver(forInterval: CMTime, queue: DispatchQueue?, using: (CMTime) -> Void) \u306b\u5909\u66f4","title":"2.x\u30683.x\u306e\u5dee\u5206"},{"location":"5.avfoundation/006_avfoundation/#reference","text":"AV Foundation Framework https://developer.apple.com/library/ios/documentation/AVFoundation/Reference/AVFoundationFramework/ NSBundle https://developer.apple.com/library/mac/documentation/Cocoa/Reference/Foundation/Classes/NSBundle_Class/ https://developer.apple.com/reference/foundation/nsbundle AssetsLibrary https://developer.apple.com/library/ios/documentation/AssetsLibrary/Reference/AssetsLibraryFramework/ UIView https://developer.apple.com/reference/uikit/uiview","title":"Reference"},{"location":"5.avfoundation/007_avfoundation/","text":"MediaPlayer\u3092\u4f7f\u3063\u305f\u52d5\u753b\u306e\u518d\u751f Info.plist \u306b NSAppleMusicUsageDescription \u3092\u8ffd\u52a0\u3057\u307e\u3059 Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 // // ViewController.swift // avfoundation007 // // Created by akimach on 2016/08/28. // Copyright \u00a9 2016\u5e74 akimacho. All rights reserved. // import UIKit import MediaPlayer class ViewController : UIViewController { // MPMoviePlayerViewController\u306e\u5ba3\u8a00. var myMoviePlayerView : MPMoviePlayerViewController ! override func viewDidLoad () { super . viewDidLoad () // \u30dc\u30bf\u30f3\u306e\u751f\u6210. let myButton = UIButton () myButton . frame . size = CGSize ( width : 100 , height : 40 ) myButton . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : self . view . bounds . height / 2 ) myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 20.0 myButton . backgroundColor = UIColor . orange myButton . setTitle ( \"\u52d5\u753b\u518d\u751f\" , for : . normal ) myButton . setTitleColor ( UIColor . white , for : . normal ) myButton . setTitleShadowColor ( UIColor . gray , for : . normal ) myButton . addTarget ( self , action : #selector ( onClickMyButton ( sender :)), for : . touchUpInside ) self . view . addSubview ( myButton ) } // \u30dc\u30bf\u30f3\u306e\u30af\u30ea\u30c3\u30af\u30a4\u30d9\u30f3\u30c8. @objc func onClickMyButton ( sender : UIButton ) { // \u52d5\u753b\u306e\u30d1\u30b9. let myMoviePath = URL . init ( fileURLWithPath : Bundle . main . path ( forResource : \"test\" , ofType : \"mov\" ) ! ) // MPMoviePlayerViewController\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u751f\u6210. myMoviePlayerView = MPMoviePlayerViewController ( contentURL : myMoviePath ) // \u52d5\u753b\u306e\u518d\u751f\u304c\u7d42\u4e86\u3057\u305f\u6642\u306eNotification. NotificationCenter . default . addObserver ( self , selector : #selector ( moviePlayBackDidFinish ( notification :)), name : Notification . Name . MPMoviePlayerPlaybackDidFinish , object : myMoviePlayerView . moviePlayer ) // \u753b\u9762\u9077\u79fb. self . present ( myMoviePlayerView , animated : true , completion : nil ) } // \u52d5\u753b\u306e\u518d\u751f\u304c\u7d42\u4e86\u3057\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. @objc func moviePlayBackDidFinish ( notification : NSNotification ) { print ( \"moviePlayBackDidFinish:\" ) // \u901a\u77e5\u304c\u3042\u3063\u305f\u3089notification\u3092\u524a\u9664. NotificationCenter . default . removeObserver ( self , name : Notification . Name . MPMoviePlayerPlaybackDidFinish , object : nil ) } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 // // ViewController.swift // avfoundation007 // // Created by akimach on 2016/08/28. // Copyright \u00a9 2016\u5e74 akimacho. All rights reserved. // import UIKit import MediaPlayer class ViewController : UIViewController { // MPMoviePlayerViewController\u306e\u5ba3\u8a00. var myMoviePlayerView : MPMoviePlayerViewController ! override func viewDidLoad () { super . viewDidLoad () // \u30dc\u30bf\u30f3\u306e\u751f\u6210. let myButton = UIButton () myButton . frame . size = CGSize ( width : 100 , height : 40 ) myButton . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : self . view . bounds . height / 2 ) myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 20.0 myButton . backgroundColor = UIColor . orange myButton . setTitle ( \"\u52d5\u753b\u518d\u751f\" , for : . normal ) myButton . setTitleColor ( UIColor . white , for : . normal ) myButton . setTitleShadowColor ( UIColor . gray , for : . normal ) myButton . addTarget ( self , action : #selector ( onClickMyButton ( sender :)), for : . touchUpInside ) self . view . addSubview ( myButton ) } // \u30dc\u30bf\u30f3\u306e\u30af\u30ea\u30c3\u30af\u30a4\u30d9\u30f3\u30c8. func onClickMyButton ( sender : UIButton ) { // \u52d5\u753b\u306e\u30d1\u30b9. let myMoviePath = URL . init ( fileURLWithPath : Bundle . main . path ( forResource : \"test\" , ofType : \"mov\" ) ! ) // MPMoviePlayerViewController\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u751f\u6210. myMoviePlayerView = MPMoviePlayerViewController ( contentURL : myMoviePath ) // \u52d5\u753b\u306e\u518d\u751f\u304c\u7d42\u4e86\u3057\u305f\u6642\u306eNotification. NotificationCenter . default . addObserver ( self , selector : #selector ( moviePlayBackDidFinish ( notification :)), name : Notification . Name . MPMoviePlayerPlaybackDidFinish , object : myMoviePlayerView . moviePlayer ) // \u753b\u9762\u9077\u79fb. self . present ( myMoviePlayerView , animated : true , completion : nil ) } // \u52d5\u753b\u306e\u518d\u751f\u304c\u7d42\u4e86\u3057\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. func moviePlayBackDidFinish ( notification : NSNotification ) { print ( \"moviePlayBackDidFinish:\" ) // \u901a\u77e5\u304c\u3042\u3063\u305f\u3089notification\u3092\u524a\u9664. NotificationCenter . default . removeObserver ( self , name : Notification . Name . MPMoviePlayerPlaybackDidFinish , object : nil ) } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 // // ViewController.swift // avfoundation007 // // Created by akimach on 2016/08/28. // Copyright \u00a9 2016\u5e74 akimacho. All rights reserved. // import UIKit import MediaPlayer class ViewController : UIViewController { // MPMoviePlayerViewController\u306e\u5ba3\u8a00. var myMoviePlayerView : MPMoviePlayerViewController ! override func viewDidLoad () { super . viewDidLoad () // \u30dc\u30bf\u30f3\u306e\u751f\u6210. let myButton = UIButton () myButton . frame . size = CGSize ( width : 100 , height : 40 ) myButton . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : self . view . bounds . height / 2 ) myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 20.0 myButton . backgroundColor = UIColor . orangeColor () myButton . setTitle ( \"\u52d5\u753b\u518d\u751f\" , forState : . Normal ) myButton . setTitleColor ( UIColor . whiteColor (), forState : . Normal ) myButton . setTitleShadowColor ( UIColor . grayColor (), forState : . Normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : . TouchUpInside ) self . view . addSubview ( myButton ) } // \u30dc\u30bf\u30f3\u306e\u30af\u30ea\u30c3\u30af\u30a4\u30d9\u30f3\u30c8. func onClickMyButton ( sender : UIButton ) { // \u52d5\u753b\u306e\u30d1\u30b9. let myMoviePath = NSURL . fileURLWithPath ( NSBundle . mainBundle (). pathForResource ( \"test\" , ofType : \"mov\" ) ! ) // MPMoviePlayerViewController\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u751f\u6210. myMoviePlayerView = MPMoviePlayerViewController ( contentURL : myMoviePath ) // \u52d5\u753b\u306e\u518d\u751f\u304c\u7d42\u4e86\u3057\u305f\u6642\u306eNotification. NSNotificationCenter . defaultCenter (). addObserver ( self , selector : #selector ( ViewController . moviePlayBackDidFinish ( _ :)), name : MPMoviePlayerPlaybackDidFinishNotification , object : myMoviePlayerView . moviePlayer ) // \u753b\u9762\u9077\u79fb. self . presentViewController ( myMoviePlayerView , animated : true , completion : nil ) } // \u52d5\u753b\u306e\u518d\u751f\u304c\u7d42\u4e86\u3057\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. func moviePlayBackDidFinish ( notification : NSNotification ) { print ( \"moviePlayBackDidFinish:\" ) // \u901a\u77e5\u304c\u3042\u3063\u305f\u3089notification\u3092\u524a\u9664. NSNotificationCenter . defaultCenter (). removeObserver ( self , name : MPMoviePlayerPlaybackDidFinishNotification , object : nil ) } } 3.x\u30684.x\u306e\u5dee\u5206 func onClickMyButton(sender: UIButton) \u3068 func moviePlayBackDidFinish(notification: NSNotification) \u306b @objc \u3092\u8ffd\u52a0 2.x\u30683.x\u306e\u5dee\u5206 UIColor\u306b\u3088\u308b\u8272\u6307\u5b9a\u306e\u7c21\u7565\u5316 NSURL \u304b\u3089 URL \u306b\u5909\u66f4 CGRectMake(CGFloat, CGFloat, CGFloat, CGFloat) \u304b\u3089 CGRect(x: CGFloat, y: CGFloat, width: CGFloat, height: CGFloat) \u306b\u5909\u66f4 UIButton.setTitle(String?, forState: UIControlState) \u304b\u3089 UIButton.setTitle(String?, for: UIControlState) \u306b\u5909\u66f4 NSNotificationCenter.defaultCenter().addObserver(AnyObject, selector: Selector, name: String?, object: AnyObject?) \u304b\u3089 NotificationCenter.default.addObserver(AnyObject, selector: Selector, name: NSNotification.Name?, object: AnyObject?) \u306b\u5909\u66f4 NSNotificationCenter.defaultCenter().removeObserver(AnyObject, name: String?, object: AnyObject?) \u304b\u3089 NotificationCenter.default.removeObserver(AnyObject, name: NSNotification.Name?, object: AnyObject?) \u306b\u5909\u66f4 Reference AV Foundation Framework https://developer.apple.com/library/ios/documentation/AVFoundation/Reference/AVFoundationFramework/ NSBundle https://developer.apple.com/library/mac/documentation/Cocoa/Reference/Foundation/Classes/NSBundle_Class/ https://developer.apple.com/reference/foundation/nsbundle","title":"MediaPlayer\u3092\u4f7f\u3063\u305f\u52d5\u753b\u306e\u518d\u751f"},{"location":"5.avfoundation/007_avfoundation/#mediaplayer","text":"Info.plist \u306b NSAppleMusicUsageDescription \u3092\u8ffd\u52a0\u3057\u307e\u3059 Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 // // ViewController.swift // avfoundation007 // // Created by akimach on 2016/08/28. // Copyright \u00a9 2016\u5e74 akimacho. All rights reserved. // import UIKit import MediaPlayer class ViewController : UIViewController { // MPMoviePlayerViewController\u306e\u5ba3\u8a00. var myMoviePlayerView : MPMoviePlayerViewController ! override func viewDidLoad () { super . viewDidLoad () // \u30dc\u30bf\u30f3\u306e\u751f\u6210. let myButton = UIButton () myButton . frame . size = CGSize ( width : 100 , height : 40 ) myButton . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : self . view . bounds . height / 2 ) myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 20.0 myButton . backgroundColor = UIColor . orange myButton . setTitle ( \"\u52d5\u753b\u518d\u751f\" , for : . normal ) myButton . setTitleColor ( UIColor . white , for : . normal ) myButton . setTitleShadowColor ( UIColor . gray , for : . normal ) myButton . addTarget ( self , action : #selector ( onClickMyButton ( sender :)), for : . touchUpInside ) self . view . addSubview ( myButton ) } // \u30dc\u30bf\u30f3\u306e\u30af\u30ea\u30c3\u30af\u30a4\u30d9\u30f3\u30c8. @objc func onClickMyButton ( sender : UIButton ) { // \u52d5\u753b\u306e\u30d1\u30b9. let myMoviePath = URL . init ( fileURLWithPath : Bundle . main . path ( forResource : \"test\" , ofType : \"mov\" ) ! ) // MPMoviePlayerViewController\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u751f\u6210. myMoviePlayerView = MPMoviePlayerViewController ( contentURL : myMoviePath ) // \u52d5\u753b\u306e\u518d\u751f\u304c\u7d42\u4e86\u3057\u305f\u6642\u306eNotification. NotificationCenter . default . addObserver ( self , selector : #selector ( moviePlayBackDidFinish ( notification :)), name : Notification . Name . MPMoviePlayerPlaybackDidFinish , object : myMoviePlayerView . moviePlayer ) // \u753b\u9762\u9077\u79fb. self . present ( myMoviePlayerView , animated : true , completion : nil ) } // \u52d5\u753b\u306e\u518d\u751f\u304c\u7d42\u4e86\u3057\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. @objc func moviePlayBackDidFinish ( notification : NSNotification ) { print ( \"moviePlayBackDidFinish:\" ) // \u901a\u77e5\u304c\u3042\u3063\u305f\u3089notification\u3092\u524a\u9664. NotificationCenter . default . removeObserver ( self , name : Notification . Name . MPMoviePlayerPlaybackDidFinish , object : nil ) } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 // // ViewController.swift // avfoundation007 // // Created by akimach on 2016/08/28. // Copyright \u00a9 2016\u5e74 akimacho. All rights reserved. // import UIKit import MediaPlayer class ViewController : UIViewController { // MPMoviePlayerViewController\u306e\u5ba3\u8a00. var myMoviePlayerView : MPMoviePlayerViewController ! override func viewDidLoad () { super . viewDidLoad () // \u30dc\u30bf\u30f3\u306e\u751f\u6210. let myButton = UIButton () myButton . frame . size = CGSize ( width : 100 , height : 40 ) myButton . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : self . view . bounds . height / 2 ) myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 20.0 myButton . backgroundColor = UIColor . orange myButton . setTitle ( \"\u52d5\u753b\u518d\u751f\" , for : . normal ) myButton . setTitleColor ( UIColor . white , for : . normal ) myButton . setTitleShadowColor ( UIColor . gray , for : . normal ) myButton . addTarget ( self , action : #selector ( onClickMyButton ( sender :)), for : . touchUpInside ) self . view . addSubview ( myButton ) } // \u30dc\u30bf\u30f3\u306e\u30af\u30ea\u30c3\u30af\u30a4\u30d9\u30f3\u30c8. func onClickMyButton ( sender : UIButton ) { // \u52d5\u753b\u306e\u30d1\u30b9. let myMoviePath = URL . init ( fileURLWithPath : Bundle . main . path ( forResource : \"test\" , ofType : \"mov\" ) ! ) // MPMoviePlayerViewController\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u751f\u6210. myMoviePlayerView = MPMoviePlayerViewController ( contentURL : myMoviePath ) // \u52d5\u753b\u306e\u518d\u751f\u304c\u7d42\u4e86\u3057\u305f\u6642\u306eNotification. NotificationCenter . default . addObserver ( self , selector : #selector ( moviePlayBackDidFinish ( notification :)), name : Notification . Name . MPMoviePlayerPlaybackDidFinish , object : myMoviePlayerView . moviePlayer ) // \u753b\u9762\u9077\u79fb. self . present ( myMoviePlayerView , animated : true , completion : nil ) } // \u52d5\u753b\u306e\u518d\u751f\u304c\u7d42\u4e86\u3057\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. func moviePlayBackDidFinish ( notification : NSNotification ) { print ( \"moviePlayBackDidFinish:\" ) // \u901a\u77e5\u304c\u3042\u3063\u305f\u3089notification\u3092\u524a\u9664. NotificationCenter . default . removeObserver ( self , name : Notification . Name . MPMoviePlayerPlaybackDidFinish , object : nil ) } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 // // ViewController.swift // avfoundation007 // // Created by akimach on 2016/08/28. // Copyright \u00a9 2016\u5e74 akimacho. All rights reserved. // import UIKit import MediaPlayer class ViewController : UIViewController { // MPMoviePlayerViewController\u306e\u5ba3\u8a00. var myMoviePlayerView : MPMoviePlayerViewController ! override func viewDidLoad () { super . viewDidLoad () // \u30dc\u30bf\u30f3\u306e\u751f\u6210. let myButton = UIButton () myButton . frame . size = CGSize ( width : 100 , height : 40 ) myButton . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : self . view . bounds . height / 2 ) myButton . layer . masksToBounds = true myButton . layer . cornerRadius = 20.0 myButton . backgroundColor = UIColor . orangeColor () myButton . setTitle ( \"\u52d5\u753b\u518d\u751f\" , forState : . Normal ) myButton . setTitleColor ( UIColor . whiteColor (), forState : . Normal ) myButton . setTitleShadowColor ( UIColor . grayColor (), forState : . Normal ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : . TouchUpInside ) self . view . addSubview ( myButton ) } // \u30dc\u30bf\u30f3\u306e\u30af\u30ea\u30c3\u30af\u30a4\u30d9\u30f3\u30c8. func onClickMyButton ( sender : UIButton ) { // \u52d5\u753b\u306e\u30d1\u30b9. let myMoviePath = NSURL . fileURLWithPath ( NSBundle . mainBundle (). pathForResource ( \"test\" , ofType : \"mov\" ) ! ) // MPMoviePlayerViewController\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u751f\u6210. myMoviePlayerView = MPMoviePlayerViewController ( contentURL : myMoviePath ) // \u52d5\u753b\u306e\u518d\u751f\u304c\u7d42\u4e86\u3057\u305f\u6642\u306eNotification. NSNotificationCenter . defaultCenter (). addObserver ( self , selector : #selector ( ViewController . moviePlayBackDidFinish ( _ :)), name : MPMoviePlayerPlaybackDidFinishNotification , object : myMoviePlayerView . moviePlayer ) // \u753b\u9762\u9077\u79fb. self . presentViewController ( myMoviePlayerView , animated : true , completion : nil ) } // \u52d5\u753b\u306e\u518d\u751f\u304c\u7d42\u4e86\u3057\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u30e1\u30bd\u30c3\u30c9. func moviePlayBackDidFinish ( notification : NSNotification ) { print ( \"moviePlayBackDidFinish:\" ) // \u901a\u77e5\u304c\u3042\u3063\u305f\u3089notification\u3092\u524a\u9664. NSNotificationCenter . defaultCenter (). removeObserver ( self , name : MPMoviePlayerPlaybackDidFinishNotification , object : nil ) } }","title":"MediaPlayer\u3092\u4f7f\u3063\u305f\u52d5\u753b\u306e\u518d\u751f"},{"location":"5.avfoundation/007_avfoundation/#3x4x","text":"func onClickMyButton(sender: UIButton) \u3068 func moviePlayBackDidFinish(notification: NSNotification) \u306b @objc \u3092\u8ffd\u52a0","title":"3.x\u30684.x\u306e\u5dee\u5206"},{"location":"5.avfoundation/007_avfoundation/#2x3x","text":"UIColor\u306b\u3088\u308b\u8272\u6307\u5b9a\u306e\u7c21\u7565\u5316 NSURL \u304b\u3089 URL \u306b\u5909\u66f4 CGRectMake(CGFloat, CGFloat, CGFloat, CGFloat) \u304b\u3089 CGRect(x: CGFloat, y: CGFloat, width: CGFloat, height: CGFloat) \u306b\u5909\u66f4 UIButton.setTitle(String?, forState: UIControlState) \u304b\u3089 UIButton.setTitle(String?, for: UIControlState) \u306b\u5909\u66f4 NSNotificationCenter.defaultCenter().addObserver(AnyObject, selector: Selector, name: String?, object: AnyObject?) \u304b\u3089 NotificationCenter.default.addObserver(AnyObject, selector: Selector, name: NSNotification.Name?, object: AnyObject?) \u306b\u5909\u66f4 NSNotificationCenter.defaultCenter().removeObserver(AnyObject, name: String?, object: AnyObject?) \u304b\u3089 NotificationCenter.default.removeObserver(AnyObject, name: NSNotification.Name?, object: AnyObject?) \u306b\u5909\u66f4","title":"2.x\u30683.x\u306e\u5dee\u5206"},{"location":"5.avfoundation/007_avfoundation/#reference","text":"AV Foundation Framework https://developer.apple.com/library/ios/documentation/AVFoundation/Reference/AVFoundationFramework/ NSBundle https://developer.apple.com/library/mac/documentation/Cocoa/Reference/Foundation/Classes/NSBundle_Class/ https://developer.apple.com/reference/foundation/nsbundle","title":"Reference"},{"location":"5.avfoundation/008_avfoundation/","text":"QRCode\u30ea\u30fc\u30c0\u30fc Info.plist \u306b NSCameraUsageDescription \u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002 Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 // // ViewController.swift // avfoundation008 // // Created by akimach on 2016/08/28. // Copyright \u00a9 2016\u5e74 akimacho. All rights reserved. // import UIKit import AVFoundation class ViewController : UIViewController , AVCaptureMetadataOutputObjectsDelegate { override func viewDidLoad () { super . viewDidLoad () // \u30bb\u30c3\u30b7\u30e7\u30f3\u306e\u4f5c\u6210. let mySession : AVCaptureSession ! = AVCaptureSession () // \u30c7\u30d0\u30a4\u30b9\u4e00\u89a7\u306e\u53d6\u5f97. let devices = AVCaptureDevice . devices () // \u30c7\u30d0\u30a4\u30b9\u3092\u683c\u7d0d\u3059\u308b. var myDevice : AVCaptureDevice ! // \u30d0\u30c3\u30af\u30ab\u30e1\u30e9\u3092myDevice\u306b\u683c\u7d0d. for device in devices { if ( device . position == AVCaptureDevice . Position . back ){ myDevice = device } } // \u30d0\u30c3\u30af\u30ab\u30e1\u30e9\u304b\u3089\u5165\u529b(Input)\u3092\u53d6\u5f97. let myVideoInput = try ! AVCaptureDeviceInput . init ( device : myDevice ) if mySession . canAddInput ( myVideoInput ) { // \u30bb\u30c3\u30b7\u30e7\u30f3\u306b\u8ffd\u52a0. mySession . addInput ( myVideoInput ) } // \u51fa\u529b(Output)\u3092Meta\u60c5\u5831\u306b. let myMetadataOutput : AVCaptureMetadataOutput ! = AVCaptureMetadataOutput () if mySession . canAddOutput ( myMetadataOutput ) { // \u30bb\u30c3\u30b7\u30e7\u30f3\u306b\u8ffd\u52a0. mySession . addOutput ( myMetadataOutput ) // Meta\u60c5\u5831\u3092\u53d6\u5f97\u3057\u305f\u969b\u306eDelegate\u3092\u8a2d\u5b9a. myMetadataOutput . setMetadataObjectsDelegate ( self , queue : DispatchQueue . main ) // \u5224\u5b9a\u3059\u308bMeta\u60c5\u5831\u306bQRCode\u3092\u8a2d\u5b9a. myMetadataOutput . metadataObjectTypes = [ AVMetadataObject . ObjectType . qr ] } // \u753b\u50cf\u3092\u8868\u793a\u3059\u308b\u30ec\u30a4\u30e4\u30fc\u3092\u751f\u6210. let myVideoLayer = AVCaptureVideoPreviewLayer . init ( session : mySession ) myVideoLayer . frame = self . view . bounds myVideoLayer . videoGravity = AVLayerVideoGravity . resizeAspectFill // View\u306b\u8ffd\u52a0. self . view . layer . addSublayer ( myVideoLayer ) // \u30bb\u30c3\u30b7\u30e7\u30f3\u958b\u59cb. mySession . startRunning () } // MARK: - AVCaptureMetadataOutputObjectsDelegate // Meta\u60c5\u5831\u3092\u691c\u51fa\u969b\u306b\u547c\u3070\u308c\u308bdelegate. func metadataOutput ( _ output : AVCaptureMetadataOutput , didOutput metadataObjects : [ AVMetadataObject ], from connection : AVCaptureConnection ) { if metadataObjects . count > 0 { let qrData : AVMetadataMachineReadableCodeObject = metadataObjects [ 0 ] as ! AVMetadataMachineReadableCodeObject print ( \" \\( qrData . type ) \" ) print ( \" \\( qrData . stringValue ) \" ) // Safari\u3067URL\u3092\u8868\u793a. UIApplication . shared . openURL ( URL ( string : qrData . stringValue !) ! ) } } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 // // ViewController.swift // avfoundation008 // // Created by akimach on 2016/08/28. // Copyright \u00a9 2016\u5e74 akimacho. All rights reserved. // import UIKit import AVFoundation class ViewController : UIViewController , AVCaptureMetadataOutputObjectsDelegate { override func viewDidLoad () { super . viewDidLoad () // \u30bb\u30c3\u30b7\u30e7\u30f3\u306e\u4f5c\u6210. let mySession : AVCaptureSession ! = AVCaptureSession () // \u30c7\u30d0\u30a4\u30b9\u4e00\u89a7\u306e\u53d6\u5f97. let devices = AVCaptureDevice . devices () // \u30c7\u30d0\u30a4\u30b9\u3092\u683c\u7d0d\u3059\u308b. var myDevice : AVCaptureDevice ! // \u30d0\u30c3\u30af\u30ab\u30e1\u30e9\u3092myDevice\u306b\u683c\u7d0d. for device in devices ! { if ( device . position == AVCaptureDevicePosition . back ){ myDevice = device as ! AVCaptureDevice } } // \u30d0\u30c3\u30af\u30ab\u30e1\u30e9\u304b\u3089\u5165\u529b(Input)\u3092\u53d6\u5f97. let myVideoInput = try ! AVCaptureDeviceInput . init ( device : myDevice ) if mySession . canAddInput ( myVideoInput ) { // \u30bb\u30c3\u30b7\u30e7\u30f3\u306b\u8ffd\u52a0. mySession . addInput ( myVideoInput ) } // \u51fa\u529b(Output)\u3092Meta\u60c5\u5831\u306b. let myMetadataOutput : AVCaptureMetadataOutput ! = AVCaptureMetadataOutput () if mySession . canAddOutput ( myMetadataOutput ) { // \u30bb\u30c3\u30b7\u30e7\u30f3\u306b\u8ffd\u52a0. mySession . addOutput ( myMetadataOutput ) // Meta\u60c5\u5831\u3092\u53d6\u5f97\u3057\u305f\u969b\u306eDelegate\u3092\u8a2d\u5b9a. myMetadataOutput . setMetadataObjectsDelegate ( self , queue : DispatchQueue . main ) // \u5224\u5b9a\u3059\u308bMeta\u60c5\u5831\u306bQRCode\u3092\u8a2d\u5b9a. myMetadataOutput . metadataObjectTypes = [ AVMetadataObjectTypeQRCode ] } // \u753b\u50cf\u3092\u8868\u793a\u3059\u308b\u30ec\u30a4\u30e4\u30fc\u3092\u751f\u6210. let myVideoLayer = AVCaptureVideoPreviewLayer . init ( session : mySession ) myVideoLayer ?. frame = self . view . bounds myVideoLayer ?. videoGravity = AVLayerVideoGravityResizeAspectFill // View\u306b\u8ffd\u52a0. self . view . layer . addSublayer ( myVideoLayer !) // \u30bb\u30c3\u30b7\u30e7\u30f3\u958b\u59cb. mySession . startRunning () } // MARK: - AVCaptureMetadataOutputObjectsDelegate // Meta\u60c5\u5831\u3092\u691c\u51fa\u969b\u306b\u547c\u3070\u308c\u308bdelegate. func captureOutput ( _ captureOutput : AVCaptureOutput !, didOutputMetadataObjects metadataObjects : [ AnyObject ] ! , from connection : AVCaptureConnection !) { if metadataObjects . count > 0 { let qrData : AVMetadataMachineReadableCodeObject = metadataObjects [ 0 ] as ! AVMetadataMachineReadableCodeObject print ( \" \\( qrData . type ) \" ) print ( \" \\( qrData . stringValue ) \" ) // Safari\u3067URL\u3092\u8868\u793a. UIApplication . shared . openURL ( URL ( string : qrData . stringValue ) ! ) } } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 // // ViewController.swift // avfoundation008 // // Created by akimach on 2016/08/28. // Copyright \u00a9 2016\u5e74 akimacho. All rights reserved. // import UIKit import AVFoundation class ViewController : UIViewController , AVCaptureMetadataOutputObjectsDelegate { override func viewDidLoad () { super . viewDidLoad () // \u30bb\u30c3\u30b7\u30e7\u30f3\u306e\u4f5c\u6210. let mySession : AVCaptureSession ! = AVCaptureSession () // \u30c7\u30d0\u30a4\u30b9\u4e00\u89a7\u306e\u53d6\u5f97. let devices = AVCaptureDevice . devices () // \u30c7\u30d0\u30a4\u30b9\u3092\u683c\u7d0d\u3059\u308b. var myDevice : AVCaptureDevice ! // \u30d0\u30c3\u30af\u30ab\u30e1\u30e9\u3092myDevice\u306b\u683c\u7d0d. for device in devices { if ( device . position == AVCaptureDevicePosition . Back ){ myDevice = device as ! AVCaptureDevice } } // \u30d0\u30c3\u30af\u30ab\u30e1\u30e9\u304b\u3089\u5165\u529b(Input)\u3092\u53d6\u5f97. let myVideoInput = try ! AVCaptureDeviceInput . init ( device : myDevice ) //let myVideoInput = AVCaptureDeviceInput.deviceInputWithDevice(myDevice, error: nil) as! AVCaptureDeviceInput if mySession . canAddInput ( myVideoInput ) { // \u30bb\u30c3\u30b7\u30e7\u30f3\u306b\u8ffd\u52a0. mySession . addInput ( myVideoInput ) } // \u51fa\u529b(Output)\u3092Meta\u60c5\u5831\u306b. let myMetadataOutput : AVCaptureMetadataOutput ! = AVCaptureMetadataOutput () if mySession . canAddOutput ( myMetadataOutput ) { // \u30bb\u30c3\u30b7\u30e7\u30f3\u306b\u8ffd\u52a0. mySession . addOutput ( myMetadataOutput ) // Meta\u60c5\u5831\u3092\u53d6\u5f97\u3057\u305f\u969b\u306eDelegate\u3092\u8a2d\u5b9a. myMetadataOutput . setMetadataObjectsDelegate ( self , queue : dispatch_get_main_queue ()) // \u5224\u5b9a\u3059\u308bMeta\u60c5\u5831\u306bQRCode\u3092\u8a2d\u5b9a. myMetadataOutput . metadataObjectTypes = [ AVMetadataObjectTypeQRCode ] } // \u753b\u50cf\u3092\u8868\u793a\u3059\u308b\u30ec\u30a4\u30e4\u30fc\u3092\u751f\u6210. let myVideoLayer = AVCaptureVideoPreviewLayer . init ( session : mySession ) myVideoLayer . frame = self . view . bounds myVideoLayer . videoGravity = AVLayerVideoGravityResizeAspectFill // View\u306b\u8ffd\u52a0. self . view . layer . addSublayer ( myVideoLayer ) // \u30bb\u30c3\u30b7\u30e7\u30f3\u958b\u59cb. mySession . startRunning () } // MARK: - AVCaptureMetadataOutputObjectsDelegate // Meta\u60c5\u5831\u3092\u691c\u51fa\u969b\u306b\u547c\u3070\u308c\u308bdelegate. func captureOutput ( captureOutput : AVCaptureOutput !, didOutputMetadataObjects metadataObjects : [ AnyObject ] ! , fromConnection connection : AVCaptureConnection !) { if metadataObjects . count > 0 { let qrData : AVMetadataMachineReadableCodeObject = metadataObjects [ 0 ] as ! AVMetadataMachineReadableCodeObject print ( \" \\( qrData . type ) \" ) print ( \" \\( qrData . stringValue ) \" ) // Safari\u3067URL\u3092\u8868\u793a. UIApplication . sharedApplication (). openURL ( NSURL ( string : qrData . stringValue ) ! ) } } } 3.x\u30684.x\u306e\u5dee\u5206 device as! AVCaptureDevice \u3092 device \u306b\u5909\u66f4 devices! \u3092 devices \u306b\u5909\u66f4 AVCaptureDevicePosition \u3092 AVCaptureDevice.Position \u306b\u5909\u66f4 AVMetadataObjectTypeQRCode \u304c AVMetadataObject.ObjectType.qr \u306b\u5909\u66f4 myVideoLayer? \u3068 myVideoLayer! \u3092 myVideoLayer \u306b\u5909\u66f4 AVLayerVideoGravityResizeAspectFill \u304c AVLayerVideoGravity.resizeAspectFill \u306b\u5909\u66f4 qrData.stringValue \u3092 qrData.stringValue! \u306b\u5909\u66f4 captureOutput(_ captureOutput: AVCaptureOutput!, didOutputMetadataObjects metadataObjects: [AnyObject]!, from connection: AVCaptureConnection!) \u304c metadataOutput(_ output: AVCaptureMetadataOutput, didOutput metadataObjects: [AVMetadataObject], from connection: AVCaptureConnection) \u306b\u5909\u66f4 2.x\u30683.x\u306e\u5dee\u5206 AVCaptureDevicePosition.Back \u304b\u3089 AVCaptureDevicePosition.back \u306b\u5909\u66f4 dispatch_get_main_queue() \u304b\u3089 DispatchQueue.main \u306b\u5909\u66f4 func captureOutput(captureOutput: AVCaptureOutput!, didOutputMetadataObjects metadataObjects: [AnyObject]!, fromConnection connection: AVCaptureConnection!) \u304b\u3089 func captureOutput(_ captureOutput: AVCaptureOutput!, didOutputMetadataObjects metadataObjects: [AnyObject]!, from connection: AVCaptureConnection!) \u306b\u5909\u66f4 UIApplication.sharedApplication().openURL(NSURL) \u304b\u3089 UIApplication.shared.openURL(URL) \u306b\u5909\u66f4 Reference AV Foundation Framework https://developer.apple.com/library/ios/documentation/AVFoundation/Reference/AVFoundationFramework/ AVCaptureMetadataOutputObjectsDelegate https://developer.apple.com/library/ios/documentation/AVFoundation/Reference/AVCaptureMetadataOutputObjectsDelegate_Protocol/","title":"QRCode\u30ea\u30fc\u30c0\u30fc"},{"location":"5.avfoundation/008_avfoundation/#qrcode","text":"Info.plist \u306b NSCameraUsageDescription \u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002 Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 // // ViewController.swift // avfoundation008 // // Created by akimach on 2016/08/28. // Copyright \u00a9 2016\u5e74 akimacho. All rights reserved. // import UIKit import AVFoundation class ViewController : UIViewController , AVCaptureMetadataOutputObjectsDelegate { override func viewDidLoad () { super . viewDidLoad () // \u30bb\u30c3\u30b7\u30e7\u30f3\u306e\u4f5c\u6210. let mySession : AVCaptureSession ! = AVCaptureSession () // \u30c7\u30d0\u30a4\u30b9\u4e00\u89a7\u306e\u53d6\u5f97. let devices = AVCaptureDevice . devices () // \u30c7\u30d0\u30a4\u30b9\u3092\u683c\u7d0d\u3059\u308b. var myDevice : AVCaptureDevice ! // \u30d0\u30c3\u30af\u30ab\u30e1\u30e9\u3092myDevice\u306b\u683c\u7d0d. for device in devices { if ( device . position == AVCaptureDevice . Position . back ){ myDevice = device } } // \u30d0\u30c3\u30af\u30ab\u30e1\u30e9\u304b\u3089\u5165\u529b(Input)\u3092\u53d6\u5f97. let myVideoInput = try ! AVCaptureDeviceInput . init ( device : myDevice ) if mySession . canAddInput ( myVideoInput ) { // \u30bb\u30c3\u30b7\u30e7\u30f3\u306b\u8ffd\u52a0. mySession . addInput ( myVideoInput ) } // \u51fa\u529b(Output)\u3092Meta\u60c5\u5831\u306b. let myMetadataOutput : AVCaptureMetadataOutput ! = AVCaptureMetadataOutput () if mySession . canAddOutput ( myMetadataOutput ) { // \u30bb\u30c3\u30b7\u30e7\u30f3\u306b\u8ffd\u52a0. mySession . addOutput ( myMetadataOutput ) // Meta\u60c5\u5831\u3092\u53d6\u5f97\u3057\u305f\u969b\u306eDelegate\u3092\u8a2d\u5b9a. myMetadataOutput . setMetadataObjectsDelegate ( self , queue : DispatchQueue . main ) // \u5224\u5b9a\u3059\u308bMeta\u60c5\u5831\u306bQRCode\u3092\u8a2d\u5b9a. myMetadataOutput . metadataObjectTypes = [ AVMetadataObject . ObjectType . qr ] } // \u753b\u50cf\u3092\u8868\u793a\u3059\u308b\u30ec\u30a4\u30e4\u30fc\u3092\u751f\u6210. let myVideoLayer = AVCaptureVideoPreviewLayer . init ( session : mySession ) myVideoLayer . frame = self . view . bounds myVideoLayer . videoGravity = AVLayerVideoGravity . resizeAspectFill // View\u306b\u8ffd\u52a0. self . view . layer . addSublayer ( myVideoLayer ) // \u30bb\u30c3\u30b7\u30e7\u30f3\u958b\u59cb. mySession . startRunning () } // MARK: - AVCaptureMetadataOutputObjectsDelegate // Meta\u60c5\u5831\u3092\u691c\u51fa\u969b\u306b\u547c\u3070\u308c\u308bdelegate. func metadataOutput ( _ output : AVCaptureMetadataOutput , didOutput metadataObjects : [ AVMetadataObject ], from connection : AVCaptureConnection ) { if metadataObjects . count > 0 { let qrData : AVMetadataMachineReadableCodeObject = metadataObjects [ 0 ] as ! AVMetadataMachineReadableCodeObject print ( \" \\( qrData . type ) \" ) print ( \" \\( qrData . stringValue ) \" ) // Safari\u3067URL\u3092\u8868\u793a. UIApplication . shared . openURL ( URL ( string : qrData . stringValue !) ! ) } } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 // // ViewController.swift // avfoundation008 // // Created by akimach on 2016/08/28. // Copyright \u00a9 2016\u5e74 akimacho. All rights reserved. // import UIKit import AVFoundation class ViewController : UIViewController , AVCaptureMetadataOutputObjectsDelegate { override func viewDidLoad () { super . viewDidLoad () // \u30bb\u30c3\u30b7\u30e7\u30f3\u306e\u4f5c\u6210. let mySession : AVCaptureSession ! = AVCaptureSession () // \u30c7\u30d0\u30a4\u30b9\u4e00\u89a7\u306e\u53d6\u5f97. let devices = AVCaptureDevice . devices () // \u30c7\u30d0\u30a4\u30b9\u3092\u683c\u7d0d\u3059\u308b. var myDevice : AVCaptureDevice ! // \u30d0\u30c3\u30af\u30ab\u30e1\u30e9\u3092myDevice\u306b\u683c\u7d0d. for device in devices ! { if ( device . position == AVCaptureDevicePosition . back ){ myDevice = device as ! AVCaptureDevice } } // \u30d0\u30c3\u30af\u30ab\u30e1\u30e9\u304b\u3089\u5165\u529b(Input)\u3092\u53d6\u5f97. let myVideoInput = try ! AVCaptureDeviceInput . init ( device : myDevice ) if mySession . canAddInput ( myVideoInput ) { // \u30bb\u30c3\u30b7\u30e7\u30f3\u306b\u8ffd\u52a0. mySession . addInput ( myVideoInput ) } // \u51fa\u529b(Output)\u3092Meta\u60c5\u5831\u306b. let myMetadataOutput : AVCaptureMetadataOutput ! = AVCaptureMetadataOutput () if mySession . canAddOutput ( myMetadataOutput ) { // \u30bb\u30c3\u30b7\u30e7\u30f3\u306b\u8ffd\u52a0. mySession . addOutput ( myMetadataOutput ) // Meta\u60c5\u5831\u3092\u53d6\u5f97\u3057\u305f\u969b\u306eDelegate\u3092\u8a2d\u5b9a. myMetadataOutput . setMetadataObjectsDelegate ( self , queue : DispatchQueue . main ) // \u5224\u5b9a\u3059\u308bMeta\u60c5\u5831\u306bQRCode\u3092\u8a2d\u5b9a. myMetadataOutput . metadataObjectTypes = [ AVMetadataObjectTypeQRCode ] } // \u753b\u50cf\u3092\u8868\u793a\u3059\u308b\u30ec\u30a4\u30e4\u30fc\u3092\u751f\u6210. let myVideoLayer = AVCaptureVideoPreviewLayer . init ( session : mySession ) myVideoLayer ?. frame = self . view . bounds myVideoLayer ?. videoGravity = AVLayerVideoGravityResizeAspectFill // View\u306b\u8ffd\u52a0. self . view . layer . addSublayer ( myVideoLayer !) // \u30bb\u30c3\u30b7\u30e7\u30f3\u958b\u59cb. mySession . startRunning () } // MARK: - AVCaptureMetadataOutputObjectsDelegate // Meta\u60c5\u5831\u3092\u691c\u51fa\u969b\u306b\u547c\u3070\u308c\u308bdelegate. func captureOutput ( _ captureOutput : AVCaptureOutput !, didOutputMetadataObjects metadataObjects : [ AnyObject ] ! , from connection : AVCaptureConnection !) { if metadataObjects . count > 0 { let qrData : AVMetadataMachineReadableCodeObject = metadataObjects [ 0 ] as ! AVMetadataMachineReadableCodeObject print ( \" \\( qrData . type ) \" ) print ( \" \\( qrData . stringValue ) \" ) // Safari\u3067URL\u3092\u8868\u793a. UIApplication . shared . openURL ( URL ( string : qrData . stringValue ) ! ) } } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 // // ViewController.swift // avfoundation008 // // Created by akimach on 2016/08/28. // Copyright \u00a9 2016\u5e74 akimacho. All rights reserved. // import UIKit import AVFoundation class ViewController : UIViewController , AVCaptureMetadataOutputObjectsDelegate { override func viewDidLoad () { super . viewDidLoad () // \u30bb\u30c3\u30b7\u30e7\u30f3\u306e\u4f5c\u6210. let mySession : AVCaptureSession ! = AVCaptureSession () // \u30c7\u30d0\u30a4\u30b9\u4e00\u89a7\u306e\u53d6\u5f97. let devices = AVCaptureDevice . devices () // \u30c7\u30d0\u30a4\u30b9\u3092\u683c\u7d0d\u3059\u308b. var myDevice : AVCaptureDevice ! // \u30d0\u30c3\u30af\u30ab\u30e1\u30e9\u3092myDevice\u306b\u683c\u7d0d. for device in devices { if ( device . position == AVCaptureDevicePosition . Back ){ myDevice = device as ! AVCaptureDevice } } // \u30d0\u30c3\u30af\u30ab\u30e1\u30e9\u304b\u3089\u5165\u529b(Input)\u3092\u53d6\u5f97. let myVideoInput = try ! AVCaptureDeviceInput . init ( device : myDevice ) //let myVideoInput = AVCaptureDeviceInput.deviceInputWithDevice(myDevice, error: nil) as! AVCaptureDeviceInput if mySession . canAddInput ( myVideoInput ) { // \u30bb\u30c3\u30b7\u30e7\u30f3\u306b\u8ffd\u52a0. mySession . addInput ( myVideoInput ) } // \u51fa\u529b(Output)\u3092Meta\u60c5\u5831\u306b. let myMetadataOutput : AVCaptureMetadataOutput ! = AVCaptureMetadataOutput () if mySession . canAddOutput ( myMetadataOutput ) { // \u30bb\u30c3\u30b7\u30e7\u30f3\u306b\u8ffd\u52a0. mySession . addOutput ( myMetadataOutput ) // Meta\u60c5\u5831\u3092\u53d6\u5f97\u3057\u305f\u969b\u306eDelegate\u3092\u8a2d\u5b9a. myMetadataOutput . setMetadataObjectsDelegate ( self , queue : dispatch_get_main_queue ()) // \u5224\u5b9a\u3059\u308bMeta\u60c5\u5831\u306bQRCode\u3092\u8a2d\u5b9a. myMetadataOutput . metadataObjectTypes = [ AVMetadataObjectTypeQRCode ] } // \u753b\u50cf\u3092\u8868\u793a\u3059\u308b\u30ec\u30a4\u30e4\u30fc\u3092\u751f\u6210. let myVideoLayer = AVCaptureVideoPreviewLayer . init ( session : mySession ) myVideoLayer . frame = self . view . bounds myVideoLayer . videoGravity = AVLayerVideoGravityResizeAspectFill // View\u306b\u8ffd\u52a0. self . view . layer . addSublayer ( myVideoLayer ) // \u30bb\u30c3\u30b7\u30e7\u30f3\u958b\u59cb. mySession . startRunning () } // MARK: - AVCaptureMetadataOutputObjectsDelegate // Meta\u60c5\u5831\u3092\u691c\u51fa\u969b\u306b\u547c\u3070\u308c\u308bdelegate. func captureOutput ( captureOutput : AVCaptureOutput !, didOutputMetadataObjects metadataObjects : [ AnyObject ] ! , fromConnection connection : AVCaptureConnection !) { if metadataObjects . count > 0 { let qrData : AVMetadataMachineReadableCodeObject = metadataObjects [ 0 ] as ! AVMetadataMachineReadableCodeObject print ( \" \\( qrData . type ) \" ) print ( \" \\( qrData . stringValue ) \" ) // Safari\u3067URL\u3092\u8868\u793a. UIApplication . sharedApplication (). openURL ( NSURL ( string : qrData . stringValue ) ! ) } } }","title":"QRCode\u30ea\u30fc\u30c0\u30fc"},{"location":"5.avfoundation/008_avfoundation/#3x4x","text":"device as! AVCaptureDevice \u3092 device \u306b\u5909\u66f4 devices! \u3092 devices \u306b\u5909\u66f4 AVCaptureDevicePosition \u3092 AVCaptureDevice.Position \u306b\u5909\u66f4 AVMetadataObjectTypeQRCode \u304c AVMetadataObject.ObjectType.qr \u306b\u5909\u66f4 myVideoLayer? \u3068 myVideoLayer! \u3092 myVideoLayer \u306b\u5909\u66f4 AVLayerVideoGravityResizeAspectFill \u304c AVLayerVideoGravity.resizeAspectFill \u306b\u5909\u66f4 qrData.stringValue \u3092 qrData.stringValue! \u306b\u5909\u66f4 captureOutput(_ captureOutput: AVCaptureOutput!, didOutputMetadataObjects metadataObjects: [AnyObject]!, from connection: AVCaptureConnection!) \u304c metadataOutput(_ output: AVCaptureMetadataOutput, didOutput metadataObjects: [AVMetadataObject], from connection: AVCaptureConnection) \u306b\u5909\u66f4","title":"3.x\u30684.x\u306e\u5dee\u5206"},{"location":"5.avfoundation/008_avfoundation/#2x3x","text":"AVCaptureDevicePosition.Back \u304b\u3089 AVCaptureDevicePosition.back \u306b\u5909\u66f4 dispatch_get_main_queue() \u304b\u3089 DispatchQueue.main \u306b\u5909\u66f4 func captureOutput(captureOutput: AVCaptureOutput!, didOutputMetadataObjects metadataObjects: [AnyObject]!, fromConnection connection: AVCaptureConnection!) \u304b\u3089 func captureOutput(_ captureOutput: AVCaptureOutput!, didOutputMetadataObjects metadataObjects: [AnyObject]!, from connection: AVCaptureConnection!) \u306b\u5909\u66f4 UIApplication.sharedApplication().openURL(NSURL) \u304b\u3089 UIApplication.shared.openURL(URL) \u306b\u5909\u66f4","title":"2.x\u30683.x\u306e\u5dee\u5206"},{"location":"5.avfoundation/008_avfoundation/#reference","text":"AV Foundation Framework https://developer.apple.com/library/ios/documentation/AVFoundation/Reference/AVFoundationFramework/ AVCaptureMetadataOutputObjectsDelegate https://developer.apple.com/library/ios/documentation/AVFoundation/Reference/AVCaptureMetadataOutputObjectsDelegate_Protocol/","title":"Reference"},{"location":"6.connection/001_nsurlconnection/","text":"NSURLConnection\u3092\u7528\u3044\u305fHTTP\u901a\u4fe1(\u975e\u540c\u671f) iOS9\u304b\u3089\u30ea\u30af\u30a8\u30b9\u30c8\u5148\u306b\u3088\u3063\u3066\u306fATS\u3092\u7121\u52b9\u5316\u30fb\u5bfe\u51e6\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059 Swift 4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 // // ViewController.swift // Connection001 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () self . view . backgroundColor = UIColor . lightGray // \u8868\u793a\u7528\u306eTextView\u3092\u7528\u610f. //let myTextView = UITextView(frame: CGRectMake(10, 50, self.view.frame.width - 20, 500)) let myTextView = UITextView ( frame : CGRect ( x : 10 , y : 50 , width : self . view . frame . width - 20 , height : 500 )) myTextView . backgroundColor = UIColor ( red : 0.9 , green : 0.9 , blue : 1 , alpha : 1.0 ) myTextView . layer . masksToBounds = true myTextView . layer . cornerRadius = 20.0 myTextView . layer . borderWidth = 1 myTextView . layer . borderColor = UIColor . black . cgColor myTextView . font = UIFont . systemFont ( ofSize : CGFloat ( 20 )) myTextView . textColor = UIColor . black myTextView . textAlignment = NSTextAlignment . left myTextView . dataDetectorTypes = UIDataDetectorTypes . all myTextView . layer . shadowOpacity = 0.5 myTextView . layer . masksToBounds = false myTextView . isEditable = false self . view . addSubview ( myTextView ) // \u901a\u4fe1\u5148\u306eURL\u3092\u751f\u6210. let url : NSURL = NSURL ( string : \"http://xxx/hello.php\" ) ! // \u30ea\u30af\u30a8\u30b9\u30c8\u3092\u751f\u6210. let request : NSURLRequest = NSURLRequest ( url : url as URL ) // \u9001\u4fe1\u51e6\u7406\u3092\u59cb\u3081\u308b. NSURLConnection . sendAsynchronousRequest ( request as URLRequest , queue : OperationQueue . main ) { ( response , data , erroe ) in // \u53d7\u3051\u53d6\u3063\u305f\u30c7\u30fc\u30bf\u306enil\u5224\u5b9a. if let _data = data { // \u5e30\u3063\u3066\u304d\u305f\u30c7\u30fc\u30bf\u3092\u6587\u5b57\u5217\u306b\u5909\u63db. let getData : NSString = NSString ( data : _data , encoding : String . Encoding . utf8 . rawValue ) ! // TextView\u306b\u30bb\u30c3\u30c8. myTextView . text = getData as String } } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 // // ViewController.swift // Connection001 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () self . view . backgroundColor = UIColor . lightGrayColor () // \u8868\u793a\u7528\u306eTextView\u3092\u7528\u610f. let myTextView = UITextView ( frame : CGRectMake ( 10 , 50 , self . view . frame . width - 20 , 500 )) myTextView . backgroundColor = UIColor ( red : 0.9 , green : 0.9 , blue : 1 , alpha : 1.0 ) myTextView . layer . masksToBounds = true myTextView . layer . cornerRadius = 20.0 myTextView . layer . borderWidth = 1 myTextView . layer . borderColor = UIColor . blackColor (). CGColor myTextView . font = UIFont . systemFontOfSize ( CGFloat ( 20 )) myTextView . textColor = UIColor . blackColor () myTextView . textAlignment = NSTextAlignment . Left myTextView . dataDetectorTypes = UIDataDetectorTypes . All myTextView . layer . shadowOpacity = 0.5 myTextView . layer . masksToBounds = false myTextView . editable = false self . view . addSubview ( myTextView ) // \u901a\u4fe1\u5148\u306eURL\u3092\u751f\u6210. let url : NSURL = NSURL ( string : \"http://xxx/hello.php\" ) ! // \u30ea\u30af\u30a8\u30b9\u30c8\u3092\u751f\u6210. let request : NSURLRequest = NSURLRequest ( URL : url ) // \u9001\u4fe1\u51e6\u7406\u3092\u59cb\u3081\u308b. NSURLConnection . sendAsynchronousRequest ( request , queue : NSOperationQueue . mainQueue ()) { ( response , data , erroe ) in // \u53d7\u3051\u53d6\u3063\u305f\u30c7\u30fc\u30bf\u306enil\u5224\u5b9a. if let _data = data { // \u5e30\u3063\u3066\u304d\u305f\u30c7\u30fc\u30bf\u3092\u6587\u5b57\u5217\u306b\u5909\u63db. let getData : NSString = NSString ( data : _data , encoding : NSUTF8StringEncoding ) ! // TextView\u306b\u30bb\u30c3\u30c8. myTextView . text = getData as String } } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } } 2.x\u30683.x\u306e\u5dee\u5206 NSOperationQueue.mainQueue()\u304b\u3089OperationQueue.main\u306b\u5909\u66f4 NSUTF8StringEncoding\u304b\u3089String.Encoding.utf8.rawValue\u306b\u5909\u66f4 UITextView\u306einit(frame: )\u3067\u306fCGRectMake\u304c\u4f7f\u7528\u4e0d\u53ef Reference NSURLConnection https://developer.apple.com/reference/foundation/nsurlconnection UITextView https://developer.apple.com/reference/uikit/uitextview","title":"NSURLConnection\u3092\u7528\u3044\u305fHTTP\u901a\u4fe1(\u975e\u540c\u671f)"},{"location":"6.connection/001_nsurlconnection/#nsurlconnectionhttp","text":"","title":"NSURLConnection\u3092\u7528\u3044\u305fHTTP\u901a\u4fe1(\u975e\u540c\u671f)"},{"location":"6.connection/001_nsurlconnection/#ios9ats","text":"Swift 4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 // // ViewController.swift // Connection001 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () self . view . backgroundColor = UIColor . lightGray // \u8868\u793a\u7528\u306eTextView\u3092\u7528\u610f. //let myTextView = UITextView(frame: CGRectMake(10, 50, self.view.frame.width - 20, 500)) let myTextView = UITextView ( frame : CGRect ( x : 10 , y : 50 , width : self . view . frame . width - 20 , height : 500 )) myTextView . backgroundColor = UIColor ( red : 0.9 , green : 0.9 , blue : 1 , alpha : 1.0 ) myTextView . layer . masksToBounds = true myTextView . layer . cornerRadius = 20.0 myTextView . layer . borderWidth = 1 myTextView . layer . borderColor = UIColor . black . cgColor myTextView . font = UIFont . systemFont ( ofSize : CGFloat ( 20 )) myTextView . textColor = UIColor . black myTextView . textAlignment = NSTextAlignment . left myTextView . dataDetectorTypes = UIDataDetectorTypes . all myTextView . layer . shadowOpacity = 0.5 myTextView . layer . masksToBounds = false myTextView . isEditable = false self . view . addSubview ( myTextView ) // \u901a\u4fe1\u5148\u306eURL\u3092\u751f\u6210. let url : NSURL = NSURL ( string : \"http://xxx/hello.php\" ) ! // \u30ea\u30af\u30a8\u30b9\u30c8\u3092\u751f\u6210. let request : NSURLRequest = NSURLRequest ( url : url as URL ) // \u9001\u4fe1\u51e6\u7406\u3092\u59cb\u3081\u308b. NSURLConnection . sendAsynchronousRequest ( request as URLRequest , queue : OperationQueue . main ) { ( response , data , erroe ) in // \u53d7\u3051\u53d6\u3063\u305f\u30c7\u30fc\u30bf\u306enil\u5224\u5b9a. if let _data = data { // \u5e30\u3063\u3066\u304d\u305f\u30c7\u30fc\u30bf\u3092\u6587\u5b57\u5217\u306b\u5909\u63db. let getData : NSString = NSString ( data : _data , encoding : String . Encoding . utf8 . rawValue ) ! // TextView\u306b\u30bb\u30c3\u30c8. myTextView . text = getData as String } } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 // // ViewController.swift // Connection001 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () self . view . backgroundColor = UIColor . lightGrayColor () // \u8868\u793a\u7528\u306eTextView\u3092\u7528\u610f. let myTextView = UITextView ( frame : CGRectMake ( 10 , 50 , self . view . frame . width - 20 , 500 )) myTextView . backgroundColor = UIColor ( red : 0.9 , green : 0.9 , blue : 1 , alpha : 1.0 ) myTextView . layer . masksToBounds = true myTextView . layer . cornerRadius = 20.0 myTextView . layer . borderWidth = 1 myTextView . layer . borderColor = UIColor . blackColor (). CGColor myTextView . font = UIFont . systemFontOfSize ( CGFloat ( 20 )) myTextView . textColor = UIColor . blackColor () myTextView . textAlignment = NSTextAlignment . Left myTextView . dataDetectorTypes = UIDataDetectorTypes . All myTextView . layer . shadowOpacity = 0.5 myTextView . layer . masksToBounds = false myTextView . editable = false self . view . addSubview ( myTextView ) // \u901a\u4fe1\u5148\u306eURL\u3092\u751f\u6210. let url : NSURL = NSURL ( string : \"http://xxx/hello.php\" ) ! // \u30ea\u30af\u30a8\u30b9\u30c8\u3092\u751f\u6210. let request : NSURLRequest = NSURLRequest ( URL : url ) // \u9001\u4fe1\u51e6\u7406\u3092\u59cb\u3081\u308b. NSURLConnection . sendAsynchronousRequest ( request , queue : NSOperationQueue . mainQueue ()) { ( response , data , erroe ) in // \u53d7\u3051\u53d6\u3063\u305f\u30c7\u30fc\u30bf\u306enil\u5224\u5b9a. if let _data = data { // \u5e30\u3063\u3066\u304d\u305f\u30c7\u30fc\u30bf\u3092\u6587\u5b57\u5217\u306b\u5909\u63db. let getData : NSString = NSString ( data : _data , encoding : NSUTF8StringEncoding ) ! // TextView\u306b\u30bb\u30c3\u30c8. myTextView . text = getData as String } } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } }","title":"iOS9\u304b\u3089\u30ea\u30af\u30a8\u30b9\u30c8\u5148\u306b\u3088\u3063\u3066\u306fATS\u3092\u7121\u52b9\u5316\u30fb\u5bfe\u51e6\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059"},{"location":"6.connection/001_nsurlconnection/#2x3x","text":"NSOperationQueue.mainQueue()\u304b\u3089OperationQueue.main\u306b\u5909\u66f4 NSUTF8StringEncoding\u304b\u3089String.Encoding.utf8.rawValue\u306b\u5909\u66f4 UITextView\u306einit(frame: )\u3067\u306fCGRectMake\u304c\u4f7f\u7528\u4e0d\u53ef","title":"2.x\u30683.x\u306e\u5dee\u5206"},{"location":"6.connection/001_nsurlconnection/#reference","text":"NSURLConnection https://developer.apple.com/reference/foundation/nsurlconnection UITextView https://developer.apple.com/reference/uikit/uitextview","title":"Reference"},{"location":"6.connection/002_nsurlconnection/","text":"NSURLConnection\u3092\u7528\u3044\u305fHTTP\u901a\u4fe1(\u540c\u671f) iOS9\u304b\u3089\u30ea\u30af\u30a8\u30b9\u30c8\u5148\u306b\u3088\u3063\u3066\u306fATS\u3092\u7121\u52b9\u5316\u30fb\u5bfe\u51e6\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059 Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 // // ViewController.swift // Connection002 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () self . view . backgroundColor = UIColor . lightGray // \u8868\u793a\u7528\u306eTextView\u3092\u7528\u610f. let myTextView = UITextView ( frame : CGRect ( x : 10 , y : 50 , width : self . view . frame . width - 20 , height : 500 )) myTextView . backgroundColor = UIColor ( red : 0.9 , green : 0.9 , blue : 1 , alpha : 1.0 ) myTextView . layer . masksToBounds = true myTextView . layer . cornerRadius = 20.0 myTextView . layer . borderWidth = 1 myTextView . layer . borderColor = UIColor . black . cgColor myTextView . font = UIFont . systemFont ( ofSize : CGFloat ( 20 )) myTextView . textColor = UIColor . black myTextView . textAlignment = NSTextAlignment . left myTextView . dataDetectorTypes = UIDataDetectorTypes . all myTextView . layer . shadowOpacity = 0.5 myTextView . layer . masksToBounds = false myTextView . isEditable = false self . view . addSubview ( myTextView ) // \u901a\u4fe1\u5148\u306eURL\u3092\u751f\u6210. let url : NSURL = NSURL ( string : \"http://xxx/hello.php\" ) ! // \u30ea\u30af\u30a8\u30b9\u30c8\u3092\u751f\u6210. let request : NSURLRequest = NSURLRequest ( url : url as URL ) // \u9001\u4fe1\u51e6\u7406\u3092\u59cb\u3081\u308b. var data : NSData ? do { let res : AutoreleasingUnsafeMutablePointer < URLResponse ? >? = nil data = try NSURLConnection . sendSynchronousRequest ( request as URLRequest , returning : res ) as NSData } catch { print ( error ) } if let _data = data { // \u5e30\u3063\u3066\u304d\u305f\u30c7\u30fc\u30bf\u3092\u6587\u5b57\u5217\u306b\u5909\u63db. let getData : NSString = NSString ( data : _data as Data , encoding : String . Encoding . utf8 . rawValue ) ! // TextView\u306b\u30bb\u30c3\u30c8. myTextView . text = getData as String } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 // // ViewController.swift // Connection002 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () self . view . backgroundColor = UIColor . lightGray // \u8868\u793a\u7528\u306eTextView\u3092\u7528\u610f. let myTextView = UITextView ( frame : CGRect ( x : 10 , y : 50 , width : self . view . frame . width - 20 , height : 500 )) myTextView . backgroundColor = UIColor ( red : 0.9 , green : 0.9 , blue : 1 , alpha : 1.0 ) myTextView . layer . masksToBounds = true myTextView . layer . cornerRadius = 20.0 myTextView . layer . borderWidth = 1 myTextView . layer . borderColor = UIColor . black . cgColor myTextView . font = UIFont . systemFont ( ofSize : CGFloat ( 20 )) myTextView . textColor = UIColor . black myTextView . textAlignment = NSTextAlignment . left myTextView . dataDetectorTypes = UIDataDetectorTypes . all myTextView . layer . shadowOpacity = 0.5 myTextView . layer . masksToBounds = false myTextView . isEditable = false self . view . addSubview ( myTextView ) // \u901a\u4fe1\u5148\u306eURL\u3092\u751f\u6210. let url : NSURL = NSURL ( string : \"http://xxx/hello.php\" ) ! // \u30ea\u30af\u30a8\u30b9\u30c8\u3092\u751f\u6210. let request : NSURLRequest = NSURLRequest ( url : url as URL ) // \u9001\u4fe1\u51e6\u7406\u3092\u59cb\u3081\u308b. var data : NSData ? do { let res : AutoreleasingUnsafeMutablePointer < URLResponse ? >? = nil data = try NSURLConnection . sendSynchronousRequest ( request as URLRequest , returning : res ) } catch { print ( error ) } if let _data = data { // \u5e30\u3063\u3066\u304d\u305f\u30c7\u30fc\u30bf\u3092\u6587\u5b57\u5217\u306b\u5909\u63db. let getData : NSString = NSString ( data : _data as Data , encoding : String . Encoding . utf8 . rawValue ) ! // TextView\u306b\u30bb\u30c3\u30c8. myTextView . text = getData as String } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 // // ViewController.swift // Connection002 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () self . view . backgroundColor = UIColor . lightGrayColor () // \u8868\u793a\u7528\u306eTextView\u3092\u7528\u610f. let myTextView = UITextView ( frame : CGRectMake ( 10 , 50 , self . view . frame . width - 20 , 500 )) myTextView . backgroundColor = UIColor ( red : 0.9 , green : 0.9 , blue : 1 , alpha : 1.0 ) myTextView . layer . masksToBounds = true myTextView . layer . cornerRadius = 20.0 myTextView . layer . borderWidth = 1 myTextView . layer . borderColor = UIColor . blackColor (). CGColor myTextView . font = UIFont . systemFontOfSize ( CGFloat ( 20 )) myTextView . textColor = UIColor . blackColor () myTextView . textAlignment = NSTextAlignment . Left myTextView . dataDetectorTypes = UIDataDetectorTypes . All myTextView . layer . shadowOpacity = 0.5 myTextView . layer . masksToBounds = false myTextView . editable = false self . view . addSubview ( myTextView ) // \u901a\u4fe1\u5148\u306eURL\u3092\u751f\u6210. let url : NSURL = NSURL ( string : \"http://xxx/hello.php\" ) ! // \u30ea\u30af\u30a8\u30b9\u30c8\u3092\u751f\u6210. let request : NSURLRequest = NSURLRequest ( URL : url ) // \u9001\u4fe1\u51e6\u7406\u3092\u59cb\u3081\u308b. var data : NSData ? do { let res : AutoreleasingUnsafeMutablePointer < NSURLResponse ? > = nil data = try NSURLConnection . sendSynchronousRequest ( request , returningResponse : res ) } catch { print ( error ) } if let _data = data { // \u5e30\u3063\u3066\u304d\u305f\u30c7\u30fc\u30bf\u3092\u6587\u5b57\u5217\u306b\u5909\u63db. let getData : NSString = NSString ( data : _data , encoding : NSUTF8StringEncoding ) ! // TextView\u306b\u30bb\u30c3\u30c8. myTextView . text = getData as String } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } } 3.x\u30684.x\u306e\u5dee\u5206 NSURLConnection.sendSynchronousRequest(request as URLRequest, returning: res) \u306b as NSData \u3092\u8ffd\u52a0 2.x\u30683.x\u306e\u5dee\u5206 sendSynchronousRequest(request, returningResponse: res)\u304b\u3089sendSynchronousRequest(request as URLRequest, returning: res)\u306b\u5909\u66f4\uff08returningResponse:\u304creturning:\u306b\uff09 NSURLResponse\u304b\u3089URLResponse\u306b\u5909\u66f4 Reference NSURLConnection https://developer.apple.com/reference/foundation/nsurlconnection UITextView https://developer.apple.com/reference/uikit/uitextview","title":"NSURLConnection\u3092\u7528\u3044\u305fHTTP\u901a\u4fe1(\u540c\u671f)"},{"location":"6.connection/002_nsurlconnection/#nsurlconnectionhttp","text":"","title":"NSURLConnection\u3092\u7528\u3044\u305fHTTP\u901a\u4fe1(\u540c\u671f)"},{"location":"6.connection/002_nsurlconnection/#ios9ats","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 // // ViewController.swift // Connection002 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () self . view . backgroundColor = UIColor . lightGray // \u8868\u793a\u7528\u306eTextView\u3092\u7528\u610f. let myTextView = UITextView ( frame : CGRect ( x : 10 , y : 50 , width : self . view . frame . width - 20 , height : 500 )) myTextView . backgroundColor = UIColor ( red : 0.9 , green : 0.9 , blue : 1 , alpha : 1.0 ) myTextView . layer . masksToBounds = true myTextView . layer . cornerRadius = 20.0 myTextView . layer . borderWidth = 1 myTextView . layer . borderColor = UIColor . black . cgColor myTextView . font = UIFont . systemFont ( ofSize : CGFloat ( 20 )) myTextView . textColor = UIColor . black myTextView . textAlignment = NSTextAlignment . left myTextView . dataDetectorTypes = UIDataDetectorTypes . all myTextView . layer . shadowOpacity = 0.5 myTextView . layer . masksToBounds = false myTextView . isEditable = false self . view . addSubview ( myTextView ) // \u901a\u4fe1\u5148\u306eURL\u3092\u751f\u6210. let url : NSURL = NSURL ( string : \"http://xxx/hello.php\" ) ! // \u30ea\u30af\u30a8\u30b9\u30c8\u3092\u751f\u6210. let request : NSURLRequest = NSURLRequest ( url : url as URL ) // \u9001\u4fe1\u51e6\u7406\u3092\u59cb\u3081\u308b. var data : NSData ? do { let res : AutoreleasingUnsafeMutablePointer < URLResponse ? >? = nil data = try NSURLConnection . sendSynchronousRequest ( request as URLRequest , returning : res ) as NSData } catch { print ( error ) } if let _data = data { // \u5e30\u3063\u3066\u304d\u305f\u30c7\u30fc\u30bf\u3092\u6587\u5b57\u5217\u306b\u5909\u63db. let getData : NSString = NSString ( data : _data as Data , encoding : String . Encoding . utf8 . rawValue ) ! // TextView\u306b\u30bb\u30c3\u30c8. myTextView . text = getData as String } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 // // ViewController.swift // Connection002 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () self . view . backgroundColor = UIColor . lightGray // \u8868\u793a\u7528\u306eTextView\u3092\u7528\u610f. let myTextView = UITextView ( frame : CGRect ( x : 10 , y : 50 , width : self . view . frame . width - 20 , height : 500 )) myTextView . backgroundColor = UIColor ( red : 0.9 , green : 0.9 , blue : 1 , alpha : 1.0 ) myTextView . layer . masksToBounds = true myTextView . layer . cornerRadius = 20.0 myTextView . layer . borderWidth = 1 myTextView . layer . borderColor = UIColor . black . cgColor myTextView . font = UIFont . systemFont ( ofSize : CGFloat ( 20 )) myTextView . textColor = UIColor . black myTextView . textAlignment = NSTextAlignment . left myTextView . dataDetectorTypes = UIDataDetectorTypes . all myTextView . layer . shadowOpacity = 0.5 myTextView . layer . masksToBounds = false myTextView . isEditable = false self . view . addSubview ( myTextView ) // \u901a\u4fe1\u5148\u306eURL\u3092\u751f\u6210. let url : NSURL = NSURL ( string : \"http://xxx/hello.php\" ) ! // \u30ea\u30af\u30a8\u30b9\u30c8\u3092\u751f\u6210. let request : NSURLRequest = NSURLRequest ( url : url as URL ) // \u9001\u4fe1\u51e6\u7406\u3092\u59cb\u3081\u308b. var data : NSData ? do { let res : AutoreleasingUnsafeMutablePointer < URLResponse ? >? = nil data = try NSURLConnection . sendSynchronousRequest ( request as URLRequest , returning : res ) } catch { print ( error ) } if let _data = data { // \u5e30\u3063\u3066\u304d\u305f\u30c7\u30fc\u30bf\u3092\u6587\u5b57\u5217\u306b\u5909\u63db. let getData : NSString = NSString ( data : _data as Data , encoding : String . Encoding . utf8 . rawValue ) ! // TextView\u306b\u30bb\u30c3\u30c8. myTextView . text = getData as String } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 // // ViewController.swift // Connection002 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () self . view . backgroundColor = UIColor . lightGrayColor () // \u8868\u793a\u7528\u306eTextView\u3092\u7528\u610f. let myTextView = UITextView ( frame : CGRectMake ( 10 , 50 , self . view . frame . width - 20 , 500 )) myTextView . backgroundColor = UIColor ( red : 0.9 , green : 0.9 , blue : 1 , alpha : 1.0 ) myTextView . layer . masksToBounds = true myTextView . layer . cornerRadius = 20.0 myTextView . layer . borderWidth = 1 myTextView . layer . borderColor = UIColor . blackColor (). CGColor myTextView . font = UIFont . systemFontOfSize ( CGFloat ( 20 )) myTextView . textColor = UIColor . blackColor () myTextView . textAlignment = NSTextAlignment . Left myTextView . dataDetectorTypes = UIDataDetectorTypes . All myTextView . layer . shadowOpacity = 0.5 myTextView . layer . masksToBounds = false myTextView . editable = false self . view . addSubview ( myTextView ) // \u901a\u4fe1\u5148\u306eURL\u3092\u751f\u6210. let url : NSURL = NSURL ( string : \"http://xxx/hello.php\" ) ! // \u30ea\u30af\u30a8\u30b9\u30c8\u3092\u751f\u6210. let request : NSURLRequest = NSURLRequest ( URL : url ) // \u9001\u4fe1\u51e6\u7406\u3092\u59cb\u3081\u308b. var data : NSData ? do { let res : AutoreleasingUnsafeMutablePointer < NSURLResponse ? > = nil data = try NSURLConnection . sendSynchronousRequest ( request , returningResponse : res ) } catch { print ( error ) } if let _data = data { // \u5e30\u3063\u3066\u304d\u305f\u30c7\u30fc\u30bf\u3092\u6587\u5b57\u5217\u306b\u5909\u63db. let getData : NSString = NSString ( data : _data , encoding : NSUTF8StringEncoding ) ! // TextView\u306b\u30bb\u30c3\u30c8. myTextView . text = getData as String } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } }","title":"iOS9\u304b\u3089\u30ea\u30af\u30a8\u30b9\u30c8\u5148\u306b\u3088\u3063\u3066\u306fATS\u3092\u7121\u52b9\u5316\u30fb\u5bfe\u51e6\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059"},{"location":"6.connection/002_nsurlconnection/#3x4x","text":"NSURLConnection.sendSynchronousRequest(request as URLRequest, returning: res) \u306b as NSData \u3092\u8ffd\u52a0","title":"3.x\u30684.x\u306e\u5dee\u5206"},{"location":"6.connection/002_nsurlconnection/#2x3x","text":"sendSynchronousRequest(request, returningResponse: res)\u304b\u3089sendSynchronousRequest(request as URLRequest, returning: res)\u306b\u5909\u66f4\uff08returningResponse:\u304creturning:\u306b\uff09 NSURLResponse\u304b\u3089URLResponse\u306b\u5909\u66f4","title":"2.x\u30683.x\u306e\u5dee\u5206"},{"location":"6.connection/002_nsurlconnection/#reference","text":"NSURLConnection https://developer.apple.com/reference/foundation/nsurlconnection UITextView https://developer.apple.com/reference/uikit/uitextview","title":"Reference"},{"location":"6.connection/003_nsurlsession/","text":"NSURLSession\u3092\u7528\u3044\u305fHTTP\u901a\u4fe1(Delegate\u3092\u7528\u3044\u305f\u51e6\u7406) iOS9\u304b\u3089\u30ea\u30af\u30a8\u30b9\u30c8\u5148\u306b\u3088\u3063\u3066\u306fATS\u3092\u7121\u52b9\u5316\u30fb\u5bfe\u51e6\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059 Swift 4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 // // ViewController.swift // Connection003 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController , URLSessionDelegate , URLSessionDataDelegate { var myTextView : UITextView ! override func viewDidLoad () { super . viewDidLoad () self . view . backgroundColor = UIColor . lightGray // \u8868\u793a\u7528\u306eTextView\u3092\u7528\u610f. myTextView = UITextView ( frame : CGRect ( x : 10 , y : 50 , width : self . view . frame . width - 20 , height : 500 )) myTextView . backgroundColor = UIColor ( red : 0.9 , green : 0.9 , blue : 1 , alpha : 1.0 ) myTextView . layer . masksToBounds = true myTextView . layer . cornerRadius = 20.0 myTextView . layer . borderWidth = 1 myTextView . layer . borderColor = UIColor . black . cgColor myTextView . font = UIFont . systemFont ( ofSize : CGFloat ( 20 )) myTextView . textColor = UIColor . black myTextView . textAlignment = NSTextAlignment . left myTextView . dataDetectorTypes = UIDataDetectorTypes . all myTextView . layer . shadowOpacity = 0.5 myTextView . layer . masksToBounds = false myTextView . isEditable = false self . view . addSubview ( myTextView ) // \u901a\u4fe1\u7528\u306eConfig\u3092\u751f\u6210. let config : URLSessionConfiguration = URLSessionConfiguration . background ( withIdentifier : \"backgroundTask\" ) // Session\u3092\u751f\u6210. let session : URLSession = URLSession ( configuration : config , delegate : self , delegateQueue : nil ) // \u901a\u4fe1\u5148\u306eURL\u3092\u751f\u6210. let url : NSURL = NSURL ( string : \"http://xxx/hello.php\" ) ! // \u30bf\u30b9\u30af\u306e\u751f\u6210. let task : URLSessionDataTask = session . dataTask ( with : url as URL ) // \u30bf\u30b9\u30af\u306e\u5b9f\u884c. task . resume () } /* \u901a\u4fe1\u304c\u7d42\u4e86\u3057\u305f\u3068\u304d\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8. */ func urlSession ( _ session : URLSession , dataTask : URLSessionDataTask , didReceive data : Data ) { print ( \"NSURLSessionDataTask\" ) // \u5e30\u3063\u3066\u304d\u305f\u30c7\u30fc\u30bf\u3092\u6587\u5b57\u5217\u306b\u5909\u63db. let getData : NSString = NSString ( data : data , encoding : String . Encoding . utf8 . rawValue ) ! // \u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u3060\u3068UI\u306e\u51e6\u7406\u304c\u51fa\u6765\u306a\u3044\u306e\u3067\u3001\u30e1\u30a4\u30f3\u30b9\u30ec\u30c3\u30c9\u3067UI\u306e\u51e6\u7406\u3092\u884c\u308f\u305b\u308b. DispatchQueue . main . async ( execute : { self . myTextView . text = getData as String }) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 // // ViewController.swift // Connection003 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController , NSURLSessionDelegate , NSURLSessionDataDelegate { var myTextView : UITextView ! override func viewDidLoad () { super . viewDidLoad () self . view . backgroundColor = UIColor . lightGrayColor () // \u8868\u793a\u7528\u306eTextView\u3092\u7528\u610f. myTextView = UITextView ( frame : CGRectMake ( 10 , 50 , self . view . frame . width - 20 , 500 )) myTextView . backgroundColor = UIColor ( red : 0.9 , green : 0.9 , blue : 1 , alpha : 1.0 ) myTextView . layer . masksToBounds = true myTextView . layer . cornerRadius = 20.0 myTextView . layer . borderWidth = 1 myTextView . layer . borderColor = UIColor . blackColor (). CGColor myTextView . font = UIFont . systemFontOfSize ( CGFloat ( 20 )) myTextView . textColor = UIColor . blackColor () myTextView . textAlignment = NSTextAlignment . Left myTextView . dataDetectorTypes = UIDataDetectorTypes . All myTextView . layer . shadowOpacity = 0.5 myTextView . layer . masksToBounds = false myTextView . editable = false self . view . addSubview ( myTextView ) // \u901a\u4fe1\u7528\u306eConfig\u3092\u751f\u6210. let config : NSURLSessionConfiguration = NSURLSessionConfiguration . backgroundSessionConfigurationWithIdentifier ( \"backgroundTask\" ) // Session\u3092\u751f\u6210. let session : NSURLSession = NSURLSession ( configuration : config , delegate : self , delegateQueue : nil ) // \u901a\u4fe1\u5148\u306eURL\u3092\u751f\u6210. let url : NSURL = NSURL ( string : \"http://xxx/hello.php\" ) ! // \u30bf\u30b9\u30af\u306e\u751f\u6210. let task : NSURLSessionDataTask = session . dataTaskWithURL ( url ) // \u30bf\u30b9\u30af\u306e\u5b9f\u884c. task . resume () } /* \u901a\u4fe1\u304c\u7d42\u4e86\u3057\u305f\u3068\u304d\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8. */ func URLSession ( session : NSURLSession , dataTask : NSURLSessionDataTask , didReceiveData data : NSData ) { print ( \"NSURLSessionDataTask\" ) // \u5e30\u3063\u3066\u304d\u305f\u30c7\u30fc\u30bf\u3092\u6587\u5b57\u5217\u306b\u5909\u63db. let getData : NSString = NSString ( data : data , encoding : NSUTF8StringEncoding ) ! // \u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u3060\u3068UI\u306e\u51e6\u7406\u304c\u51fa\u6765\u306a\u3044\u306e\u3067\u3001\u30e1\u30a4\u30f3\u30b9\u30ec\u30c3\u30c9\u3067UI\u306e\u51e6\u7406\u3092\u884c\u308f\u305b\u308b. dispatch_async ( dispatch_get_main_queue (), { self . myTextView . text = getData as String }) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } } 2.x\u30683.x\u306e\u5dee\u5206 NSURLSession\u304b\u3089URLSession\u306b\u5909\u66f4\uff08\u4ed6\u3082\u540c\u3058\u304f\uff09 dispatch_async(dispatch_get_main_queue(), { \u304b\u3089 DispatchQueue.main.async(execute: { \u306b\u5909\u66f4 dataTaskWithURL(url) \u304b\u3089 dataTask(with: url as URL) \u306b\u5909\u66f4 func URLSession(session: NSURLSession, dataTask: NSURLSessionDataTask, didReceiveData data: NSData) \u304b\u3089 func urlSession(_ session: URLSession, dataTask: URLSessionDataTask, didReceive data: Data) Reference URLSession https://developer.apple.com/reference/foundation/urlsession URLSessionConfiguration https://developer.apple.com/reference/foundation/urlsessionconfiguration URLSessionDataTask https://developer.apple.com/reference/foundation/urlsessiondatatask NSURL https://developer.apple.com/reference/foundation/nsurl DispatchQueue https://developer.apple.com/reference/dispatch/dispatchqueue UITextView https://developer.apple.com/reference/uikit/uitextview","title":"NSURLSession\u3092\u7528\u3044\u305fHTTP\u901a\u4fe1(Delegate\u3092\u7528\u3044\u305f\u51e6\u7406)"},{"location":"6.connection/003_nsurlsession/#nsurlsessionhttpdelegate","text":"","title":"NSURLSession\u3092\u7528\u3044\u305fHTTP\u901a\u4fe1(Delegate\u3092\u7528\u3044\u305f\u51e6\u7406)"},{"location":"6.connection/003_nsurlsession/#ios9ats","text":"Swift 4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 // // ViewController.swift // Connection003 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController , URLSessionDelegate , URLSessionDataDelegate { var myTextView : UITextView ! override func viewDidLoad () { super . viewDidLoad () self . view . backgroundColor = UIColor . lightGray // \u8868\u793a\u7528\u306eTextView\u3092\u7528\u610f. myTextView = UITextView ( frame : CGRect ( x : 10 , y : 50 , width : self . view . frame . width - 20 , height : 500 )) myTextView . backgroundColor = UIColor ( red : 0.9 , green : 0.9 , blue : 1 , alpha : 1.0 ) myTextView . layer . masksToBounds = true myTextView . layer . cornerRadius = 20.0 myTextView . layer . borderWidth = 1 myTextView . layer . borderColor = UIColor . black . cgColor myTextView . font = UIFont . systemFont ( ofSize : CGFloat ( 20 )) myTextView . textColor = UIColor . black myTextView . textAlignment = NSTextAlignment . left myTextView . dataDetectorTypes = UIDataDetectorTypes . all myTextView . layer . shadowOpacity = 0.5 myTextView . layer . masksToBounds = false myTextView . isEditable = false self . view . addSubview ( myTextView ) // \u901a\u4fe1\u7528\u306eConfig\u3092\u751f\u6210. let config : URLSessionConfiguration = URLSessionConfiguration . background ( withIdentifier : \"backgroundTask\" ) // Session\u3092\u751f\u6210. let session : URLSession = URLSession ( configuration : config , delegate : self , delegateQueue : nil ) // \u901a\u4fe1\u5148\u306eURL\u3092\u751f\u6210. let url : NSURL = NSURL ( string : \"http://xxx/hello.php\" ) ! // \u30bf\u30b9\u30af\u306e\u751f\u6210. let task : URLSessionDataTask = session . dataTask ( with : url as URL ) // \u30bf\u30b9\u30af\u306e\u5b9f\u884c. task . resume () } /* \u901a\u4fe1\u304c\u7d42\u4e86\u3057\u305f\u3068\u304d\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8. */ func urlSession ( _ session : URLSession , dataTask : URLSessionDataTask , didReceive data : Data ) { print ( \"NSURLSessionDataTask\" ) // \u5e30\u3063\u3066\u304d\u305f\u30c7\u30fc\u30bf\u3092\u6587\u5b57\u5217\u306b\u5909\u63db. let getData : NSString = NSString ( data : data , encoding : String . Encoding . utf8 . rawValue ) ! // \u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u3060\u3068UI\u306e\u51e6\u7406\u304c\u51fa\u6765\u306a\u3044\u306e\u3067\u3001\u30e1\u30a4\u30f3\u30b9\u30ec\u30c3\u30c9\u3067UI\u306e\u51e6\u7406\u3092\u884c\u308f\u305b\u308b. DispatchQueue . main . async ( execute : { self . myTextView . text = getData as String }) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 // // ViewController.swift // Connection003 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController , NSURLSessionDelegate , NSURLSessionDataDelegate { var myTextView : UITextView ! override func viewDidLoad () { super . viewDidLoad () self . view . backgroundColor = UIColor . lightGrayColor () // \u8868\u793a\u7528\u306eTextView\u3092\u7528\u610f. myTextView = UITextView ( frame : CGRectMake ( 10 , 50 , self . view . frame . width - 20 , 500 )) myTextView . backgroundColor = UIColor ( red : 0.9 , green : 0.9 , blue : 1 , alpha : 1.0 ) myTextView . layer . masksToBounds = true myTextView . layer . cornerRadius = 20.0 myTextView . layer . borderWidth = 1 myTextView . layer . borderColor = UIColor . blackColor (). CGColor myTextView . font = UIFont . systemFontOfSize ( CGFloat ( 20 )) myTextView . textColor = UIColor . blackColor () myTextView . textAlignment = NSTextAlignment . Left myTextView . dataDetectorTypes = UIDataDetectorTypes . All myTextView . layer . shadowOpacity = 0.5 myTextView . layer . masksToBounds = false myTextView . editable = false self . view . addSubview ( myTextView ) // \u901a\u4fe1\u7528\u306eConfig\u3092\u751f\u6210. let config : NSURLSessionConfiguration = NSURLSessionConfiguration . backgroundSessionConfigurationWithIdentifier ( \"backgroundTask\" ) // Session\u3092\u751f\u6210. let session : NSURLSession = NSURLSession ( configuration : config , delegate : self , delegateQueue : nil ) // \u901a\u4fe1\u5148\u306eURL\u3092\u751f\u6210. let url : NSURL = NSURL ( string : \"http://xxx/hello.php\" ) ! // \u30bf\u30b9\u30af\u306e\u751f\u6210. let task : NSURLSessionDataTask = session . dataTaskWithURL ( url ) // \u30bf\u30b9\u30af\u306e\u5b9f\u884c. task . resume () } /* \u901a\u4fe1\u304c\u7d42\u4e86\u3057\u305f\u3068\u304d\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8. */ func URLSession ( session : NSURLSession , dataTask : NSURLSessionDataTask , didReceiveData data : NSData ) { print ( \"NSURLSessionDataTask\" ) // \u5e30\u3063\u3066\u304d\u305f\u30c7\u30fc\u30bf\u3092\u6587\u5b57\u5217\u306b\u5909\u63db. let getData : NSString = NSString ( data : data , encoding : NSUTF8StringEncoding ) ! // \u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u3060\u3068UI\u306e\u51e6\u7406\u304c\u51fa\u6765\u306a\u3044\u306e\u3067\u3001\u30e1\u30a4\u30f3\u30b9\u30ec\u30c3\u30c9\u3067UI\u306e\u51e6\u7406\u3092\u884c\u308f\u305b\u308b. dispatch_async ( dispatch_get_main_queue (), { self . myTextView . text = getData as String }) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } }","title":"iOS9\u304b\u3089\u30ea\u30af\u30a8\u30b9\u30c8\u5148\u306b\u3088\u3063\u3066\u306fATS\u3092\u7121\u52b9\u5316\u30fb\u5bfe\u51e6\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059"},{"location":"6.connection/003_nsurlsession/#2x3x","text":"NSURLSession\u304b\u3089URLSession\u306b\u5909\u66f4\uff08\u4ed6\u3082\u540c\u3058\u304f\uff09 dispatch_async(dispatch_get_main_queue(), { \u304b\u3089 DispatchQueue.main.async(execute: { \u306b\u5909\u66f4 dataTaskWithURL(url) \u304b\u3089 dataTask(with: url as URL) \u306b\u5909\u66f4 func URLSession(session: NSURLSession, dataTask: NSURLSessionDataTask, didReceiveData data: NSData) \u304b\u3089 func urlSession(_ session: URLSession, dataTask: URLSessionDataTask, didReceive data: Data)","title":"2.x\u30683.x\u306e\u5dee\u5206"},{"location":"6.connection/003_nsurlsession/#reference","text":"URLSession https://developer.apple.com/reference/foundation/urlsession URLSessionConfiguration https://developer.apple.com/reference/foundation/urlsessionconfiguration URLSessionDataTask https://developer.apple.com/reference/foundation/urlsessiondatatask NSURL https://developer.apple.com/reference/foundation/nsurl DispatchQueue https://developer.apple.com/reference/dispatch/dispatchqueue UITextView https://developer.apple.com/reference/uikit/uitextview","title":"Reference"},{"location":"6.connection/004_nsurlsession/","text":"NSURLSession\u3092\u7528\u3044\u305fHTTP\u901a\u4fe1(Handler\u3092\u7528\u3044\u305f\u51e6\u7406) iOS9\u304b\u3089\u30ea\u30af\u30a8\u30b9\u30c8\u5148\u306b\u3088\u3063\u3066\u306fATS\u3092\u7121\u52b9\u5316\u30fb\u5bfe\u51e6\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059 Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 // // ViewController.swift // Connection004 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController , URLSessionDelegate , URLSessionDataDelegate { override func viewDidLoad () { super . viewDidLoad () self . view . backgroundColor = UIColor . lightGray // \u8868\u793a\u7528\u306eTextView\u3092\u7528\u610f. let myTextView = UITextView ( frame : CGRect ( x : 10 , y : 50 , width : self . view . frame . width - 20 , height : 500 )) myTextView . backgroundColor = UIColor ( red : 0.9 , green : 0.9 , blue : 1 , alpha : 1.0 ) myTextView . layer . masksToBounds = true myTextView . layer . cornerRadius = 20.0 myTextView . layer . borderWidth = 1 myTextView . layer . borderColor = UIColor . black . cgColor myTextView . font = UIFont . systemFont ( ofSize : CGFloat ( 20 )) myTextView . textColor = UIColor . black myTextView . textAlignment = NSTextAlignment . left myTextView . dataDetectorTypes = UIDataDetectorTypes . all myTextView . layer . shadowOpacity = 0.5 myTextView . layer . masksToBounds = false myTextView . isEditable = false self . view . addSubview ( myTextView ) // \u901a\u4fe1\u5148\u306eURL\u3092\u751f\u6210. let myUrl : NSURL = NSURL ( string : \"http://xxx/hello.php\" ) ! // \u30bb\u30c3\u30b7\u30e7\u30f3\u306e\u751f\u6210. let session = URLSession ( configuration : URLSessionConfiguration . default ) // \u901a\u4fe1\u306e\u30bf\u30b9\u30af\u3092\u751f\u6210. let task = session . dataTask ( with : myUrl as URL , completionHandler : { ( data , response , err ) in if let _data = data { // \u5e30\u3063\u3066\u304d\u305f\u30c7\u30fc\u30bf\u3092\u6587\u5b57\u5217\u306b\u5909\u63db. let getData : NSString = NSString ( data : _data , encoding : String . Encoding . utf8 . rawValue ) ! // \u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u3060\u3068UI\u306e\u51e6\u7406\u304c\u51fa\u6765\u306a\u3044\u306e\u3067\u3001\u30e1\u30a4\u30f3\u30b9\u30ec\u30c3\u30c9\u3067UI\u306e\u51e6\u7406\u3092\u884c\u308f\u305b\u308b. DispatchQueue . main . async ( execute : { myTextView . text = getData as String }) } }) // \u30bf\u30b9\u30af\u306e\u5b9f\u884c. task . resume () } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 // // ViewController.swift // Connection004 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController , URLSessionDelegate , URLSessionDataDelegate { override func viewDidLoad () { super . viewDidLoad () self . view . backgroundColor = UIColor . lightGray // \u8868\u793a\u7528\u306eTextView\u3092\u7528\u610f. let myTextView = UITextView ( frame : CGRect ( x : 10 , y : 50 , width : self . view . frame . width - 20 , height : 500 )) myTextView . backgroundColor = UIColor ( red : 0.9 , green : 0.9 , blue : 1 , alpha : 1.0 ) myTextView . layer . masksToBounds = true myTextView . layer . cornerRadius = 20.0 myTextView . layer . borderWidth = 1 myTextView . layer . borderColor = UIColor . black . cgColor myTextView . font = UIFont . systemFont ( ofSize : CGFloat ( 20 )) myTextView . textColor = UIColor . black myTextView . textAlignment = NSTextAlignment . left myTextView . dataDetectorTypes = UIDataDetectorTypes . all myTextView . layer . shadowOpacity = 0.5 myTextView . layer . masksToBounds = false myTextView . isEditable = false self . view . addSubview ( myTextView ) // \u901a\u4fe1\u5148\u306eURL\u3092\u751f\u6210. let myUrl : NSURL = NSURL ( string : \"http://xxx/hello.php\" ) ! // \u30bb\u30c3\u30b7\u30e7\u30f3\u306e\u751f\u6210. let session = URLSession ( configuration : URLSessionConfiguration . default ) // \u901a\u4fe1\u306e\u30bf\u30b9\u30af\u3092\u751f\u6210. let task = session . dataTask ( with : url as URL , completionHandler : { ( data , response , err ) in if let _data = data { // \u5e30\u3063\u3066\u304d\u305f\u30c7\u30fc\u30bf\u3092\u6587\u5b57\u5217\u306b\u5909\u63db. let getData : NSString = NSString ( data : _data , encoding : String . Encoding . utf8 . rawValue ) ! // \u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u3060\u3068UI\u306e\u51e6\u7406\u304c\u51fa\u6765\u306a\u3044\u306e\u3067\u3001\u30e1\u30a4\u30f3\u30b9\u30ec\u30c3\u30c9\u3067UI\u306e\u51e6\u7406\u3092\u884c\u308f\u305b\u308b. DispatchQueue . main . async ( execute : { myTextView . text = getData as String }) } }) // \u30bf\u30b9\u30af\u306e\u5b9f\u884c. task . resume () } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 // // ViewController.swift // Connection004 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () self . view . backgroundColor = UIColor . lightGrayColor () // \u8868\u793a\u7528\u306eTextView\u3092\u7528\u610f. let myTextView = UITextView ( frame : CGRectMake ( 10 , 50 , self . view . frame . width - 20 , 500 )) myTextView . backgroundColor = UIColor ( red : 0.9 , green : 0.9 , blue : 1 , alpha : 1.0 ) myTextView . layer . masksToBounds = true myTextView . layer . cornerRadius = 20.0 myTextView . layer . borderWidth = 1 myTextView . layer . borderColor = UIColor . blackColor (). CGColor myTextView . font = UIFont . systemFontOfSize ( CGFloat ( 20 )) myTextView . textColor = UIColor . blackColor () myTextView . textAlignment = NSTextAlignment . Left myTextView . dataDetectorTypes = UIDataDetectorTypes . All myTextView . layer . shadowOpacity = 0.5 myTextView . layer . masksToBounds = false myTextView . editable = false self . view . addSubview ( myTextView ) // \u901a\u4fe1\u5148\u306eURL\u3092\u751f\u6210. let myUrl : NSURL = NSURL ( string : \"http://xxx/hello.php\" ) ! // \u30bb\u30c3\u30b7\u30e7\u30f3\u306e\u751f\u6210. let session = NSURLSession ( configuration : NSURLSessionConfiguration . defaultSessionConfiguration ()) // \u901a\u4fe1\u306e\u30bf\u30b9\u30af\u3092\u751f\u6210. let task = session . dataTaskWithURL ( url , completionHandler : { ( data , response , err ) in if let _data = data { // \u5e30\u3063\u3066\u304d\u305f\u30c7\u30fc\u30bf\u3092\u6587\u5b57\u5217\u306b\u5909\u63db. let getData : NSString = NSString ( data : _data , encoding : NSUTF8StringEncoding ) ! // \u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u3060\u3068UI\u306e\u51e6\u7406\u304c\u51fa\u6765\u306a\u3044\u306e\u3067\u3001\u30e1\u30a4\u30f3\u30b9\u30ec\u30c3\u30c9\u3067UI\u306e\u51e6\u7406\u3092\u884c\u308f\u305b\u308b. dispatch_async ( dispatch_get_main_queue (), { myTextView . text = getData as String }) } }) // \u30bf\u30b9\u30af\u306e\u5b9f\u884c. task . resume () } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } } 3.x\u30684.x\u306e\u5dee\u5206 url \u3092 myUrl \u306b\u5909\u66f4 2.x\u30683.x\u306e\u5dee\u5206 NSURLSession\u304b\u3089URLSession\u306b\u5909\u66f4\uff08\u4ed6\u3082\u540c\u3058\u304f\uff09 dispatch_async(dispatch_get_main_queue(), { \u304b\u3089 DispatchQueue.main.async(execute: { \u306b\u5909\u66f4 dataTaskWithURL(url) \u304b\u3089 dataTask(with: url as URL) \u306b\u5909\u66f4 session.dataTaskWithURL(url, completionHandler: { \u304b\u3089 session.dataTask(with: url as URL, completionHandler: { \u306b\u5909\u66f4 Reference URLSession https://developer.apple.com/reference/foundation/urlsession URLSessionConfiguration https://developer.apple.com/reference/foundation/urlsessionconfiguration NSURL https://developer.apple.com/reference/foundation/nsurl DispatchQueue https://developer.apple.com/reference/dispatch/dispatchqueue UITextView https://developer.apple.com/reference/uikit/uitextview","title":"NSURLSession\u3092\u7528\u3044\u305fHTTP\u901a\u4fe1(Handler\u3092\u7528\u3044\u305f\u51e6\u7406)"},{"location":"6.connection/004_nsurlsession/#nsurlsessionhttphandler","text":"","title":"NSURLSession\u3092\u7528\u3044\u305fHTTP\u901a\u4fe1(Handler\u3092\u7528\u3044\u305f\u51e6\u7406)"},{"location":"6.connection/004_nsurlsession/#ios9ats","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 // // ViewController.swift // Connection004 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController , URLSessionDelegate , URLSessionDataDelegate { override func viewDidLoad () { super . viewDidLoad () self . view . backgroundColor = UIColor . lightGray // \u8868\u793a\u7528\u306eTextView\u3092\u7528\u610f. let myTextView = UITextView ( frame : CGRect ( x : 10 , y : 50 , width : self . view . frame . width - 20 , height : 500 )) myTextView . backgroundColor = UIColor ( red : 0.9 , green : 0.9 , blue : 1 , alpha : 1.0 ) myTextView . layer . masksToBounds = true myTextView . layer . cornerRadius = 20.0 myTextView . layer . borderWidth = 1 myTextView . layer . borderColor = UIColor . black . cgColor myTextView . font = UIFont . systemFont ( ofSize : CGFloat ( 20 )) myTextView . textColor = UIColor . black myTextView . textAlignment = NSTextAlignment . left myTextView . dataDetectorTypes = UIDataDetectorTypes . all myTextView . layer . shadowOpacity = 0.5 myTextView . layer . masksToBounds = false myTextView . isEditable = false self . view . addSubview ( myTextView ) // \u901a\u4fe1\u5148\u306eURL\u3092\u751f\u6210. let myUrl : NSURL = NSURL ( string : \"http://xxx/hello.php\" ) ! // \u30bb\u30c3\u30b7\u30e7\u30f3\u306e\u751f\u6210. let session = URLSession ( configuration : URLSessionConfiguration . default ) // \u901a\u4fe1\u306e\u30bf\u30b9\u30af\u3092\u751f\u6210. let task = session . dataTask ( with : myUrl as URL , completionHandler : { ( data , response , err ) in if let _data = data { // \u5e30\u3063\u3066\u304d\u305f\u30c7\u30fc\u30bf\u3092\u6587\u5b57\u5217\u306b\u5909\u63db. let getData : NSString = NSString ( data : _data , encoding : String . Encoding . utf8 . rawValue ) ! // \u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u3060\u3068UI\u306e\u51e6\u7406\u304c\u51fa\u6765\u306a\u3044\u306e\u3067\u3001\u30e1\u30a4\u30f3\u30b9\u30ec\u30c3\u30c9\u3067UI\u306e\u51e6\u7406\u3092\u884c\u308f\u305b\u308b. DispatchQueue . main . async ( execute : { myTextView . text = getData as String }) } }) // \u30bf\u30b9\u30af\u306e\u5b9f\u884c. task . resume () } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 // // ViewController.swift // Connection004 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController , URLSessionDelegate , URLSessionDataDelegate { override func viewDidLoad () { super . viewDidLoad () self . view . backgroundColor = UIColor . lightGray // \u8868\u793a\u7528\u306eTextView\u3092\u7528\u610f. let myTextView = UITextView ( frame : CGRect ( x : 10 , y : 50 , width : self . view . frame . width - 20 , height : 500 )) myTextView . backgroundColor = UIColor ( red : 0.9 , green : 0.9 , blue : 1 , alpha : 1.0 ) myTextView . layer . masksToBounds = true myTextView . layer . cornerRadius = 20.0 myTextView . layer . borderWidth = 1 myTextView . layer . borderColor = UIColor . black . cgColor myTextView . font = UIFont . systemFont ( ofSize : CGFloat ( 20 )) myTextView . textColor = UIColor . black myTextView . textAlignment = NSTextAlignment . left myTextView . dataDetectorTypes = UIDataDetectorTypes . all myTextView . layer . shadowOpacity = 0.5 myTextView . layer . masksToBounds = false myTextView . isEditable = false self . view . addSubview ( myTextView ) // \u901a\u4fe1\u5148\u306eURL\u3092\u751f\u6210. let myUrl : NSURL = NSURL ( string : \"http://xxx/hello.php\" ) ! // \u30bb\u30c3\u30b7\u30e7\u30f3\u306e\u751f\u6210. let session = URLSession ( configuration : URLSessionConfiguration . default ) // \u901a\u4fe1\u306e\u30bf\u30b9\u30af\u3092\u751f\u6210. let task = session . dataTask ( with : url as URL , completionHandler : { ( data , response , err ) in if let _data = data { // \u5e30\u3063\u3066\u304d\u305f\u30c7\u30fc\u30bf\u3092\u6587\u5b57\u5217\u306b\u5909\u63db. let getData : NSString = NSString ( data : _data , encoding : String . Encoding . utf8 . rawValue ) ! // \u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u3060\u3068UI\u306e\u51e6\u7406\u304c\u51fa\u6765\u306a\u3044\u306e\u3067\u3001\u30e1\u30a4\u30f3\u30b9\u30ec\u30c3\u30c9\u3067UI\u306e\u51e6\u7406\u3092\u884c\u308f\u305b\u308b. DispatchQueue . main . async ( execute : { myTextView . text = getData as String }) } }) // \u30bf\u30b9\u30af\u306e\u5b9f\u884c. task . resume () } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 // // ViewController.swift // Connection004 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () self . view . backgroundColor = UIColor . lightGrayColor () // \u8868\u793a\u7528\u306eTextView\u3092\u7528\u610f. let myTextView = UITextView ( frame : CGRectMake ( 10 , 50 , self . view . frame . width - 20 , 500 )) myTextView . backgroundColor = UIColor ( red : 0.9 , green : 0.9 , blue : 1 , alpha : 1.0 ) myTextView . layer . masksToBounds = true myTextView . layer . cornerRadius = 20.0 myTextView . layer . borderWidth = 1 myTextView . layer . borderColor = UIColor . blackColor (). CGColor myTextView . font = UIFont . systemFontOfSize ( CGFloat ( 20 )) myTextView . textColor = UIColor . blackColor () myTextView . textAlignment = NSTextAlignment . Left myTextView . dataDetectorTypes = UIDataDetectorTypes . All myTextView . layer . shadowOpacity = 0.5 myTextView . layer . masksToBounds = false myTextView . editable = false self . view . addSubview ( myTextView ) // \u901a\u4fe1\u5148\u306eURL\u3092\u751f\u6210. let myUrl : NSURL = NSURL ( string : \"http://xxx/hello.php\" ) ! // \u30bb\u30c3\u30b7\u30e7\u30f3\u306e\u751f\u6210. let session = NSURLSession ( configuration : NSURLSessionConfiguration . defaultSessionConfiguration ()) // \u901a\u4fe1\u306e\u30bf\u30b9\u30af\u3092\u751f\u6210. let task = session . dataTaskWithURL ( url , completionHandler : { ( data , response , err ) in if let _data = data { // \u5e30\u3063\u3066\u304d\u305f\u30c7\u30fc\u30bf\u3092\u6587\u5b57\u5217\u306b\u5909\u63db. let getData : NSString = NSString ( data : _data , encoding : NSUTF8StringEncoding ) ! // \u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u3060\u3068UI\u306e\u51e6\u7406\u304c\u51fa\u6765\u306a\u3044\u306e\u3067\u3001\u30e1\u30a4\u30f3\u30b9\u30ec\u30c3\u30c9\u3067UI\u306e\u51e6\u7406\u3092\u884c\u308f\u305b\u308b. dispatch_async ( dispatch_get_main_queue (), { myTextView . text = getData as String }) } }) // \u30bf\u30b9\u30af\u306e\u5b9f\u884c. task . resume () } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } }","title":"iOS9\u304b\u3089\u30ea\u30af\u30a8\u30b9\u30c8\u5148\u306b\u3088\u3063\u3066\u306fATS\u3092\u7121\u52b9\u5316\u30fb\u5bfe\u51e6\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059"},{"location":"6.connection/004_nsurlsession/#3x4x","text":"url \u3092 myUrl \u306b\u5909\u66f4","title":"3.x\u30684.x\u306e\u5dee\u5206"},{"location":"6.connection/004_nsurlsession/#2x3x","text":"NSURLSession\u304b\u3089URLSession\u306b\u5909\u66f4\uff08\u4ed6\u3082\u540c\u3058\u304f\uff09 dispatch_async(dispatch_get_main_queue(), { \u304b\u3089 DispatchQueue.main.async(execute: { \u306b\u5909\u66f4 dataTaskWithURL(url) \u304b\u3089 dataTask(with: url as URL) \u306b\u5909\u66f4 session.dataTaskWithURL(url, completionHandler: { \u304b\u3089 session.dataTask(with: url as URL, completionHandler: { \u306b\u5909\u66f4","title":"2.x\u30683.x\u306e\u5dee\u5206"},{"location":"6.connection/004_nsurlsession/#reference","text":"URLSession https://developer.apple.com/reference/foundation/urlsession URLSessionConfiguration https://developer.apple.com/reference/foundation/urlsessionconfiguration NSURL https://developer.apple.com/reference/foundation/nsurl DispatchQueue https://developer.apple.com/reference/dispatch/dispatchqueue UITextView https://developer.apple.com/reference/uikit/uitextview","title":"Reference"},{"location":"6.connection/005_progress/","text":"\u901a\u4fe1\u306e\u9032\u6357\u3092\u77e5\u308b iOS9\u304b\u3089\u30ea\u30af\u30a8\u30b9\u30c8\u5148\u306b\u3088\u3063\u3066\u306fATS\u3092\u7121\u52b9\u5316\u30fb\u5bfe\u51e6\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059 Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 // // ViewController.swift // Connection005 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController , URLSessionDownloadDelegate { var myProgress : UIProgressView ! var myProgressLabel : UILabel ! var myImageView : UIImageView ! var myImage : UIImage ! override func viewDidLoad () { super . viewDidLoad () myImage = UIImage () myImageView = UIImageView ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 200 )) myImageView . center = self . view . center self . view . addSubview ( myImageView ) // Progress\u30d0\u30fc\u306e\u8a2d\u5b9a. myProgress = UIProgressView ( progressViewStyle : UIProgressView . Style . default ) myProgress . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : 400 ) myProgress . progress = 0.0 self . view . addSubview ( myProgress ) // Progress\u306e\u5185\u5bb9\u3092\u8868\u793a\u3059\u308b\u305f\u3081\u306e\u30e9\u30d9\u30eb. myProgressLabel = UILabel ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 150 )) myProgressLabel . text = \"0%\u3000\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\" myProgressLabel . textAlignment = NSTextAlignment . center myProgressLabel . center = CGPoint ( x : self . view . frame . width / 2 , y : 450 ) self . view . addSubview ( myProgressLabel ) // \u901a\u4fe1\u306e\u30b3\u30f3\u30d5\u30a3\u30b0\u3092\u7528\u610f. let config : URLSessionConfiguration = URLSessionConfiguration . default // Session\u3092\u4f5c\u6210\u3059\u308b. let session : URLSession = Foundation . URLSession ( configuration : config , delegate : self , delegateQueue : OperationQueue . main ) // \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u5148\u306eURL\u304b\u3089\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u751f\u6210. let url : NSURL = NSURL ( string : \"http://xxx/sample.png\" ) ! let request : URLRequest = URLRequest ( url : url as URL ) // \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30bf\u30b9\u30af\u3092\u751f\u6210. let task : URLSessionDownloadTask = session . downloadTask ( with : request ) // \u30bf\u30b9\u30af\u3092\u5b9f\u884c. task . resume () } /* \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u7d42\u4e86\u6642\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8. */ func urlSession ( _ session : URLSession , downloadTask : URLSessionDownloadTask , didFinishDownloadingTo location : URL ) { // \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305f\u30c7\u30fc\u30bf\u3092\u53d6\u308a\u51fa\u3059. let data : NSData = NSData ( contentsOf : location as URL ) ! if data . length > 0 { myImage = UIImage ( data : data as Data ) myImageView . image = myImage print ( \"data is found\" ) } } /* \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u306e\u958b\u59cb\u6642\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8. */ func urlSession ( _ session : URLSession , downloadTask : URLSessionDownloadTask , didResumeAtOffset fileOffset : Int64 , expectedTotalBytes : Int64 ) { myProgress . progress = 0 myProgress . setProgress ( 1.0 , animated : true ) myProgressLabel . text = \"100% \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\" } /* \u30bf\u30b9\u30af\u51e6\u7406\u4e2d\u306b\u5b9a\u671f\u7684\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8. */ func urlSession ( _ session : URLSession , downloadTask : URLSessionDownloadTask , didWriteData bytesWritten : Int64 , totalBytesWritten : Int64 , totalBytesExpectedToWrite : Int64 ) { let per : Float = Float ( totalBytesWritten / totalBytesExpectedToWrite ) myProgress . setProgress ( per , animated : true ) myProgressLabel . text = \" \\(( Int )( myProgress . progress * 100 )) %\u3000\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\" print ( myProgress . progress ) } /* \u30bf\u30b9\u30af\u7d42\u4e86\u6642\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8. */ func urlSession ( _ session : URLSession , task : URLSessionTask , didCompleteWithError error : Error ?) { if error != nil { print ( \"\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u304c\u5931\u6557\u3057\u307e\u3057\u305f\" ) print ( error ) } else { print ( \"\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\" ) } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 // // ViewController.swift // Connection005 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController , URLSessionDownloadDelegate { var myProgress : UIProgressView ! var myProgressLabel : UILabel ! var myImageView : UIImageView ! var myImage : UIImage ! override func viewDidLoad () { super . viewDidLoad () myImage = UIImage () myImageView = UIImageView ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 200 )) myImageView . center = self . view . center self . view . addSubview ( myImageView ) // Progress\u30d0\u30fc\u306e\u8a2d\u5b9a. myProgress = UIProgressView ( progressViewStyle : UIProgressViewStyle . default ) myProgress . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : 400 ) myProgress . progress = 0.0 self . view . addSubview ( myProgress ) // Progress\u306e\u5185\u5bb9\u3092\u8868\u793a\u3059\u308b\u305f\u3081\u306e\u30e9\u30d9\u30eb. myProgressLabel = UILabel ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 150 )) myProgressLabel . text = \"0%\u3000\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\" myProgressLabel . textAlignment = NSTextAlignment . center myProgressLabel . center = CGPoint ( x : self . view . frame . width / 2 , y : 450 ) self . view . addSubview ( myProgressLabel ) // \u901a\u4fe1\u306e\u30b3\u30f3\u30d5\u30a3\u30b0\u3092\u7528\u610f. let config : URLSessionConfiguration = URLSessionConfiguration . default // Session\u3092\u4f5c\u6210\u3059\u308b. let session : URLSession = Foundation . URLSession ( configuration : config , delegate : self , delegateQueue : OperationQueue . main ) // \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u5148\u306eURL\u304b\u3089\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u751f\u6210. let url : NSURL = NSURL ( string : \"http://xxx/sample.png\" ) ! let request : URLRequest = URLRequest ( url : url as URL ) // \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30bf\u30b9\u30af\u3092\u751f\u6210. let task : URLSessionDownloadTask = session . downloadTask ( with : request ) // \u30bf\u30b9\u30af\u3092\u5b9f\u884c. task . resume () } /* \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u7d42\u4e86\u6642\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8. */ func urlSession ( _ session : URLSession , downloadTask : URLSessionDownloadTask , didFinishDownloadingTo location : URL ) { // \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305f\u30c7\u30fc\u30bf\u3092\u53d6\u308a\u51fa\u3059. let data : NSData = NSData ( contentsOf : location as URL ) ! if data . length > 0 { myImage = UIImage ( data : data as Data ) myImageView . image = myImage print ( \"data is found\" ) } } /* \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u306e\u958b\u59cb\u6642\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8. */ func urlSession ( _ session : URLSession , downloadTask : URLSessionDownloadTask , didResumeAtOffset fileOffset : Int64 , expectedTotalBytes : Int64 ) { myProgress . progress = 0 myProgress . setProgress ( 1.0 , animated : true ) myProgressLabel . text = \"100% \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\" } /* \u30bf\u30b9\u30af\u51e6\u7406\u4e2d\u306b\u5b9a\u671f\u7684\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8. */ func urlSession ( _ session : URLSession , downloadTask : URLSessionDownloadTask , didWriteData bytesWritten : Int64 , totalBytesWritten : Int64 , totalBytesExpectedToWrite : Int64 ) { let per : Float = Float ( totalBytesWritten / totalBytesExpectedToWrite ) myProgress . setProgress ( per , animated : true ) myProgressLabel . text = \" \\(( Int )( myProgress . progress * 100 )) %\u3000\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\" print ( myProgress . progress ) } /* \u30bf\u30b9\u30af\u7d42\u4e86\u6642\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8. */ func urlSession ( _ session : URLSession , task : URLSessionTask , didCompleteWithError error : Error ?) { if error != nil { print ( \"\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u304c\u5931\u6557\u3057\u307e\u3057\u305f\" ) print ( error ) } else { print ( \"\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\" ) } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 // // ViewController.swift // Connection005 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController , NSURLSessionDownloadDelegate { var myProgress : UIProgressView ! var myProgressLabel : UILabel ! var myImageView : UIImageView ! var myImage : UIImage ! override func viewDidLoad () { super . viewDidLoad () myImage = UIImage () myImageView = UIImageView ( frame : CGRectMake ( 0 , 0 , 200 , 200 )) myImageView . center = self . view . center self . view . addSubview ( myImageView ) // Progress\u30d0\u30fc\u306e\u8a2d\u5b9a. myProgress = UIProgressView ( progressViewStyle : UIProgressViewStyle . Default ) myProgress . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : 400 ) myProgress . progress = 0.0 self . view . addSubview ( myProgress ) // Progress\u306e\u5185\u5bb9\u3092\u8868\u793a\u3059\u308b\u305f\u3081\u306e\u30e9\u30d9\u30eb. myProgressLabel = UILabel ( frame : CGRectMake ( 0 , 0 , 200 , 150 )) myProgressLabel . text = \"0%\u3000\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\" myProgressLabel . textAlignment = NSTextAlignment . Center myProgressLabel . center = CGPoint ( x : self . view . frame . width / 2 , y : 450 ) self . view . addSubview ( myProgressLabel ) // \u901a\u4fe1\u306e\u30b3\u30f3\u30d5\u30a3\u30b0\u3092\u7528\u610f. let config : NSURLSessionConfiguration = NSURLSessionConfiguration . defaultSessionConfiguration () // Session\u3092\u4f5c\u6210\u3059\u308b. let session : NSURLSession = NSURLSession ( configuration : config , delegate : self , delegateQueue : NSOperationQueue . mainQueue ()) // \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u5148\u306eURL\u304b\u3089\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u751f\u6210. let url : NSURL = NSURL ( string : \"http://xxx/sample.png\" ) ! let request : NSURLRequest = NSURLRequest ( URL : url ) // \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30bf\u30b9\u30af\u3092\u751f\u6210. let task : NSURLSessionDownloadTask = session . downloadTaskWithRequest ( request ) // \u30bf\u30b9\u30af\u3092\u5b9f\u884c. task . resume () } /* \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u7d42\u4e86\u6642\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8. */ func URLSession ( session : NSURLSession , downloadTask : NSURLSessionDownloadTask , didFinishDownloadingToURL location : NSURL ) { // \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305f\u30c7\u30fc\u30bf\u3092\u53d6\u308a\u51fa\u3059. let data : NSData = NSData ( contentsOfURL : location ) ! if data . length > 0 { myImage = UIImage ( data : data ) myImageView . image = myImage print ( \"data is found\" ) } } /* \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u306e\u958b\u59cb\u6642\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8. */ func URLSession ( session : NSURLSession , downloadTask : NSURLSessionDownloadTask , didResumeAtOffset fileOffset : Int64 , expectedTotalBytes : Int64 ) { myProgress . progress = 0 myProgress . setProgress ( 1.0 , animated : true ) myProgressLabel . text = \"100% \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\" } /* \u30bf\u30b9\u30af\u51e6\u7406\u4e2d\u306b\u5b9a\u671f\u7684\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8. */ func URLSession ( session : NSURLSession , downloadTask : NSURLSessionDownloadTask , didWriteData bytesWritten : Int64 , totalBytesWritten : Int64 , totalBytesExpectedToWrite : Int64 ) { let per : Float = Float ( totalBytesWritten / totalBytesExpectedToWrite ) myProgress . setProgress ( per , animated : true ) myProgressLabel . text = \" \\(( Int )( myProgress . progress * 100 )) %\u3000\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\" print ( myProgress . progress ) } /* \u30bf\u30b9\u30af\u7d42\u4e86\u6642\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8. */ func URLSession ( session : NSURLSession , task : NSURLSessionTask , didCompleteWithError error : NSError ?) { if error != nil { print ( \"\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u304c\u5931\u6557\u3057\u307e\u3057\u305f\" ) print ( error ) } else { print ( \"\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\" ) } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } } 3.x\u30684.x\u306e\u5dee\u5206 UIProgressViewStyle \u304c UIProgressView.Style \u306b\u5909\u66f4 2.x\u30683.x\u306e\u5dee\u5206 NSURLSession\u304b\u3089URLSession\u306b\u5909\u66f4\uff08\u4ed6\u3082\u540c\u3058\u304f\uff09 dispatch_async(dispatch_get_main_queue(), { \u304b\u3089 DispatchQueue.main.async(execute: { \u306b\u5909\u66f4 NSURLSession(configuration: config, delegate: self, delegateQueue: NSOperationQueue.mainQueue()) \u304b\u3089 Foundation.URLSession(configuration: config, delegate: self, delegateQueue: OperationQueue.main) \u306b\u5909\u66f4 \u30c7\u30ea\u30b2\u30fc\u30c8\u30e1\u30bd\u30c3\u30c9\u306e\u63a5\u982d\u8a9e\u304c URLSession \u304b\u3089 urlSession \u306b\u5909\u66f4 Reference URLSession https://developer.apple.com/reference/foundation/urlsession URLSessionConfiguration https://developer.apple.com/reference/foundation/urlsessionconfiguration NSURL https://developer.apple.com/reference/foundation/nsurl URLSessionDownloadDelegate https://developer.apple.com/reference/foundation/nsurlsessiondownloaddelegate","title":"\u901a\u4fe1\u306e\u9032\u6357\u3092\u77e5\u308b"},{"location":"6.connection/005_progress/#_1","text":"","title":"\u901a\u4fe1\u306e\u9032\u6357\u3092\u77e5\u308b"},{"location":"6.connection/005_progress/#ios9ats","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 // // ViewController.swift // Connection005 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController , URLSessionDownloadDelegate { var myProgress : UIProgressView ! var myProgressLabel : UILabel ! var myImageView : UIImageView ! var myImage : UIImage ! override func viewDidLoad () { super . viewDidLoad () myImage = UIImage () myImageView = UIImageView ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 200 )) myImageView . center = self . view . center self . view . addSubview ( myImageView ) // Progress\u30d0\u30fc\u306e\u8a2d\u5b9a. myProgress = UIProgressView ( progressViewStyle : UIProgressView . Style . default ) myProgress . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : 400 ) myProgress . progress = 0.0 self . view . addSubview ( myProgress ) // Progress\u306e\u5185\u5bb9\u3092\u8868\u793a\u3059\u308b\u305f\u3081\u306e\u30e9\u30d9\u30eb. myProgressLabel = UILabel ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 150 )) myProgressLabel . text = \"0%\u3000\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\" myProgressLabel . textAlignment = NSTextAlignment . center myProgressLabel . center = CGPoint ( x : self . view . frame . width / 2 , y : 450 ) self . view . addSubview ( myProgressLabel ) // \u901a\u4fe1\u306e\u30b3\u30f3\u30d5\u30a3\u30b0\u3092\u7528\u610f. let config : URLSessionConfiguration = URLSessionConfiguration . default // Session\u3092\u4f5c\u6210\u3059\u308b. let session : URLSession = Foundation . URLSession ( configuration : config , delegate : self , delegateQueue : OperationQueue . main ) // \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u5148\u306eURL\u304b\u3089\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u751f\u6210. let url : NSURL = NSURL ( string : \"http://xxx/sample.png\" ) ! let request : URLRequest = URLRequest ( url : url as URL ) // \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30bf\u30b9\u30af\u3092\u751f\u6210. let task : URLSessionDownloadTask = session . downloadTask ( with : request ) // \u30bf\u30b9\u30af\u3092\u5b9f\u884c. task . resume () } /* \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u7d42\u4e86\u6642\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8. */ func urlSession ( _ session : URLSession , downloadTask : URLSessionDownloadTask , didFinishDownloadingTo location : URL ) { // \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305f\u30c7\u30fc\u30bf\u3092\u53d6\u308a\u51fa\u3059. let data : NSData = NSData ( contentsOf : location as URL ) ! if data . length > 0 { myImage = UIImage ( data : data as Data ) myImageView . image = myImage print ( \"data is found\" ) } } /* \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u306e\u958b\u59cb\u6642\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8. */ func urlSession ( _ session : URLSession , downloadTask : URLSessionDownloadTask , didResumeAtOffset fileOffset : Int64 , expectedTotalBytes : Int64 ) { myProgress . progress = 0 myProgress . setProgress ( 1.0 , animated : true ) myProgressLabel . text = \"100% \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\" } /* \u30bf\u30b9\u30af\u51e6\u7406\u4e2d\u306b\u5b9a\u671f\u7684\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8. */ func urlSession ( _ session : URLSession , downloadTask : URLSessionDownloadTask , didWriteData bytesWritten : Int64 , totalBytesWritten : Int64 , totalBytesExpectedToWrite : Int64 ) { let per : Float = Float ( totalBytesWritten / totalBytesExpectedToWrite ) myProgress . setProgress ( per , animated : true ) myProgressLabel . text = \" \\(( Int )( myProgress . progress * 100 )) %\u3000\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\" print ( myProgress . progress ) } /* \u30bf\u30b9\u30af\u7d42\u4e86\u6642\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8. */ func urlSession ( _ session : URLSession , task : URLSessionTask , didCompleteWithError error : Error ?) { if error != nil { print ( \"\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u304c\u5931\u6557\u3057\u307e\u3057\u305f\" ) print ( error ) } else { print ( \"\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\" ) } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 // // ViewController.swift // Connection005 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController , URLSessionDownloadDelegate { var myProgress : UIProgressView ! var myProgressLabel : UILabel ! var myImageView : UIImageView ! var myImage : UIImage ! override func viewDidLoad () { super . viewDidLoad () myImage = UIImage () myImageView = UIImageView ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 200 )) myImageView . center = self . view . center self . view . addSubview ( myImageView ) // Progress\u30d0\u30fc\u306e\u8a2d\u5b9a. myProgress = UIProgressView ( progressViewStyle : UIProgressViewStyle . default ) myProgress . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : 400 ) myProgress . progress = 0.0 self . view . addSubview ( myProgress ) // Progress\u306e\u5185\u5bb9\u3092\u8868\u793a\u3059\u308b\u305f\u3081\u306e\u30e9\u30d9\u30eb. myProgressLabel = UILabel ( frame : CGRect ( x : 0 , y : 0 , width : 200 , height : 150 )) myProgressLabel . text = \"0%\u3000\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\" myProgressLabel . textAlignment = NSTextAlignment . center myProgressLabel . center = CGPoint ( x : self . view . frame . width / 2 , y : 450 ) self . view . addSubview ( myProgressLabel ) // \u901a\u4fe1\u306e\u30b3\u30f3\u30d5\u30a3\u30b0\u3092\u7528\u610f. let config : URLSessionConfiguration = URLSessionConfiguration . default // Session\u3092\u4f5c\u6210\u3059\u308b. let session : URLSession = Foundation . URLSession ( configuration : config , delegate : self , delegateQueue : OperationQueue . main ) // \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u5148\u306eURL\u304b\u3089\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u751f\u6210. let url : NSURL = NSURL ( string : \"http://xxx/sample.png\" ) ! let request : URLRequest = URLRequest ( url : url as URL ) // \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30bf\u30b9\u30af\u3092\u751f\u6210. let task : URLSessionDownloadTask = session . downloadTask ( with : request ) // \u30bf\u30b9\u30af\u3092\u5b9f\u884c. task . resume () } /* \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u7d42\u4e86\u6642\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8. */ func urlSession ( _ session : URLSession , downloadTask : URLSessionDownloadTask , didFinishDownloadingTo location : URL ) { // \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305f\u30c7\u30fc\u30bf\u3092\u53d6\u308a\u51fa\u3059. let data : NSData = NSData ( contentsOf : location as URL ) ! if data . length > 0 { myImage = UIImage ( data : data as Data ) myImageView . image = myImage print ( \"data is found\" ) } } /* \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u306e\u958b\u59cb\u6642\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8. */ func urlSession ( _ session : URLSession , downloadTask : URLSessionDownloadTask , didResumeAtOffset fileOffset : Int64 , expectedTotalBytes : Int64 ) { myProgress . progress = 0 myProgress . setProgress ( 1.0 , animated : true ) myProgressLabel . text = \"100% \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\" } /* \u30bf\u30b9\u30af\u51e6\u7406\u4e2d\u306b\u5b9a\u671f\u7684\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8. */ func urlSession ( _ session : URLSession , downloadTask : URLSessionDownloadTask , didWriteData bytesWritten : Int64 , totalBytesWritten : Int64 , totalBytesExpectedToWrite : Int64 ) { let per : Float = Float ( totalBytesWritten / totalBytesExpectedToWrite ) myProgress . setProgress ( per , animated : true ) myProgressLabel . text = \" \\(( Int )( myProgress . progress * 100 )) %\u3000\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\" print ( myProgress . progress ) } /* \u30bf\u30b9\u30af\u7d42\u4e86\u6642\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8. */ func urlSession ( _ session : URLSession , task : URLSessionTask , didCompleteWithError error : Error ?) { if error != nil { print ( \"\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u304c\u5931\u6557\u3057\u307e\u3057\u305f\" ) print ( error ) } else { print ( \"\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\" ) } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 // // ViewController.swift // Connection005 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController , NSURLSessionDownloadDelegate { var myProgress : UIProgressView ! var myProgressLabel : UILabel ! var myImageView : UIImageView ! var myImage : UIImage ! override func viewDidLoad () { super . viewDidLoad () myImage = UIImage () myImageView = UIImageView ( frame : CGRectMake ( 0 , 0 , 200 , 200 )) myImageView . center = self . view . center self . view . addSubview ( myImageView ) // Progress\u30d0\u30fc\u306e\u8a2d\u5b9a. myProgress = UIProgressView ( progressViewStyle : UIProgressViewStyle . Default ) myProgress . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : 400 ) myProgress . progress = 0.0 self . view . addSubview ( myProgress ) // Progress\u306e\u5185\u5bb9\u3092\u8868\u793a\u3059\u308b\u305f\u3081\u306e\u30e9\u30d9\u30eb. myProgressLabel = UILabel ( frame : CGRectMake ( 0 , 0 , 200 , 150 )) myProgressLabel . text = \"0%\u3000\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\" myProgressLabel . textAlignment = NSTextAlignment . Center myProgressLabel . center = CGPoint ( x : self . view . frame . width / 2 , y : 450 ) self . view . addSubview ( myProgressLabel ) // \u901a\u4fe1\u306e\u30b3\u30f3\u30d5\u30a3\u30b0\u3092\u7528\u610f. let config : NSURLSessionConfiguration = NSURLSessionConfiguration . defaultSessionConfiguration () // Session\u3092\u4f5c\u6210\u3059\u308b. let session : NSURLSession = NSURLSession ( configuration : config , delegate : self , delegateQueue : NSOperationQueue . mainQueue ()) // \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u5148\u306eURL\u304b\u3089\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u751f\u6210. let url : NSURL = NSURL ( string : \"http://xxx/sample.png\" ) ! let request : NSURLRequest = NSURLRequest ( URL : url ) // \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30bf\u30b9\u30af\u3092\u751f\u6210. let task : NSURLSessionDownloadTask = session . downloadTaskWithRequest ( request ) // \u30bf\u30b9\u30af\u3092\u5b9f\u884c. task . resume () } /* \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u7d42\u4e86\u6642\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8. */ func URLSession ( session : NSURLSession , downloadTask : NSURLSessionDownloadTask , didFinishDownloadingToURL location : NSURL ) { // \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305f\u30c7\u30fc\u30bf\u3092\u53d6\u308a\u51fa\u3059. let data : NSData = NSData ( contentsOfURL : location ) ! if data . length > 0 { myImage = UIImage ( data : data ) myImageView . image = myImage print ( \"data is found\" ) } } /* \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u306e\u958b\u59cb\u6642\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8. */ func URLSession ( session : NSURLSession , downloadTask : NSURLSessionDownloadTask , didResumeAtOffset fileOffset : Int64 , expectedTotalBytes : Int64 ) { myProgress . progress = 0 myProgress . setProgress ( 1.0 , animated : true ) myProgressLabel . text = \"100% \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\" } /* \u30bf\u30b9\u30af\u51e6\u7406\u4e2d\u306b\u5b9a\u671f\u7684\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8. */ func URLSession ( session : NSURLSession , downloadTask : NSURLSessionDownloadTask , didWriteData bytesWritten : Int64 , totalBytesWritten : Int64 , totalBytesExpectedToWrite : Int64 ) { let per : Float = Float ( totalBytesWritten / totalBytesExpectedToWrite ) myProgress . setProgress ( per , animated : true ) myProgressLabel . text = \" \\(( Int )( myProgress . progress * 100 )) %\u3000\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\" print ( myProgress . progress ) } /* \u30bf\u30b9\u30af\u7d42\u4e86\u6642\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8. */ func URLSession ( session : NSURLSession , task : NSURLSessionTask , didCompleteWithError error : NSError ?) { if error != nil { print ( \"\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u304c\u5931\u6557\u3057\u307e\u3057\u305f\" ) print ( error ) } else { print ( \"\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\" ) } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } }","title":"iOS9\u304b\u3089\u30ea\u30af\u30a8\u30b9\u30c8\u5148\u306b\u3088\u3063\u3066\u306fATS\u3092\u7121\u52b9\u5316\u30fb\u5bfe\u51e6\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059"},{"location":"6.connection/005_progress/#3x4x","text":"UIProgressViewStyle \u304c UIProgressView.Style \u306b\u5909\u66f4","title":"3.x\u30684.x\u306e\u5dee\u5206"},{"location":"6.connection/005_progress/#2x3x","text":"NSURLSession\u304b\u3089URLSession\u306b\u5909\u66f4\uff08\u4ed6\u3082\u540c\u3058\u304f\uff09 dispatch_async(dispatch_get_main_queue(), { \u304b\u3089 DispatchQueue.main.async(execute: { \u306b\u5909\u66f4 NSURLSession(configuration: config, delegate: self, delegateQueue: NSOperationQueue.mainQueue()) \u304b\u3089 Foundation.URLSession(configuration: config, delegate: self, delegateQueue: OperationQueue.main) \u306b\u5909\u66f4 \u30c7\u30ea\u30b2\u30fc\u30c8\u30e1\u30bd\u30c3\u30c9\u306e\u63a5\u982d\u8a9e\u304c URLSession \u304b\u3089 urlSession \u306b\u5909\u66f4","title":"2.x\u30683.x\u306e\u5dee\u5206"},{"location":"6.connection/005_progress/#reference","text":"URLSession https://developer.apple.com/reference/foundation/urlsession URLSessionConfiguration https://developer.apple.com/reference/foundation/urlsessionconfiguration NSURL https://developer.apple.com/reference/foundation/nsurl URLSessionDownloadDelegate https://developer.apple.com/reference/foundation/nsurlsessiondownloaddelegate","title":"Reference"},{"location":"6.connection/006_timeout/","text":"\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u306e\u6307\u5b9a iOS9\u304b\u3089\u30ea\u30af\u30a8\u30b9\u30c8\u5148\u306b\u3088\u3063\u3066\u306fATS\u3092\u7121\u52b9\u5316\u30fb\u5bfe\u51e6\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059 Swift 4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 // // ViewController.swift // Connection006 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController , URLSessionDelegate , URLSessionDataDelegate { var myTextView : UITextView ! override func viewDidLoad () { super . viewDidLoad () // view\u306e\u80cc\u666f\u3092\u7070\u8272\u306b\u8a2d\u5b9a. self . view . backgroundColor = UIColor . lightGray // \u8868\u793a\u7528\u306eTextView\u3092\u7528\u610f. myTextView = UITextView ( frame : CGRect ( x : 10 , y : 50 , width : self . view . frame . width - 20 , height : 500 )) myTextView . backgroundColor = UIColor ( red : 0.9 , green : 0.9 , blue : 1 , alpha : 1.0 ) myTextView . layer . masksToBounds = true myTextView . layer . cornerRadius = 20.0 myTextView . layer . borderWidth = 1 myTextView . layer . borderColor = UIColor . black . cgColor myTextView . font = UIFont . systemFont ( ofSize : CGFloat ( 20 )) myTextView . textColor = UIColor . black myTextView . textAlignment = NSTextAlignment . left myTextView . dataDetectorTypes = UIDataDetectorTypes . all myTextView . layer . shadowOpacity = 0.5 myTextView . layer . masksToBounds = false myTextView . isEditable = false // view\u306bTextView\u3092\u8ffd\u52a0. self . view . addSubview ( myTextView ) // \u901a\u4fe1\u7528\u306eConfig\u3092\u751f\u6210. let config : URLSessionConfiguration = URLSessionConfiguration . background ( withIdentifier : \"backgroundTask\" ) // \u77ed\u3044\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u306e\u6307\u5b9a. config . timeoutIntervalForRequest = 60 // \u9577\u3044\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u306e\u6307\u5b9a. config . timeoutIntervalForResource = 60 * 60 * 24 * 7 // Session\u3092\u751f\u6210. let session : URLSession = URLSession ( configuration : config , delegate : self , delegateQueue : nil ) // \u901a\u4fe1\u5148\u306eURL\u3092\u751f\u6210. let url : NSURL = NSURL ( string : \"http://localhost/test/hello.php\" ) ! // \u30bf\u30b9\u30af\u306e\u751f\u6210. let task : URLSessionDataTask = session . dataTask ( with : url as URL ) // \u30bf\u30b9\u30af\u306e\u5b9f\u884c. task . resume () } /* \u901a\u4fe1\u304c\u7d42\u4e86\u3057\u305f\u3068\u304d\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8 */ func urlSession ( _ session : URLSession , dataTask : URLSessionDataTask , didReceive data : Data ) { print ( \"NSURLSessionDataTask\" ) //\u5e30\u3063\u3066\u304d\u305f\u30c7\u30fc\u30bf\u3092\u6587\u5b57\u5217\u306b\u5909\u63db let getData : NSString = NSString ( data : data , encoding : String . Encoding . utf8 . rawValue ) ! //\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u3060\u3068UI\u306e\u51e6\u7406\u304c\u51fa\u6765\u306a\u3044\u306e\u3067\u3001\u30e1\u30a4\u30f3\u30b9\u30ec\u30c3\u30c9\u3067UI\u306e\u51e6\u7406\u3092\u884c\u308f\u305b\u308b DispatchQueue . main . async ( execute : { self . myTextView . text = getData as String }) } /* \u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u304b\u3089\u30d5\u30a9\u30a2\u30b0\u30e9\u30a6\u30f3\u30c9\u306e\u5fa9\u5e30\u6642\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8 */ func urlSessionDidFinishEvents ( forBackgroundURLSession session : URLSession ) { print ( \"URLSessionDidFinishEventsForBackgroundURLSession\" ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 // // ViewController.swift // Connection006 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController , NSURLSessionDelegate , NSURLSessionDataDelegate { var myTextView : UITextView ! override func viewDidLoad () { super . viewDidLoad () // view\u306e\u80cc\u666f\u3092\u7070\u8272\u306b\u8a2d\u5b9a. self . view . backgroundColor = UIColor . lightGrayColor () // \u8868\u793a\u7528\u306eTextView\u3092\u7528\u610f. myTextView = UITextView ( frame : CGRectMake ( 10 , 50 , self . view . frame . width - 20 , 500 )) myTextView . backgroundColor = UIColor ( red : 0.9 , green : 0.9 , blue : 1 , alpha : 1.0 ) myTextView . layer . masksToBounds = true myTextView . layer . cornerRadius = 20.0 myTextView . layer . borderWidth = 1 myTextView . layer . borderColor = UIColor . blackColor (). CGColor myTextView . font = UIFont . systemFontOfSize ( CGFloat ( 20 )) myTextView . textColor = UIColor . blackColor () myTextView . textAlignment = NSTextAlignment . Left myTextView . dataDetectorTypes = UIDataDetectorTypes . All myTextView . layer . shadowOpacity = 0.5 myTextView . layer . masksToBounds = false myTextView . editable = false // view\u306bTextView\u3092\u8ffd\u52a0. self . view . addSubview ( myTextView ) // \u901a\u4fe1\u7528\u306eConfig\u3092\u751f\u6210. let config : NSURLSessionConfiguration = NSURLSessionConfiguration . backgroundSessionConfigurationWithIdentifier ( \"backgroundTask\" ) // \u77ed\u3044\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u306e\u6307\u5b9a. config . timeoutIntervalForRequest = 60 // \u9577\u3044\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u306e\u6307\u5b9a. config . timeoutIntervalForResource = 60 * 60 * 24 * 7 // Session\u3092\u751f\u6210. let session : NSURLSession = NSURLSession ( configuration : config , delegate : self , delegateQueue : nil ) // \u901a\u4fe1\u5148\u306eURL\u3092\u751f\u6210. let url : NSURL = NSURL ( string : \"http://localhost/test/hello.php\" ) ! // \u30bf\u30b9\u30af\u306e\u751f\u6210. let task : NSURLSessionDataTask = session . dataTaskWithURL ( url ) // \u30bf\u30b9\u30af\u306e\u5b9f\u884c. task . resume () } /* \u901a\u4fe1\u304c\u7d42\u4e86\u3057\u305f\u3068\u304d\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8 */ func URLSession ( session : NSURLSession , dataTask : NSURLSessionDataTask , didReceiveData data : NSData ) { print ( \"NSURLSessionDataTask\" ) //\u5e30\u3063\u3066\u304d\u305f\u30c7\u30fc\u30bf\u3092\u6587\u5b57\u5217\u306b\u5909\u63db let getData : NSString = NSString ( data : data , encoding : NSUTF8StringEncoding ) ! //\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u3060\u3068UI\u306e\u51e6\u7406\u304c\u51fa\u6765\u306a\u3044\u306e\u3067\u3001\u30e1\u30a4\u30f3\u30b9\u30ec\u30c3\u30c9\u3067UI\u306e\u51e6\u7406\u3092\u884c\u308f\u305b\u308b dispatch_async ( dispatch_get_main_queue (), { self . myTextView . text = getData as String }) } /* \u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u304b\u3089\u30d5\u30a9\u30a2\u30b0\u30e9\u30a6\u30f3\u30c9\u306e\u5fa9\u5e30\u6642\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8 */ func URLSessionDidFinishEventsForBackgroundURLSession ( session : NSURLSession ) { print ( \"URLSessionDidFinishEventsForBackgroundURLSession\" ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } } 2.x\u30683.x\u306e\u5dee\u5206 NSURLSession\u304b\u3089URLSession\u306b\u5909\u66f4\uff08\u4ed6\u3082\u540c\u3058\u304f\uff09 dispatch_async(dispatch_get_main_queue(), { \u304b\u3089 DispatchQueue.main.async(execute: { \u306b\u5909\u66f4 NSURLSession(configuration: config, delegate: self, delegateQueue: NSOperationQueue.mainQueue()) \u304b\u3089 Foundation.URLSession(configuration: config, delegate: self, delegateQueue: OperationQueue.main) \u306b\u5909\u66f4 \u30c7\u30ea\u30b2\u30fc\u30c8\u30e1\u30bd\u30c3\u30c9\u306e\u63a5\u982d\u8a9e\u304c URLSession \u304b\u3089 urlSession \u306b\u5909\u66f4 Reference URLSession https://developer.apple.com/reference/foundation/urlsession URLSessionConfiguration https://developer.apple.com/reference/foundation/urlsessionconfiguration NSURL https://developer.apple.com/reference/foundation/nsurl URLSessionDownloadDelegate https://developer.apple.com/reference/foundation/nsurlsessiondownloaddelegate","title":"\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u306e\u6307\u5b9a"},{"location":"6.connection/006_timeout/#_1","text":"","title":"\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u306e\u6307\u5b9a"},{"location":"6.connection/006_timeout/#ios9ats","text":"Swift 4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 // // ViewController.swift // Connection006 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController , URLSessionDelegate , URLSessionDataDelegate { var myTextView : UITextView ! override func viewDidLoad () { super . viewDidLoad () // view\u306e\u80cc\u666f\u3092\u7070\u8272\u306b\u8a2d\u5b9a. self . view . backgroundColor = UIColor . lightGray // \u8868\u793a\u7528\u306eTextView\u3092\u7528\u610f. myTextView = UITextView ( frame : CGRect ( x : 10 , y : 50 , width : self . view . frame . width - 20 , height : 500 )) myTextView . backgroundColor = UIColor ( red : 0.9 , green : 0.9 , blue : 1 , alpha : 1.0 ) myTextView . layer . masksToBounds = true myTextView . layer . cornerRadius = 20.0 myTextView . layer . borderWidth = 1 myTextView . layer . borderColor = UIColor . black . cgColor myTextView . font = UIFont . systemFont ( ofSize : CGFloat ( 20 )) myTextView . textColor = UIColor . black myTextView . textAlignment = NSTextAlignment . left myTextView . dataDetectorTypes = UIDataDetectorTypes . all myTextView . layer . shadowOpacity = 0.5 myTextView . layer . masksToBounds = false myTextView . isEditable = false // view\u306bTextView\u3092\u8ffd\u52a0. self . view . addSubview ( myTextView ) // \u901a\u4fe1\u7528\u306eConfig\u3092\u751f\u6210. let config : URLSessionConfiguration = URLSessionConfiguration . background ( withIdentifier : \"backgroundTask\" ) // \u77ed\u3044\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u306e\u6307\u5b9a. config . timeoutIntervalForRequest = 60 // \u9577\u3044\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u306e\u6307\u5b9a. config . timeoutIntervalForResource = 60 * 60 * 24 * 7 // Session\u3092\u751f\u6210. let session : URLSession = URLSession ( configuration : config , delegate : self , delegateQueue : nil ) // \u901a\u4fe1\u5148\u306eURL\u3092\u751f\u6210. let url : NSURL = NSURL ( string : \"http://localhost/test/hello.php\" ) ! // \u30bf\u30b9\u30af\u306e\u751f\u6210. let task : URLSessionDataTask = session . dataTask ( with : url as URL ) // \u30bf\u30b9\u30af\u306e\u5b9f\u884c. task . resume () } /* \u901a\u4fe1\u304c\u7d42\u4e86\u3057\u305f\u3068\u304d\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8 */ func urlSession ( _ session : URLSession , dataTask : URLSessionDataTask , didReceive data : Data ) { print ( \"NSURLSessionDataTask\" ) //\u5e30\u3063\u3066\u304d\u305f\u30c7\u30fc\u30bf\u3092\u6587\u5b57\u5217\u306b\u5909\u63db let getData : NSString = NSString ( data : data , encoding : String . Encoding . utf8 . rawValue ) ! //\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u3060\u3068UI\u306e\u51e6\u7406\u304c\u51fa\u6765\u306a\u3044\u306e\u3067\u3001\u30e1\u30a4\u30f3\u30b9\u30ec\u30c3\u30c9\u3067UI\u306e\u51e6\u7406\u3092\u884c\u308f\u305b\u308b DispatchQueue . main . async ( execute : { self . myTextView . text = getData as String }) } /* \u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u304b\u3089\u30d5\u30a9\u30a2\u30b0\u30e9\u30a6\u30f3\u30c9\u306e\u5fa9\u5e30\u6642\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8 */ func urlSessionDidFinishEvents ( forBackgroundURLSession session : URLSession ) { print ( \"URLSessionDidFinishEventsForBackgroundURLSession\" ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 // // ViewController.swift // Connection006 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController , NSURLSessionDelegate , NSURLSessionDataDelegate { var myTextView : UITextView ! override func viewDidLoad () { super . viewDidLoad () // view\u306e\u80cc\u666f\u3092\u7070\u8272\u306b\u8a2d\u5b9a. self . view . backgroundColor = UIColor . lightGrayColor () // \u8868\u793a\u7528\u306eTextView\u3092\u7528\u610f. myTextView = UITextView ( frame : CGRectMake ( 10 , 50 , self . view . frame . width - 20 , 500 )) myTextView . backgroundColor = UIColor ( red : 0.9 , green : 0.9 , blue : 1 , alpha : 1.0 ) myTextView . layer . masksToBounds = true myTextView . layer . cornerRadius = 20.0 myTextView . layer . borderWidth = 1 myTextView . layer . borderColor = UIColor . blackColor (). CGColor myTextView . font = UIFont . systemFontOfSize ( CGFloat ( 20 )) myTextView . textColor = UIColor . blackColor () myTextView . textAlignment = NSTextAlignment . Left myTextView . dataDetectorTypes = UIDataDetectorTypes . All myTextView . layer . shadowOpacity = 0.5 myTextView . layer . masksToBounds = false myTextView . editable = false // view\u306bTextView\u3092\u8ffd\u52a0. self . view . addSubview ( myTextView ) // \u901a\u4fe1\u7528\u306eConfig\u3092\u751f\u6210. let config : NSURLSessionConfiguration = NSURLSessionConfiguration . backgroundSessionConfigurationWithIdentifier ( \"backgroundTask\" ) // \u77ed\u3044\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u306e\u6307\u5b9a. config . timeoutIntervalForRequest = 60 // \u9577\u3044\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u306e\u6307\u5b9a. config . timeoutIntervalForResource = 60 * 60 * 24 * 7 // Session\u3092\u751f\u6210. let session : NSURLSession = NSURLSession ( configuration : config , delegate : self , delegateQueue : nil ) // \u901a\u4fe1\u5148\u306eURL\u3092\u751f\u6210. let url : NSURL = NSURL ( string : \"http://localhost/test/hello.php\" ) ! // \u30bf\u30b9\u30af\u306e\u751f\u6210. let task : NSURLSessionDataTask = session . dataTaskWithURL ( url ) // \u30bf\u30b9\u30af\u306e\u5b9f\u884c. task . resume () } /* \u901a\u4fe1\u304c\u7d42\u4e86\u3057\u305f\u3068\u304d\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8 */ func URLSession ( session : NSURLSession , dataTask : NSURLSessionDataTask , didReceiveData data : NSData ) { print ( \"NSURLSessionDataTask\" ) //\u5e30\u3063\u3066\u304d\u305f\u30c7\u30fc\u30bf\u3092\u6587\u5b57\u5217\u306b\u5909\u63db let getData : NSString = NSString ( data : data , encoding : NSUTF8StringEncoding ) ! //\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u3060\u3068UI\u306e\u51e6\u7406\u304c\u51fa\u6765\u306a\u3044\u306e\u3067\u3001\u30e1\u30a4\u30f3\u30b9\u30ec\u30c3\u30c9\u3067UI\u306e\u51e6\u7406\u3092\u884c\u308f\u305b\u308b dispatch_async ( dispatch_get_main_queue (), { self . myTextView . text = getData as String }) } /* \u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u304b\u3089\u30d5\u30a9\u30a2\u30b0\u30e9\u30a6\u30f3\u30c9\u306e\u5fa9\u5e30\u6642\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8 */ func URLSessionDidFinishEventsForBackgroundURLSession ( session : NSURLSession ) { print ( \"URLSessionDidFinishEventsForBackgroundURLSession\" ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } }","title":"iOS9\u304b\u3089\u30ea\u30af\u30a8\u30b9\u30c8\u5148\u306b\u3088\u3063\u3066\u306fATS\u3092\u7121\u52b9\u5316\u30fb\u5bfe\u51e6\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059"},{"location":"6.connection/006_timeout/#2x3x","text":"NSURLSession\u304b\u3089URLSession\u306b\u5909\u66f4\uff08\u4ed6\u3082\u540c\u3058\u304f\uff09 dispatch_async(dispatch_get_main_queue(), { \u304b\u3089 DispatchQueue.main.async(execute: { \u306b\u5909\u66f4 NSURLSession(configuration: config, delegate: self, delegateQueue: NSOperationQueue.mainQueue()) \u304b\u3089 Foundation.URLSession(configuration: config, delegate: self, delegateQueue: OperationQueue.main) \u306b\u5909\u66f4 \u30c7\u30ea\u30b2\u30fc\u30c8\u30e1\u30bd\u30c3\u30c9\u306e\u63a5\u982d\u8a9e\u304c URLSession \u304b\u3089 urlSession \u306b\u5909\u66f4","title":"2.x\u30683.x\u306e\u5dee\u5206"},{"location":"6.connection/006_timeout/#reference","text":"URLSession https://developer.apple.com/reference/foundation/urlsession URLSessionConfiguration https://developer.apple.com/reference/foundation/urlsessionconfiguration NSURL https://developer.apple.com/reference/foundation/nsurl URLSessionDownloadDelegate https://developer.apple.com/reference/foundation/nsurlsessiondownloaddelegate","title":"Reference"},{"location":"6.connection/007_post/","text":"POST\u3092\u9001\u4fe1\u3059\u308b iOS9\u304b\u3089\u30ea\u30af\u30a8\u30b9\u30c8\u5148\u306b\u3088\u3063\u3066\u306fATS\u3092\u7121\u52b9\u5316\u30fb\u5bfe\u51e6\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059 Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 // // ViewController.swift // Connection007 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController , URLSessionDelegate , URLSessionDataDelegate { var myTextView : UITextView ! override func viewDidLoad () { super . viewDidLoad () self . view . backgroundColor = UIColor . lightGray //\u8868\u793a\u7528\u306eTextView\u3092\u7528\u610f myTextView = UITextView ( frame : CGRect ( x : 10 , y : 50 , width : self . view . frame . width - 20 , height : 500 )) myTextView . backgroundColor = UIColor ( red : 0.9 , green : 0.9 , blue : 1 , alpha : 1.0 ) myTextView . layer . masksToBounds = true myTextView . layer . cornerRadius = 20.0 myTextView . layer . borderWidth = 1 myTextView . layer . borderColor = UIColor . black . cgColor myTextView . font = UIFont . systemFont ( ofSize : CGFloat ( 20 )) myTextView . textColor = UIColor . black myTextView . textAlignment = NSTextAlignment . left myTextView . dataDetectorTypes = UIDataDetectorTypes . all myTextView . layer . shadowOpacity = 0.5 myTextView . layer . masksToBounds = false self . view . addSubview ( myTextView ) // \u901a\u4fe1\u7528\u306eConfig\u3092\u751f\u6210. let config : URLSessionConfiguration = URLSessionConfiguration . background ( withIdentifier : \"backgroundTask\" ) // Session\u3092\u751f\u6210. let session : URLSession = URLSession ( configuration : config , delegate : self , delegateQueue : nil ) // \u901a\u4fe1\u5148\u306eURL\u3092\u751f\u6210. let url : NSURL = NSURL ( string : \"http://localhost/swift/post.php\" ) ! // POST\u7528\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u751f\u6210. let request : NSMutableURLRequest = NSMutableURLRequest ( url : url as URL ) // POST\u306e\u30e1\u30bd\u30c3\u30c9\u3092\u6307\u5b9a. request . httpMethod = \"POST\" // \u9001\u4fe1\u3059\u308b\u30c7\u30fc\u30bf\u3092\u751f\u6210\u30fb\u30ea\u30af\u30a8\u30b9\u30c8\u306b\u30bb\u30c3\u30c8. let str : NSString = \"data=Send Data String\" let myData : NSData = str . data ( using : String . Encoding . utf8 . rawValue ) ! as NSData request . httpBody = myData as Data // \u30bf\u30b9\u30af\u306e\u751f\u6210. let task : URLSessionDataTask = session . dataTask ( with : request as URLRequest ) // \u30bf\u30b9\u30af\u306e\u5b9f\u884c. task . resume () } /* \u901a\u4fe1\u304c\u7d42\u4e86\u3057\u305f\u3068\u304d\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8. */ func urlSession ( _ session : URLSession , dataTask : URLSessionDataTask , didReceive data : Data ) { // \u5e30\u3063\u3066\u304d\u305f\u30c7\u30fc\u30bf\u3092\u6587\u5b57\u5217\u306b\u5909\u63db. let getData : NSString = NSString ( data : data , encoding : String . Encoding . utf8 . rawValue ) ! // \u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u3060\u3068UI\u306e\u51e6\u7406\u304c\u51fa\u6765\u306a\u3044\u306e\u3067\u3001\u30e1\u30a4\u30f3\u30b9\u30ec\u30c3\u30c9\u3067UI\u306e\u51e6\u7406\u3092\u884c\u308f\u305b\u308b. DispatchQueue . main . async ( execute : { self . myTextView . text = getData as String }) } /* \u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u304b\u3089\u30d5\u30a9\u30a2\u30b0\u30e9\u30a6\u30f3\u30c9\u306e\u5fa9\u5e30\u6642\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8. */ func urlSessionDidFinishEvents ( forBackgroundURLSession session : URLSession ) { print ( \"URLSessionDidFinishEventsForBackgroundURLSession\" ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 // // ViewController.swift // Connection007 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController , URLSessionDelegate , URLSessionDataDelegate { var myTextView : UITextView ! override func viewDidLoad () { super . viewDidLoad () self . view . backgroundColor = UIColor . lightGray //\u8868\u793a\u7528\u306eTextView\u3092\u7528\u610f myTextView = UITextView ( frame : CGRect ( x : 10 , y : 50 , width : self . view . frame . width - 20 , height : 500 )) myTextView . backgroundColor = UIColor ( red : 0.9 , green : 0.9 , blue : 1 , alpha : 1.0 ) myTextView . layer . masksToBounds = true myTextView . layer . cornerRadius = 20.0 myTextView . layer . borderWidth = 1 myTextView . layer . borderColor = UIColor . black . cgColor myTextView . font = UIFont . systemFont ( ofSize : CGFloat ( 20 )) myTextView . textColor = UIColor . black myTextView . textAlignment = NSTextAlignment . left myTextView . dataDetectorTypes = UIDataDetectorTypes . all myTextView . layer . shadowOpacity = 0.5 myTextView . layer . masksToBounds = false self . view . addSubview ( myTextView ) // \u901a\u4fe1\u7528\u306eConfig\u3092\u751f\u6210. let config : URLSessionConfiguration = URLSessionConfiguration . background ( withIdentifier : \"backgroundTask\" ) // Session\u3092\u751f\u6210. let session : URLSession = URLSession ( configuration : config , delegate : self , delegateQueue : nil ) // \u901a\u4fe1\u5148\u306eURL\u3092\u751f\u6210. let url : NSURL = NSURL ( string : \"http://localhost/swift/post.php\" ) ! // POST\u7528\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u751f\u6210. let request : NSMutableURLRequest = NSMutableURLRequest ( url : url as URL ) // POST\u306e\u30e1\u30bd\u30c3\u30c9\u3092\u6307\u5b9a. request . httpMethod = \"POST\" // \u9001\u4fe1\u3059\u308b\u30c7\u30fc\u30bf\u3092\u751f\u6210\u30fb\u30ea\u30af\u30a8\u30b9\u30c8\u306b\u30bb\u30c3\u30c8. let str : NSString = \"data=Send Data String\" let myData : NSData = str . data ( using : String . Encoding . utf8 . rawValue ) ! request . httpBody = myData as Data // \u30bf\u30b9\u30af\u306e\u751f\u6210. let task : URLSessionDataTask = session . dataTask ( with : request as URLRequest ) // \u30bf\u30b9\u30af\u306e\u5b9f\u884c. task . resume () } /* \u901a\u4fe1\u304c\u7d42\u4e86\u3057\u305f\u3068\u304d\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8. */ func urlSession ( _ session : URLSession , dataTask : URLSessionDataTask , didReceive data : Data ) { // \u5e30\u3063\u3066\u304d\u305f\u30c7\u30fc\u30bf\u3092\u6587\u5b57\u5217\u306b\u5909\u63db. let getData : NSString = NSString ( data : data , encoding : String . Encoding . utf8 . rawValue ) ! // \u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u3060\u3068UI\u306e\u51e6\u7406\u304c\u51fa\u6765\u306a\u3044\u306e\u3067\u3001\u30e1\u30a4\u30f3\u30b9\u30ec\u30c3\u30c9\u3067UI\u306e\u51e6\u7406\u3092\u884c\u308f\u305b\u308b. DispatchQueue . main . async ( execute : { self . myTextView . text = getData as String }) } /* \u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u304b\u3089\u30d5\u30a9\u30a2\u30b0\u30e9\u30a6\u30f3\u30c9\u306e\u5fa9\u5e30\u6642\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8. */ func urlSessionDidFinishEvents ( forBackgroundURLSession session : URLSession ) { print ( \"URLSessionDidFinishEventsForBackgroundURLSession\" ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 // // ViewController.swift // Connection007 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController , NSURLSessionDelegate , NSURLSessionDataDelegate { var myTextView : UITextView ! override func viewDidLoad () { super . viewDidLoad () self . view . backgroundColor = UIColor . lightGrayColor () //\u8868\u793a\u7528\u306eTextView\u3092\u7528\u610f myTextView = UITextView ( frame : CGRectMake ( 10 , 50 , self . view . frame . width - 20 , 500 )) myTextView . backgroundColor = UIColor ( red : 0.9 , green : 0.9 , blue : 1 , alpha : 1.0 ) myTextView . layer . masksToBounds = true myTextView . layer . cornerRadius = 20.0 myTextView . layer . borderWidth = 1 myTextView . layer . borderColor = UIColor . blackColor (). CGColor myTextView . font = UIFont . systemFontOfSize ( CGFloat ( 20 )) myTextView . textColor = UIColor . blackColor () myTextView . textAlignment = NSTextAlignment . Left myTextView . dataDetectorTypes = UIDataDetectorTypes . All myTextView . layer . shadowOpacity = 0.5 myTextView . layer . masksToBounds = false self . view . addSubview ( myTextView ) // \u901a\u4fe1\u7528\u306eConfig\u3092\u751f\u6210. let config : NSURLSessionConfiguration = NSURLSessionConfiguration . backgroundSessionConfigurationWithIdentifier ( \"backgroundTask\" ) // Session\u3092\u751f\u6210. let session : NSURLSession = NSURLSession ( configuration : config , delegate : self , delegateQueue : nil ) // \u901a\u4fe1\u5148\u306eURL\u3092\u751f\u6210. let url : NSURL = NSURL ( string : \"http://xxx/post.php\" ) ! // POST\u7528\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u751f\u6210. let request : NSMutableURLRequest = NSMutableURLRequest ( URL : url ) // POST\u306e\u30e1\u30bd\u30c3\u30c9\u3092\u6307\u5b9a. request . HTTPMethod = \"POST\" // \u9001\u4fe1\u3059\u308b\u30c7\u30fc\u30bf\u3092\u751f\u6210\u30fb\u30ea\u30af\u30a8\u30b9\u30c8\u306b\u30bb\u30c3\u30c8. let str : NSString = \"data=Send Data String\" let myData : NSData = str . dataUsingEncoding ( NSUTF8StringEncoding ) ! request . HTTPBody = myData // \u30bf\u30b9\u30af\u306e\u751f\u6210. let task : NSURLSessionDataTask = session . dataTaskWithRequest ( request ) // \u30bf\u30b9\u30af\u306e\u5b9f\u884c. task . resume () } /* \u901a\u4fe1\u304c\u7d42\u4e86\u3057\u305f\u3068\u304d\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8. */ func URLSession ( session : NSURLSession , dataTask : NSURLSessionDataTask , didReceiveData data : NSData ) { // \u5e30\u3063\u3066\u304d\u305f\u30c7\u30fc\u30bf\u3092\u6587\u5b57\u5217\u306b\u5909\u63db. let getData : NSString = NSString ( data : data , encoding : NSUTF8StringEncoding ) ! // \u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u3060\u3068UI\u306e\u51e6\u7406\u304c\u51fa\u6765\u306a\u3044\u306e\u3067\u3001\u30e1\u30a4\u30f3\u30b9\u30ec\u30c3\u30c9\u3067UI\u306e\u51e6\u7406\u3092\u884c\u308f\u305b\u308b. dispatch_async ( dispatch_get_main_queue (), { self . myTextView . text = getData as String }) } /* \u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u304b\u3089\u30d5\u30a9\u30a2\u30b0\u30e9\u30a6\u30f3\u30c9\u306e\u5fa9\u5e30\u6642\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8. */ func URLSessionDidFinishEventsForBackgroundURLSession ( session : NSURLSession ) { print ( \"URLSessionDidFinishEventsForBackgroundURLSession\" ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } 3.x\u30684.x\u306e\u5dee\u5206 str.data(using: String.Encoding.utf8.rawValue)! \u304c str.data(using: String.Encoding.utf8.rawValue)! as NSData \u306b\u5909\u66f4 2.x\u30683.x\u306e\u5dee\u5206 NSURLSession\u304b\u3089URLSession\u306b\u5909\u66f4\uff08\u4ed6\u3082\u540c\u3058\u304f\uff09 dispatch_async(dispatch_get_main_queue(), { \u304b\u3089 DispatchQueue.main.async(execute: { \u306b\u5909\u66f4 \u304b\u3089 Foundation.URLSession(configuration: config, delegate: self, delegateQueue: OperationQueue.main) ```\u306b\u5909\u66f4 \u30c7\u30ea\u30b2\u30fc\u30c8\u30e1\u30bd\u30c3\u30c9\u306e\u63a5\u982d\u8a9e\u304c URLSession \u304b\u3089 urlSession \u306b\u5909\u66f4 Reference URLSession https://developer.apple.com/reference/foundation/urlsession URLSessionConfiguration https://developer.apple.com/reference/foundation/urlsessionconfiguration NSURL https://developer.apple.com/reference/foundation/nsurl NSMutableURLRequest https://developer.apple.com/reference/foundation/nsmutableurlrequest","title":"POST\u3092\u9001\u4fe1\u3059\u308b"},{"location":"6.connection/007_post/#post","text":"","title":"POST\u3092\u9001\u4fe1\u3059\u308b"},{"location":"6.connection/007_post/#ios9ats","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 // // ViewController.swift // Connection007 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController , URLSessionDelegate , URLSessionDataDelegate { var myTextView : UITextView ! override func viewDidLoad () { super . viewDidLoad () self . view . backgroundColor = UIColor . lightGray //\u8868\u793a\u7528\u306eTextView\u3092\u7528\u610f myTextView = UITextView ( frame : CGRect ( x : 10 , y : 50 , width : self . view . frame . width - 20 , height : 500 )) myTextView . backgroundColor = UIColor ( red : 0.9 , green : 0.9 , blue : 1 , alpha : 1.0 ) myTextView . layer . masksToBounds = true myTextView . layer . cornerRadius = 20.0 myTextView . layer . borderWidth = 1 myTextView . layer . borderColor = UIColor . black . cgColor myTextView . font = UIFont . systemFont ( ofSize : CGFloat ( 20 )) myTextView . textColor = UIColor . black myTextView . textAlignment = NSTextAlignment . left myTextView . dataDetectorTypes = UIDataDetectorTypes . all myTextView . layer . shadowOpacity = 0.5 myTextView . layer . masksToBounds = false self . view . addSubview ( myTextView ) // \u901a\u4fe1\u7528\u306eConfig\u3092\u751f\u6210. let config : URLSessionConfiguration = URLSessionConfiguration . background ( withIdentifier : \"backgroundTask\" ) // Session\u3092\u751f\u6210. let session : URLSession = URLSession ( configuration : config , delegate : self , delegateQueue : nil ) // \u901a\u4fe1\u5148\u306eURL\u3092\u751f\u6210. let url : NSURL = NSURL ( string : \"http://localhost/swift/post.php\" ) ! // POST\u7528\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u751f\u6210. let request : NSMutableURLRequest = NSMutableURLRequest ( url : url as URL ) // POST\u306e\u30e1\u30bd\u30c3\u30c9\u3092\u6307\u5b9a. request . httpMethod = \"POST\" // \u9001\u4fe1\u3059\u308b\u30c7\u30fc\u30bf\u3092\u751f\u6210\u30fb\u30ea\u30af\u30a8\u30b9\u30c8\u306b\u30bb\u30c3\u30c8. let str : NSString = \"data=Send Data String\" let myData : NSData = str . data ( using : String . Encoding . utf8 . rawValue ) ! as NSData request . httpBody = myData as Data // \u30bf\u30b9\u30af\u306e\u751f\u6210. let task : URLSessionDataTask = session . dataTask ( with : request as URLRequest ) // \u30bf\u30b9\u30af\u306e\u5b9f\u884c. task . resume () } /* \u901a\u4fe1\u304c\u7d42\u4e86\u3057\u305f\u3068\u304d\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8. */ func urlSession ( _ session : URLSession , dataTask : URLSessionDataTask , didReceive data : Data ) { // \u5e30\u3063\u3066\u304d\u305f\u30c7\u30fc\u30bf\u3092\u6587\u5b57\u5217\u306b\u5909\u63db. let getData : NSString = NSString ( data : data , encoding : String . Encoding . utf8 . rawValue ) ! // \u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u3060\u3068UI\u306e\u51e6\u7406\u304c\u51fa\u6765\u306a\u3044\u306e\u3067\u3001\u30e1\u30a4\u30f3\u30b9\u30ec\u30c3\u30c9\u3067UI\u306e\u51e6\u7406\u3092\u884c\u308f\u305b\u308b. DispatchQueue . main . async ( execute : { self . myTextView . text = getData as String }) } /* \u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u304b\u3089\u30d5\u30a9\u30a2\u30b0\u30e9\u30a6\u30f3\u30c9\u306e\u5fa9\u5e30\u6642\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8. */ func urlSessionDidFinishEvents ( forBackgroundURLSession session : URLSession ) { print ( \"URLSessionDidFinishEventsForBackgroundURLSession\" ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 // // ViewController.swift // Connection007 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController , URLSessionDelegate , URLSessionDataDelegate { var myTextView : UITextView ! override func viewDidLoad () { super . viewDidLoad () self . view . backgroundColor = UIColor . lightGray //\u8868\u793a\u7528\u306eTextView\u3092\u7528\u610f myTextView = UITextView ( frame : CGRect ( x : 10 , y : 50 , width : self . view . frame . width - 20 , height : 500 )) myTextView . backgroundColor = UIColor ( red : 0.9 , green : 0.9 , blue : 1 , alpha : 1.0 ) myTextView . layer . masksToBounds = true myTextView . layer . cornerRadius = 20.0 myTextView . layer . borderWidth = 1 myTextView . layer . borderColor = UIColor . black . cgColor myTextView . font = UIFont . systemFont ( ofSize : CGFloat ( 20 )) myTextView . textColor = UIColor . black myTextView . textAlignment = NSTextAlignment . left myTextView . dataDetectorTypes = UIDataDetectorTypes . all myTextView . layer . shadowOpacity = 0.5 myTextView . layer . masksToBounds = false self . view . addSubview ( myTextView ) // \u901a\u4fe1\u7528\u306eConfig\u3092\u751f\u6210. let config : URLSessionConfiguration = URLSessionConfiguration . background ( withIdentifier : \"backgroundTask\" ) // Session\u3092\u751f\u6210. let session : URLSession = URLSession ( configuration : config , delegate : self , delegateQueue : nil ) // \u901a\u4fe1\u5148\u306eURL\u3092\u751f\u6210. let url : NSURL = NSURL ( string : \"http://localhost/swift/post.php\" ) ! // POST\u7528\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u751f\u6210. let request : NSMutableURLRequest = NSMutableURLRequest ( url : url as URL ) // POST\u306e\u30e1\u30bd\u30c3\u30c9\u3092\u6307\u5b9a. request . httpMethod = \"POST\" // \u9001\u4fe1\u3059\u308b\u30c7\u30fc\u30bf\u3092\u751f\u6210\u30fb\u30ea\u30af\u30a8\u30b9\u30c8\u306b\u30bb\u30c3\u30c8. let str : NSString = \"data=Send Data String\" let myData : NSData = str . data ( using : String . Encoding . utf8 . rawValue ) ! request . httpBody = myData as Data // \u30bf\u30b9\u30af\u306e\u751f\u6210. let task : URLSessionDataTask = session . dataTask ( with : request as URLRequest ) // \u30bf\u30b9\u30af\u306e\u5b9f\u884c. task . resume () } /* \u901a\u4fe1\u304c\u7d42\u4e86\u3057\u305f\u3068\u304d\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8. */ func urlSession ( _ session : URLSession , dataTask : URLSessionDataTask , didReceive data : Data ) { // \u5e30\u3063\u3066\u304d\u305f\u30c7\u30fc\u30bf\u3092\u6587\u5b57\u5217\u306b\u5909\u63db. let getData : NSString = NSString ( data : data , encoding : String . Encoding . utf8 . rawValue ) ! // \u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u3060\u3068UI\u306e\u51e6\u7406\u304c\u51fa\u6765\u306a\u3044\u306e\u3067\u3001\u30e1\u30a4\u30f3\u30b9\u30ec\u30c3\u30c9\u3067UI\u306e\u51e6\u7406\u3092\u884c\u308f\u305b\u308b. DispatchQueue . main . async ( execute : { self . myTextView . text = getData as String }) } /* \u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u304b\u3089\u30d5\u30a9\u30a2\u30b0\u30e9\u30a6\u30f3\u30c9\u306e\u5fa9\u5e30\u6642\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8. */ func urlSessionDidFinishEvents ( forBackgroundURLSession session : URLSession ) { print ( \"URLSessionDidFinishEventsForBackgroundURLSession\" ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 // // ViewController.swift // Connection007 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController , NSURLSessionDelegate , NSURLSessionDataDelegate { var myTextView : UITextView ! override func viewDidLoad () { super . viewDidLoad () self . view . backgroundColor = UIColor . lightGrayColor () //\u8868\u793a\u7528\u306eTextView\u3092\u7528\u610f myTextView = UITextView ( frame : CGRectMake ( 10 , 50 , self . view . frame . width - 20 , 500 )) myTextView . backgroundColor = UIColor ( red : 0.9 , green : 0.9 , blue : 1 , alpha : 1.0 ) myTextView . layer . masksToBounds = true myTextView . layer . cornerRadius = 20.0 myTextView . layer . borderWidth = 1 myTextView . layer . borderColor = UIColor . blackColor (). CGColor myTextView . font = UIFont . systemFontOfSize ( CGFloat ( 20 )) myTextView . textColor = UIColor . blackColor () myTextView . textAlignment = NSTextAlignment . Left myTextView . dataDetectorTypes = UIDataDetectorTypes . All myTextView . layer . shadowOpacity = 0.5 myTextView . layer . masksToBounds = false self . view . addSubview ( myTextView ) // \u901a\u4fe1\u7528\u306eConfig\u3092\u751f\u6210. let config : NSURLSessionConfiguration = NSURLSessionConfiguration . backgroundSessionConfigurationWithIdentifier ( \"backgroundTask\" ) // Session\u3092\u751f\u6210. let session : NSURLSession = NSURLSession ( configuration : config , delegate : self , delegateQueue : nil ) // \u901a\u4fe1\u5148\u306eURL\u3092\u751f\u6210. let url : NSURL = NSURL ( string : \"http://xxx/post.php\" ) ! // POST\u7528\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u751f\u6210. let request : NSMutableURLRequest = NSMutableURLRequest ( URL : url ) // POST\u306e\u30e1\u30bd\u30c3\u30c9\u3092\u6307\u5b9a. request . HTTPMethod = \"POST\" // \u9001\u4fe1\u3059\u308b\u30c7\u30fc\u30bf\u3092\u751f\u6210\u30fb\u30ea\u30af\u30a8\u30b9\u30c8\u306b\u30bb\u30c3\u30c8. let str : NSString = \"data=Send Data String\" let myData : NSData = str . dataUsingEncoding ( NSUTF8StringEncoding ) ! request . HTTPBody = myData // \u30bf\u30b9\u30af\u306e\u751f\u6210. let task : NSURLSessionDataTask = session . dataTaskWithRequest ( request ) // \u30bf\u30b9\u30af\u306e\u5b9f\u884c. task . resume () } /* \u901a\u4fe1\u304c\u7d42\u4e86\u3057\u305f\u3068\u304d\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8. */ func URLSession ( session : NSURLSession , dataTask : NSURLSessionDataTask , didReceiveData data : NSData ) { // \u5e30\u3063\u3066\u304d\u305f\u30c7\u30fc\u30bf\u3092\u6587\u5b57\u5217\u306b\u5909\u63db. let getData : NSString = NSString ( data : data , encoding : NSUTF8StringEncoding ) ! // \u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u3060\u3068UI\u306e\u51e6\u7406\u304c\u51fa\u6765\u306a\u3044\u306e\u3067\u3001\u30e1\u30a4\u30f3\u30b9\u30ec\u30c3\u30c9\u3067UI\u306e\u51e6\u7406\u3092\u884c\u308f\u305b\u308b. dispatch_async ( dispatch_get_main_queue (), { self . myTextView . text = getData as String }) } /* \u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u304b\u3089\u30d5\u30a9\u30a2\u30b0\u30e9\u30a6\u30f3\u30c9\u306e\u5fa9\u5e30\u6642\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8. */ func URLSessionDidFinishEventsForBackgroundURLSession ( session : NSURLSession ) { print ( \"URLSessionDidFinishEventsForBackgroundURLSession\" ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } }","title":"iOS9\u304b\u3089\u30ea\u30af\u30a8\u30b9\u30c8\u5148\u306b\u3088\u3063\u3066\u306fATS\u3092\u7121\u52b9\u5316\u30fb\u5bfe\u51e6\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059"},{"location":"6.connection/007_post/#3x4x","text":"str.data(using: String.Encoding.utf8.rawValue)! \u304c str.data(using: String.Encoding.utf8.rawValue)! as NSData \u306b\u5909\u66f4","title":"3.x\u30684.x\u306e\u5dee\u5206"},{"location":"6.connection/007_post/#2x3x","text":"NSURLSession\u304b\u3089URLSession\u306b\u5909\u66f4\uff08\u4ed6\u3082\u540c\u3058\u304f\uff09 dispatch_async(dispatch_get_main_queue(), { \u304b\u3089 DispatchQueue.main.async(execute: { \u306b\u5909\u66f4 \u304b\u3089 Foundation.URLSession(configuration: config, delegate: self, delegateQueue: OperationQueue.main) ```\u306b\u5909\u66f4 \u30c7\u30ea\u30b2\u30fc\u30c8\u30e1\u30bd\u30c3\u30c9\u306e\u63a5\u982d\u8a9e\u304c URLSession \u304b\u3089 urlSession \u306b\u5909\u66f4","title":"2.x\u30683.x\u306e\u5dee\u5206"},{"location":"6.connection/007_post/#reference","text":"URLSession https://developer.apple.com/reference/foundation/urlsession URLSessionConfiguration https://developer.apple.com/reference/foundation/urlsessionconfiguration NSURL https://developer.apple.com/reference/foundation/nsurl NSMutableURLRequest https://developer.apple.com/reference/foundation/nsmutableurlrequest","title":"Reference"},{"location":"6.connection/008_download/","text":"\u30d5\u30a1\u30a4\u30eb\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9 iOS9\u304b\u3089\u30ea\u30af\u30a8\u30b9\u30c8\u5148\u306b\u3088\u3063\u3066\u306fATS\u3092\u7121\u52b9\u5316\u30fb\u5bfe\u51e6\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059 Swift 4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 // // ViewController.swift // Connection008 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController , URLSessionDownloadDelegate { override func viewDidLoad () { super . viewDidLoad () // \u901a\u4fe1\u306e\u30b3\u30f3\u30d5\u30a3\u30b0\u3092\u7528\u610f. let config : URLSessionConfiguration = URLSessionConfiguration . background ( withIdentifier : \"backgroundSession\" ) // Session\u3092\u4f5c\u6210\u3059\u308b. let session : URLSession = URLSession ( configuration : config , delegate : self , delegateQueue : nil ) // \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u5148\u306eURL\u304b\u3089\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u751f\u6210. let url : NSURL = NSURL ( string : \"http://xxx/hogehoge/sample.png\" ) ! let request : URLRequest = URLRequest ( url : url as URL ) // \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30bf\u30b9\u30af\u3092\u751f\u6210. let myTask : URLSessionDownloadTask = session . downloadTask ( with : request ) // \u30bf\u30b9\u30af\u3092\u5b9f\u884c. myTask . resume () } /* \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u7d42\u4e86\u6642\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8. */ func urlSession ( _ session : URLSession , downloadTask : URLSessionDownloadTask , didFinishDownloadingTo location : URL ) { print ( \"finish download\" ) var data : NSData ! do { data = try NSData ( contentsOf : location , options : NSData . ReadingOptions . alwaysMapped ) } catch { print ( error ) } if let _data = data { // \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u304d\u305f\u30c7\u30fc\u30bf\u3092\u51e6\u7406\u3059\u308b. // \u30b5\u30f3\u30d7\u30eb\u3067\u306f\u753b\u50cf\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b\u306e\u3067\u305d\u306e\u307e\u307e\u8868\u793a\u3059\u308b. let myImage : UIImage = UIImage ( data : _data as Data ) ! let myImageView : UIImageView = UIImageView ( frame : CGRect ( x : 0 , y : 0 , width : 100 , height : 120 )) myImageView . image = myImage myImageView . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 200.0 ) self . view . addSubview ( myImageView ) } } /* \u30bf\u30b9\u30af\u7d42\u4e86\u6642\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8. */ func urlSession ( _ session : URLSession , task : URLSessionTask , didCompleteWithError error : Error ?) { if error == nil { print ( \"\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\" ) } else { print ( \"\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u304c\u5931\u6557\u3057\u307e\u3057\u305f\" ) } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 // // ViewController.swift // Connection008 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController , NSURLSessionDownloadDelegate { override func viewDidLoad () { super . viewDidLoad () // \u901a\u4fe1\u306e\u30b3\u30f3\u30d5\u30a3\u30b0\u3092\u7528\u610f. let config : NSURLSessionConfiguration = NSURLSessionConfiguration . backgroundSessionConfigurationWithIdentifier ( \"backgroundSession\" ) // Session\u3092\u4f5c\u6210\u3059\u308b. let session : NSURLSession = NSURLSession ( configuration : config , delegate : self , delegateQueue : nil ) // \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u5148\u306eURL\u304b\u3089\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u751f\u6210. let url : NSURL = NSURL ( string : \"http://xxx/hogehoge/sample.png\" ) ! let request : NSURLRequest = NSURLRequest ( URL : url ) // \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30bf\u30b9\u30af\u3092\u751f\u6210. let myTask : NSURLSessionDownloadTask = session . downloadTaskWithRequest ( request ) // \u30bf\u30b9\u30af\u3092\u5b9f\u884c. myTask . resume () } /* \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u7d42\u4e86\u6642\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8. */ func URLSession ( session : NSURLSession , downloadTask : NSURLSessionDownloadTask , didFinishDownloadingToURL location : NSURL ) { print ( \"finish download\" ) var data : NSData ! do { data = try NSData ( contentsOfURL : location , options : NSDataReadingOptions . DataReadingMappedAlways ) } catch { print ( error ) } if let _data = data { // \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u304d\u305f\u30c7\u30fc\u30bf\u3092\u51e6\u7406\u3059\u308b. // \u30b5\u30f3\u30d7\u30eb\u3067\u306f\u753b\u50cf\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b\u306e\u3067\u305d\u306e\u307e\u307e\u8868\u793a\u3059\u308b. let myImage : UIImage = UIImage ( data : _data ) ! let myImageView : UIImageView = UIImageView ( frame : CGRectMake ( 0 , 0 , 100 , 120 )) myImageView . image = myImage myImageView . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 200.0 ) self . view . addSubview ( myImageView ) } } /* \u30bf\u30b9\u30af\u7d42\u4e86\u6642\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8. */ func URLSession ( session : NSURLSession , task : NSURLSessionTask , didCompleteWithError error : NSError ?) { if error == nil { print ( \"\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\" ) } else { print ( \"\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u304c\u5931\u6557\u3057\u307e\u3057\u305f\" ) } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } 2.x\u30683.x\u306e\u5dee\u5206 NSURLSession\u304b\u3089URLSession\u306b\u5909\u66f4\uff08\u4ed6\u3082\u540c\u3058\u304f\uff09 \u30c7\u30ea\u30b2\u30fc\u30c8\u30e1\u30bd\u30c3\u30c9\u306e\u63a5\u982d\u8a9e\u304c URLSession \u304b\u3089 urlSession \u306b\u5909\u66f4 NSDataReadingOptions.DataReadingMappedAlways \u304b\u3089 NSData.ReadingOptions.alwaysMapped \u306b\u5909\u66f4 Reference URLSession https://developer.apple.com/reference/foundation/urlsession URLSessionConfiguration https://developer.apple.com/reference/foundation/urlsessionconfiguration NSURL https://developer.apple.com/reference/foundation/nsurl NSURLDownloadDelegate https://developer.apple.com/reference/foundation/nsurldownloaddelegate","title":"\u30d5\u30a1\u30a4\u30eb\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9"},{"location":"6.connection/008_download/#_1","text":"","title":"\u30d5\u30a1\u30a4\u30eb\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9"},{"location":"6.connection/008_download/#ios9ats","text":"Swift 4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 // // ViewController.swift // Connection008 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController , URLSessionDownloadDelegate { override func viewDidLoad () { super . viewDidLoad () // \u901a\u4fe1\u306e\u30b3\u30f3\u30d5\u30a3\u30b0\u3092\u7528\u610f. let config : URLSessionConfiguration = URLSessionConfiguration . background ( withIdentifier : \"backgroundSession\" ) // Session\u3092\u4f5c\u6210\u3059\u308b. let session : URLSession = URLSession ( configuration : config , delegate : self , delegateQueue : nil ) // \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u5148\u306eURL\u304b\u3089\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u751f\u6210. let url : NSURL = NSURL ( string : \"http://xxx/hogehoge/sample.png\" ) ! let request : URLRequest = URLRequest ( url : url as URL ) // \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30bf\u30b9\u30af\u3092\u751f\u6210. let myTask : URLSessionDownloadTask = session . downloadTask ( with : request ) // \u30bf\u30b9\u30af\u3092\u5b9f\u884c. myTask . resume () } /* \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u7d42\u4e86\u6642\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8. */ func urlSession ( _ session : URLSession , downloadTask : URLSessionDownloadTask , didFinishDownloadingTo location : URL ) { print ( \"finish download\" ) var data : NSData ! do { data = try NSData ( contentsOf : location , options : NSData . ReadingOptions . alwaysMapped ) } catch { print ( error ) } if let _data = data { // \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u304d\u305f\u30c7\u30fc\u30bf\u3092\u51e6\u7406\u3059\u308b. // \u30b5\u30f3\u30d7\u30eb\u3067\u306f\u753b\u50cf\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b\u306e\u3067\u305d\u306e\u307e\u307e\u8868\u793a\u3059\u308b. let myImage : UIImage = UIImage ( data : _data as Data ) ! let myImageView : UIImageView = UIImageView ( frame : CGRect ( x : 0 , y : 0 , width : 100 , height : 120 )) myImageView . image = myImage myImageView . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 200.0 ) self . view . addSubview ( myImageView ) } } /* \u30bf\u30b9\u30af\u7d42\u4e86\u6642\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8. */ func urlSession ( _ session : URLSession , task : URLSessionTask , didCompleteWithError error : Error ?) { if error == nil { print ( \"\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\" ) } else { print ( \"\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u304c\u5931\u6557\u3057\u307e\u3057\u305f\" ) } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 // // ViewController.swift // Connection008 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController , NSURLSessionDownloadDelegate { override func viewDidLoad () { super . viewDidLoad () // \u901a\u4fe1\u306e\u30b3\u30f3\u30d5\u30a3\u30b0\u3092\u7528\u610f. let config : NSURLSessionConfiguration = NSURLSessionConfiguration . backgroundSessionConfigurationWithIdentifier ( \"backgroundSession\" ) // Session\u3092\u4f5c\u6210\u3059\u308b. let session : NSURLSession = NSURLSession ( configuration : config , delegate : self , delegateQueue : nil ) // \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u5148\u306eURL\u304b\u3089\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u751f\u6210. let url : NSURL = NSURL ( string : \"http://xxx/hogehoge/sample.png\" ) ! let request : NSURLRequest = NSURLRequest ( URL : url ) // \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30bf\u30b9\u30af\u3092\u751f\u6210. let myTask : NSURLSessionDownloadTask = session . downloadTaskWithRequest ( request ) // \u30bf\u30b9\u30af\u3092\u5b9f\u884c. myTask . resume () } /* \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u7d42\u4e86\u6642\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8. */ func URLSession ( session : NSURLSession , downloadTask : NSURLSessionDownloadTask , didFinishDownloadingToURL location : NSURL ) { print ( \"finish download\" ) var data : NSData ! do { data = try NSData ( contentsOfURL : location , options : NSDataReadingOptions . DataReadingMappedAlways ) } catch { print ( error ) } if let _data = data { // \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u304d\u305f\u30c7\u30fc\u30bf\u3092\u51e6\u7406\u3059\u308b. // \u30b5\u30f3\u30d7\u30eb\u3067\u306f\u753b\u50cf\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b\u306e\u3067\u305d\u306e\u307e\u307e\u8868\u793a\u3059\u308b. let myImage : UIImage = UIImage ( data : _data ) ! let myImageView : UIImageView = UIImageView ( frame : CGRectMake ( 0 , 0 , 100 , 120 )) myImageView . image = myImage myImageView . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 200.0 ) self . view . addSubview ( myImageView ) } } /* \u30bf\u30b9\u30af\u7d42\u4e86\u6642\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8. */ func URLSession ( session : NSURLSession , task : NSURLSessionTask , didCompleteWithError error : NSError ?) { if error == nil { print ( \"\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\" ) } else { print ( \"\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u304c\u5931\u6557\u3057\u307e\u3057\u305f\" ) } } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } }","title":"iOS9\u304b\u3089\u30ea\u30af\u30a8\u30b9\u30c8\u5148\u306b\u3088\u3063\u3066\u306fATS\u3092\u7121\u52b9\u5316\u30fb\u5bfe\u51e6\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059"},{"location":"6.connection/008_download/#2x3x","text":"NSURLSession\u304b\u3089URLSession\u306b\u5909\u66f4\uff08\u4ed6\u3082\u540c\u3058\u304f\uff09 \u30c7\u30ea\u30b2\u30fc\u30c8\u30e1\u30bd\u30c3\u30c9\u306e\u63a5\u982d\u8a9e\u304c URLSession \u304b\u3089 urlSession \u306b\u5909\u66f4 NSDataReadingOptions.DataReadingMappedAlways \u304b\u3089 NSData.ReadingOptions.alwaysMapped \u306b\u5909\u66f4","title":"2.x\u30683.x\u306e\u5dee\u5206"},{"location":"6.connection/008_download/#reference","text":"URLSession https://developer.apple.com/reference/foundation/urlsession URLSessionConfiguration https://developer.apple.com/reference/foundation/urlsessionconfiguration NSURL https://developer.apple.com/reference/foundation/nsurl NSURLDownloadDelegate https://developer.apple.com/reference/foundation/nsurldownloaddelegate","title":"Reference"},{"location":"6.connection/009_upload/","text":"\u30d5\u30a1\u30a4\u30eb\u306e\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9 iOS9\u304b\u3089\u30ea\u30af\u30a8\u30b9\u30c8\u5148\u306b\u3088\u3063\u3066\u306fATS\u3092\u7121\u52b9\u5316\u30fb\u5bfe\u51e6\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059 Swfit 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 // // ViewController.swift // Connection009 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController , URLSessionTaskDelegate { var json : NSData ! override func viewDidLoad () { super . viewDidLoad () // \u901a\u4fe1\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u751f\u6210. let myCofig : URLSessionConfiguration = URLSessionConfiguration . default let url : NSURL = NSURL ( string : \"http://xxx/hogehoge/upload.php\" ) ! var request : URLRequest = URLRequest ( url : url as URL ) request . httpMethod = \"POST\" let session : URLSession = URLSession ( configuration : myCofig , delegate : self , delegateQueue : OperationQueue . main ) // \u753b\u50cf\u30c7\u30fc\u30bf\u3092\u8aad\u307f\u51fa\u3057\u3001Data\u578b\u306b\u5909\u63db\u3059\u308b. // let file:NSData = UIImageJPEGRepresentation(UIImage(named: \"sample\")) let file : NSData = UIImage ( named : \"sample\" ) ! . pngData () ! as NSData let image : UIImage = UIImage ( data : file as Data ) ! // \u9001\u4fe1\u3059\u308b\u30d5\u30a1\u30a4\u30eb\u306e\u30d7\u30ec\u30d3\u30e5\u30fc. let myImageView : UIImageView = UIImageView ( frame : CGRect ( x : 0 , y : 0 , width : 100 , height : 120 )) myImageView . image = image myImageView . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 200.0 ) self . view . addSubview ( myImageView ) // \u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u7528\u306e\u30bf\u30b9\u30af\u3092\u751f\u6210. let task : URLSessionUploadTask = session . uploadTask ( with : request , from : file as Data ) // \u30bf\u30b9\u30af\u306e\u5b9f\u884c. task . resume () } /* \u901a\u4fe1\u7d42\u4e86\u6642\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8. */ func urlSession ( _ session : URLSession , task : URLSessionTask , didCompleteWithError error : Error ?) { print ( \"didCompleteWithError\" ) // \u30a8\u30e9\u30fc\u304c\u6709\u308b\u5834\u5408\u306b\u306f\u30a8\u30e9\u30fc\u306e\u30b3\u30fc\u30c9\u3092\u53d6\u5f97. if error != nil { print ( error ) } } func urlSession ( _ session : URLSession , task : URLSessionTask , willPerformHTTPRedirection response : HTTPURLResponse , newRequest request : URLRequest , completionHandler : ( URLRequest ?) -> Void ) { print ( \"willPerformHTTPRedirection\" ) } func urlSession ( _ session : URLSession , task : URLSessionTask , didSendBodyData bytesSent : Int64 , totalBytesSent : Int64 , totalBytesExpectedToSend : Int64 ) { print ( \"didSendBodyData\" ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 // // ViewController.swift // Connection009 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController , URLSessionTaskDelegate { var json : NSData ! override func viewDidLoad () { super . viewDidLoad () // \u901a\u4fe1\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u751f\u6210. let myCofig : URLSessionConfiguration = URLSessionConfiguration . default let url : NSURL = NSURL ( string : \"http://xxx/hogehoge/upload.php\" ) ! var request : URLRequest = URLRequest ( url : url as URL ) request . httpMethod = \"POST\" let session : URLSession = URLSession ( configuration : myCofig , delegate : self , delegateQueue : OperationQueue . main ) // \u753b\u50cf\u30c7\u30fc\u30bf\u3092\u8aad\u307f\u51fa\u3057\u3001Data\u578b\u306b\u5909\u63db\u3059\u308b. // let file:NSData = UIImageJPEGRepresentation(UIImage(named: \"sample\")) let file : NSData = UIImagePNGRepresentation ( UIImage ( named : \"sample\" ) ! ) ! let image : UIImage = UIImage ( data : file as Data ) ! // \u9001\u4fe1\u3059\u308b\u30d5\u30a1\u30a4\u30eb\u306e\u30d7\u30ec\u30d3\u30e5\u30fc. let myImageView : UIImageView = UIImageView ( frame : CGRect ( x : 0 , y : 0 , width : 100 , height : 120 )) myImageView . image = image myImageView . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 200.0 ) self . view . addSubview ( myImageView ) // \u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u7528\u306e\u30bf\u30b9\u30af\u3092\u751f\u6210. let task : URLSessionUploadTask = session . uploadTask ( with : request , from : file as Data ) // \u30bf\u30b9\u30af\u306e\u5b9f\u884c. task . resume () } /* \u901a\u4fe1\u7d42\u4e86\u6642\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8. */ func urlSession ( _ session : URLSession , task : URLSessionTask , didCompleteWithError error : Error ?) { print ( \"didCompleteWithError\" ) // \u30a8\u30e9\u30fc\u304c\u6709\u308b\u5834\u5408\u306b\u306f\u30a8\u30e9\u30fc\u306e\u30b3\u30fc\u30c9\u3092\u53d6\u5f97. if error != nil { print ( error ) } } func urlSession ( _ session : URLSession , task : URLSessionTask , willPerformHTTPRedirection response : HTTPURLResponse , newRequest request : URLRequest , completionHandler : ( URLRequest ?) -> Void ) { print ( \"willPerformHTTPRedirection\" ) } func urlSession ( _ session : URLSession , task : URLSessionTask , didSendBodyData bytesSent : Int64 , totalBytesSent : Int64 , totalBytesExpectedToSend : Int64 ) { print ( \"didSendBodyData\" ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 // // ViewController.swift // Connection009 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController , NSURLSessionTaskDelegate { var json : NSData ! override func viewDidLoad () { super . viewDidLoad () // \u901a\u4fe1\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u751f\u6210. let myCofig : NSURLSessionConfiguration = NSURLSessionConfiguration . defaultSessionConfiguration () let url : NSURL = NSURL ( string : \"http://xxx/hogehoge/upload.php\" ) ! let request : NSMutableURLRequest = NSMutableURLRequest ( URL : url ) request . HTTPMethod = \"POST\" let session : NSURLSession = NSURLSession ( configuration : myCofig , delegate : self , delegateQueue : NSOperationQueue . mainQueue ()) // \u753b\u50cf\u30c7\u30fc\u30bf\u3092\u8aad\u307f\u51fa\u3057\u3001Data\u578b\u306b\u5909\u63db\u3059\u308b. // let file:NSData = UIImageJPEGRepresentation(UIImage(named: \"sample\")) let file : NSData = UIImagePNGRepresentation ( UIImage ( named : \"sample\" ) ! ) ! let image : UIImage = UIImage ( data : file ) ! // \u9001\u4fe1\u3059\u308b\u30d5\u30a1\u30a4\u30eb\u306e\u30d7\u30ec\u30d3\u30e5\u30fc. let myImageView : UIImageView = UIImageView ( frame : CGRectMake ( 0 , 0 , 100 , 120 )) myImageView . image = image myImageView . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 200.0 ) self . view . addSubview ( myImageView ) // \u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u7528\u306e\u30bf\u30b9\u30af\u3092\u751f\u6210. let task : NSURLSessionUploadTask = session . uploadTaskWithRequest ( request , fromData : file ) // \u30bf\u30b9\u30af\u306e\u5b9f\u884c. task . resume () } /* \u901a\u4fe1\u7d42\u4e86\u6642\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8. */ func URLSession ( session : NSURLSession , task : NSURLSessionTask , didCompleteWithError error : NSError ?) { print ( \"didCompleteWithError\" ) // \u30a8\u30e9\u30fc\u304c\u6709\u308b\u5834\u5408\u306b\u306f\u30a8\u30e9\u30fc\u306e\u30b3\u30fc\u30c9\u3092\u53d6\u5f97. if error != nil { print ( error ?. code ) } } func URLSession ( session : NSURLSession , task : NSURLSessionTask , willPerformHTTPRedirection response : NSHTTPURLResponse , newRequest request : NSURLRequest , completionHandler : ( NSURLRequest ?) -> Void ) { print ( \"willPerformHTTPRedirection\" ) } func URLSession ( session : NSURLSession , task : NSURLSessionTask , didSendBodyData bytesSent : Int64 , totalBytesSent : Int64 , totalBytesExpectedToSend : Int64 ) { print ( \"didSendBodyData\" ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } 3.x\u30684.x\u306e\u5dee\u5206 UIImagePNGRepresentation(UIImage(named: \"sample\")!)! \u304c UIImage(named: \"sample\")!.pngData()! as NSData \u306b\u5909\u66f4 2.x\u30683.x\u306e\u5dee\u5206 NSURLSession\u304b\u3089URLSession\u306b\u5909\u66f4\uff08\u4ed6\u3082\u540c\u3058\u304f\uff09 \u30c7\u30ea\u30b2\u30fc\u30c8\u30e1\u30bd\u30c3\u30c9\u306e\u63a5\u982d\u8a9e\u304c URLSession \u304b\u3089 urlSession \u306b\u5909\u66f4 Reference URLSession https://developer.apple.com/reference/foundation/urlsession URLSessionConfiguration https://developer.apple.com/reference/foundation/urlsessionconfiguration NSURL https://developer.apple.com/reference/foundation/nsurl NSURLDownloadDelegate https://developer.apple.com/reference/foundation/nsurldownloaddelegate","title":"\u30d5\u30a1\u30a4\u30eb\u306e\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9"},{"location":"6.connection/009_upload/#_1","text":"","title":"\u30d5\u30a1\u30a4\u30eb\u306e\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9"},{"location":"6.connection/009_upload/#ios9ats","text":"Swfit 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 // // ViewController.swift // Connection009 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController , URLSessionTaskDelegate { var json : NSData ! override func viewDidLoad () { super . viewDidLoad () // \u901a\u4fe1\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u751f\u6210. let myCofig : URLSessionConfiguration = URLSessionConfiguration . default let url : NSURL = NSURL ( string : \"http://xxx/hogehoge/upload.php\" ) ! var request : URLRequest = URLRequest ( url : url as URL ) request . httpMethod = \"POST\" let session : URLSession = URLSession ( configuration : myCofig , delegate : self , delegateQueue : OperationQueue . main ) // \u753b\u50cf\u30c7\u30fc\u30bf\u3092\u8aad\u307f\u51fa\u3057\u3001Data\u578b\u306b\u5909\u63db\u3059\u308b. // let file:NSData = UIImageJPEGRepresentation(UIImage(named: \"sample\")) let file : NSData = UIImage ( named : \"sample\" ) ! . pngData () ! as NSData let image : UIImage = UIImage ( data : file as Data ) ! // \u9001\u4fe1\u3059\u308b\u30d5\u30a1\u30a4\u30eb\u306e\u30d7\u30ec\u30d3\u30e5\u30fc. let myImageView : UIImageView = UIImageView ( frame : CGRect ( x : 0 , y : 0 , width : 100 , height : 120 )) myImageView . image = image myImageView . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 200.0 ) self . view . addSubview ( myImageView ) // \u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u7528\u306e\u30bf\u30b9\u30af\u3092\u751f\u6210. let task : URLSessionUploadTask = session . uploadTask ( with : request , from : file as Data ) // \u30bf\u30b9\u30af\u306e\u5b9f\u884c. task . resume () } /* \u901a\u4fe1\u7d42\u4e86\u6642\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8. */ func urlSession ( _ session : URLSession , task : URLSessionTask , didCompleteWithError error : Error ?) { print ( \"didCompleteWithError\" ) // \u30a8\u30e9\u30fc\u304c\u6709\u308b\u5834\u5408\u306b\u306f\u30a8\u30e9\u30fc\u306e\u30b3\u30fc\u30c9\u3092\u53d6\u5f97. if error != nil { print ( error ) } } func urlSession ( _ session : URLSession , task : URLSessionTask , willPerformHTTPRedirection response : HTTPURLResponse , newRequest request : URLRequest , completionHandler : ( URLRequest ?) -> Void ) { print ( \"willPerformHTTPRedirection\" ) } func urlSession ( _ session : URLSession , task : URLSessionTask , didSendBodyData bytesSent : Int64 , totalBytesSent : Int64 , totalBytesExpectedToSend : Int64 ) { print ( \"didSendBodyData\" ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 // // ViewController.swift // Connection009 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController , URLSessionTaskDelegate { var json : NSData ! override func viewDidLoad () { super . viewDidLoad () // \u901a\u4fe1\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u751f\u6210. let myCofig : URLSessionConfiguration = URLSessionConfiguration . default let url : NSURL = NSURL ( string : \"http://xxx/hogehoge/upload.php\" ) ! var request : URLRequest = URLRequest ( url : url as URL ) request . httpMethod = \"POST\" let session : URLSession = URLSession ( configuration : myCofig , delegate : self , delegateQueue : OperationQueue . main ) // \u753b\u50cf\u30c7\u30fc\u30bf\u3092\u8aad\u307f\u51fa\u3057\u3001Data\u578b\u306b\u5909\u63db\u3059\u308b. // let file:NSData = UIImageJPEGRepresentation(UIImage(named: \"sample\")) let file : NSData = UIImagePNGRepresentation ( UIImage ( named : \"sample\" ) ! ) ! let image : UIImage = UIImage ( data : file as Data ) ! // \u9001\u4fe1\u3059\u308b\u30d5\u30a1\u30a4\u30eb\u306e\u30d7\u30ec\u30d3\u30e5\u30fc. let myImageView : UIImageView = UIImageView ( frame : CGRect ( x : 0 , y : 0 , width : 100 , height : 120 )) myImageView . image = image myImageView . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 200.0 ) self . view . addSubview ( myImageView ) // \u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u7528\u306e\u30bf\u30b9\u30af\u3092\u751f\u6210. let task : URLSessionUploadTask = session . uploadTask ( with : request , from : file as Data ) // \u30bf\u30b9\u30af\u306e\u5b9f\u884c. task . resume () } /* \u901a\u4fe1\u7d42\u4e86\u6642\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8. */ func urlSession ( _ session : URLSession , task : URLSessionTask , didCompleteWithError error : Error ?) { print ( \"didCompleteWithError\" ) // \u30a8\u30e9\u30fc\u304c\u6709\u308b\u5834\u5408\u306b\u306f\u30a8\u30e9\u30fc\u306e\u30b3\u30fc\u30c9\u3092\u53d6\u5f97. if error != nil { print ( error ) } } func urlSession ( _ session : URLSession , task : URLSessionTask , willPerformHTTPRedirection response : HTTPURLResponse , newRequest request : URLRequest , completionHandler : ( URLRequest ?) -> Void ) { print ( \"willPerformHTTPRedirection\" ) } func urlSession ( _ session : URLSession , task : URLSessionTask , didSendBodyData bytesSent : Int64 , totalBytesSent : Int64 , totalBytesExpectedToSend : Int64 ) { print ( \"didSendBodyData\" ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 // // ViewController.swift // Connection009 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController , NSURLSessionTaskDelegate { var json : NSData ! override func viewDidLoad () { super . viewDidLoad () // \u901a\u4fe1\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u751f\u6210. let myCofig : NSURLSessionConfiguration = NSURLSessionConfiguration . defaultSessionConfiguration () let url : NSURL = NSURL ( string : \"http://xxx/hogehoge/upload.php\" ) ! let request : NSMutableURLRequest = NSMutableURLRequest ( URL : url ) request . HTTPMethod = \"POST\" let session : NSURLSession = NSURLSession ( configuration : myCofig , delegate : self , delegateQueue : NSOperationQueue . mainQueue ()) // \u753b\u50cf\u30c7\u30fc\u30bf\u3092\u8aad\u307f\u51fa\u3057\u3001Data\u578b\u306b\u5909\u63db\u3059\u308b. // let file:NSData = UIImageJPEGRepresentation(UIImage(named: \"sample\")) let file : NSData = UIImagePNGRepresentation ( UIImage ( named : \"sample\" ) ! ) ! let image : UIImage = UIImage ( data : file ) ! // \u9001\u4fe1\u3059\u308b\u30d5\u30a1\u30a4\u30eb\u306e\u30d7\u30ec\u30d3\u30e5\u30fc. let myImageView : UIImageView = UIImageView ( frame : CGRectMake ( 0 , 0 , 100 , 120 )) myImageView . image = image myImageView . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 200.0 ) self . view . addSubview ( myImageView ) // \u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u7528\u306e\u30bf\u30b9\u30af\u3092\u751f\u6210. let task : NSURLSessionUploadTask = session . uploadTaskWithRequest ( request , fromData : file ) // \u30bf\u30b9\u30af\u306e\u5b9f\u884c. task . resume () } /* \u901a\u4fe1\u7d42\u4e86\u6642\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30c7\u30ea\u30b2\u30fc\u30c8. */ func URLSession ( session : NSURLSession , task : NSURLSessionTask , didCompleteWithError error : NSError ?) { print ( \"didCompleteWithError\" ) // \u30a8\u30e9\u30fc\u304c\u6709\u308b\u5834\u5408\u306b\u306f\u30a8\u30e9\u30fc\u306e\u30b3\u30fc\u30c9\u3092\u53d6\u5f97. if error != nil { print ( error ?. code ) } } func URLSession ( session : NSURLSession , task : NSURLSessionTask , willPerformHTTPRedirection response : NSHTTPURLResponse , newRequest request : NSURLRequest , completionHandler : ( NSURLRequest ?) -> Void ) { print ( \"willPerformHTTPRedirection\" ) } func URLSession ( session : NSURLSession , task : NSURLSessionTask , didSendBodyData bytesSent : Int64 , totalBytesSent : Int64 , totalBytesExpectedToSend : Int64 ) { print ( \"didSendBodyData\" ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } }","title":"iOS9\u304b\u3089\u30ea\u30af\u30a8\u30b9\u30c8\u5148\u306b\u3088\u3063\u3066\u306fATS\u3092\u7121\u52b9\u5316\u30fb\u5bfe\u51e6\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059"},{"location":"6.connection/009_upload/#3x4x","text":"UIImagePNGRepresentation(UIImage(named: \"sample\")!)! \u304c UIImage(named: \"sample\")!.pngData()! as NSData \u306b\u5909\u66f4","title":"3.x\u30684.x\u306e\u5dee\u5206"},{"location":"6.connection/009_upload/#2x3x","text":"NSURLSession\u304b\u3089URLSession\u306b\u5909\u66f4\uff08\u4ed6\u3082\u540c\u3058\u304f\uff09 \u30c7\u30ea\u30b2\u30fc\u30c8\u30e1\u30bd\u30c3\u30c9\u306e\u63a5\u982d\u8a9e\u304c URLSession \u304b\u3089 urlSession \u306b\u5909\u66f4","title":"2.x\u30683.x\u306e\u5dee\u5206"},{"location":"6.connection/009_upload/#reference","text":"URLSession https://developer.apple.com/reference/foundation/urlsession URLSessionConfiguration https://developer.apple.com/reference/foundation/urlsessionconfiguration NSURL https://developer.apple.com/reference/foundation/nsurl NSURLDownloadDelegate https://developer.apple.com/reference/foundation/nsurldownloaddelegate","title":"Reference"},{"location":"6.connection/010_postjson/","text":"JSON\u30c7\u30fc\u30bf\u306ePOST iOS9\u304b\u3089\u30ea\u30af\u30a8\u30b9\u30c8\u5148\u306b\u3088\u3063\u3066\u306fATS\u3092\u7121\u52b9\u5316\u30fb\u5bfe\u51e6\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059 Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 // // ViewController.swift // Connection010 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () self . view . backgroundColor = UIColor . lightGray // \u7d50\u679c\u8868\u793a\u7528\u306eTextView\u3092\u7528\u610f. let myTextView = UITextView ( frame : CGRect ( x : 10 , y : 50 , width : self . view . frame . width - 20 , height : 500 )) myTextView . backgroundColor = UIColor ( red : 0.9 , green : 0.9 , blue : 1 , alpha : 1.0 ) myTextView . layer . masksToBounds = true myTextView . layer . cornerRadius = 20.0 myTextView . layer . borderWidth = 1 myTextView . layer . borderColor = UIColor . black . cgColor myTextView . font = UIFont . systemFont ( ofSize : CGFloat ( 20 )) myTextView . textColor = UIColor . black myTextView . textAlignment = NSTextAlignment . left myTextView . dataDetectorTypes = UIDataDetectorTypes . all myTextView . layer . shadowOpacity = 0.5 myTextView . layer . masksToBounds = false myTextView . isEditable = false self . view . addSubview ( myTextView ) var json : NSData ! // dictionary\u3067\u9001\u4fe1\u3059\u308bJSON\u30c7\u30fc\u30bf\u3092\u751f\u6210. let myDict : NSMutableDictionary = NSMutableDictionary () myDict . setObject ( \"object1\" , forKey : \"key1\" as NSCopying ) myDict . setObject ( \"object2\" , forKey : \"key2\" as NSCopying ) myDict . setObject ( \"object3\" , forKey : \"key3\" as NSCopying ) myDict . setObject ( \"object4\" , forKey : \"key4\" as NSCopying ) // \u4f5c\u6210\u3057\u305fdictionary\u304cJSON\u306b\u5909\u63db\u53ef\u80fd\u304b\u30c1\u30a7\u30c3\u30af. if JSONSerialization . isValidJSONObject ( myDict ){ do { // Dictionary\u304b\u3089JSON(NSData)\u3078\u5909\u63db. json = try JSONSerialization . data ( withJSONObject : myDict , options : JSONSerialization . WritingOptions . prettyPrinted ) as NSData // \u751f\u6210\u3057\u305fJSON\u30c7\u30fc\u30bf\u306e\u78ba\u8a8d. print ( NSString ( data : json as Data , encoding : String . Encoding . utf8 . rawValue ) ! ) } catch { print ( error ) } } // Http\u901a\u4fe1\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u751f\u6210. let config : URLSessionConfiguration = URLSessionConfiguration . default let url : NSURL = NSURL ( string : \"http:/xxx/json_decode.php\" ) ! let request : NSMutableURLRequest = NSMutableURLRequest ( url : url as URL ) let session : URLSession = URLSession ( configuration : config ) request . httpMethod = \"POST\" // json\u306e\u30c7\u30fc\u30bf\u3092\u4e00\u5ea6\u6587\u5b57\u5217\u306b\u3057\u3066\u3001\u30ad\u30fc\u3068\u5408\u308f\u305b\u308b. let data : NSString = \"json= \\( NSString ( data : json as Data , encoding : String . Encoding . utf8 . rawValue ) ! ) \" as NSString // json\u30c7\u30fc\u30bf\u306e\u30bb\u30c3\u30c8. request . httpBody = data . data ( using : String . Encoding . utf8 . rawValue ) let task : URLSessionDataTask = session . dataTask ( with : request as URLRequest , completionHandler : { ( _data , response , err ) -> Void in // \u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u3060\u3068UI\u306e\u51e6\u7406\u304c\u51fa\u6765\u306a\u3044\u306e\u3067\u3001\u30e1\u30a4\u30f3\u30b9\u30ec\u30c3\u30c9\u3067UI\u306e\u51e6\u7406\u3092\u884c\u308f\u305b\u308b. DispatchQueue . main . async ( execute : { myTextView . text = NSString ( data : _data !, encoding : String . Encoding . utf8 . rawValue ) ! as String }) }) task . resume () } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 // // ViewController.swift // Connection010 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () self . view . backgroundColor = UIColor . lightGray // \u7d50\u679c\u8868\u793a\u7528\u306eTextView\u3092\u7528\u610f. let myTextView = UITextView ( frame : CGRect ( x : 10 , y : 50 , width : self . view . frame . width - 20 , height : 500 )) myTextView . backgroundColor = UIColor ( red : 0.9 , green : 0.9 , blue : 1 , alpha : 1.0 ) myTextView . layer . masksToBounds = true myTextView . layer . cornerRadius = 20.0 myTextView . layer . borderWidth = 1 myTextView . layer . borderColor = UIColor . black . cgColor myTextView . font = UIFont . systemFont ( ofSize : CGFloat ( 20 )) myTextView . textColor = UIColor . black myTextView . textAlignment = NSTextAlignment . left myTextView . dataDetectorTypes = UIDataDetectorTypes . all myTextView . layer . shadowOpacity = 0.5 myTextView . layer . masksToBounds = false myTextView . isEditable = false self . view . addSubview ( myTextView ) var json : NSData ! // dictionary\u3067\u9001\u4fe1\u3059\u308bJSON\u30c7\u30fc\u30bf\u3092\u751f\u6210. let myDict : NSMutableDictionary = NSMutableDictionary () myDict . setObject ( \"object1\" , forKey : \"key1\" ) myDict . setObject ( \"object2\" , forKey : \"key2\" ) myDict . setObject ( \"object3\" , forKey : \"key3\" ) myDict . setObject ( \"object4\" , forKey : \"key4\" ) // \u4f5c\u6210\u3057\u305fdictionary\u304cJSON\u306b\u5909\u63db\u53ef\u80fd\u304b\u30c1\u30a7\u30c3\u30af. if JSONSerialization . isValidJSONObject ( myDict ){ do { // Dictionary\u304b\u3089JSON(NSData)\u3078\u5909\u63db. json = try JSONSerialization . data ( withJSONObject : myDict , options : JSONSerialization . WritingOptions . prettyPrinted ) // \u751f\u6210\u3057\u305fJSON\u30c7\u30fc\u30bf\u306e\u78ba\u8a8d. print ( NSString ( data : json as Data , encoding : String . Encoding . utf8 . rawValue ) ! ) } catch { print ( error ) } } // Http\u901a\u4fe1\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u751f\u6210. let config : URLSessionConfiguration = URLSessionConfiguration . default let url : NSURL = NSURL ( string : \"http:/xxx/json_decode.php\" ) ! let request : NSMutableURLRequest = NSMutableURLRequest ( url : url as URL ) let session : URLSession = URLSession ( configuration : config ) request . httpMethod = \"POST\" // json\u306e\u30c7\u30fc\u30bf\u3092\u4e00\u5ea6\u6587\u5b57\u5217\u306b\u3057\u3066\u3001\u30ad\u30fc\u3068\u5408\u308f\u305b\u308b. let data : NSString = \"json= \\( NSString ( data : json as Data , encoding : String . Encoding . utf8 . rawValue ) ! ) \" // json\u30c7\u30fc\u30bf\u306e\u30bb\u30c3\u30c8. request . httpBody = data . data ( using : String . Encoding . utf8 . rawValue ) let task : URLSessionDataTask = session . dataTask ( with : request as URLRequest , completionHandler : { ( _data , response , err ) -> Void in // \u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u3060\u3068UI\u306e\u51e6\u7406\u304c\u51fa\u6765\u306a\u3044\u306e\u3067\u3001\u30e1\u30a4\u30f3\u30b9\u30ec\u30c3\u30c9\u3067UI\u306e\u51e6\u7406\u3092\u884c\u308f\u305b\u308b. DispatchQueue . main . async ( execute : { myTextView . text = NSString ( data : _data !, encoding : String . Encoding . utf8 . rawValue ) ! as String }) }) task . resume () } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 // // ViewController.swift // Connection010 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () self . view . backgroundColor = UIColor . lightGrayColor () // \u7d50\u679c\u8868\u793a\u7528\u306eTextView\u3092\u7528\u610f. let myTextView = UITextView ( frame : CGRectMake ( 10 , 50 , self . view . frame . width - 20 , 500 )) myTextView . backgroundColor = UIColor ( red : 0.9 , green : 0.9 , blue : 1 , alpha : 1.0 ) myTextView . layer . masksToBounds = true myTextView . layer . cornerRadius = 20.0 myTextView . layer . borderWidth = 1 myTextView . layer . borderColor = UIColor . blackColor (). CGColor myTextView . font = UIFont . systemFontOfSize ( CGFloat ( 20 )) myTextView . textColor = UIColor . blackColor () myTextView . textAlignment = NSTextAlignment . Left myTextView . dataDetectorTypes = UIDataDetectorTypes . All myTextView . layer . shadowOpacity = 0.5 myTextView . layer . masksToBounds = false myTextView . editable = false self . view . addSubview ( myTextView ) var json : NSData ! // dictionary\u3067\u9001\u4fe1\u3059\u308bJSON\u30c7\u30fc\u30bf\u3092\u751f\u6210. let myDict : NSMutableDictionary = NSMutableDictionary () myDict . setObject ( \"object1\" , forKey : \"key1\" ) myDict . setObject ( \"object2\" , forKey : \"key2\" ) myDict . setObject ( \"object3\" , forKey : \"key3\" ) myDict . setObject ( \"object4\" , forKey : \"key4\" ) // \u4f5c\u6210\u3057\u305fdictionary\u304cJSON\u306b\u5909\u63db\u53ef\u80fd\u304b\u30c1\u30a7\u30c3\u30af. if NSJSONSerialization . isValidJSONObject ( myDict ){ do { // Dictionary\u304b\u3089JSON(NSData)\u3078\u5909\u63db. json = try NSJSONSerialization . dataWithJSONObject ( myDict , options : NSJSONWritingOptions . PrettyPrinted ) // \u751f\u6210\u3057\u305fJSON\u30c7\u30fc\u30bf\u306e\u78ba\u8a8d. print ( NSString ( data : json , encoding : NSUTF8StringEncoding ) ! ) } catch { print ( error ) } } // Http\u901a\u4fe1\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u751f\u6210. let config : NSURLSessionConfiguration = NSURLSessionConfiguration . defaultSessionConfiguration () let url : NSURL = NSURL ( string : \"http:/xxx/json_decode.php\" ) ! let request : NSMutableURLRequest = NSMutableURLRequest ( URL : url ) let session : NSURLSession = NSURLSession ( configuration : config ) request . HTTPMethod = \"POST\" // json\u306e\u30c7\u30fc\u30bf\u3092\u4e00\u5ea6\u6587\u5b57\u5217\u306b\u3057\u3066\u3001\u30ad\u30fc\u3068\u5408\u308f\u305b\u308b. let data : NSString = \"json= \\( NSString ( data : json , encoding : NSUTF8StringEncoding ) ! ) \" // json\u30c7\u30fc\u30bf\u306e\u30bb\u30c3\u30c8. request . HTTPBody = data . dataUsingEncoding ( NSUTF8StringEncoding ) let task : NSURLSessionDataTask = session . dataTaskWithRequest ( request , completionHandler : { ( _data , response , err ) -> Void in // \u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u3060\u3068UI\u306e\u51e6\u7406\u304c\u51fa\u6765\u306a\u3044\u306e\u3067\u3001\u30e1\u30a4\u30f3\u30b9\u30ec\u30c3\u30c9\u3067UI\u306e\u51e6\u7406\u3092\u884c\u308f\u305b\u308b. dispatch_async ( dispatch_get_main_queue (), { myTextView . text = NSString ( data : _data !, encoding : NSUTF8StringEncoding ) ! as String }) }) task . resume () } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } 3.x\u30684.x\u306e\u5dee\u5206 forKey: \"key~\" \u306b as NSCopying \u3092\u8ffd\u52a0 JSONSerialization.data(withJSONObject: myDict, options: JSONSerialization.WritingOptions.prettyPrinted) \u306b as NSData \u3092\u8ffd\u52a0 \"json=\\(NSString(data: json as Data, encoding: String.Encoding.utf8.rawValue)!)\" \u306b as NSString \u3092\u8ffd\u52a0 2.x\u30683.x\u306e\u5dee\u5206 NSURLSession\u304b\u3089URLSession\u306b\u5909\u66f4\uff08\u4ed6\u3082\u540c\u3058\u304f\uff09 \u30c7\u30ea\u30b2\u30fc\u30c8\u30e1\u30bd\u30c3\u30c9\u306e\u63a5\u982d\u8a9e\u304c URLSession \u304b\u3089 urlSession \u306b\u5909\u66f4 NSJSONSerialization \u304b\u3089 JSONSerialization \u306b\u5909\u66f4 dataUsingEncoding(NSUTF8StringEncoding) \u304b\u3089 data(using: String.Encoding.utf8.rawValue) \u306b\u5909\u66f4 Reference URLSession https://developer.apple.com/reference/foundation/urlsession URLSessionConfiguration https://developer.apple.com/reference/foundation/urlsessionconfiguration NSURL https://developer.apple.com/reference/foundation/nsurl JSONSerialization https://developer.apple.com/reference/foundation/jsonserialization","title":"JSON\u30c7\u30fc\u30bf\u306ePOST"},{"location":"6.connection/010_postjson/#jsonpost","text":"","title":"JSON\u30c7\u30fc\u30bf\u306ePOST"},{"location":"6.connection/010_postjson/#ios9ats","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 // // ViewController.swift // Connection010 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () self . view . backgroundColor = UIColor . lightGray // \u7d50\u679c\u8868\u793a\u7528\u306eTextView\u3092\u7528\u610f. let myTextView = UITextView ( frame : CGRect ( x : 10 , y : 50 , width : self . view . frame . width - 20 , height : 500 )) myTextView . backgroundColor = UIColor ( red : 0.9 , green : 0.9 , blue : 1 , alpha : 1.0 ) myTextView . layer . masksToBounds = true myTextView . layer . cornerRadius = 20.0 myTextView . layer . borderWidth = 1 myTextView . layer . borderColor = UIColor . black . cgColor myTextView . font = UIFont . systemFont ( ofSize : CGFloat ( 20 )) myTextView . textColor = UIColor . black myTextView . textAlignment = NSTextAlignment . left myTextView . dataDetectorTypes = UIDataDetectorTypes . all myTextView . layer . shadowOpacity = 0.5 myTextView . layer . masksToBounds = false myTextView . isEditable = false self . view . addSubview ( myTextView ) var json : NSData ! // dictionary\u3067\u9001\u4fe1\u3059\u308bJSON\u30c7\u30fc\u30bf\u3092\u751f\u6210. let myDict : NSMutableDictionary = NSMutableDictionary () myDict . setObject ( \"object1\" , forKey : \"key1\" as NSCopying ) myDict . setObject ( \"object2\" , forKey : \"key2\" as NSCopying ) myDict . setObject ( \"object3\" , forKey : \"key3\" as NSCopying ) myDict . setObject ( \"object4\" , forKey : \"key4\" as NSCopying ) // \u4f5c\u6210\u3057\u305fdictionary\u304cJSON\u306b\u5909\u63db\u53ef\u80fd\u304b\u30c1\u30a7\u30c3\u30af. if JSONSerialization . isValidJSONObject ( myDict ){ do { // Dictionary\u304b\u3089JSON(NSData)\u3078\u5909\u63db. json = try JSONSerialization . data ( withJSONObject : myDict , options : JSONSerialization . WritingOptions . prettyPrinted ) as NSData // \u751f\u6210\u3057\u305fJSON\u30c7\u30fc\u30bf\u306e\u78ba\u8a8d. print ( NSString ( data : json as Data , encoding : String . Encoding . utf8 . rawValue ) ! ) } catch { print ( error ) } } // Http\u901a\u4fe1\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u751f\u6210. let config : URLSessionConfiguration = URLSessionConfiguration . default let url : NSURL = NSURL ( string : \"http:/xxx/json_decode.php\" ) ! let request : NSMutableURLRequest = NSMutableURLRequest ( url : url as URL ) let session : URLSession = URLSession ( configuration : config ) request . httpMethod = \"POST\" // json\u306e\u30c7\u30fc\u30bf\u3092\u4e00\u5ea6\u6587\u5b57\u5217\u306b\u3057\u3066\u3001\u30ad\u30fc\u3068\u5408\u308f\u305b\u308b. let data : NSString = \"json= \\( NSString ( data : json as Data , encoding : String . Encoding . utf8 . rawValue ) ! ) \" as NSString // json\u30c7\u30fc\u30bf\u306e\u30bb\u30c3\u30c8. request . httpBody = data . data ( using : String . Encoding . utf8 . rawValue ) let task : URLSessionDataTask = session . dataTask ( with : request as URLRequest , completionHandler : { ( _data , response , err ) -> Void in // \u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u3060\u3068UI\u306e\u51e6\u7406\u304c\u51fa\u6765\u306a\u3044\u306e\u3067\u3001\u30e1\u30a4\u30f3\u30b9\u30ec\u30c3\u30c9\u3067UI\u306e\u51e6\u7406\u3092\u884c\u308f\u305b\u308b. DispatchQueue . main . async ( execute : { myTextView . text = NSString ( data : _data !, encoding : String . Encoding . utf8 . rawValue ) ! as String }) }) task . resume () } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 // // ViewController.swift // Connection010 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () self . view . backgroundColor = UIColor . lightGray // \u7d50\u679c\u8868\u793a\u7528\u306eTextView\u3092\u7528\u610f. let myTextView = UITextView ( frame : CGRect ( x : 10 , y : 50 , width : self . view . frame . width - 20 , height : 500 )) myTextView . backgroundColor = UIColor ( red : 0.9 , green : 0.9 , blue : 1 , alpha : 1.0 ) myTextView . layer . masksToBounds = true myTextView . layer . cornerRadius = 20.0 myTextView . layer . borderWidth = 1 myTextView . layer . borderColor = UIColor . black . cgColor myTextView . font = UIFont . systemFont ( ofSize : CGFloat ( 20 )) myTextView . textColor = UIColor . black myTextView . textAlignment = NSTextAlignment . left myTextView . dataDetectorTypes = UIDataDetectorTypes . all myTextView . layer . shadowOpacity = 0.5 myTextView . layer . masksToBounds = false myTextView . isEditable = false self . view . addSubview ( myTextView ) var json : NSData ! // dictionary\u3067\u9001\u4fe1\u3059\u308bJSON\u30c7\u30fc\u30bf\u3092\u751f\u6210. let myDict : NSMutableDictionary = NSMutableDictionary () myDict . setObject ( \"object1\" , forKey : \"key1\" ) myDict . setObject ( \"object2\" , forKey : \"key2\" ) myDict . setObject ( \"object3\" , forKey : \"key3\" ) myDict . setObject ( \"object4\" , forKey : \"key4\" ) // \u4f5c\u6210\u3057\u305fdictionary\u304cJSON\u306b\u5909\u63db\u53ef\u80fd\u304b\u30c1\u30a7\u30c3\u30af. if JSONSerialization . isValidJSONObject ( myDict ){ do { // Dictionary\u304b\u3089JSON(NSData)\u3078\u5909\u63db. json = try JSONSerialization . data ( withJSONObject : myDict , options : JSONSerialization . WritingOptions . prettyPrinted ) // \u751f\u6210\u3057\u305fJSON\u30c7\u30fc\u30bf\u306e\u78ba\u8a8d. print ( NSString ( data : json as Data , encoding : String . Encoding . utf8 . rawValue ) ! ) } catch { print ( error ) } } // Http\u901a\u4fe1\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u751f\u6210. let config : URLSessionConfiguration = URLSessionConfiguration . default let url : NSURL = NSURL ( string : \"http:/xxx/json_decode.php\" ) ! let request : NSMutableURLRequest = NSMutableURLRequest ( url : url as URL ) let session : URLSession = URLSession ( configuration : config ) request . httpMethod = \"POST\" // json\u306e\u30c7\u30fc\u30bf\u3092\u4e00\u5ea6\u6587\u5b57\u5217\u306b\u3057\u3066\u3001\u30ad\u30fc\u3068\u5408\u308f\u305b\u308b. let data : NSString = \"json= \\( NSString ( data : json as Data , encoding : String . Encoding . utf8 . rawValue ) ! ) \" // json\u30c7\u30fc\u30bf\u306e\u30bb\u30c3\u30c8. request . httpBody = data . data ( using : String . Encoding . utf8 . rawValue ) let task : URLSessionDataTask = session . dataTask ( with : request as URLRequest , completionHandler : { ( _data , response , err ) -> Void in // \u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u3060\u3068UI\u306e\u51e6\u7406\u304c\u51fa\u6765\u306a\u3044\u306e\u3067\u3001\u30e1\u30a4\u30f3\u30b9\u30ec\u30c3\u30c9\u3067UI\u306e\u51e6\u7406\u3092\u884c\u308f\u305b\u308b. DispatchQueue . main . async ( execute : { myTextView . text = NSString ( data : _data !, encoding : String . Encoding . utf8 . rawValue ) ! as String }) }) task . resume () } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 // // ViewController.swift // Connection010 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () self . view . backgroundColor = UIColor . lightGrayColor () // \u7d50\u679c\u8868\u793a\u7528\u306eTextView\u3092\u7528\u610f. let myTextView = UITextView ( frame : CGRectMake ( 10 , 50 , self . view . frame . width - 20 , 500 )) myTextView . backgroundColor = UIColor ( red : 0.9 , green : 0.9 , blue : 1 , alpha : 1.0 ) myTextView . layer . masksToBounds = true myTextView . layer . cornerRadius = 20.0 myTextView . layer . borderWidth = 1 myTextView . layer . borderColor = UIColor . blackColor (). CGColor myTextView . font = UIFont . systemFontOfSize ( CGFloat ( 20 )) myTextView . textColor = UIColor . blackColor () myTextView . textAlignment = NSTextAlignment . Left myTextView . dataDetectorTypes = UIDataDetectorTypes . All myTextView . layer . shadowOpacity = 0.5 myTextView . layer . masksToBounds = false myTextView . editable = false self . view . addSubview ( myTextView ) var json : NSData ! // dictionary\u3067\u9001\u4fe1\u3059\u308bJSON\u30c7\u30fc\u30bf\u3092\u751f\u6210. let myDict : NSMutableDictionary = NSMutableDictionary () myDict . setObject ( \"object1\" , forKey : \"key1\" ) myDict . setObject ( \"object2\" , forKey : \"key2\" ) myDict . setObject ( \"object3\" , forKey : \"key3\" ) myDict . setObject ( \"object4\" , forKey : \"key4\" ) // \u4f5c\u6210\u3057\u305fdictionary\u304cJSON\u306b\u5909\u63db\u53ef\u80fd\u304b\u30c1\u30a7\u30c3\u30af. if NSJSONSerialization . isValidJSONObject ( myDict ){ do { // Dictionary\u304b\u3089JSON(NSData)\u3078\u5909\u63db. json = try NSJSONSerialization . dataWithJSONObject ( myDict , options : NSJSONWritingOptions . PrettyPrinted ) // \u751f\u6210\u3057\u305fJSON\u30c7\u30fc\u30bf\u306e\u78ba\u8a8d. print ( NSString ( data : json , encoding : NSUTF8StringEncoding ) ! ) } catch { print ( error ) } } // Http\u901a\u4fe1\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u751f\u6210. let config : NSURLSessionConfiguration = NSURLSessionConfiguration . defaultSessionConfiguration () let url : NSURL = NSURL ( string : \"http:/xxx/json_decode.php\" ) ! let request : NSMutableURLRequest = NSMutableURLRequest ( URL : url ) let session : NSURLSession = NSURLSession ( configuration : config ) request . HTTPMethod = \"POST\" // json\u306e\u30c7\u30fc\u30bf\u3092\u4e00\u5ea6\u6587\u5b57\u5217\u306b\u3057\u3066\u3001\u30ad\u30fc\u3068\u5408\u308f\u305b\u308b. let data : NSString = \"json= \\( NSString ( data : json , encoding : NSUTF8StringEncoding ) ! ) \" // json\u30c7\u30fc\u30bf\u306e\u30bb\u30c3\u30c8. request . HTTPBody = data . dataUsingEncoding ( NSUTF8StringEncoding ) let task : NSURLSessionDataTask = session . dataTaskWithRequest ( request , completionHandler : { ( _data , response , err ) -> Void in // \u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u3060\u3068UI\u306e\u51e6\u7406\u304c\u51fa\u6765\u306a\u3044\u306e\u3067\u3001\u30e1\u30a4\u30f3\u30b9\u30ec\u30c3\u30c9\u3067UI\u306e\u51e6\u7406\u3092\u884c\u308f\u305b\u308b. dispatch_async ( dispatch_get_main_queue (), { myTextView . text = NSString ( data : _data !, encoding : NSUTF8StringEncoding ) ! as String }) }) task . resume () } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } }","title":"iOS9\u304b\u3089\u30ea\u30af\u30a8\u30b9\u30c8\u5148\u306b\u3088\u3063\u3066\u306fATS\u3092\u7121\u52b9\u5316\u30fb\u5bfe\u51e6\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059"},{"location":"6.connection/010_postjson/#3x4x","text":"forKey: \"key~\" \u306b as NSCopying \u3092\u8ffd\u52a0 JSONSerialization.data(withJSONObject: myDict, options: JSONSerialization.WritingOptions.prettyPrinted) \u306b as NSData \u3092\u8ffd\u52a0 \"json=\\(NSString(data: json as Data, encoding: String.Encoding.utf8.rawValue)!)\" \u306b as NSString \u3092\u8ffd\u52a0","title":"3.x\u30684.x\u306e\u5dee\u5206"},{"location":"6.connection/010_postjson/#2x3x","text":"NSURLSession\u304b\u3089URLSession\u306b\u5909\u66f4\uff08\u4ed6\u3082\u540c\u3058\u304f\uff09 \u30c7\u30ea\u30b2\u30fc\u30c8\u30e1\u30bd\u30c3\u30c9\u306e\u63a5\u982d\u8a9e\u304c URLSession \u304b\u3089 urlSession \u306b\u5909\u66f4 NSJSONSerialization \u304b\u3089 JSONSerialization \u306b\u5909\u66f4 dataUsingEncoding(NSUTF8StringEncoding) \u304b\u3089 data(using: String.Encoding.utf8.rawValue) \u306b\u5909\u66f4","title":"2.x\u30683.x\u306e\u5dee\u5206"},{"location":"6.connection/010_postjson/#reference","text":"URLSession https://developer.apple.com/reference/foundation/urlsession URLSessionConfiguration https://developer.apple.com/reference/foundation/urlsessionconfiguration NSURL https://developer.apple.com/reference/foundation/nsurl JSONSerialization https://developer.apple.com/reference/foundation/jsonserialization","title":"Reference"},{"location":"6.connection/011_persejson/","text":"JSON\u30c7\u30fc\u30bf\u306e\u30d1\u30fc\u30b9 iOS9\u304b\u3089\u30ea\u30af\u30a8\u30b9\u30c8\u5148\u306b\u3088\u3063\u3066\u306fATS\u3092\u7121\u52b9\u5316\u30fb\u5bfe\u51e6\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059 Swift 4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 // // ViewController.swift // Connection011 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController , URLSessionDelegate { override func viewDidLoad () { super . viewDidLoad () self . view . backgroundColor = UIColor . lightGray //\u7d50\u679c\u8868\u793a\u7528\u306eTextView\u3092\u7528\u610f let myTextView = UITextView ( frame : CGRect ( x : 10 , y : 50 , width : self . view . frame . width - 20 , height : 500 )) myTextView . backgroundColor = UIColor ( red : 0.9 , green : 0.9 , blue : 1 , alpha : 1.0 ) myTextView . layer . masksToBounds = true myTextView . layer . cornerRadius = 20.0 myTextView . layer . borderWidth = 1 myTextView . layer . borderColor = UIColor . black . cgColor myTextView . font = UIFont . systemFont ( ofSize : CGFloat ( 20 )) myTextView . textColor = UIColor . black myTextView . textAlignment = NSTextAlignment . left myTextView . dataDetectorTypes = UIDataDetectorTypes . all myTextView . layer . shadowOpacity = 0.5 myTextView . layer . masksToBounds = false myTextView . isEditable = false self . view . addSubview ( myTextView ) // \u901a\u4fe1\u7528\u306eConfig\u3092\u751f\u6210. let config : URLSessionConfiguration = URLSessionConfiguration . default // Session\u3092\u751f\u6210. let session : URLSession = URLSession ( configuration : config , delegate : self , delegateQueue : nil ) // \u901a\u4fe1\u5148\u306eURL\u3092\u751f\u6210. let url : NSURL = NSURL ( string : \"http://xxx/json_encode.php\" ) ! // \u30bf\u30b9\u30af\u306e\u751f\u6210. let task : URLSessionDataTask = session . dataTask ( with : url as URL , completionHandler : { ( data , response , err ) -> Void in if data != nil { let str = NSString ( data : data !, encoding : String . Encoding . utf8 . rawValue ) print ( str !) DispatchQueue . main . async ( execute : { myTextView . text = \" \\( str ! ) \" }) do { // \u53d7\u3051\u53d6\u3063\u305fJSON\u30c7\u30fc\u30bf\u3092\u30d1\u30fc\u30b9\u3059\u308b. let json : NSDictionary = try JSONSerialization . jsonObject ( with : data !, options : JSONSerialization . ReadingOptions . allowFragments ) as ! NSDictionary // \u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u3060\u3068UI\u306e\u51e6\u7406\u304c\u51fa\u6765\u306a\u3044\u306e\u3067\u3001\u30e1\u30a4\u30f3\u30b9\u30ec\u30c3\u30c9\u3067UI\u306e\u51e6\u7406\u3092\u884c\u308f\u305b\u308b. DispatchQueue . main . async ( execute : { // \u30d1\u30fc\u30b9\u3057\u305fJSON\u30c7\u30fc\u30bf\u3078\u306e\u30a2\u30af\u30bb\u30b9. for _value in json { let key : String = _value . key as ! String let value : Int = _value . value as ! Int myTextView . text = myTextView . text . appending ( \" \\n \\( key ) : \\( value ) \" ) } }) } catch { print ( \"error\" ) print ( error ) } } }) // \u30bf\u30b9\u30af\u306e\u5b9f\u884c. task . resume () } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 // // ViewController.swift // Connection011 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController , NSURLSessionDelegate { override func viewDidLoad () { super . viewDidLoad () self . view . backgroundColor = UIColor . lightGrayColor () //\u7d50\u679c\u8868\u793a\u7528\u306eTextView\u3092\u7528\u610f let myTextView = UITextView ( frame : CGRectMake ( 10 , 50 , self . view . frame . width - 20 , 500 )) myTextView . backgroundColor = UIColor ( red : 0.9 , green : 0.9 , blue : 1 , alpha : 1.0 ) myTextView . layer . masksToBounds = true myTextView . layer . cornerRadius = 20.0 myTextView . layer . borderWidth = 1 myTextView . layer . borderColor = UIColor . blackColor (). CGColor myTextView . font = UIFont . systemFontOfSize ( CGFloat ( 20 )) myTextView . textColor = UIColor . blackColor () myTextView . textAlignment = NSTextAlignment . Left myTextView . dataDetectorTypes = UIDataDetectorTypes . All myTextView . layer . shadowOpacity = 0.5 myTextView . layer . masksToBounds = false myTextView . editable = false self . view . addSubview ( myTextView ) // \u901a\u4fe1\u7528\u306eConfig\u3092\u751f\u6210. let config : NSURLSessionConfiguration = NSURLSessionConfiguration . defaultSessionConfiguration () // Session\u3092\u751f\u6210. let session : NSURLSession = NSURLSession ( configuration : config , delegate : self , delegateQueue : nil ) // \u901a\u4fe1\u5148\u306eURL\u3092\u751f\u6210. let url : NSURL = NSURL ( string : \"http://xxx/json_encode.php\" ) ! // \u30bf\u30b9\u30af\u306e\u751f\u6210. let task : NSURLSessionDataTask = session . dataTaskWithURL ( url , completionHandler : { ( data , response , err ) -> Void in if data != nil { let str = NSString ( data : data !, encoding : NSUTF8StringEncoding ) dispatch_async ( dispatch_get_main_queue (), { myTextView . text = \" \\( str ! ) \" }) do { // \u53d7\u3051\u53d6\u3063\u305fJSON\u30c7\u30fc\u30bf\u3092\u30d1\u30fc\u30b9\u3059\u308b. let json : NSDictionary = try NSJSONSerialization . JSONObjectWithData ( data !, options : NSJSONReadingOptions . AllowFragments ) as ! NSDictionary // \u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u3060\u3068UI\u306e\u51e6\u7406\u304c\u51fa\u6765\u306a\u3044\u306e\u3067\u3001\u30e1\u30a4\u30f3\u30b9\u30ec\u30c3\u30c9\u3067UI\u306e\u51e6\u7406\u3092\u884c\u308f\u305b\u308b. dispatch_async ( dispatch_get_main_queue (), { // \u30d1\u30fc\u30b9\u3057\u305fJSON\u30c7\u30fc\u30bf\u3078\u306e\u30a2\u30af\u30bb\u30b9. for value in json { myTextView . text = \" \\( myTextView . text ) \\n \\( value . key ) : \\( value . value ) \" } }) } catch { print ( error ) } } }) // \u30bf\u30b9\u30af\u306e\u5b9f\u884c. task . resume () } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } 2.x\u30683.x\u306e\u5dee\u5206 NSURLSession\u304b\u3089URLSession\u306b\u5909\u66f4\uff08\u4ed6\u3082\u540c\u3058\u304f\uff09 \u30c7\u30ea\u30b2\u30fc\u30c8\u30e1\u30bd\u30c3\u30c9\u306e\u63a5\u982d\u8a9e\u304c URLSession \u304b\u3089 urlSession \u306b\u5909\u66f4 NSJSONSerialization \u304b\u3089 JSONSerialization \u306b\u5909\u66f4 NSJSONSerialization.JSONObjectWithData \u304b\u3089 JSONSerialization.jsonObject \u306b\u5909\u66f4 [String : AnyObject]\u306e\u30aa\u30d7\u30b7\u30e7\u30ca\u30eb\u578b\u306e\u5236\u9650\u304c\u53b3\u3057\u304f\u306a\u3063\u3066\u3044\u308b\u306e\u304b\u3001Swift3\u3067\u306f \\(value.key) : \\(value.value) \u306e\u3088\u3046\u306bforeach\u306e\u4e00\u6642\u5909\u6570\u3092\u76f4\u63a5\u4f7f\u3046\u3088\u308a\u3082\u4e00\u5ea6key\u3068value\u3092\u305d\u308c\u305e\u308c\u306b\u5408\u3063\u305f\u578b\u306b\u53d6\u308a\u51fa\u3057\u305f\u65b9\u304c\u5b89\u5b9a\u3057\u3066\u3044\u308b Reference URLSession https://developer.apple.com/reference/foundation/urlsession URLSessionConfiguration https://developer.apple.com/reference/foundation/urlsessionconfiguration NSURL https://developer.apple.com/reference/foundation/nsurl JSONSerialization https://developer.apple.com/reference/foundation/jsonserialization","title":"JSON\u30c7\u30fc\u30bf\u306e\u30d1\u30fc\u30b9"},{"location":"6.connection/011_persejson/#json","text":"","title":"JSON\u30c7\u30fc\u30bf\u306e\u30d1\u30fc\u30b9"},{"location":"6.connection/011_persejson/#ios9ats","text":"Swift 4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 // // ViewController.swift // Connection011 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController , URLSessionDelegate { override func viewDidLoad () { super . viewDidLoad () self . view . backgroundColor = UIColor . lightGray //\u7d50\u679c\u8868\u793a\u7528\u306eTextView\u3092\u7528\u610f let myTextView = UITextView ( frame : CGRect ( x : 10 , y : 50 , width : self . view . frame . width - 20 , height : 500 )) myTextView . backgroundColor = UIColor ( red : 0.9 , green : 0.9 , blue : 1 , alpha : 1.0 ) myTextView . layer . masksToBounds = true myTextView . layer . cornerRadius = 20.0 myTextView . layer . borderWidth = 1 myTextView . layer . borderColor = UIColor . black . cgColor myTextView . font = UIFont . systemFont ( ofSize : CGFloat ( 20 )) myTextView . textColor = UIColor . black myTextView . textAlignment = NSTextAlignment . left myTextView . dataDetectorTypes = UIDataDetectorTypes . all myTextView . layer . shadowOpacity = 0.5 myTextView . layer . masksToBounds = false myTextView . isEditable = false self . view . addSubview ( myTextView ) // \u901a\u4fe1\u7528\u306eConfig\u3092\u751f\u6210. let config : URLSessionConfiguration = URLSessionConfiguration . default // Session\u3092\u751f\u6210. let session : URLSession = URLSession ( configuration : config , delegate : self , delegateQueue : nil ) // \u901a\u4fe1\u5148\u306eURL\u3092\u751f\u6210. let url : NSURL = NSURL ( string : \"http://xxx/json_encode.php\" ) ! // \u30bf\u30b9\u30af\u306e\u751f\u6210. let task : URLSessionDataTask = session . dataTask ( with : url as URL , completionHandler : { ( data , response , err ) -> Void in if data != nil { let str = NSString ( data : data !, encoding : String . Encoding . utf8 . rawValue ) print ( str !) DispatchQueue . main . async ( execute : { myTextView . text = \" \\( str ! ) \" }) do { // \u53d7\u3051\u53d6\u3063\u305fJSON\u30c7\u30fc\u30bf\u3092\u30d1\u30fc\u30b9\u3059\u308b. let json : NSDictionary = try JSONSerialization . jsonObject ( with : data !, options : JSONSerialization . ReadingOptions . allowFragments ) as ! NSDictionary // \u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u3060\u3068UI\u306e\u51e6\u7406\u304c\u51fa\u6765\u306a\u3044\u306e\u3067\u3001\u30e1\u30a4\u30f3\u30b9\u30ec\u30c3\u30c9\u3067UI\u306e\u51e6\u7406\u3092\u884c\u308f\u305b\u308b. DispatchQueue . main . async ( execute : { // \u30d1\u30fc\u30b9\u3057\u305fJSON\u30c7\u30fc\u30bf\u3078\u306e\u30a2\u30af\u30bb\u30b9. for _value in json { let key : String = _value . key as ! String let value : Int = _value . value as ! Int myTextView . text = myTextView . text . appending ( \" \\n \\( key ) : \\( value ) \" ) } }) } catch { print ( \"error\" ) print ( error ) } } }) // \u30bf\u30b9\u30af\u306e\u5b9f\u884c. task . resume () } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 // // ViewController.swift // Connection011 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController , NSURLSessionDelegate { override func viewDidLoad () { super . viewDidLoad () self . view . backgroundColor = UIColor . lightGrayColor () //\u7d50\u679c\u8868\u793a\u7528\u306eTextView\u3092\u7528\u610f let myTextView = UITextView ( frame : CGRectMake ( 10 , 50 , self . view . frame . width - 20 , 500 )) myTextView . backgroundColor = UIColor ( red : 0.9 , green : 0.9 , blue : 1 , alpha : 1.0 ) myTextView . layer . masksToBounds = true myTextView . layer . cornerRadius = 20.0 myTextView . layer . borderWidth = 1 myTextView . layer . borderColor = UIColor . blackColor (). CGColor myTextView . font = UIFont . systemFontOfSize ( CGFloat ( 20 )) myTextView . textColor = UIColor . blackColor () myTextView . textAlignment = NSTextAlignment . Left myTextView . dataDetectorTypes = UIDataDetectorTypes . All myTextView . layer . shadowOpacity = 0.5 myTextView . layer . masksToBounds = false myTextView . editable = false self . view . addSubview ( myTextView ) // \u901a\u4fe1\u7528\u306eConfig\u3092\u751f\u6210. let config : NSURLSessionConfiguration = NSURLSessionConfiguration . defaultSessionConfiguration () // Session\u3092\u751f\u6210. let session : NSURLSession = NSURLSession ( configuration : config , delegate : self , delegateQueue : nil ) // \u901a\u4fe1\u5148\u306eURL\u3092\u751f\u6210. let url : NSURL = NSURL ( string : \"http://xxx/json_encode.php\" ) ! // \u30bf\u30b9\u30af\u306e\u751f\u6210. let task : NSURLSessionDataTask = session . dataTaskWithURL ( url , completionHandler : { ( data , response , err ) -> Void in if data != nil { let str = NSString ( data : data !, encoding : NSUTF8StringEncoding ) dispatch_async ( dispatch_get_main_queue (), { myTextView . text = \" \\( str ! ) \" }) do { // \u53d7\u3051\u53d6\u3063\u305fJSON\u30c7\u30fc\u30bf\u3092\u30d1\u30fc\u30b9\u3059\u308b. let json : NSDictionary = try NSJSONSerialization . JSONObjectWithData ( data !, options : NSJSONReadingOptions . AllowFragments ) as ! NSDictionary // \u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u3060\u3068UI\u306e\u51e6\u7406\u304c\u51fa\u6765\u306a\u3044\u306e\u3067\u3001\u30e1\u30a4\u30f3\u30b9\u30ec\u30c3\u30c9\u3067UI\u306e\u51e6\u7406\u3092\u884c\u308f\u305b\u308b. dispatch_async ( dispatch_get_main_queue (), { // \u30d1\u30fc\u30b9\u3057\u305fJSON\u30c7\u30fc\u30bf\u3078\u306e\u30a2\u30af\u30bb\u30b9. for value in json { myTextView . text = \" \\( myTextView . text ) \\n \\( value . key ) : \\( value . value ) \" } }) } catch { print ( error ) } } }) // \u30bf\u30b9\u30af\u306e\u5b9f\u884c. task . resume () } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } }","title":"iOS9\u304b\u3089\u30ea\u30af\u30a8\u30b9\u30c8\u5148\u306b\u3088\u3063\u3066\u306fATS\u3092\u7121\u52b9\u5316\u30fb\u5bfe\u51e6\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059"},{"location":"6.connection/011_persejson/#2x3x","text":"NSURLSession\u304b\u3089URLSession\u306b\u5909\u66f4\uff08\u4ed6\u3082\u540c\u3058\u304f\uff09 \u30c7\u30ea\u30b2\u30fc\u30c8\u30e1\u30bd\u30c3\u30c9\u306e\u63a5\u982d\u8a9e\u304c URLSession \u304b\u3089 urlSession \u306b\u5909\u66f4 NSJSONSerialization \u304b\u3089 JSONSerialization \u306b\u5909\u66f4 NSJSONSerialization.JSONObjectWithData \u304b\u3089 JSONSerialization.jsonObject \u306b\u5909\u66f4 [String : AnyObject]\u306e\u30aa\u30d7\u30b7\u30e7\u30ca\u30eb\u578b\u306e\u5236\u9650\u304c\u53b3\u3057\u304f\u306a\u3063\u3066\u3044\u308b\u306e\u304b\u3001Swift3\u3067\u306f \\(value.key) : \\(value.value) \u306e\u3088\u3046\u306bforeach\u306e\u4e00\u6642\u5909\u6570\u3092\u76f4\u63a5\u4f7f\u3046\u3088\u308a\u3082\u4e00\u5ea6key\u3068value\u3092\u305d\u308c\u305e\u308c\u306b\u5408\u3063\u305f\u578b\u306b\u53d6\u308a\u51fa\u3057\u305f\u65b9\u304c\u5b89\u5b9a\u3057\u3066\u3044\u308b","title":"2.x\u30683.x\u306e\u5dee\u5206"},{"location":"6.connection/011_persejson/#reference","text":"URLSession https://developer.apple.com/reference/foundation/urlsession URLSessionConfiguration https://developer.apple.com/reference/foundation/urlsessionconfiguration NSURL https://developer.apple.com/reference/foundation/nsurl JSONSerialization https://developer.apple.com/reference/foundation/jsonserialization","title":"Reference"},{"location":"6.connection/012_lastmodified/","text":"\u30c7\u30fc\u30bf\u306e\u66f4\u65b0\u65e5\u6642\u3092\u53d6\u5f97 iOS9\u304b\u3089\u30ea\u30af\u30a8\u30b9\u30c8\u5148\u306b\u3088\u3063\u3066\u306fATS\u3092\u7121\u52b9\u5316\u30fb\u5bfe\u51e6\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059 Swift 4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 // ViewController.swift // Connection012 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController , NSURLConnectionDataDelegate { var myTextView : UITextView ! override func viewDidLoad () { super . viewDidLoad () // \u753b\u50cf\u306eURL\u3092\u521d\u671f\u5316. let url = NSURL ( string : \"http://blogimg.goo.ne.jp/user_image/6b/5d/d7ecfd5f7dc8c1fd7384e5642abfe638.jpg\" ) // \u53c2\u7167\u3059\u308b\u30a4\u30e1\u30fc\u30b8\u3092\u8868\u793a. let imageData : NSData = NSData ( contentsOf : url as ! URL ) ! let image : UIImage = UIImage ( data : imageData as Data ) ! let imageView : UIImageView = UIImageView ( frame : CGRect ( x : 0 , y : 0 , width : 100 , height : 120 )) imageView . image = image imageView . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 200.0 ) self . view . addSubview ( imageView ) // \u66f4\u65b0\u65e5\u306e\u8868\u793a\u7528TextView\u3092\u7528\u610f. myTextView = UITextView ( frame : CGRect ( x : 0 , y : 0 , width : 300 , height : 50 )) myTextView . textAlignment = NSTextAlignment . center myTextView . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 400.0 ) myTextView . isEditable = false self . view . addSubview ( myTextView ) // \u30b5\u30fc\u30d0\u30fc\u3078\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u521d\u671f\u5316. let req = NSMutableURLRequest ( url : url as ! URL ) // \u30d8\u30c3\u30c0\u30fc\u60c5\u5831\u3092\u5f97\u308b\u3088\u3046\u306b\u521d\u671f\u5316. req . httpMethod = \"HEAD\" // \u30b5\u30fc\u30d0\u30fc\u3078\u901a\u4fe1. NSURLConnection ( request : req as URLRequest , delegate : self ) } /* \u30b5\u30fc\u30d0\u304b\u3089\u30ec\u30b9\u30dd\u30f3\u30b9\u304c\u9001\u3089\u308c\u3066\u304d\u305f\u3068\u304d\u547c\u3073\u51fa\u3055\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func connection ( _ connection : NSURLConnection , didReceive response : URLResponse ) { // URL\u306e\u30d8\u30c3\u30c0\u30fc\u60c5\u5831\u3092\u5f97\u308b. let head = response as ! HTTPURLResponse // \u66f4\u65b0\u65e5\u6642\u3092\u5f97\u308b. myTextView . text = head . allHeaderFields [ \"Last-Modified\" ] as ! NSString as String print ( head . allHeaderFields [ \"Last-Modified\" ] as ! NSString ) } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 // // ViewController.swift // Connection012 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController , NSURLConnectionDataDelegate { var myTextView : UITextView ! override func viewDidLoad () { super . viewDidLoad () // \u753b\u50cf\u306eURL\u3092\u521d\u671f\u5316. let url = NSURL ( string : \"http://blogimg.goo.ne.jp/user_image/6b/5d/d7ecfd5f7dc8c1fd7384e5642abfe638.jpg\" ) // \u53c2\u7167\u3059\u308b\u30a4\u30e1\u30fc\u30b8\u3092\u8868\u793a. let imageData : NSData = NSData ( contentsOfURL : url !) ! let image : UIImage = UIImage ( data : imageData ) ! let imageView : UIImageView = UIImageView ( frame : CGRectMake ( 0 , 0 , 100 , 120 )) imageView . image = image imageView . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 200.0 ) self . view . addSubview ( imageView ) // \u66f4\u65b0\u65e5\u306e\u8868\u793a\u7528TextView\u3092\u7528\u610f. myTextView = UITextView ( frame : CGRectMake ( 0 , 0 , 300 , 50 )) myTextView . textAlignment = NSTextAlignment . Center myTextView . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 400.0 ) myTextView . editable = false self . view . addSubview ( myTextView ) // \u30b5\u30fc\u30d0\u30fc\u3078\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u521d\u671f\u5316. let req = NSMutableURLRequest ( URL : url !) // \u30d8\u30c3\u30c0\u30fc\u60c5\u5831\u3092\u5f97\u308b\u3088\u3046\u306b\u521d\u671f\u5316. req . HTTPMethod = \"HEAD\" // \u30b5\u30fc\u30d0\u30fc\u3078\u901a\u4fe1. NSURLConnection ( request : req , delegate : self ) } /* \u30b5\u30fc\u30d0\u304b\u3089\u30ec\u30b9\u30dd\u30f3\u30b9\u304c\u9001\u3089\u308c\u3066\u304d\u305f\u3068\u304d\u547c\u3073\u51fa\u3055\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func connection ( connection : NSURLConnection , didReceiveResponse response : NSURLResponse ) { // URL\u306e\u30d8\u30c3\u30c0\u30fc\u60c5\u5831\u3092\u5f97\u308b. let head = response as ! NSHTTPURLResponse // \u66f4\u65b0\u65e5\u6642\u3092\u5f97\u308b. myTextView . text = head . allHeaderFields [ \"Last-Modified\" ] as ! NSString as String print ( head . allHeaderFields [ \"Last-Modified\" ] as ! NSString ) } } 2.x\u30683.x\u306e\u5dee\u5206 HTTPMethod \u304b\u3089 httpMethod \u306b\u5909\u66f4 Reference NSURL https://developer.apple.com/reference/foundation/nsurl NSURLConnection https://developer.apple.com/reference/foundation/nsurlconnection NSURLSessionDelegate https://developer.apple.com/reference/foundation/nsurlconnectiondelegate","title":"\u30c7\u30fc\u30bf\u306e\u66f4\u65b0\u65e5\u6642\u3092\u53d6\u5f97"},{"location":"6.connection/012_lastmodified/#_1","text":"","title":"\u30c7\u30fc\u30bf\u306e\u66f4\u65b0\u65e5\u6642\u3092\u53d6\u5f97"},{"location":"6.connection/012_lastmodified/#ios9ats","text":"Swift 4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 // ViewController.swift // Connection012 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController , NSURLConnectionDataDelegate { var myTextView : UITextView ! override func viewDidLoad () { super . viewDidLoad () // \u753b\u50cf\u306eURL\u3092\u521d\u671f\u5316. let url = NSURL ( string : \"http://blogimg.goo.ne.jp/user_image/6b/5d/d7ecfd5f7dc8c1fd7384e5642abfe638.jpg\" ) // \u53c2\u7167\u3059\u308b\u30a4\u30e1\u30fc\u30b8\u3092\u8868\u793a. let imageData : NSData = NSData ( contentsOf : url as ! URL ) ! let image : UIImage = UIImage ( data : imageData as Data ) ! let imageView : UIImageView = UIImageView ( frame : CGRect ( x : 0 , y : 0 , width : 100 , height : 120 )) imageView . image = image imageView . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 200.0 ) self . view . addSubview ( imageView ) // \u66f4\u65b0\u65e5\u306e\u8868\u793a\u7528TextView\u3092\u7528\u610f. myTextView = UITextView ( frame : CGRect ( x : 0 , y : 0 , width : 300 , height : 50 )) myTextView . textAlignment = NSTextAlignment . center myTextView . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 400.0 ) myTextView . isEditable = false self . view . addSubview ( myTextView ) // \u30b5\u30fc\u30d0\u30fc\u3078\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u521d\u671f\u5316. let req = NSMutableURLRequest ( url : url as ! URL ) // \u30d8\u30c3\u30c0\u30fc\u60c5\u5831\u3092\u5f97\u308b\u3088\u3046\u306b\u521d\u671f\u5316. req . httpMethod = \"HEAD\" // \u30b5\u30fc\u30d0\u30fc\u3078\u901a\u4fe1. NSURLConnection ( request : req as URLRequest , delegate : self ) } /* \u30b5\u30fc\u30d0\u304b\u3089\u30ec\u30b9\u30dd\u30f3\u30b9\u304c\u9001\u3089\u308c\u3066\u304d\u305f\u3068\u304d\u547c\u3073\u51fa\u3055\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func connection ( _ connection : NSURLConnection , didReceive response : URLResponse ) { // URL\u306e\u30d8\u30c3\u30c0\u30fc\u60c5\u5831\u3092\u5f97\u308b. let head = response as ! HTTPURLResponse // \u66f4\u65b0\u65e5\u6642\u3092\u5f97\u308b. myTextView . text = head . allHeaderFields [ \"Last-Modified\" ] as ! NSString as String print ( head . allHeaderFields [ \"Last-Modified\" ] as ! NSString ) } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 // // ViewController.swift // Connection012 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit class ViewController : UIViewController , NSURLConnectionDataDelegate { var myTextView : UITextView ! override func viewDidLoad () { super . viewDidLoad () // \u753b\u50cf\u306eURL\u3092\u521d\u671f\u5316. let url = NSURL ( string : \"http://blogimg.goo.ne.jp/user_image/6b/5d/d7ecfd5f7dc8c1fd7384e5642abfe638.jpg\" ) // \u53c2\u7167\u3059\u308b\u30a4\u30e1\u30fc\u30b8\u3092\u8868\u793a. let imageData : NSData = NSData ( contentsOfURL : url !) ! let image : UIImage = UIImage ( data : imageData ) ! let imageView : UIImageView = UIImageView ( frame : CGRectMake ( 0 , 0 , 100 , 120 )) imageView . image = image imageView . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 200.0 ) self . view . addSubview ( imageView ) // \u66f4\u65b0\u65e5\u306e\u8868\u793a\u7528TextView\u3092\u7528\u610f. myTextView = UITextView ( frame : CGRectMake ( 0 , 0 , 300 , 50 )) myTextView . textAlignment = NSTextAlignment . Center myTextView . layer . position = CGPoint ( x : self . view . bounds . width / 2 , y : 400.0 ) myTextView . editable = false self . view . addSubview ( myTextView ) // \u30b5\u30fc\u30d0\u30fc\u3078\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u521d\u671f\u5316. let req = NSMutableURLRequest ( URL : url !) // \u30d8\u30c3\u30c0\u30fc\u60c5\u5831\u3092\u5f97\u308b\u3088\u3046\u306b\u521d\u671f\u5316. req . HTTPMethod = \"HEAD\" // \u30b5\u30fc\u30d0\u30fc\u3078\u901a\u4fe1. NSURLConnection ( request : req , delegate : self ) } /* \u30b5\u30fc\u30d0\u304b\u3089\u30ec\u30b9\u30dd\u30f3\u30b9\u304c\u9001\u3089\u308c\u3066\u304d\u305f\u3068\u304d\u547c\u3073\u51fa\u3055\u308c\u308b\u30e1\u30bd\u30c3\u30c9. */ func connection ( connection : NSURLConnection , didReceiveResponse response : NSURLResponse ) { // URL\u306e\u30d8\u30c3\u30c0\u30fc\u60c5\u5831\u3092\u5f97\u308b. let head = response as ! NSHTTPURLResponse // \u66f4\u65b0\u65e5\u6642\u3092\u5f97\u308b. myTextView . text = head . allHeaderFields [ \"Last-Modified\" ] as ! NSString as String print ( head . allHeaderFields [ \"Last-Modified\" ] as ! NSString ) } }","title":"iOS9\u304b\u3089\u30ea\u30af\u30a8\u30b9\u30c8\u5148\u306b\u3088\u3063\u3066\u306fATS\u3092\u7121\u52b9\u5316\u30fb\u5bfe\u51e6\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059"},{"location":"6.connection/012_lastmodified/#2x3x","text":"HTTPMethod \u304b\u3089 httpMethod \u306b\u5909\u66f4","title":"2.x\u30683.x\u306e\u5dee\u5206"},{"location":"6.connection/012_lastmodified/#reference","text":"NSURL https://developer.apple.com/reference/foundation/nsurl NSURLConnection https://developer.apple.com/reference/foundation/nsurlconnection NSURLSessionDelegate https://developer.apple.com/reference/foundation/nsurlconnectiondelegate","title":"Reference"},{"location":"7.config/","text":"","title":"Index"},{"location":"7.config/001_version/","text":"Version\u3092\u8868\u793a\u3059\u308b Swift 4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 // // ViewController.swift // Config001 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // Do any additional setup after loading the view, typically from a nib. // Version\u3092\u53d6\u5f97. let version = Bundle . main . object ( forInfoDictionaryKey : \"CFBundleShortVersionString\" ) as ! String // Build\u756a\u53f7\u3092\u53d6\u5f97. let build = Bundle . main . object ( forInfoDictionaryKey : kCFBundleVersionKey as String ) as ! String // \u80cc\u666f\u3092\u9752\u306b. self . view . backgroundColor = UIColor . blue // \u753b\u9762\u53f3\u4e0b\u306b\u8868\u793a. let myLabel : UILabel = UILabel () let labelWidth : CGFloat = 150 let labelHeight : CGFloat = 20 let posX : CGFloat = self . view . bounds . width - labelWidth let posY : CGFloat = self . view . bounds . height - labelHeight myLabel . frame = CGRect ( x : posX , y : posY , width : labelWidth , height : labelHeight ) myLabel . text = \"version: \\( version ) build: \\( build ) \" myLabel . textColor = UIColor . white self . view . addSubview ( myLabel ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 /// // ViewController.swift // Config001 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // Do any additional setup after loading the view, typically from a nib. // Version\u3092\u53d6\u5f97. let version = NSBundle . mainBundle (). objectForInfoDictionaryKey ( \"CFBundleShortVersionString\" ) as ! String // Build\u756a\u53f7\u3092\u53d6\u5f97. let build = NSBundle . mainBundle (). objectForInfoDictionaryKey ( kCFBundleVersionKey as String ) as ! String // \u80cc\u666f\u3092\u9752\u306b. self . view . backgroundColor = UIColor . blueColor () // \u753b\u9762\u53f3\u4e0b\u306b\u8868\u793a. let myLabel : UILabel = UILabel () let labelWidth : CGFloat = 150 let labelHeight : CGFloat = 20 let posX : CGFloat = self . view . bounds . width - labelWidth let posY : CGFloat = self . view . bounds . height - labelHeight myLabel . frame = CGRectMake ( posX , posY , labelWidth , labelHeight ) myLabel . text = \"version: \\( version ) build: \\( build ) \" myLabel . textColor = UIColor . whiteColor () self . view . addSubview ( myLabel ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } } 2.x\u30683.x\u306e\u5dee\u5206 NSBundle.mainBundle().objectForInfoDictionaryKey(\u30ad\u30fc\u540d) \u304c Bundle.main.object(forInfoDictionaryKey: \u30ad\u30fc\u540d) \u306b\u5909\u66f4 Reference NSBundle https://developer.apple.com/reference/foundation/nsbundle","title":"Version\u3092\u8868\u793a\u3059\u308b"},{"location":"7.config/001_version/#version","text":"Swift 4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 // // ViewController.swift // Config001 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // Do any additional setup after loading the view, typically from a nib. // Version\u3092\u53d6\u5f97. let version = Bundle . main . object ( forInfoDictionaryKey : \"CFBundleShortVersionString\" ) as ! String // Build\u756a\u53f7\u3092\u53d6\u5f97. let build = Bundle . main . object ( forInfoDictionaryKey : kCFBundleVersionKey as String ) as ! String // \u80cc\u666f\u3092\u9752\u306b. self . view . backgroundColor = UIColor . blue // \u753b\u9762\u53f3\u4e0b\u306b\u8868\u793a. let myLabel : UILabel = UILabel () let labelWidth : CGFloat = 150 let labelHeight : CGFloat = 20 let posX : CGFloat = self . view . bounds . width - labelWidth let posY : CGFloat = self . view . bounds . height - labelHeight myLabel . frame = CGRect ( x : posX , y : posY , width : labelWidth , height : labelHeight ) myLabel . text = \"version: \\( version ) build: \\( build ) \" myLabel . textColor = UIColor . white self . view . addSubview ( myLabel ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 /// // ViewController.swift // Config001 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // Do any additional setup after loading the view, typically from a nib. // Version\u3092\u53d6\u5f97. let version = NSBundle . mainBundle (). objectForInfoDictionaryKey ( \"CFBundleShortVersionString\" ) as ! String // Build\u756a\u53f7\u3092\u53d6\u5f97. let build = NSBundle . mainBundle (). objectForInfoDictionaryKey ( kCFBundleVersionKey as String ) as ! String // \u80cc\u666f\u3092\u9752\u306b. self . view . backgroundColor = UIColor . blueColor () // \u753b\u9762\u53f3\u4e0b\u306b\u8868\u793a. let myLabel : UILabel = UILabel () let labelWidth : CGFloat = 150 let labelHeight : CGFloat = 20 let posX : CGFloat = self . view . bounds . width - labelWidth let posY : CGFloat = self . view . bounds . height - labelHeight myLabel . frame = CGRectMake ( posX , posY , labelWidth , labelHeight ) myLabel . text = \"version: \\( version ) build: \\( build ) \" myLabel . textColor = UIColor . whiteColor () self . view . addSubview ( myLabel ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } }","title":"Version\u3092\u8868\u793a\u3059\u308b"},{"location":"7.config/001_version/#2x3x","text":"NSBundle.mainBundle().objectForInfoDictionaryKey(\u30ad\u30fc\u540d) \u304c Bundle.main.object(forInfoDictionaryKey: \u30ad\u30fc\u540d) \u306b\u5909\u66f4","title":"2.x\u30683.x\u306e\u5dee\u5206"},{"location":"7.config/001_version/#reference","text":"NSBundle https://developer.apple.com/reference/foundation/nsbundle","title":"Reference"},{"location":"7.config/002_provisioning/","text":"Provisioning\u304b\u3089Devloper\u304bDistribution\u304b\u3092\u5224\u5b9a\u3059\u308b \u8a2d\u5b9a Swift 4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 // // ViewController.swift // config002 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u3092\u9752\u306b. self . view . backgroundColor = UIColor . blue // \u753b\u9762\u53f3\u4e0b\u306b\u8868\u793a. let myLabel : UILabel = UILabel () let labelWidth : CGFloat = 120 let labelHeight : CGFloat = 20 let posX : CGFloat = self . view . bounds . width - labelWidth let posY : CGFloat = self . view . bounds . height - labelHeight myLabel . frame = CGRect ( x : posX , y : posY , width : labelWidth , height : labelHeight ) myLabel . textColor = UIColor . white self . view . addSubview ( myLabel ) #if TARGET_DEBUG myLabel . text = \"Developer\" #else myLabel . text = \"Destribution\" #endif } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 // // ViewController.swift // config002 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u3092\u9752\u306b. self . view . backgroundColor = UIColor . blueColor () // \u753b\u9762\u53f3\u4e0b\u306b\u8868\u793a. let myLabel : UILabel = UILabel () let labelWidth : CGFloat = 120 let labelHeight : CGFloat = 20 let posX : CGFloat = self . view . bounds . width - labelWidth let posY : CGFloat = self . view . bounds . height - labelHeight myLabel . frame = CGRectMake ( posX , posY , labelWidth , labelHeight ) myLabel . textColor = UIColor . whiteColor () self . view . addSubview ( myLabel ) #if TARGET_DEBUG myLabel . text = \"Developer\" #else myLabel . text = \"Destribution\" #endif } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } } 2.x\u30683.x\u306e\u5dee\u5206 blueColor() \u304c blue \u306b\u5909\u66f4 CGRectMake(posX, posY, labelWidth, labelHeight) \u304c CGRect(x: posX, y: posY, width: labelWidth, height: labelHeight) \u306b\u5909\u66f4 Reference NSBundle https://developer.apple.com/reference/foundation/nsbundle","title":"Provisioning\u304b\u3089Devloper\u304bDistribution\u304b\u3092\u5224\u5b9a\u3059\u308b"},{"location":"7.config/002_provisioning/#provisioningdevloperdistribution","text":"","title":"Provisioning\u304b\u3089Devloper\u304bDistribution\u304b\u3092\u5224\u5b9a\u3059\u308b"},{"location":"7.config/002_provisioning/#_1","text":"Swift 4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 // // ViewController.swift // config002 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u3092\u9752\u306b. self . view . backgroundColor = UIColor . blue // \u753b\u9762\u53f3\u4e0b\u306b\u8868\u793a. let myLabel : UILabel = UILabel () let labelWidth : CGFloat = 120 let labelHeight : CGFloat = 20 let posX : CGFloat = self . view . bounds . width - labelWidth let posY : CGFloat = self . view . bounds . height - labelHeight myLabel . frame = CGRect ( x : posX , y : posY , width : labelWidth , height : labelHeight ) myLabel . textColor = UIColor . white self . view . addSubview ( myLabel ) #if TARGET_DEBUG myLabel . text = \"Developer\" #else myLabel . text = \"Destribution\" #endif } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 // // ViewController.swift // config002 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () // \u80cc\u666f\u3092\u9752\u306b. self . view . backgroundColor = UIColor . blueColor () // \u753b\u9762\u53f3\u4e0b\u306b\u8868\u793a. let myLabel : UILabel = UILabel () let labelWidth : CGFloat = 120 let labelHeight : CGFloat = 20 let posX : CGFloat = self . view . bounds . width - labelWidth let posY : CGFloat = self . view . bounds . height - labelHeight myLabel . frame = CGRectMake ( posX , posY , labelWidth , labelHeight ) myLabel . textColor = UIColor . whiteColor () self . view . addSubview ( myLabel ) #if TARGET_DEBUG myLabel . text = \"Developer\" #else myLabel . text = \"Destribution\" #endif } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } }","title":"\u8a2d\u5b9a"},{"location":"7.config/002_provisioning/#2x3x","text":"blueColor() \u304c blue \u306b\u5909\u66f4 CGRectMake(posX, posY, labelWidth, labelHeight) \u304c CGRect(x: posX, y: posY, width: labelWidth, height: labelHeight) \u306b\u5909\u66f4","title":"2.x\u30683.x\u306e\u5dee\u5206"},{"location":"7.config/002_provisioning/#reference","text":"NSBundle https://developer.apple.com/reference/foundation/nsbundle","title":"Reference"},{"location":"8.coredata/","text":"","title":"Index"},{"location":"8.coredata/001_json/","text":"JSON\u30c7\u30fc\u30bf\u3092CoreData\u306b\u683c\u7d0d \u5171\u901a \u4f7f\u7528\u3059\u308bJSON\u30c7\u30fc\u30bf AizuData.json 1 2 3 4 5 [ { \"id\" : 1 , \"title\" : \"\u9db4\u30f6\u57ce\" , \"content\" : \"\u304a\u57ce\" }, { \"id\" : 2 , \"title\" : \"\u98ef\u76db\u5c71\" , \"content\" : \"\u304a\u5893\" }, { \"id\" : 3 , \"title\" : \"\u3055\u3056\u3048\u5802\" , \"content\" : \"\u87ba\u65cb\u968e\u6bb5\" } ] CoreData\u306eEntity\u306e\u4f5c\u6210\u3068\u8a2d\u5b9a project\u4f5c\u6210\u6642\u3001Use Core Data\u306b\u30c1\u30a7\u30c3\u30af\u3092\u5165\u308c\u3066\u3044\u306a\u3044\u5834\u5408\u306f\u4e0b\u8a18\u3092AppDelegate\u306b\u8ffd\u8a18 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 lazy var persistentContainer : NSPersistentContainer = { let container = NSPersistentContainer ( name : \"CoreData001\" ) container . loadPersistentStores ( completionHandler : { ( storeDescription , error ) in if let error = error { fatalError ( \"Unresolved error, \\(( error as NSError ) . userInfo ) \" ) } }) return container }() func saveContext () { let context = persistentContainer . viewContext if context . hasChanges { do { try context . save () } catch { let nserror = error as NSError fatalError ( \"Unresolved error \\( nserror ) , \\( nserror . userInfo ) \" ) } } } ViewController.swift Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 // // ViewController.swift // CoreData001 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit import CoreData class ViewController : UIViewController , UITableViewDelegate , UITableViewDataSource { private let AIZU_DATA_STORE : String = \"AizuDataStore\" private var aizuDatas : [ AizuDataStore ] = [] override func viewDidLoad () { super . viewDidLoad () // Do any additional setup after loading the view, typically from a nib. insertDataFromJson () aizuDatas = loadDatas () // Table View. let barHeight : CGFloat = UIApplication . shared . statusBarFrame . size . height let displayWidth : CGFloat = self . view . frame . width let displayHeight : CGFloat = self . view . frame . height let myTableView : UITableView = UITableView ( frame : CGRect ( x : 0 , y : barHeight , width : displayWidth , height : displayHeight )) myTableView . register ( UITableViewCell . self , forCellReuseIdentifier : \"MyCell\" ) myTableView . dataSource = self myTableView . delegate = self self . view . addSubview ( myTableView ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } /* CoreData\u304b\u3089\u30c7\u30fc\u30bf\u306e\u8aad\u307f\u8fbc\u307f */ func loadDatas () -> [ AizuDataStore ] { let appDel : AppDelegate = ( UIApplication . shared . delegate as ! AppDelegate ) let context = appDel . persistentContainer . viewContext // Request let fetchRequest : NSFetchRequest < NSFetchRequestResult > = NSFetchRequest ( entityName : AIZU_DATA_STORE ) fetchRequest . returnsObjectsAsFaults = false // Access to CoreData do { if let aizuDatas = try context . fetch ( fetchRequest ) as ? [ AizuDataStore ] { return aizuDatas } else { return [] } } catch let error as NSError { print ( error . localizedDescription ) return [] } } /* JSON\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u8fbc\u307fCoreData\u306bInsert. */ private func insertDataFromJson () { // Path. let jsonDataPath : NSString = Bundle . main . path ( forResource : \"AizuData\" , ofType : \"json\" ) ! as NSString // Data. let jsonRawData : NSData ! = NSData ( contentsOfFile : jsonDataPath as String ) print ( \"jsonRawData: \\( jsonRawData ) \" ) // JSON\u306e\u30d1\u30fc\u30b9. let jsonDictionary : [[ String : AnyObject ]] do { jsonDictionary = try JSONSerialization . jsonObject ( with : jsonRawData as Data , options : []) as ! [[ String : AnyObject ]] } catch { print ( \"Error JSONObjectWithData: \\( error ) \" ) return } let appDel : AppDelegate = ( UIApplication . shared . delegate as ! AppDelegate ) let context = appDel . persistentContainer . viewContext let fetchRequest : NSFetchRequest < NSFetchRequestResult > = NSFetchRequest ( entityName : AIZU_DATA_STORE ) let deleteAll = NSBatchDeleteRequest ( fetchRequest : fetchRequest ) do { try context . execute ( deleteAll ) } catch { print ( \"Error excuteRequest(deleteAll): \\( error ) \" ) } // Entity\u3092\u5b9a\u7fa9. let entity : NSEntityDescription ! = NSEntityDescription . entity ( forEntityName : AIZU_DATA_STORE , in : context ) // JSON\u30c7\u30fc\u30bf\u3092\u914d\u5217\u5206\u3001CoreData\u306b\u683c\u7d0d. for jsonData in jsonDictionary { print ( \"jsonData: \\( jsonData ) \" ) let aizuDataStore : AizuDataStore = AizuDataStore ( entity : entity , insertInto : context ) do { try aizuDataStore . updateFromDictionary ( dataDictionary : jsonData ) } catch { print ( \"Error updateFromDictionary: \\( error ) \" ) } do { try context . save () } catch { print ( \"Error save: \\( error ) \" ) } } } /* Cell\u304c\u9078\u629e\u3055\u308c\u305f\u969b\u306b\u547c\u3073\u51fa\u3055\u308c\u308b */ func tableView ( _ tableView : UITableView , didSelectRowAt indexPath : IndexPath ) { print ( \"Num: \\( indexPath . row ) \" ) print ( \"Value: \\( aizuDatas [ indexPath . row ] ) \" ) } /* Cell\u306e\u7dcf\u6570\u3092\u8fd4\u3059. */ func tableView ( _ tableView : UITableView , numberOfRowsInSection section : Int ) -> Int { return aizuDatas . count } /* Cell\u306b\u5024\u3092\u8a2d\u5b9a\u3059\u308b */ func tableView ( _ tableView : UITableView , cellForRowAt indexPath : IndexPath ) -> UITableViewCell { // \u518d\u5229\u7528\u3059\u308bCell\u3092\u53d6\u5f97\u3059\u308b. let cell = tableView . dequeueReusableCell ( withIdentifier : \"MyCell\" , for : indexPath as IndexPath ) // Cell\u306b\u5024\u3092\u8a2d\u5b9a\u3059\u308b. cell . textLabel !. text = \" \\( aizuDatas [ indexPath . row ]. title ) \" return cell } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 // // ViewController.swift // CoreData001 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit import CoreData class ViewController : UIViewController , UITableViewDelegate , UITableViewDataSource { private let AIZU_DATA_STORE : String = \"AizuDataStore\" private var aizuDatas : [ AizuDataStore ] = [] override func viewDidLoad () { super . viewDidLoad () // Do any additional setup after loading the view, typically from a nib. insertDataFromJson () aizuDatas = loadDatas () // Table View. let barHeight : CGFloat = UIApplication . shared . statusBarFrame . size . height let displayWidth : CGFloat = self . view . frame . width let displayHeight : CGFloat = self . view . frame . height let myTableView : UITableView = UITableView ( frame : CGRect ( x : 0 , y : barHeight , width : displayWidth , height : displayHeight )) myTableView . register ( UITableViewCell . self , forCellReuseIdentifier : \"MyCell\" ) myTableView . dataSource = self myTableView . delegate = self self . view . addSubview ( myTableView ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } /* CoreData\u304b\u3089\u30c7\u30fc\u30bf\u306e\u8aad\u307f\u8fbc\u307f */ func loadDatas () -> [ AizuDataStore ] { let appDel : AppDelegate = ( UIApplication . shared . delegate as ! AppDelegate ) let context = appDel . persistentContainer . viewContext // Request let fetchRequest : NSFetchRequest < NSFetchRequestResult > = NSFetchRequest ( entityName : AIZU_DATA_STORE ) fetchRequest . returnsObjectsAsFaults = false // Access to CoreData do { if let aizuDatas = try context . fetch ( fetchRequest ) as ? [ AizuDataStore ] { return aizuDatas } else { return [] } } catch let error as NSError { print ( error . localizedDescription ) return [] } } /* JSON\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u8fbc\u307fCoreData\u306bInsert. */ private func insertDataFromJson () { // Path. let jsonDataPath : NSString = Bundle . main . path ( forResource : \"AizuData\" , ofType : \"json\" ) ! // Data. let jsonRawData : NSData ! = NSData ( contentsOfFile : jsonDataPath as String ) print ( \"jsonRawData: \\( jsonRawData ) \" ) // JSON\u306e\u30d1\u30fc\u30b9. let jsonDictionary : [[ String : AnyObject ]] do { jsonDictionary = try JSONSerialization . jsonObject ( with : jsonRawData as Data , options : []) as ! [[ String : AnyObject ]] } catch { print ( \"Error JSONObjectWithData: \\( error ) \" ) return } let appDel : AppDelegate = ( UIApplication . shared . delegate as ! AppDelegate ) let context = appDel . persistentContainer . viewContext let fetchRequest : NSFetchRequest < NSFetchRequestResult > = NSFetchRequest ( entityName : AIZU_DATA_STORE ) let deleteAll = NSBatchDeleteRequest ( fetchRequest : fetchRequest ) do { try context . execute ( deleteAll ) } catch { print ( \"Error excuteRequest(deleteAll): \\( error ) \" ) } // Entity\u3092\u5b9a\u7fa9. let entity : NSEntityDescription ! = NSEntityDescription . entity ( forEntityName : AIZU_DATA_STORE , in : context ) // JSON\u30c7\u30fc\u30bf\u3092\u914d\u5217\u5206\u3001CoreData\u306b\u683c\u7d0d. for jsonData : AnyObject in jsonDictionary { print ( \"jsonData: \\( jsonData ) \" ) let aizuDataStore : AizuDataStore = AizuDataStore ( entity : entity , insertInto : context ) do { try aizuDataStore . updateFromDictionary ( dataDictionary : jsonData as ! [ String : AnyObject ]) } catch { print ( \"Error updateFromDictionary: \\( error ) \" ) } do { try context . save () } catch { print ( \"Error save: \\( error ) \" ) } } } /* Cell\u304c\u9078\u629e\u3055\u308c\u305f\u969b\u306b\u547c\u3073\u51fa\u3055\u308c\u308b */ func tableView ( _ tableView : UITableView , didSelectRowAt indexPath : IndexPath ) { print ( \"Num: \\( indexPath . row ) \" ) print ( \"Value: \\( aizuDatas [ indexPath . row ] ) \" ) } /* Cell\u306e\u7dcf\u6570\u3092\u8fd4\u3059. */ func tableView ( _ tableView : UITableView , numberOfRowsInSection section : Int ) -> Int { return aizuDatas . count } /* Cell\u306b\u5024\u3092\u8a2d\u5b9a\u3059\u308b */ func tableView ( _ tableView : UITableView , cellForRowAt indexPath : IndexPath ) -> UITableViewCell { // \u518d\u5229\u7528\u3059\u308bCell\u3092\u53d6\u5f97\u3059\u308b. let cell = tableView . dequeueReusableCell ( withIdentifier : \"MyCell\" , for : indexPath as IndexPath ) // Cell\u306b\u5024\u3092\u8a2d\u5b9a\u3059\u308b. cell . textLabel !. text = \" \\( aizuDatas [ indexPath . row ]. title ) \" return cell } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 // // ViewController.swift // CoreData001 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit import CoreData class ViewController : UIViewController , UITableViewDelegate , UITableViewDataSource { private let AIZU_DATA_STORE : String = \"AizuDataStore\" private var aizuDatas : [ AizuDataStore ] = [] override func viewDidLoad () { super . viewDidLoad () // Do any additional setup after loading the view, typically from a nib. insertDataFromJson () aizuDatas = loadDatas () // Table View. let barHeight : CGFloat = UIApplication . sharedApplication (). statusBarFrame . size . height let displayWidth : CGFloat = self . view . frame . width let displayHeight : CGFloat = self . view . frame . height let myTableView : UITableView = UITableView ( frame : CGRectMake ( 0 , barHeight , displayWidth , displayHeight )) myTableView . registerClass ( UITableViewCell . self , forCellReuseIdentifier : \"MyCell\" ) myTableView . dataSource = self myTableView . delegate = self self . view . addSubview ( myTableView ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } /* CoreData\u304b\u3089\u30c7\u30fc\u30bf\u306e\u8aad\u307f\u8fbc\u307f */ func loadDatas () -> [ AizuDataStore ] { // Context let appDel : AppDelegate = UIApplication . sharedApplication (). delegate as ! AppDelegate let context : NSManagedObjectContext = appDel . managedObjectContext // Request let fetchRequest : NSFetchRequest = NSFetchRequest ( entityName : AIZU_DATA_STORE ) fetchRequest . returnsObjectsAsFaults = false // Access to CoreData do { if let aizuDatas = try context . executeFetchRequest ( fetchRequest ) as ? [ AizuDataStore ] { return aizuDatas } else { return [] } } catch let error as NSError { print ( error . localizedDescription ) return [] } } /* JSON\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u8fbc\u307fCoreData\u306bInsert. */ private func insertDataFromJson () { // Path. let jsonDataPath : NSString = NSBundle . mainBundle (). pathForResource ( \"AizuData\" , ofType : \"json\" ) ! // Data. let jsonRawData : NSData ! = NSData ( contentsOfFile : jsonDataPath as String ) print ( \"jsonRawData: \\( jsonRawData ) \" ) // JSON\u306e\u30d1\u30fc\u30b9. let jsonDictionary : [[ String : AnyObject ]] do { jsonDictionary = try NSJSONSerialization . JSONObjectWithData ( jsonRawData , options : []) as ! [[ String : AnyObject ]] } catch { print ( \"Error JSONObjectWithData: \\( error ) \" ) return } let appDel : AppDelegate = UIApplication . sharedApplication (). delegate as ! AppDelegate let context : NSManagedObjectContext = appDel . managedObjectContext // \u5168\u30c7\u30fc\u30bf\u3092\u524a\u9664. let fetchRequest = NSFetchRequest ( entityName : AIZU_DATA_STORE ) let deleteAll = NSBatchDeleteRequest ( fetchRequest : fetchRequest ) do { try context . executeRequest ( deleteAll ) } catch { print ( \"Error excuteRequest(deleteAll): \\( error ) \" ) } // Entity\u3092\u5b9a\u7fa9. let entity : NSEntityDescription ! = NSEntityDescription . entityForName ( AIZU_DATA_STORE , inManagedObjectContext : context ) // JSON\u30c7\u30fc\u30bf\u3092\u914d\u5217\u5206\u3001CoreData\u306b\u683c\u7d0d. for jsonData : AnyObject in jsonDictionary { print ( \"jsonData: \\( jsonData ) \" ) let aizuDataStore : AizuDataStore = AizuDataStore ( entity : entity , insertIntoManagedObjectContext : context ) do { try aizuDataStore . updateFromDictionary ( jsonData as ! [ String : AnyObject ]) } catch { print ( \"Error updateFromDictionary: \\( error ) \" ) } do { try context . save () } catch { print ( \"Error save: \\( error ) \" ) } } } /* Cell\u304c\u9078\u629e\u3055\u308c\u305f\u969b\u306b\u547c\u3073\u51fa\u3055\u308c\u308b */ func tableView ( tableView : UITableView , didSelectRowAtIndexPath indexPath : NSIndexPath ) { print ( \"Num: \\( indexPath . row ) \" ) print ( \"Value: \\( aizuDatas [ indexPath . row ] ) \" ) } /* Cell\u306e\u7dcf\u6570\u3092\u8fd4\u3059. */ func tableView ( tableView : UITableView , numberOfRowsInSection section : Int ) -> Int { return aizuDatas . count } /* Cell\u306b\u5024\u3092\u8a2d\u5b9a\u3059\u308b */ func tableView ( tableView : UITableView , cellForRowAtIndexPath indexPath : NSIndexPath ) -> UITableViewCell { // \u518d\u5229\u7528\u3059\u308bCell\u3092\u53d6\u5f97\u3059\u308b. let cell = tableView . dequeueReusableCellWithIdentifier ( \"MyCell\" , forIndexPath : indexPath ) // Cell\u306b\u5024\u3092\u8a2d\u5b9a\u3059\u308b. cell . textLabel !. text = \" \\( aizuDatas [ indexPath . row ]. title ) \" return cell } } AizuDataStore.swift Swift 4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 // // AizuDataStore.swift // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit import CoreData @objc ( AizuDataStore ) class AizuDataStore : NSManagedObject { @NSManaged var id : NSNumber @NSManaged var title : String @NSManaged var content : String func updateFromDictionary ( dataDictionary : [ String : AnyObject ]) throws { // \u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3. guard let tmp_id : NSNumber = dataDictionary [ \"id\" ] as ? NSNumber , let tmp_title : String = dataDictionary [ \"title\" ] as ? String , let tmp_content : String = dataDictionary [ \"content\" ] as ? String else { throw NSError ( domain : \"Failed validation of JSON object. \" , code : - 1 , userInfo : nil ) } // \u30c7\u30fc\u30bf\u3092\u53cd\u6620. id = tmp_id title = tmp_title content = tmp_content } } Swift 2.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 // // AizuDataStore.swift // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit import CoreData @objc ( AizuDataStore ) class AizuDataStore : NSManagedObject { @NSManaged var id : NSNumber @NSManaged var title : String @NSManaged var content : String func updateFromDictionary ( dataDictionary : [ String : AnyObject ]) throws { // \u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3. guard let tmp_id : NSNumber = dataDictionary [ \"id\" ] as ? NSNumber , tmp_title : String = dataDictionary [ \"title\" ] as ? String , tmp_content : String = dataDictionary [ \"content\" ] as ? String else { throw NSError ( domain : \"Failed validation of JSON object. \" , code : - 1 , userInfo : nil ) } // \u30c7\u30fc\u30bf\u3092\u53cd\u6620. id = tmp_id title = tmp_title content = tmp_content } } 3.x\u30684.x\u306e\u5dee\u5206 CoreData001.xcdatamodeld \u306e AizuDataStore \u306e Class/Codegen \u3092 Manual/None \u306b\u5909\u66f4 Bundle.main.path(forResource: \"AizuData\", ofType: \"json\")! \u306b as NSString \u3092\u8ffd\u52a0 for jsonData: AnyObject in jsonDictionary \u3092 for jsonData in jsonDictionary \u306b\u5909\u66f4 aizuDataStore.updateFromDictionary(dataDictionary: jsonData as! [String : AnyObject]) \u304b\u3089 as! [String : AnyObject] \u3092\u524a\u9664 2.x\u30683.x\u306e\u5dee\u5206 \u81ea\u52d5\u751f\u6210\u3055\u308c\u308bAppDelegate\u306eCoreData\u306e\u8a18\u8ff0\u304c\u5909\u66f4\u3002 let context: NSManagedObjectContext = appDel.managedObjectContext \u304c let context = appDel.persistentContainer.viewContext \u306b\u3002 Reference CoreData https://developer.apple.com/reference/coredata","title":"JSON\u30c7\u30fc\u30bf\u3092CoreData\u306b\u683c\u7d0d"},{"location":"8.coredata/001_json/#jsoncoredata","text":"","title":"JSON\u30c7\u30fc\u30bf\u3092CoreData\u306b\u683c\u7d0d"},{"location":"8.coredata/001_json/#_1","text":"","title":"\u5171\u901a"},{"location":"8.coredata/001_json/#json","text":"AizuData.json 1 2 3 4 5 [ { \"id\" : 1 , \"title\" : \"\u9db4\u30f6\u57ce\" , \"content\" : \"\u304a\u57ce\" }, { \"id\" : 2 , \"title\" : \"\u98ef\u76db\u5c71\" , \"content\" : \"\u304a\u5893\" }, { \"id\" : 3 , \"title\" : \"\u3055\u3056\u3048\u5802\" , \"content\" : \"\u87ba\u65cb\u968e\u6bb5\" } ]","title":"\u4f7f\u7528\u3059\u308bJSON\u30c7\u30fc\u30bf"},{"location":"8.coredata/001_json/#coredataentity","text":"project\u4f5c\u6210\u6642\u3001Use Core Data\u306b\u30c1\u30a7\u30c3\u30af\u3092\u5165\u308c\u3066\u3044\u306a\u3044\u5834\u5408\u306f\u4e0b\u8a18\u3092AppDelegate\u306b\u8ffd\u8a18 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 lazy var persistentContainer : NSPersistentContainer = { let container = NSPersistentContainer ( name : \"CoreData001\" ) container . loadPersistentStores ( completionHandler : { ( storeDescription , error ) in if let error = error { fatalError ( \"Unresolved error, \\(( error as NSError ) . userInfo ) \" ) } }) return container }() func saveContext () { let context = persistentContainer . viewContext if context . hasChanges { do { try context . save () } catch { let nserror = error as NSError fatalError ( \"Unresolved error \\( nserror ) , \\( nserror . userInfo ) \" ) } } }","title":"CoreData\u306eEntity\u306e\u4f5c\u6210\u3068\u8a2d\u5b9a"},{"location":"8.coredata/001_json/#viewcontrollerswift","text":"Swift 4.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 // // ViewController.swift // CoreData001 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit import CoreData class ViewController : UIViewController , UITableViewDelegate , UITableViewDataSource { private let AIZU_DATA_STORE : String = \"AizuDataStore\" private var aizuDatas : [ AizuDataStore ] = [] override func viewDidLoad () { super . viewDidLoad () // Do any additional setup after loading the view, typically from a nib. insertDataFromJson () aizuDatas = loadDatas () // Table View. let barHeight : CGFloat = UIApplication . shared . statusBarFrame . size . height let displayWidth : CGFloat = self . view . frame . width let displayHeight : CGFloat = self . view . frame . height let myTableView : UITableView = UITableView ( frame : CGRect ( x : 0 , y : barHeight , width : displayWidth , height : displayHeight )) myTableView . register ( UITableViewCell . self , forCellReuseIdentifier : \"MyCell\" ) myTableView . dataSource = self myTableView . delegate = self self . view . addSubview ( myTableView ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } /* CoreData\u304b\u3089\u30c7\u30fc\u30bf\u306e\u8aad\u307f\u8fbc\u307f */ func loadDatas () -> [ AizuDataStore ] { let appDel : AppDelegate = ( UIApplication . shared . delegate as ! AppDelegate ) let context = appDel . persistentContainer . viewContext // Request let fetchRequest : NSFetchRequest < NSFetchRequestResult > = NSFetchRequest ( entityName : AIZU_DATA_STORE ) fetchRequest . returnsObjectsAsFaults = false // Access to CoreData do { if let aizuDatas = try context . fetch ( fetchRequest ) as ? [ AizuDataStore ] { return aizuDatas } else { return [] } } catch let error as NSError { print ( error . localizedDescription ) return [] } } /* JSON\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u8fbc\u307fCoreData\u306bInsert. */ private func insertDataFromJson () { // Path. let jsonDataPath : NSString = Bundle . main . path ( forResource : \"AizuData\" , ofType : \"json\" ) ! as NSString // Data. let jsonRawData : NSData ! = NSData ( contentsOfFile : jsonDataPath as String ) print ( \"jsonRawData: \\( jsonRawData ) \" ) // JSON\u306e\u30d1\u30fc\u30b9. let jsonDictionary : [[ String : AnyObject ]] do { jsonDictionary = try JSONSerialization . jsonObject ( with : jsonRawData as Data , options : []) as ! [[ String : AnyObject ]] } catch { print ( \"Error JSONObjectWithData: \\( error ) \" ) return } let appDel : AppDelegate = ( UIApplication . shared . delegate as ! AppDelegate ) let context = appDel . persistentContainer . viewContext let fetchRequest : NSFetchRequest < NSFetchRequestResult > = NSFetchRequest ( entityName : AIZU_DATA_STORE ) let deleteAll = NSBatchDeleteRequest ( fetchRequest : fetchRequest ) do { try context . execute ( deleteAll ) } catch { print ( \"Error excuteRequest(deleteAll): \\( error ) \" ) } // Entity\u3092\u5b9a\u7fa9. let entity : NSEntityDescription ! = NSEntityDescription . entity ( forEntityName : AIZU_DATA_STORE , in : context ) // JSON\u30c7\u30fc\u30bf\u3092\u914d\u5217\u5206\u3001CoreData\u306b\u683c\u7d0d. for jsonData in jsonDictionary { print ( \"jsonData: \\( jsonData ) \" ) let aizuDataStore : AizuDataStore = AizuDataStore ( entity : entity , insertInto : context ) do { try aizuDataStore . updateFromDictionary ( dataDictionary : jsonData ) } catch { print ( \"Error updateFromDictionary: \\( error ) \" ) } do { try context . save () } catch { print ( \"Error save: \\( error ) \" ) } } } /* Cell\u304c\u9078\u629e\u3055\u308c\u305f\u969b\u306b\u547c\u3073\u51fa\u3055\u308c\u308b */ func tableView ( _ tableView : UITableView , didSelectRowAt indexPath : IndexPath ) { print ( \"Num: \\( indexPath . row ) \" ) print ( \"Value: \\( aizuDatas [ indexPath . row ] ) \" ) } /* Cell\u306e\u7dcf\u6570\u3092\u8fd4\u3059. */ func tableView ( _ tableView : UITableView , numberOfRowsInSection section : Int ) -> Int { return aizuDatas . count } /* Cell\u306b\u5024\u3092\u8a2d\u5b9a\u3059\u308b */ func tableView ( _ tableView : UITableView , cellForRowAt indexPath : IndexPath ) -> UITableViewCell { // \u518d\u5229\u7528\u3059\u308bCell\u3092\u53d6\u5f97\u3059\u308b. let cell = tableView . dequeueReusableCell ( withIdentifier : \"MyCell\" , for : indexPath as IndexPath ) // Cell\u306b\u5024\u3092\u8a2d\u5b9a\u3059\u308b. cell . textLabel !. text = \" \\( aizuDatas [ indexPath . row ]. title ) \" return cell } } Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 // // ViewController.swift // CoreData001 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit import CoreData class ViewController : UIViewController , UITableViewDelegate , UITableViewDataSource { private let AIZU_DATA_STORE : String = \"AizuDataStore\" private var aizuDatas : [ AizuDataStore ] = [] override func viewDidLoad () { super . viewDidLoad () // Do any additional setup after loading the view, typically from a nib. insertDataFromJson () aizuDatas = loadDatas () // Table View. let barHeight : CGFloat = UIApplication . shared . statusBarFrame . size . height let displayWidth : CGFloat = self . view . frame . width let displayHeight : CGFloat = self . view . frame . height let myTableView : UITableView = UITableView ( frame : CGRect ( x : 0 , y : barHeight , width : displayWidth , height : displayHeight )) myTableView . register ( UITableViewCell . self , forCellReuseIdentifier : \"MyCell\" ) myTableView . dataSource = self myTableView . delegate = self self . view . addSubview ( myTableView ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } /* CoreData\u304b\u3089\u30c7\u30fc\u30bf\u306e\u8aad\u307f\u8fbc\u307f */ func loadDatas () -> [ AizuDataStore ] { let appDel : AppDelegate = ( UIApplication . shared . delegate as ! AppDelegate ) let context = appDel . persistentContainer . viewContext // Request let fetchRequest : NSFetchRequest < NSFetchRequestResult > = NSFetchRequest ( entityName : AIZU_DATA_STORE ) fetchRequest . returnsObjectsAsFaults = false // Access to CoreData do { if let aizuDatas = try context . fetch ( fetchRequest ) as ? [ AizuDataStore ] { return aizuDatas } else { return [] } } catch let error as NSError { print ( error . localizedDescription ) return [] } } /* JSON\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u8fbc\u307fCoreData\u306bInsert. */ private func insertDataFromJson () { // Path. let jsonDataPath : NSString = Bundle . main . path ( forResource : \"AizuData\" , ofType : \"json\" ) ! // Data. let jsonRawData : NSData ! = NSData ( contentsOfFile : jsonDataPath as String ) print ( \"jsonRawData: \\( jsonRawData ) \" ) // JSON\u306e\u30d1\u30fc\u30b9. let jsonDictionary : [[ String : AnyObject ]] do { jsonDictionary = try JSONSerialization . jsonObject ( with : jsonRawData as Data , options : []) as ! [[ String : AnyObject ]] } catch { print ( \"Error JSONObjectWithData: \\( error ) \" ) return } let appDel : AppDelegate = ( UIApplication . shared . delegate as ! AppDelegate ) let context = appDel . persistentContainer . viewContext let fetchRequest : NSFetchRequest < NSFetchRequestResult > = NSFetchRequest ( entityName : AIZU_DATA_STORE ) let deleteAll = NSBatchDeleteRequest ( fetchRequest : fetchRequest ) do { try context . execute ( deleteAll ) } catch { print ( \"Error excuteRequest(deleteAll): \\( error ) \" ) } // Entity\u3092\u5b9a\u7fa9. let entity : NSEntityDescription ! = NSEntityDescription . entity ( forEntityName : AIZU_DATA_STORE , in : context ) // JSON\u30c7\u30fc\u30bf\u3092\u914d\u5217\u5206\u3001CoreData\u306b\u683c\u7d0d. for jsonData : AnyObject in jsonDictionary { print ( \"jsonData: \\( jsonData ) \" ) let aizuDataStore : AizuDataStore = AizuDataStore ( entity : entity , insertInto : context ) do { try aizuDataStore . updateFromDictionary ( dataDictionary : jsonData as ! [ String : AnyObject ]) } catch { print ( \"Error updateFromDictionary: \\( error ) \" ) } do { try context . save () } catch { print ( \"Error save: \\( error ) \" ) } } } /* Cell\u304c\u9078\u629e\u3055\u308c\u305f\u969b\u306b\u547c\u3073\u51fa\u3055\u308c\u308b */ func tableView ( _ tableView : UITableView , didSelectRowAt indexPath : IndexPath ) { print ( \"Num: \\( indexPath . row ) \" ) print ( \"Value: \\( aizuDatas [ indexPath . row ] ) \" ) } /* Cell\u306e\u7dcf\u6570\u3092\u8fd4\u3059. */ func tableView ( _ tableView : UITableView , numberOfRowsInSection section : Int ) -> Int { return aizuDatas . count } /* Cell\u306b\u5024\u3092\u8a2d\u5b9a\u3059\u308b */ func tableView ( _ tableView : UITableView , cellForRowAt indexPath : IndexPath ) -> UITableViewCell { // \u518d\u5229\u7528\u3059\u308bCell\u3092\u53d6\u5f97\u3059\u308b. let cell = tableView . dequeueReusableCell ( withIdentifier : \"MyCell\" , for : indexPath as IndexPath ) // Cell\u306b\u5024\u3092\u8a2d\u5b9a\u3059\u308b. cell . textLabel !. text = \" \\( aizuDatas [ indexPath . row ]. title ) \" return cell } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 // // ViewController.swift // CoreData001 // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit import CoreData class ViewController : UIViewController , UITableViewDelegate , UITableViewDataSource { private let AIZU_DATA_STORE : String = \"AizuDataStore\" private var aizuDatas : [ AizuDataStore ] = [] override func viewDidLoad () { super . viewDidLoad () // Do any additional setup after loading the view, typically from a nib. insertDataFromJson () aizuDatas = loadDatas () // Table View. let barHeight : CGFloat = UIApplication . sharedApplication (). statusBarFrame . size . height let displayWidth : CGFloat = self . view . frame . width let displayHeight : CGFloat = self . view . frame . height let myTableView : UITableView = UITableView ( frame : CGRectMake ( 0 , barHeight , displayWidth , displayHeight )) myTableView . registerClass ( UITableViewCell . self , forCellReuseIdentifier : \"MyCell\" ) myTableView . dataSource = self myTableView . delegate = self self . view . addSubview ( myTableView ) } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () // Dispose of any resources that can be recreated. } /* CoreData\u304b\u3089\u30c7\u30fc\u30bf\u306e\u8aad\u307f\u8fbc\u307f */ func loadDatas () -> [ AizuDataStore ] { // Context let appDel : AppDelegate = UIApplication . sharedApplication (). delegate as ! AppDelegate let context : NSManagedObjectContext = appDel . managedObjectContext // Request let fetchRequest : NSFetchRequest = NSFetchRequest ( entityName : AIZU_DATA_STORE ) fetchRequest . returnsObjectsAsFaults = false // Access to CoreData do { if let aizuDatas = try context . executeFetchRequest ( fetchRequest ) as ? [ AizuDataStore ] { return aizuDatas } else { return [] } } catch let error as NSError { print ( error . localizedDescription ) return [] } } /* JSON\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u8fbc\u307fCoreData\u306bInsert. */ private func insertDataFromJson () { // Path. let jsonDataPath : NSString = NSBundle . mainBundle (). pathForResource ( \"AizuData\" , ofType : \"json\" ) ! // Data. let jsonRawData : NSData ! = NSData ( contentsOfFile : jsonDataPath as String ) print ( \"jsonRawData: \\( jsonRawData ) \" ) // JSON\u306e\u30d1\u30fc\u30b9. let jsonDictionary : [[ String : AnyObject ]] do { jsonDictionary = try NSJSONSerialization . JSONObjectWithData ( jsonRawData , options : []) as ! [[ String : AnyObject ]] } catch { print ( \"Error JSONObjectWithData: \\( error ) \" ) return } let appDel : AppDelegate = UIApplication . sharedApplication (). delegate as ! AppDelegate let context : NSManagedObjectContext = appDel . managedObjectContext // \u5168\u30c7\u30fc\u30bf\u3092\u524a\u9664. let fetchRequest = NSFetchRequest ( entityName : AIZU_DATA_STORE ) let deleteAll = NSBatchDeleteRequest ( fetchRequest : fetchRequest ) do { try context . executeRequest ( deleteAll ) } catch { print ( \"Error excuteRequest(deleteAll): \\( error ) \" ) } // Entity\u3092\u5b9a\u7fa9. let entity : NSEntityDescription ! = NSEntityDescription . entityForName ( AIZU_DATA_STORE , inManagedObjectContext : context ) // JSON\u30c7\u30fc\u30bf\u3092\u914d\u5217\u5206\u3001CoreData\u306b\u683c\u7d0d. for jsonData : AnyObject in jsonDictionary { print ( \"jsonData: \\( jsonData ) \" ) let aizuDataStore : AizuDataStore = AizuDataStore ( entity : entity , insertIntoManagedObjectContext : context ) do { try aizuDataStore . updateFromDictionary ( jsonData as ! [ String : AnyObject ]) } catch { print ( \"Error updateFromDictionary: \\( error ) \" ) } do { try context . save () } catch { print ( \"Error save: \\( error ) \" ) } } } /* Cell\u304c\u9078\u629e\u3055\u308c\u305f\u969b\u306b\u547c\u3073\u51fa\u3055\u308c\u308b */ func tableView ( tableView : UITableView , didSelectRowAtIndexPath indexPath : NSIndexPath ) { print ( \"Num: \\( indexPath . row ) \" ) print ( \"Value: \\( aizuDatas [ indexPath . row ] ) \" ) } /* Cell\u306e\u7dcf\u6570\u3092\u8fd4\u3059. */ func tableView ( tableView : UITableView , numberOfRowsInSection section : Int ) -> Int { return aizuDatas . count } /* Cell\u306b\u5024\u3092\u8a2d\u5b9a\u3059\u308b */ func tableView ( tableView : UITableView , cellForRowAtIndexPath indexPath : NSIndexPath ) -> UITableViewCell { // \u518d\u5229\u7528\u3059\u308bCell\u3092\u53d6\u5f97\u3059\u308b. let cell = tableView . dequeueReusableCellWithIdentifier ( \"MyCell\" , forIndexPath : indexPath ) // Cell\u306b\u5024\u3092\u8a2d\u5b9a\u3059\u308b. cell . textLabel !. text = \" \\( aizuDatas [ indexPath . row ]. title ) \" return cell } }","title":"ViewController.swift"},{"location":"8.coredata/001_json/#aizudatastoreswift","text":"Swift 4.x/Swift 3.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 // // AizuDataStore.swift // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit import CoreData @objc ( AizuDataStore ) class AizuDataStore : NSManagedObject { @NSManaged var id : NSNumber @NSManaged var title : String @NSManaged var content : String func updateFromDictionary ( dataDictionary : [ String : AnyObject ]) throws { // \u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3. guard let tmp_id : NSNumber = dataDictionary [ \"id\" ] as ? NSNumber , let tmp_title : String = dataDictionary [ \"title\" ] as ? String , let tmp_content : String = dataDictionary [ \"content\" ] as ? String else { throw NSError ( domain : \"Failed validation of JSON object. \" , code : - 1 , userInfo : nil ) } // \u30c7\u30fc\u30bf\u3092\u53cd\u6620. id = tmp_id title = tmp_title content = tmp_content } } Swift 2.x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 // // AizuDataStore.swift // // Copyright \u00a9 2016\u5e74 FaBo, Inc. All rights reserved. // import UIKit import CoreData @objc ( AizuDataStore ) class AizuDataStore : NSManagedObject { @NSManaged var id : NSNumber @NSManaged var title : String @NSManaged var content : String func updateFromDictionary ( dataDictionary : [ String : AnyObject ]) throws { // \u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3. guard let tmp_id : NSNumber = dataDictionary [ \"id\" ] as ? NSNumber , tmp_title : String = dataDictionary [ \"title\" ] as ? String , tmp_content : String = dataDictionary [ \"content\" ] as ? String else { throw NSError ( domain : \"Failed validation of JSON object. \" , code : - 1 , userInfo : nil ) } // \u30c7\u30fc\u30bf\u3092\u53cd\u6620. id = tmp_id title = tmp_title content = tmp_content } }","title":"AizuDataStore.swift"},{"location":"8.coredata/001_json/#3x4x","text":"CoreData001.xcdatamodeld \u306e AizuDataStore \u306e Class/Codegen \u3092 Manual/None \u306b\u5909\u66f4 Bundle.main.path(forResource: \"AizuData\", ofType: \"json\")! \u306b as NSString \u3092\u8ffd\u52a0 for jsonData: AnyObject in jsonDictionary \u3092 for jsonData in jsonDictionary \u306b\u5909\u66f4 aizuDataStore.updateFromDictionary(dataDictionary: jsonData as! [String : AnyObject]) \u304b\u3089 as! [String : AnyObject] \u3092\u524a\u9664","title":"3.x\u30684.x\u306e\u5dee\u5206"},{"location":"8.coredata/001_json/#2x3x","text":"\u81ea\u52d5\u751f\u6210\u3055\u308c\u308bAppDelegate\u306eCoreData\u306e\u8a18\u8ff0\u304c\u5909\u66f4\u3002 let context: NSManagedObjectContext = appDel.managedObjectContext \u304c let context = appDel.persistentContainer.viewContext \u306b\u3002","title":"2.x\u30683.x\u306e\u5dee\u5206"},{"location":"8.coredata/001_json/#reference","text":"CoreData https://developer.apple.com/reference/coredata","title":"Reference"},{"location":"9.coreimage/","text":"[ [ [ [ [ [ [ [ [ [ [ [ [ [ [ [ [ [ [","title":"Index"},{"location":"9.coreimage/001_coreimage/","text":"\u30bb\u30d4\u30a2\u51e6\u7406 Swift 3.0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 // // ViewController.swift // CoreImage001 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import CoreImage class ViewController : UIViewController { // \u30d9\u30fc\u30b9\u753b\u50cf. let myInputImage = CIImage ( image : UIImage ( named : \"sample1\" ) ! ) // ImageView. var myImageView : UIImageView ! // \u30dc\u30bf\u30f3. let myButton : UIButton = UIButton () override func viewDidLoad () { super . viewDidLoad () // UIImageView\u306e\u751f\u6210. myImageView = UIImageView ( frame : CGRect ( x : 0 , y : 0 , width : self . view . frame . size . width , height : self . view . frame . size . height )) myImageView . image = UIImage ( ciImage : myInputImage !) self . view . addSubview ( myImageView ) // \u30dc\u30bf\u30f3. myButton . frame = CGRect ( x : 0 , y : 0 , width : 80 , height : 80 ) myButton . backgroundColor = UIColor . gray myButton . layer . masksToBounds = true myButton . setTitle ( \"\u30bb\u30d4\u30a2\" , for : UIControlState . normal ) myButton . setTitleColor ( UIColor . white , for : UIControlState . normal ) myButton . layer . cornerRadius = 40.0 myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 50 ) myButton . tag = 1 myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchUpInside ) // \u80cc\u666f\u8272\u3092\u9ed2. self . view . backgroundColor = UIColor . black // UI\u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0 self . view . addSubview ( myButton ); } // \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8.. func onClickMyButton ( sender : UIButton ){ // \u30ab\u30e9\u30fc\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u6307\u5b9a\u3057\u3066CIFilter\u3092\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316. let mySepiaFilter = CIFilter ( name : \"CISepiaTone\" ) // \u30a4\u30e1\u30fc\u30b8\u306e\u30bb\u30c3\u30c8. mySepiaFilter !. setValue ( myInputImage , forKey : kCIInputImageKey ) // \u52a0\u5de5\u306e\u5ea6\u5408\u3044. mySepiaFilter !. setValue ( 1.0 , forKey : kCIInputIntensityKey ) // \u30d5\u30a3\u30eb\u30bf\u30fc\u3092\u901a\u3057\u305f\u753b\u50cf\u3092\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8. let myOutputImage : CIImage = mySepiaFilter !. outputImage ! // \u518d\u3073UIView\u306b\u30bb\u30c3\u30c8. myImageView . image = UIImage ( ciImage : myOutputImage ) // \u518d\u63cf\u753b. myImageView . setNeedsDisplay () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 // // ViewController.swift // CoreImage001 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import CoreImage class ViewController : UIViewController { // \u30d9\u30fc\u30b9\u753b\u50cf. let myInputImage = CIImage ( image : UIImage ( named : \"sample1\" ) ! ) // ImageView. var myImageView : UIImageView ! // \u30dc\u30bf\u30f3. let myButton : UIButton = UIButton () override func viewDidLoad () { super . viewDidLoad () // UIImageView\u306e\u751f\u6210. myImageView = UIImageView ( frame : CGRectMake ( 0 , 0 , self . view . frame . size . width , self . view . frame . size . height )) myImageView . image = UIImage ( CIImage : myInputImage !) self . view . addSubview ( myImageView ) // \u30dc\u30bf\u30f3. myButton . frame = CGRectMake ( 0 , 0 , 80 , 80 ) myButton . backgroundColor = UIColor . grayColor (); myButton . layer . masksToBounds = true myButton . setTitle ( \"\u30bb\u30d4\u30a2\" , forState : UIControlState . Normal ) myButton . setTitleColor ( UIColor . whiteColor (), forState : UIControlState . Normal ) myButton . layer . cornerRadius = 40.0 myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 50 ) myButton . tag = 1 myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : . TouchUpInside ) // \u80cc\u666f\u8272\u3092\u9ed2. self . view . backgroundColor = UIColor . blackColor () // UI\u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0 self . view . addSubview ( myButton ); } // \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8.. func onClickMyButton ( sender : UIButton ){ // \u30ab\u30e9\u30fc\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u6307\u5b9a\u3057\u3066CIFilter\u3092\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316. let mySepiaFilter = CIFilter ( name : \"CISepiaTone\" ) // \u30a4\u30e1\u30fc\u30b8\u306e\u30bb\u30c3\u30c8. mySepiaFilter !. setValue ( myInputImage , forKey : kCIInputImageKey ) // \u52a0\u5de5\u306e\u5ea6\u5408\u3044. mySepiaFilter !. setValue ( 1.0 , forKey : kCIInputIntensityKey ) // \u30d5\u30a3\u30eb\u30bf\u30fc\u3092\u901a\u3057\u305f\u753b\u50cf\u3092\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8. let myOutputImage : CIImage = mySepiaFilter !. outputImage ! // \u518d\u3073UIView\u306b\u30bb\u30c3\u30c8. myImageView . image = UIImage ( CIImage : myOutputImage ) // \u518d\u63cf\u753b. myImageView . setNeedsDisplay () } } 2.x\u30683.x\u306e\u5dee\u5206 init(CIImage:) \u304b\u3089 init(ciImage:) \u306b\u5909\u66f4 Reference CIFilter https://developer.apple.com/reference/coreimage/cifilter CIImage https://developer.apple.com/reference/coreimage/ciimage","title":"\u30bb\u30d4\u30a2\u51e6\u7406"},{"location":"9.coreimage/001_coreimage/#_1","text":"","title":"\u30bb\u30d4\u30a2\u51e6\u7406"},{"location":"9.coreimage/001_coreimage/#swift-30","text":"1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 // // ViewController.swift // CoreImage001 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import CoreImage class ViewController : UIViewController { // \u30d9\u30fc\u30b9\u753b\u50cf. let myInputImage = CIImage ( image : UIImage ( named : \"sample1\" ) ! ) // ImageView. var myImageView : UIImageView ! // \u30dc\u30bf\u30f3. let myButton : UIButton = UIButton () override func viewDidLoad () { super . viewDidLoad () // UIImageView\u306e\u751f\u6210. myImageView = UIImageView ( frame : CGRect ( x : 0 , y : 0 , width : self . view . frame . size . width , height : self . view . frame . size . height )) myImageView . image = UIImage ( ciImage : myInputImage !) self . view . addSubview ( myImageView ) // \u30dc\u30bf\u30f3. myButton . frame = CGRect ( x : 0 , y : 0 , width : 80 , height : 80 ) myButton . backgroundColor = UIColor . gray myButton . layer . masksToBounds = true myButton . setTitle ( \"\u30bb\u30d4\u30a2\" , for : UIControlState . normal ) myButton . setTitleColor ( UIColor . white , for : UIControlState . normal ) myButton . layer . cornerRadius = 40.0 myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 50 ) myButton . tag = 1 myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchUpInside ) // \u80cc\u666f\u8272\u3092\u9ed2. self . view . backgroundColor = UIColor . black // UI\u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0 self . view . addSubview ( myButton ); } // \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8.. func onClickMyButton ( sender : UIButton ){ // \u30ab\u30e9\u30fc\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u6307\u5b9a\u3057\u3066CIFilter\u3092\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316. let mySepiaFilter = CIFilter ( name : \"CISepiaTone\" ) // \u30a4\u30e1\u30fc\u30b8\u306e\u30bb\u30c3\u30c8. mySepiaFilter !. setValue ( myInputImage , forKey : kCIInputImageKey ) // \u52a0\u5de5\u306e\u5ea6\u5408\u3044. mySepiaFilter !. setValue ( 1.0 , forKey : kCIInputIntensityKey ) // \u30d5\u30a3\u30eb\u30bf\u30fc\u3092\u901a\u3057\u305f\u753b\u50cf\u3092\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8. let myOutputImage : CIImage = mySepiaFilter !. outputImage ! // \u518d\u3073UIView\u306b\u30bb\u30c3\u30c8. myImageView . image = UIImage ( ciImage : myOutputImage ) // \u518d\u63cf\u753b. myImageView . setNeedsDisplay () } }","title":"Swift 3.0"},{"location":"9.coreimage/001_coreimage/#swift-23","text":"1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 // // ViewController.swift // CoreImage001 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import CoreImage class ViewController : UIViewController { // \u30d9\u30fc\u30b9\u753b\u50cf. let myInputImage = CIImage ( image : UIImage ( named : \"sample1\" ) ! ) // ImageView. var myImageView : UIImageView ! // \u30dc\u30bf\u30f3. let myButton : UIButton = UIButton () override func viewDidLoad () { super . viewDidLoad () // UIImageView\u306e\u751f\u6210. myImageView = UIImageView ( frame : CGRectMake ( 0 , 0 , self . view . frame . size . width , self . view . frame . size . height )) myImageView . image = UIImage ( CIImage : myInputImage !) self . view . addSubview ( myImageView ) // \u30dc\u30bf\u30f3. myButton . frame = CGRectMake ( 0 , 0 , 80 , 80 ) myButton . backgroundColor = UIColor . grayColor (); myButton . layer . masksToBounds = true myButton . setTitle ( \"\u30bb\u30d4\u30a2\" , forState : UIControlState . Normal ) myButton . setTitleColor ( UIColor . whiteColor (), forState : UIControlState . Normal ) myButton . layer . cornerRadius = 40.0 myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 50 ) myButton . tag = 1 myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : . TouchUpInside ) // \u80cc\u666f\u8272\u3092\u9ed2. self . view . backgroundColor = UIColor . blackColor () // UI\u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0 self . view . addSubview ( myButton ); } // \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8.. func onClickMyButton ( sender : UIButton ){ // \u30ab\u30e9\u30fc\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u6307\u5b9a\u3057\u3066CIFilter\u3092\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316. let mySepiaFilter = CIFilter ( name : \"CISepiaTone\" ) // \u30a4\u30e1\u30fc\u30b8\u306e\u30bb\u30c3\u30c8. mySepiaFilter !. setValue ( myInputImage , forKey : kCIInputImageKey ) // \u52a0\u5de5\u306e\u5ea6\u5408\u3044. mySepiaFilter !. setValue ( 1.0 , forKey : kCIInputIntensityKey ) // \u30d5\u30a3\u30eb\u30bf\u30fc\u3092\u901a\u3057\u305f\u753b\u50cf\u3092\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8. let myOutputImage : CIImage = mySepiaFilter !. outputImage ! // \u518d\u3073UIView\u306b\u30bb\u30c3\u30c8. myImageView . image = UIImage ( CIImage : myOutputImage ) // \u518d\u63cf\u753b. myImageView . setNeedsDisplay () } }","title":"Swift 2.3"},{"location":"9.coreimage/001_coreimage/#2x3x","text":"init(CIImage:) \u304b\u3089 init(ciImage:) \u306b\u5909\u66f4","title":"2.x\u30683.x\u306e\u5dee\u5206"},{"location":"9.coreimage/001_coreimage/#reference","text":"CIFilter https://developer.apple.com/reference/coreimage/cifilter CIImage https://developer.apple.com/reference/coreimage/ciimage","title":"Reference"},{"location":"9.coreimage/002_coreimage/","text":"\u753b\u50cf\u306e\u30ea\u30b5\u30a4\u30ba Swift 3.0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 // // ViewController.swift // CoreImage002 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import CoreImage class ViewController : UIViewController { // \u30d9\u30fc\u30b9\u753b\u50cf. let myInputImage = CIImage ( image : UIImage ( named : \"sample1\" ) ! ) // ImageView. var myImageView : UIImageView ! // \u30dc\u30bf\u30f3. let myButton : UIButton = UIButton () override func viewDidLoad () { super . viewDidLoad () // UIImageView\u306e\u751f\u6210. myImageView = UIImageView ( frame : CGRect ( x : 0 , y : 0 , width : self . view . frame . size . width , height : self . view . frame . size . height )) myImageView . image = UIImage ( ciImage : myInputImage !) self . view . addSubview ( myImageView ) // \u30dc\u30bf\u30f3. myButton . frame = CGRect ( x : 0 , y : 0 , width : 80 , height : 80 ) myButton . backgroundColor = UIColor . red myButton . layer . masksToBounds = true myButton . setTitle ( \"\u30ea\u30b5\u30a4\u30ba\" , for : UIControlState . normal ) myButton . titleLabel ?. font = UIFont . systemFont ( ofSize : UIFont . smallSystemFontSize ) myButton . setTitleColor ( UIColor . white , for : UIControlState . normal ) myButton . layer . cornerRadius = 40.0 myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 50 ) myButton . tag = 1 myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchUpInside ) // \u80cc\u666f\u8272\u3092\u9ed2. self . view . backgroundColor = UIColor . black // UI\u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0. self . view . addSubview ( myButton ); } // \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. func onClickMyButton ( sender : UIButton ){ // CIFilter\u3092\u751f\u6210\u3002name\u306b\u3069\u3093\u306a\u3092\u51e6\u7406\u3059\u308b\u306e\u304b\u8a18\u5165. let myScaleFilter = CIFilter ( name : \"CILanczosScaleTransform\" ) // \u30a4\u30e1\u30fc\u30b8\u306e\u30bb\u30c3\u30c8. myScaleFilter !. setValue ( myInputImage , forKey : kCIInputImageKey ) // myInputImage\u3092InputImage\u3068\u3057\u3066\u6e21\u3059. myScaleFilter !. setValue ( myInputImage , forKey : kCIInputImageKey ) // \u753b\u50cf\u30b5\u30a4\u30ba\u306e\u500d\u7387\u3092\u6e21\u3059. myScaleFilter !. setValue ( NSNumber ( value : 0.5 ), forKey : kCIInputScaleKey ) // \u753b\u50cf\u306e\u30a2\u30b9\u30da\u30af\u30c8\u6bd4\u3092\u6e21\u3059 myScaleFilter !. setValue ( NSNumber ( value : 1.0 ), forKey : kCIInputAspectRatioKey ) // \u30d5\u30a3\u30eb\u30bf\u30fc\u3092\u901a\u3057\u305f\u753b\u50cf\u3092\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8 let myOutputImage : CIImage = myScaleFilter !. outputImage ! // UIImage\u306b\u5909\u63db. let myOutputUIImage : UIImage = UIImage ( ciImage : myOutputImage ) // \u518d\u3073UIView\u306b\u30bb\u30c3\u30c8. myImageView . frame = CGRect ( x : 0 , y : 0 , width : myOutputUIImage . size . width , height : myOutputUIImage . size . height ) myImageView . image = myOutputUIImage // \u518d\u63cf\u753b. myImageView . setNeedsDisplay () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 // // ViewController.swift // CoreImage002 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import CoreImage class ViewController : UIViewController { // \u30d9\u30fc\u30b9\u753b\u50cf. let myInputImage = CIImage ( image : UIImage ( named : \"sample1\" ) ! ) // ImageView. var myImageView : UIImageView ! // \u30dc\u30bf\u30f3. let myButton : UIButton = UIButton () override func viewDidLoad () { super . viewDidLoad () // UIImageView\u306e\u751f\u6210. myImageView = UIImageView ( frame : CGRectMake ( 0 , 0 , self . view . frame . size . width , self . view . frame . size . height )) myImageView . image = UIImage ( CIImage : myInputImage !) self . view . addSubview ( myImageView ) // \u30dc\u30bf\u30f3. myButton . frame = CGRectMake ( 0 , 0 , 80 , 80 ) myButton . backgroundColor = UIColor . redColor (); myButton . layer . masksToBounds = true myButton . setTitle ( \"\u30ea\u30b5\u30a4\u30ba\" , forState : UIControlState . Normal ) myButton . titleLabel ?. font = UIFont . systemFontOfSize ( UIFont . smallSystemFontSize ()) myButton . setTitleColor ( UIColor . whiteColor (), forState : UIControlState . Normal ) myButton . layer . cornerRadius = 40.0 myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 50 ) myButton . tag = 1 myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : . TouchUpInside ) // \u80cc\u666f\u8272\u3092\u9ed2. self . view . backgroundColor = UIColor . blackColor () // UI\u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0. self . view . addSubview ( myButton ); } // \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. func onClickMyButton ( sender : UIButton ){ // CIFilter\u3092\u751f\u6210\u3002name\u306b\u3069\u3093\u306a\u3092\u51e6\u7406\u3059\u308b\u306e\u304b\u8a18\u5165. let myScaleFilter = CIFilter ( name : \"CILanczosScaleTransform\" ) // \u30a4\u30e1\u30fc\u30b8\u306e\u30bb\u30c3\u30c8. myScaleFilter !. setValue ( myInputImage , forKey : kCIInputImageKey ) // myInputImage\u3092InputImage\u3068\u3057\u3066\u6e21\u3059. myScaleFilter !. setValue ( myInputImage , forKey : kCIInputImageKey ) // \u753b\u50cf\u30b5\u30a4\u30ba\u306e\u500d\u7387\u3092\u6e21\u3059. myScaleFilter !. setValue ( NSNumber ( float : 0.5 ), forKey : kCIInputScaleKey ) // \u753b\u50cf\u306e\u30a2\u30b9\u30da\u30af\u30c8\u6bd4\u3092\u6e21\u3059 myScaleFilter !. setValue ( NSNumber ( float : 1.0 ), forKey : kCIInputAspectRatioKey ) // \u30d5\u30a3\u30eb\u30bf\u30fc\u3092\u901a\u3057\u305f\u753b\u50cf\u3092\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8 let myOutputImage : CIImage = myScaleFilter !. outputImage ! // UIImage\u306b\u5909\u63db. let myOutputUIImage : UIImage = UIImage ( CIImage : myOutputImage ) // \u518d\u3073UIView\u306b\u30bb\u30c3\u30c8. myImageView . frame = CGRectMake ( 0 , 0 , myOutputUIImage . size . width , myOutputUIImage . size . height ) myImageView . image = myOutputUIImage // \u518d\u63cf\u753b. myImageView . setNeedsDisplay () } } 2.x\u30683.x\u306e\u5dee\u5206 init(CIImage:) \u304b\u3089 init(ciImage:) \u306b\u5909\u66f4 (NSNumber(value:) \u304b\u3089 (NSNumber(value:) \u306b\u5909\u66f4 Reference CIFilter https://developer.apple.com/reference/coreimage/cifilter CIImage https://developer.apple.com/reference/coreimage/ciimage","title":"\u753b\u50cf\u306e\u30ea\u30b5\u30a4\u30ba"},{"location":"9.coreimage/002_coreimage/#_1","text":"","title":"\u753b\u50cf\u306e\u30ea\u30b5\u30a4\u30ba"},{"location":"9.coreimage/002_coreimage/#swift-30","text":"1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 // // ViewController.swift // CoreImage002 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import CoreImage class ViewController : UIViewController { // \u30d9\u30fc\u30b9\u753b\u50cf. let myInputImage = CIImage ( image : UIImage ( named : \"sample1\" ) ! ) // ImageView. var myImageView : UIImageView ! // \u30dc\u30bf\u30f3. let myButton : UIButton = UIButton () override func viewDidLoad () { super . viewDidLoad () // UIImageView\u306e\u751f\u6210. myImageView = UIImageView ( frame : CGRect ( x : 0 , y : 0 , width : self . view . frame . size . width , height : self . view . frame . size . height )) myImageView . image = UIImage ( ciImage : myInputImage !) self . view . addSubview ( myImageView ) // \u30dc\u30bf\u30f3. myButton . frame = CGRect ( x : 0 , y : 0 , width : 80 , height : 80 ) myButton . backgroundColor = UIColor . red myButton . layer . masksToBounds = true myButton . setTitle ( \"\u30ea\u30b5\u30a4\u30ba\" , for : UIControlState . normal ) myButton . titleLabel ?. font = UIFont . systemFont ( ofSize : UIFont . smallSystemFontSize ) myButton . setTitleColor ( UIColor . white , for : UIControlState . normal ) myButton . layer . cornerRadius = 40.0 myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 50 ) myButton . tag = 1 myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchUpInside ) // \u80cc\u666f\u8272\u3092\u9ed2. self . view . backgroundColor = UIColor . black // UI\u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0. self . view . addSubview ( myButton ); } // \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. func onClickMyButton ( sender : UIButton ){ // CIFilter\u3092\u751f\u6210\u3002name\u306b\u3069\u3093\u306a\u3092\u51e6\u7406\u3059\u308b\u306e\u304b\u8a18\u5165. let myScaleFilter = CIFilter ( name : \"CILanczosScaleTransform\" ) // \u30a4\u30e1\u30fc\u30b8\u306e\u30bb\u30c3\u30c8. myScaleFilter !. setValue ( myInputImage , forKey : kCIInputImageKey ) // myInputImage\u3092InputImage\u3068\u3057\u3066\u6e21\u3059. myScaleFilter !. setValue ( myInputImage , forKey : kCIInputImageKey ) // \u753b\u50cf\u30b5\u30a4\u30ba\u306e\u500d\u7387\u3092\u6e21\u3059. myScaleFilter !. setValue ( NSNumber ( value : 0.5 ), forKey : kCIInputScaleKey ) // \u753b\u50cf\u306e\u30a2\u30b9\u30da\u30af\u30c8\u6bd4\u3092\u6e21\u3059 myScaleFilter !. setValue ( NSNumber ( value : 1.0 ), forKey : kCIInputAspectRatioKey ) // \u30d5\u30a3\u30eb\u30bf\u30fc\u3092\u901a\u3057\u305f\u753b\u50cf\u3092\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8 let myOutputImage : CIImage = myScaleFilter !. outputImage ! // UIImage\u306b\u5909\u63db. let myOutputUIImage : UIImage = UIImage ( ciImage : myOutputImage ) // \u518d\u3073UIView\u306b\u30bb\u30c3\u30c8. myImageView . frame = CGRect ( x : 0 , y : 0 , width : myOutputUIImage . size . width , height : myOutputUIImage . size . height ) myImageView . image = myOutputUIImage // \u518d\u63cf\u753b. myImageView . setNeedsDisplay () } }","title":"Swift 3.0"},{"location":"9.coreimage/002_coreimage/#swift-23","text":"1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 // // ViewController.swift // CoreImage002 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import CoreImage class ViewController : UIViewController { // \u30d9\u30fc\u30b9\u753b\u50cf. let myInputImage = CIImage ( image : UIImage ( named : \"sample1\" ) ! ) // ImageView. var myImageView : UIImageView ! // \u30dc\u30bf\u30f3. let myButton : UIButton = UIButton () override func viewDidLoad () { super . viewDidLoad () // UIImageView\u306e\u751f\u6210. myImageView = UIImageView ( frame : CGRectMake ( 0 , 0 , self . view . frame . size . width , self . view . frame . size . height )) myImageView . image = UIImage ( CIImage : myInputImage !) self . view . addSubview ( myImageView ) // \u30dc\u30bf\u30f3. myButton . frame = CGRectMake ( 0 , 0 , 80 , 80 ) myButton . backgroundColor = UIColor . redColor (); myButton . layer . masksToBounds = true myButton . setTitle ( \"\u30ea\u30b5\u30a4\u30ba\" , forState : UIControlState . Normal ) myButton . titleLabel ?. font = UIFont . systemFontOfSize ( UIFont . smallSystemFontSize ()) myButton . setTitleColor ( UIColor . whiteColor (), forState : UIControlState . Normal ) myButton . layer . cornerRadius = 40.0 myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 50 ) myButton . tag = 1 myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : . TouchUpInside ) // \u80cc\u666f\u8272\u3092\u9ed2. self . view . backgroundColor = UIColor . blackColor () // UI\u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0. self . view . addSubview ( myButton ); } // \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. func onClickMyButton ( sender : UIButton ){ // CIFilter\u3092\u751f\u6210\u3002name\u306b\u3069\u3093\u306a\u3092\u51e6\u7406\u3059\u308b\u306e\u304b\u8a18\u5165. let myScaleFilter = CIFilter ( name : \"CILanczosScaleTransform\" ) // \u30a4\u30e1\u30fc\u30b8\u306e\u30bb\u30c3\u30c8. myScaleFilter !. setValue ( myInputImage , forKey : kCIInputImageKey ) // myInputImage\u3092InputImage\u3068\u3057\u3066\u6e21\u3059. myScaleFilter !. setValue ( myInputImage , forKey : kCIInputImageKey ) // \u753b\u50cf\u30b5\u30a4\u30ba\u306e\u500d\u7387\u3092\u6e21\u3059. myScaleFilter !. setValue ( NSNumber ( float : 0.5 ), forKey : kCIInputScaleKey ) // \u753b\u50cf\u306e\u30a2\u30b9\u30da\u30af\u30c8\u6bd4\u3092\u6e21\u3059 myScaleFilter !. setValue ( NSNumber ( float : 1.0 ), forKey : kCIInputAspectRatioKey ) // \u30d5\u30a3\u30eb\u30bf\u30fc\u3092\u901a\u3057\u305f\u753b\u50cf\u3092\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8 let myOutputImage : CIImage = myScaleFilter !. outputImage ! // UIImage\u306b\u5909\u63db. let myOutputUIImage : UIImage = UIImage ( CIImage : myOutputImage ) // \u518d\u3073UIView\u306b\u30bb\u30c3\u30c8. myImageView . frame = CGRectMake ( 0 , 0 , myOutputUIImage . size . width , myOutputUIImage . size . height ) myImageView . image = myOutputUIImage // \u518d\u63cf\u753b. myImageView . setNeedsDisplay () } }","title":"Swift 2.3"},{"location":"9.coreimage/002_coreimage/#2x3x","text":"init(CIImage:) \u304b\u3089 init(ciImage:) \u306b\u5909\u66f4 (NSNumber(value:) \u304b\u3089 (NSNumber(value:) \u306b\u5909\u66f4","title":"2.x\u30683.x\u306e\u5dee\u5206"},{"location":"9.coreimage/002_coreimage/#reference","text":"CIFilter https://developer.apple.com/reference/coreimage/cifilter CIImage https://developer.apple.com/reference/coreimage/ciimage","title":"Reference"},{"location":"9.coreimage/003_coreimage/","text":"\u753b\u50cf\u306e\u30af\u30ed\u30c3\u30d7 Swift 3.0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 // // ViewController.swift // CoreImage003 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import CoreImage class ViewController : UIViewController { // \u30d9\u30fc\u30b9\u753b\u50cf. let myInputImage = CIImage ( image : UIImage ( named : \"sample1\" ) ! ) // ImageView. var myImageView : UIImageView ! // \u30dc\u30bf\u30f3. let myButton : UIButton = UIButton () override func viewDidLoad () { super . viewDidLoad () // UIImageView\u306e\u751f\u6210. myImageView = UIImageView ( frame : CGRect ( x : 0 , y : 0 , width : self . view . frame . size . width , height : self . view . frame . size . height )) myImageView . image = UIImage ( ciImage : myInputImage !) self . view . addSubview ( myImageView ) // \u30dc\u30bf\u30f3. myButton . frame = CGRect ( x : 0 , y : 0 , width : 80 , height : 80 ) myButton . backgroundColor = UIColor . orange myButton . layer . masksToBounds = true myButton . setTitle ( \"Crop\" , for : UIControlState . normal ) myButton . setTitleColor ( UIColor . white , for : UIControlState . normal ) myButton . layer . cornerRadius = 40.0 myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 50 ) myButton . tag = 1 myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchUpInside ) // \u80cc\u666f\u8272\u3092\u9ed2. self . view . backgroundColor = UIColor . black // UI\u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0. self . view . addSubview ( myButton ); } // \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. func onClickMyButton ( sender : UIButton ){ // CIFilter\u3092\u751f\u6210\u3002name\u306b\u3069\u3093\u306a\u3092\u51e6\u7406\u3059\u308b\u306e\u304b\u8a18\u5165. let myCropFilter = CIFilter ( name : \"CICrop\" ) // myScaleFilter\u306b\u5fc5\u8981\u306a\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u6e21\u3057\u3066\u3044\u304f. // myInputImage\u3092InputImage\u3068\u3057\u3066\u6e21\u3059. myCropFilter !. setValue ( myInputImage , forKey : kCIInputImageKey ) // \u753b\u50cf\u306e\u30c8\u30ea\u30df\u30f3\u30b0\u3059\u308b\u90e8\u5206\u306e\u5ea7\u6a19\u3068\u30b5\u30a4\u30ba\u3092\u6e21\u3059. myCropFilter !. setValue ( CIVector ( x : 0 , y : 300 , z : 175 , w : 300 ), forKey : \"inputRectangle\" ) // \u30d5\u30a3\u30eb\u30bf\u30fc\u3092\u901a\u3057\u305f\u753b\u50cf\u3092\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8. let myOutputImage : CIImage = myCropFilter !. outputImage ! // \u518d\u3073UIView\u306b\u30bb\u30c3\u30c8. myImageView . frame = CGRect ( x : 0 , y : 0 , width : 175 , height : 300 ) myImageView . image = UIImage ( ciImage : myOutputImage ) // \u518d\u63cf\u753b. myImageView . setNeedsDisplay () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 // // ViewController.swift // CoreImage003 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import CoreImage class ViewController : UIViewController { // \u30d9\u30fc\u30b9\u753b\u50cf. let myInputImage = CIImage ( image : UIImage ( named : \"sample1\" ) ! ) // ImageView. var myImageView : UIImageView ! // \u30dc\u30bf\u30f3. let myButton : UIButton = UIButton () override func viewDidLoad () { super . viewDidLoad () // UIImageView\u306e\u751f\u6210. myImageView = UIImageView ( frame : CGRectMake ( 0 , 0 , self . view . frame . size . width , self . view . frame . size . height )) myImageView . image = UIImage ( CIImage : myInputImage !) self . view . addSubview ( myImageView ) // \u30dc\u30bf\u30f3. myButton . frame = CGRectMake ( 0 , 0 , 80 , 80 ) myButton . backgroundColor = UIColor . orangeColor (); myButton . layer . masksToBounds = true myButton . setTitle ( \"Crop\" , forState : UIControlState . Normal ) myButton . setTitleColor ( UIColor . whiteColor (), forState : UIControlState . Normal ) myButton . layer . cornerRadius = 40.0 myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 50 ) myButton . tag = 1 myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : . TouchUpInside ) // \u80cc\u666f\u8272\u3092\u9ed2. self . view . backgroundColor = UIColor . blackColor () // UI\u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0. self . view . addSubview ( myButton ); } // \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. func onClickMyButton ( sender : UIButton ){ // CIFilter\u3092\u751f\u6210\u3002name\u306b\u3069\u3093\u306a\u3092\u51e6\u7406\u3059\u308b\u306e\u304b\u8a18\u5165. let myCropFilter = CIFilter ( name : \"CICrop\" ) // myScaleFilter\u306b\u5fc5\u8981\u306a\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u6e21\u3057\u3066\u3044\u304f. // myInputImage\u3092InputImage\u3068\u3057\u3066\u6e21\u3059. myCropFilter !. setValue ( myInputImage , forKey : kCIInputImageKey ) // \u753b\u50cf\u306e\u30c8\u30ea\u30df\u30f3\u30b0\u3059\u308b\u90e8\u5206\u306e\u5ea7\u6a19\u3068\u30b5\u30a4\u30ba\u3092\u6e21\u3059. myCropFilter !. setValue ( CIVector ( x : 0 , y : 300 , z : 175 , w : 300 ), forKey : \"inputRectangle\" ) // \u30d5\u30a3\u30eb\u30bf\u30fc\u3092\u901a\u3057\u305f\u753b\u50cf\u3092\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8. let myOutputImage : CIImage = myCropFilter !. outputImage ! // \u518d\u3073UIView\u306b\u30bb\u30c3\u30c8. myImageView . frame = CGRectMake ( 0 , 0 , 175 , 300 ) myImageView . image = UIImage ( CIImage : myOutputImage ) // \u518d\u63cf\u753b. myImageView . setNeedsDisplay () } } 2.x\u30683.x\u306e\u5dee\u5206 init(CIImage:) \u304b\u3089 init(ciImage:) \u306b\u5909\u66f4 Reference CIFilter https://developer.apple.com/reference/coreimage/cifilter CIImage https://developer.apple.com/reference/coreimage/ciimage","title":"\u753b\u50cf\u306e\u30af\u30ed\u30c3\u30d7"},{"location":"9.coreimage/003_coreimage/#_1","text":"","title":"\u753b\u50cf\u306e\u30af\u30ed\u30c3\u30d7"},{"location":"9.coreimage/003_coreimage/#swift-30","text":"1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 // // ViewController.swift // CoreImage003 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import CoreImage class ViewController : UIViewController { // \u30d9\u30fc\u30b9\u753b\u50cf. let myInputImage = CIImage ( image : UIImage ( named : \"sample1\" ) ! ) // ImageView. var myImageView : UIImageView ! // \u30dc\u30bf\u30f3. let myButton : UIButton = UIButton () override func viewDidLoad () { super . viewDidLoad () // UIImageView\u306e\u751f\u6210. myImageView = UIImageView ( frame : CGRect ( x : 0 , y : 0 , width : self . view . frame . size . width , height : self . view . frame . size . height )) myImageView . image = UIImage ( ciImage : myInputImage !) self . view . addSubview ( myImageView ) // \u30dc\u30bf\u30f3. myButton . frame = CGRect ( x : 0 , y : 0 , width : 80 , height : 80 ) myButton . backgroundColor = UIColor . orange myButton . layer . masksToBounds = true myButton . setTitle ( \"Crop\" , for : UIControlState . normal ) myButton . setTitleColor ( UIColor . white , for : UIControlState . normal ) myButton . layer . cornerRadius = 40.0 myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 50 ) myButton . tag = 1 myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchUpInside ) // \u80cc\u666f\u8272\u3092\u9ed2. self . view . backgroundColor = UIColor . black // UI\u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0. self . view . addSubview ( myButton ); } // \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. func onClickMyButton ( sender : UIButton ){ // CIFilter\u3092\u751f\u6210\u3002name\u306b\u3069\u3093\u306a\u3092\u51e6\u7406\u3059\u308b\u306e\u304b\u8a18\u5165. let myCropFilter = CIFilter ( name : \"CICrop\" ) // myScaleFilter\u306b\u5fc5\u8981\u306a\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u6e21\u3057\u3066\u3044\u304f. // myInputImage\u3092InputImage\u3068\u3057\u3066\u6e21\u3059. myCropFilter !. setValue ( myInputImage , forKey : kCIInputImageKey ) // \u753b\u50cf\u306e\u30c8\u30ea\u30df\u30f3\u30b0\u3059\u308b\u90e8\u5206\u306e\u5ea7\u6a19\u3068\u30b5\u30a4\u30ba\u3092\u6e21\u3059. myCropFilter !. setValue ( CIVector ( x : 0 , y : 300 , z : 175 , w : 300 ), forKey : \"inputRectangle\" ) // \u30d5\u30a3\u30eb\u30bf\u30fc\u3092\u901a\u3057\u305f\u753b\u50cf\u3092\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8. let myOutputImage : CIImage = myCropFilter !. outputImage ! // \u518d\u3073UIView\u306b\u30bb\u30c3\u30c8. myImageView . frame = CGRect ( x : 0 , y : 0 , width : 175 , height : 300 ) myImageView . image = UIImage ( ciImage : myOutputImage ) // \u518d\u63cf\u753b. myImageView . setNeedsDisplay () } }","title":"Swift 3.0"},{"location":"9.coreimage/003_coreimage/#swift-23","text":"1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 // // ViewController.swift // CoreImage003 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import CoreImage class ViewController : UIViewController { // \u30d9\u30fc\u30b9\u753b\u50cf. let myInputImage = CIImage ( image : UIImage ( named : \"sample1\" ) ! ) // ImageView. var myImageView : UIImageView ! // \u30dc\u30bf\u30f3. let myButton : UIButton = UIButton () override func viewDidLoad () { super . viewDidLoad () // UIImageView\u306e\u751f\u6210. myImageView = UIImageView ( frame : CGRectMake ( 0 , 0 , self . view . frame . size . width , self . view . frame . size . height )) myImageView . image = UIImage ( CIImage : myInputImage !) self . view . addSubview ( myImageView ) // \u30dc\u30bf\u30f3. myButton . frame = CGRectMake ( 0 , 0 , 80 , 80 ) myButton . backgroundColor = UIColor . orangeColor (); myButton . layer . masksToBounds = true myButton . setTitle ( \"Crop\" , forState : UIControlState . Normal ) myButton . setTitleColor ( UIColor . whiteColor (), forState : UIControlState . Normal ) myButton . layer . cornerRadius = 40.0 myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 50 ) myButton . tag = 1 myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : . TouchUpInside ) // \u80cc\u666f\u8272\u3092\u9ed2. self . view . backgroundColor = UIColor . blackColor () // UI\u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0. self . view . addSubview ( myButton ); } // \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. func onClickMyButton ( sender : UIButton ){ // CIFilter\u3092\u751f\u6210\u3002name\u306b\u3069\u3093\u306a\u3092\u51e6\u7406\u3059\u308b\u306e\u304b\u8a18\u5165. let myCropFilter = CIFilter ( name : \"CICrop\" ) // myScaleFilter\u306b\u5fc5\u8981\u306a\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u6e21\u3057\u3066\u3044\u304f. // myInputImage\u3092InputImage\u3068\u3057\u3066\u6e21\u3059. myCropFilter !. setValue ( myInputImage , forKey : kCIInputImageKey ) // \u753b\u50cf\u306e\u30c8\u30ea\u30df\u30f3\u30b0\u3059\u308b\u90e8\u5206\u306e\u5ea7\u6a19\u3068\u30b5\u30a4\u30ba\u3092\u6e21\u3059. myCropFilter !. setValue ( CIVector ( x : 0 , y : 300 , z : 175 , w : 300 ), forKey : \"inputRectangle\" ) // \u30d5\u30a3\u30eb\u30bf\u30fc\u3092\u901a\u3057\u305f\u753b\u50cf\u3092\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8. let myOutputImage : CIImage = myCropFilter !. outputImage ! // \u518d\u3073UIView\u306b\u30bb\u30c3\u30c8. myImageView . frame = CGRectMake ( 0 , 0 , 175 , 300 ) myImageView . image = UIImage ( CIImage : myOutputImage ) // \u518d\u63cf\u753b. myImageView . setNeedsDisplay () } }","title":"Swift 2.3"},{"location":"9.coreimage/003_coreimage/#2x3x","text":"init(CIImage:) \u304b\u3089 init(ciImage:) \u306b\u5909\u66f4","title":"2.x\u30683.x\u306e\u5dee\u5206"},{"location":"9.coreimage/003_coreimage/#reference","text":"CIFilter https://developer.apple.com/reference/coreimage/cifilter CIImage https://developer.apple.com/reference/coreimage/ciimage","title":"Reference"},{"location":"9.coreimage/004_coreimage/","text":"\u9854\u8a8d\u8b58 Swift 3.0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 // // ViewController.swift // CoreImage004 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import CoreImage extension UIImage { // UIImage\u3092\u30ea\u30b5\u30a4\u30ba\u3059\u308b\u30e1\u30bd\u30c3\u30c9. class func Resize\u00dcIImage ( image : UIImage , width : CGFloat , height : CGFloat )-> UIImage !{ // \u6307\u5b9a\u3055\u308c\u305f\u753b\u50cf\u306e\u5927\u304d\u3055\u306e\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u7528\u610f. UIGraphicsBeginImageContext ( CGSize ( width : width , height : height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u306b\u81ea\u8eab\u306b\u8a2d\u5b9a\u3055\u308c\u305f\u753b\u50cf\u3092\u63cf\u753b\u3059\u308b. image . draw ( in : CGRect ( x : 0 , y : 0 , width : width , height : height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u304b\u3089UIImage\u3092\u4f5c\u308b. let newImage = UIGraphicsGetImageFromCurrentImageContext () // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u9589\u3058\u308b. UIGraphicsEndImageContext () return newImage } } class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () let myImage : UIImage = UIImage . Resize\u00dcIImage ( image : UIImage ( named : \"sample\" ) ! , width : self . view . frame . width , height : self . view . frame . height ) // UIImageView\u306e\u751f\u6210. let myImageView : UIImageView = UIImageView () myImageView . frame = CGRect ( x : 0 , y : 0 , width : myImage . size . width , height : myImage . size . height ) myImageView . image = myImage self . view . addSubview ( myImageView ) // NSDictionary\u578b\u306eoption\u3092\u751f\u6210\u3002\u9854\u8a8d\u8b58\u306e\u7cbe\u5ea6\u3092\u8ffd\u52a0\u3059\u308b. let options : NSDictionary = NSDictionary ( object : CIDetectorAccuracyHigh , forKey : CIDetectorAccuracy ) // CIDetector\u3092\u751f\u6210\u3002\u9854\u8a8d\u8b58\u3092\u3059\u308b\u306e\u3067Type\u306fCIDetectorTypeFace. let detector : CIDetector = CIDetector ( ofType : CIDetectorTypeFace , context : nil , options : options as ? [ String : AnyObject ]) ! // detector\u3067\u8a8d\u8b58\u3057\u305f\u9854\u306e\u30c7\u30fc\u30bf\u3092\u5165\u308c\u3066\u304a\u304fNSArray. let faces : NSArray = detector . features ( in : CIImage ( image : myImage ) ! ) // UIKit\u306f\u753b\u9762\u5de6\u4e0a\u306b\u539f\u70b9\u304c\u3042\u308b\u304c\u3001CoreImage\u306f\u753b\u9762\u5de6\u4e0b\u306b\u539f\u70b9\u304c\u3042\u308b\u306e\u3067\u305d\u308c\u3092\u63c3\u3048\u306a\u304f\u3066\u306f\u306a\u3089\u306a\u3044. // CoreImage\u3068UIKit\u306e\u539f\u70b9\u3092\u753b\u9762\u5de6\u4e0a\u306b\u7d71\u4e00\u3059\u308b\u51e6\u7406. var transform : CGAffineTransform = CGAffineTransform ( scaleX : 1 , y : - 1 ) transform = transform . translatedBy ( x : 0 , y : - myImageView . bounds . size . height ) // \u691c\u51fa\u3055\u308c\u305f\u9854\u306e\u30c7\u30fc\u30bf\u3092CIFaceFeature\u3067\u51e6\u7406. for feature in faces { // \u5ea7\u6a19\u5909\u63db. let faceRect : CGRect = feature . bounds . applying ( transform ) // \u753b\u50cf\u306e\u9854\u306e\u5468\u308a\u3092\u7dda\u3067\u56f2\u3046UIView\u3092\u751f\u6210. let faceOutline = UIView ( frame : faceRect ) faceOutline . layer . borderWidth = 1 faceOutline . layer . borderColor = UIColor . red . cgColor myImageView . addSubview ( faceOutline ) } } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 // // ViewController.swift // CoreImage004 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import CoreImage extension UIImage { // UIImage\u3092\u30ea\u30b5\u30a4\u30ba\u3059\u308b\u30e1\u30bd\u30c3\u30c9. class func Resize\u00dcIImage ( image : UIImage , width : CGFloat , height : CGFloat )-> UIImage !{ // \u6307\u5b9a\u3055\u308c\u305f\u753b\u50cf\u306e\u5927\u304d\u3055\u306e\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u7528\u610f. UIGraphicsBeginImageContext ( CGSizeMake ( width , height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u306b\u81ea\u8eab\u306b\u8a2d\u5b9a\u3055\u308c\u305f\u753b\u50cf\u3092\u63cf\u753b\u3059\u308b. image . drawInRect ( CGRectMake ( 0 , 0 , width , height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u304b\u3089UIImage\u3092\u4f5c\u308b. let newImage = UIGraphicsGetImageFromCurrentImageContext () // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u9589\u3058\u308b. UIGraphicsEndImageContext () return newImage } } class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () let myImage : UIImage = UIImage . Resize\u00dcIImage ( UIImage ( named : \"sample\" ) ! , width : self . view . frame . width , height : self . view . frame . height ) // UIImageView\u306e\u751f\u6210. let myImageView : UIImageView = UIImageView () myImageView . frame = CGRectMake ( 0 , 0 , myImage . size . width , myImage . size . height ) myImageView . image = myImage self . view . addSubview ( myImageView ) // NSDictionary\u578b\u306eoption\u3092\u751f\u6210\u3002\u9854\u8a8d\u8b58\u306e\u7cbe\u5ea6\u3092\u8ffd\u52a0\u3059\u308b. let options : NSDictionary = NSDictionary ( object : CIDetectorAccuracyHigh , forKey : CIDetectorAccuracy ) // CIDetector\u3092\u751f\u6210\u3002\u9854\u8a8d\u8b58\u3092\u3059\u308b\u306e\u3067Type\u306fCIDetectorTypeFace. let detector : CIDetector = CIDetector ( ofType : CIDetectorTypeFace , context : nil , options : options as ? [ String : AnyObject ]) // detector\u3067\u8a8d\u8b58\u3057\u305f\u9854\u306e\u30c7\u30fc\u30bf\u3092\u5165\u308c\u3066\u304a\u304fNSArray. let faces : NSArray = detector . featuresInImage ( CIImage ( image : myImage ) ! ) // UIKit\u306f\u753b\u9762\u5de6\u4e0a\u306b\u539f\u70b9\u304c\u3042\u308b\u304c\u3001CoreImage\u306f\u753b\u9762\u5de6\u4e0b\u306b\u539f\u70b9\u304c\u3042\u308b\u306e\u3067\u305d\u308c\u3092\u63c3\u3048\u306a\u304f\u3066\u306f\u306a\u3089\u306a\u3044. // CoreImage\u3068UIKit\u306e\u539f\u70b9\u3092\u753b\u9762\u5de6\u4e0a\u306b\u7d71\u4e00\u3059\u308b\u51e6\u7406. var transform : CGAffineTransform = CGAffineTransformMakeScale ( 1 , - 1 ) transform = CGAffineTransformTranslate ( transform , 0 , - myImageView . bounds . size . height ) // \u691c\u51fa\u3055\u308c\u305f\u9854\u306e\u30c7\u30fc\u30bf\u3092CIFaceFeature\u3067\u51e6\u7406. for feature in faces { // \u5ea7\u6a19\u5909\u63db. let faceRect : CGRect = CGRectApplyAffineTransform ( feature . bounds , transform ) // \u753b\u50cf\u306e\u9854\u306e\u5468\u308a\u3092\u7dda\u3067\u56f2\u3046UIView\u3092\u751f\u6210. let faceOutline = UIView ( frame : faceRect ) faceOutline . layer . borderWidth = 1 faceOutline . layer . borderColor = UIColor . redColor (). CGColor myImageView . addSubview ( faceOutline ) } } } 2.x\u30683.x\u306e\u5dee\u5206 init(CIImage:) \u304b\u3089 init(ciImage:) \u306b\u5909\u66f4 CGRectApplyAffineTransform(feature.bounds, transform) \u304b\u3089 feature.bounds.applying(transform) Reference CIFilter https://developer.apple.com/reference/coreimage/cifilter CIImage https://developer.apple.com/reference/coreimage/ciimage CIDetector https://developer.apple.com/reference/coreimage/cidetector CGAffineTransform https://developer.apple.com/reference/coregraphics/cgaffinetransform","title":"\u9854\u8a8d\u8b58"},{"location":"9.coreimage/004_coreimage/#_1","text":"","title":"\u9854\u8a8d\u8b58"},{"location":"9.coreimage/004_coreimage/#swift-30","text":"1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 // // ViewController.swift // CoreImage004 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import CoreImage extension UIImage { // UIImage\u3092\u30ea\u30b5\u30a4\u30ba\u3059\u308b\u30e1\u30bd\u30c3\u30c9. class func Resize\u00dcIImage ( image : UIImage , width : CGFloat , height : CGFloat )-> UIImage !{ // \u6307\u5b9a\u3055\u308c\u305f\u753b\u50cf\u306e\u5927\u304d\u3055\u306e\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u7528\u610f. UIGraphicsBeginImageContext ( CGSize ( width : width , height : height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u306b\u81ea\u8eab\u306b\u8a2d\u5b9a\u3055\u308c\u305f\u753b\u50cf\u3092\u63cf\u753b\u3059\u308b. image . draw ( in : CGRect ( x : 0 , y : 0 , width : width , height : height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u304b\u3089UIImage\u3092\u4f5c\u308b. let newImage = UIGraphicsGetImageFromCurrentImageContext () // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u9589\u3058\u308b. UIGraphicsEndImageContext () return newImage } } class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () let myImage : UIImage = UIImage . Resize\u00dcIImage ( image : UIImage ( named : \"sample\" ) ! , width : self . view . frame . width , height : self . view . frame . height ) // UIImageView\u306e\u751f\u6210. let myImageView : UIImageView = UIImageView () myImageView . frame = CGRect ( x : 0 , y : 0 , width : myImage . size . width , height : myImage . size . height ) myImageView . image = myImage self . view . addSubview ( myImageView ) // NSDictionary\u578b\u306eoption\u3092\u751f\u6210\u3002\u9854\u8a8d\u8b58\u306e\u7cbe\u5ea6\u3092\u8ffd\u52a0\u3059\u308b. let options : NSDictionary = NSDictionary ( object : CIDetectorAccuracyHigh , forKey : CIDetectorAccuracy ) // CIDetector\u3092\u751f\u6210\u3002\u9854\u8a8d\u8b58\u3092\u3059\u308b\u306e\u3067Type\u306fCIDetectorTypeFace. let detector : CIDetector = CIDetector ( ofType : CIDetectorTypeFace , context : nil , options : options as ? [ String : AnyObject ]) ! // detector\u3067\u8a8d\u8b58\u3057\u305f\u9854\u306e\u30c7\u30fc\u30bf\u3092\u5165\u308c\u3066\u304a\u304fNSArray. let faces : NSArray = detector . features ( in : CIImage ( image : myImage ) ! ) // UIKit\u306f\u753b\u9762\u5de6\u4e0a\u306b\u539f\u70b9\u304c\u3042\u308b\u304c\u3001CoreImage\u306f\u753b\u9762\u5de6\u4e0b\u306b\u539f\u70b9\u304c\u3042\u308b\u306e\u3067\u305d\u308c\u3092\u63c3\u3048\u306a\u304f\u3066\u306f\u306a\u3089\u306a\u3044. // CoreImage\u3068UIKit\u306e\u539f\u70b9\u3092\u753b\u9762\u5de6\u4e0a\u306b\u7d71\u4e00\u3059\u308b\u51e6\u7406. var transform : CGAffineTransform = CGAffineTransform ( scaleX : 1 , y : - 1 ) transform = transform . translatedBy ( x : 0 , y : - myImageView . bounds . size . height ) // \u691c\u51fa\u3055\u308c\u305f\u9854\u306e\u30c7\u30fc\u30bf\u3092CIFaceFeature\u3067\u51e6\u7406. for feature in faces { // \u5ea7\u6a19\u5909\u63db. let faceRect : CGRect = feature . bounds . applying ( transform ) // \u753b\u50cf\u306e\u9854\u306e\u5468\u308a\u3092\u7dda\u3067\u56f2\u3046UIView\u3092\u751f\u6210. let faceOutline = UIView ( frame : faceRect ) faceOutline . layer . borderWidth = 1 faceOutline . layer . borderColor = UIColor . red . cgColor myImageView . addSubview ( faceOutline ) } } }","title":"Swift 3.0"},{"location":"9.coreimage/004_coreimage/#swift-23","text":"1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 // // ViewController.swift // CoreImage004 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import CoreImage extension UIImage { // UIImage\u3092\u30ea\u30b5\u30a4\u30ba\u3059\u308b\u30e1\u30bd\u30c3\u30c9. class func Resize\u00dcIImage ( image : UIImage , width : CGFloat , height : CGFloat )-> UIImage !{ // \u6307\u5b9a\u3055\u308c\u305f\u753b\u50cf\u306e\u5927\u304d\u3055\u306e\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u7528\u610f. UIGraphicsBeginImageContext ( CGSizeMake ( width , height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u306b\u81ea\u8eab\u306b\u8a2d\u5b9a\u3055\u308c\u305f\u753b\u50cf\u3092\u63cf\u753b\u3059\u308b. image . drawInRect ( CGRectMake ( 0 , 0 , width , height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u304b\u3089UIImage\u3092\u4f5c\u308b. let newImage = UIGraphicsGetImageFromCurrentImageContext () // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u9589\u3058\u308b. UIGraphicsEndImageContext () return newImage } } class ViewController : UIViewController { override func viewDidLoad () { super . viewDidLoad () let myImage : UIImage = UIImage . Resize\u00dcIImage ( UIImage ( named : \"sample\" ) ! , width : self . view . frame . width , height : self . view . frame . height ) // UIImageView\u306e\u751f\u6210. let myImageView : UIImageView = UIImageView () myImageView . frame = CGRectMake ( 0 , 0 , myImage . size . width , myImage . size . height ) myImageView . image = myImage self . view . addSubview ( myImageView ) // NSDictionary\u578b\u306eoption\u3092\u751f\u6210\u3002\u9854\u8a8d\u8b58\u306e\u7cbe\u5ea6\u3092\u8ffd\u52a0\u3059\u308b. let options : NSDictionary = NSDictionary ( object : CIDetectorAccuracyHigh , forKey : CIDetectorAccuracy ) // CIDetector\u3092\u751f\u6210\u3002\u9854\u8a8d\u8b58\u3092\u3059\u308b\u306e\u3067Type\u306fCIDetectorTypeFace. let detector : CIDetector = CIDetector ( ofType : CIDetectorTypeFace , context : nil , options : options as ? [ String : AnyObject ]) // detector\u3067\u8a8d\u8b58\u3057\u305f\u9854\u306e\u30c7\u30fc\u30bf\u3092\u5165\u308c\u3066\u304a\u304fNSArray. let faces : NSArray = detector . featuresInImage ( CIImage ( image : myImage ) ! ) // UIKit\u306f\u753b\u9762\u5de6\u4e0a\u306b\u539f\u70b9\u304c\u3042\u308b\u304c\u3001CoreImage\u306f\u753b\u9762\u5de6\u4e0b\u306b\u539f\u70b9\u304c\u3042\u308b\u306e\u3067\u305d\u308c\u3092\u63c3\u3048\u306a\u304f\u3066\u306f\u306a\u3089\u306a\u3044. // CoreImage\u3068UIKit\u306e\u539f\u70b9\u3092\u753b\u9762\u5de6\u4e0a\u306b\u7d71\u4e00\u3059\u308b\u51e6\u7406. var transform : CGAffineTransform = CGAffineTransformMakeScale ( 1 , - 1 ) transform = CGAffineTransformTranslate ( transform , 0 , - myImageView . bounds . size . height ) // \u691c\u51fa\u3055\u308c\u305f\u9854\u306e\u30c7\u30fc\u30bf\u3092CIFaceFeature\u3067\u51e6\u7406. for feature in faces { // \u5ea7\u6a19\u5909\u63db. let faceRect : CGRect = CGRectApplyAffineTransform ( feature . bounds , transform ) // \u753b\u50cf\u306e\u9854\u306e\u5468\u308a\u3092\u7dda\u3067\u56f2\u3046UIView\u3092\u751f\u6210. let faceOutline = UIView ( frame : faceRect ) faceOutline . layer . borderWidth = 1 faceOutline . layer . borderColor = UIColor . redColor (). CGColor myImageView . addSubview ( faceOutline ) } } }","title":"Swift 2.3"},{"location":"9.coreimage/004_coreimage/#2x3x","text":"init(CIImage:) \u304b\u3089 init(ciImage:) \u306b\u5909\u66f4 CGRectApplyAffineTransform(feature.bounds, transform) \u304b\u3089 feature.bounds.applying(transform)","title":"2.x\u30683.x\u306e\u5dee\u5206"},{"location":"9.coreimage/004_coreimage/#reference","text":"CIFilter https://developer.apple.com/reference/coreimage/cifilter CIImage https://developer.apple.com/reference/coreimage/ciimage CIDetector https://developer.apple.com/reference/coreimage/cidetector CGAffineTransform https://developer.apple.com/reference/coregraphics/cgaffinetransform","title":"Reference"},{"location":"9.coreimage/005_coreimage/","text":"\u30e2\u30b6\u30a4\u30af\u51e6\u7406 Swift 3.0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 // // ViewController.swift // CoreImage005 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import CoreImage class ViewController : UIViewController { // \u30d9\u30fc\u30b9\u753b\u50cf. let myInputImage = CIImage ( image : UIImage ( named : \"sample1\" ) ! ) // \u30dc\u30bf\u30f3. let myButton : UIButton = UIButton () // UIView var myImageView : UIImageView ! override func viewDidLoad () { super . viewDidLoad () // UIImage\u306b\u5909\u63db. let myInputUIImage : UIImage = UIImage ( ciImage : myInputImage !) // ImageView. myImageView = UIImageView ( frame : CGRect ( x : 0 , y : 0 , width : myInputUIImage . size . width , height : myInputUIImage . size . height )) // UIImageView\u306e\u751f\u6210. myImageView . image = myInputUIImage self . view . addSubview ( myImageView ) // \u30dc\u30bf\u30f3. myButton . frame = CGRect ( x : 0 , y : 0 , width : 80 , height : 80 ) myButton . backgroundColor = UIColor . blue myButton . layer . masksToBounds = true myButton . setTitle ( \"\u30e2\u30b6\u30a4\u30af\" , for : UIControlState . normal ) myButton . setTitleColor ( UIColor . white , for : UIControlState . normal ) myButton . layer . cornerRadius = 40.0 myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 50 ) myButton . tag = 1 myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchUpInside ) // \u80cc\u666f\u8272\u3092\u9ed2. self . view . backgroundColor = UIColor . black // UI\u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0. self . view . addSubview ( myButton ); } // \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. func onClickMyButton ( sender : UIButton ){ // CIFilter\u3092\u751f\u6210\u3002name\u306b\u3069\u3093\u306a\u3092\u51e6\u7406\u3059\u308b\u306e\u304b\u8a18\u5165. let myPixellateFilter = CIFilter ( name : \"CIPixellate\" ) // \u3070\u304b\u3057\u51e6\u7406\u3092\u3044\u308c\u305f\u3044\u753b\u50cf\u3092\u30bb\u30c3\u30c8. myPixellateFilter !. setValue ( myInputImage , forKey : kCIInputImageKey ) // \u30d5\u30a3\u30eb\u30bf\u30fc\u3092\u901a\u3057\u305f\u753b\u50cf\u3092\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8. let myOutputImage : CIImage = myPixellateFilter !. outputImage ! // UIImage\u306b\u5909\u63db. let myOutputUIImage : UIImage = UIImage ( ciImage : myOutputImage ) // \u518d\u3073UIView\u306b\u30bb\u30c3\u30c8. myImageView . image = myOutputUIImage // \u518d\u63cf\u753b. myImageView . setNeedsDisplay () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 // // ViewController.swift // CoreImage005 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import CoreImage class ViewController : UIViewController { // \u30d9\u30fc\u30b9\u753b\u50cf. let myInputImage = CIImage ( image : UIImage ( named : \"sample1\" ) ! ) // \u30dc\u30bf\u30f3. let myButton : UIButton = UIButton () // UIView var myImageView : UIImageView ! override func viewDidLoad () { super . viewDidLoad () // UIImage\u306b\u5909\u63db. let myInputUIImage : UIImage = UIImage ( CIImage : myInputImage !) // ImageView. myImageView = UIImageView ( frame : CGRectMake ( 0 , 0 , myInputUIImage . size . width , myInputUIImage . size . height )) // UIImageView\u306e\u751f\u6210. myImageView . image = myInputUIImage self . view . addSubview ( myImageView ) // \u30dc\u30bf\u30f3. myButton . frame = CGRectMake ( 0 , 0 , 80 , 80 ) myButton . backgroundColor = UIColor . blueColor (); myButton . layer . masksToBounds = true myButton . setTitle ( \"\u30e2\u30b6\u30a4\u30af\" , forState : UIControlState . Normal ) myButton . setTitleColor ( UIColor . whiteColor (), forState : UIControlState . Normal ) myButton . layer . cornerRadius = 40.0 myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 50 ) myButton . tag = 1 myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : . TouchUpInside ) // \u80cc\u666f\u8272\u3092\u9ed2. self . view . backgroundColor = UIColor . blackColor () // UI\u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0. self . view . addSubview ( myButton ); } // \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. func onClickMyButton ( sender : UIButton ){ // CIFilter\u3092\u751f\u6210\u3002name\u306b\u3069\u3093\u306a\u3092\u51e6\u7406\u3059\u308b\u306e\u304b\u8a18\u5165. let myPixellateFilter = CIFilter ( name : \"CIPixellate\" ) // \u3070\u304b\u3057\u51e6\u7406\u3092\u3044\u308c\u305f\u3044\u753b\u50cf\u3092\u30bb\u30c3\u30c8. myPixellateFilter !. setValue ( myInputImage , forKey : kCIInputImageKey ) // \u30d5\u30a3\u30eb\u30bf\u30fc\u3092\u901a\u3057\u305f\u753b\u50cf\u3092\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8. let myOutputImage : CIImage = myPixellateFilter !. outputImage ! // UIImage\u306b\u5909\u63db. let myOutputUIImage : UIImage = UIImage ( CIImage : myOutputImage ) // \u518d\u3073UIView\u306b\u30bb\u30c3\u30c8. myImageView . image = myOutputUIImage // \u518d\u63cf\u753b. myImageView . setNeedsDisplay () } } 2.x\u30683.x\u306e\u5dee\u5206 init(CIImage:) \u304b\u3089 init(ciImage:) \u306b\u5909\u66f4 Reference CIFilter https://developer.apple.com/reference/coreimage/cifilter CIImage https://developer.apple.com/reference/coreimage/ciimage","title":"\u30e2\u30b6\u30a4\u30af\u51e6\u7406"},{"location":"9.coreimage/005_coreimage/#_1","text":"","title":"\u30e2\u30b6\u30a4\u30af\u51e6\u7406"},{"location":"9.coreimage/005_coreimage/#swift-30","text":"1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 // // ViewController.swift // CoreImage005 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import CoreImage class ViewController : UIViewController { // \u30d9\u30fc\u30b9\u753b\u50cf. let myInputImage = CIImage ( image : UIImage ( named : \"sample1\" ) ! ) // \u30dc\u30bf\u30f3. let myButton : UIButton = UIButton () // UIView var myImageView : UIImageView ! override func viewDidLoad () { super . viewDidLoad () // UIImage\u306b\u5909\u63db. let myInputUIImage : UIImage = UIImage ( ciImage : myInputImage !) // ImageView. myImageView = UIImageView ( frame : CGRect ( x : 0 , y : 0 , width : myInputUIImage . size . width , height : myInputUIImage . size . height )) // UIImageView\u306e\u751f\u6210. myImageView . image = myInputUIImage self . view . addSubview ( myImageView ) // \u30dc\u30bf\u30f3. myButton . frame = CGRect ( x : 0 , y : 0 , width : 80 , height : 80 ) myButton . backgroundColor = UIColor . blue myButton . layer . masksToBounds = true myButton . setTitle ( \"\u30e2\u30b6\u30a4\u30af\" , for : UIControlState . normal ) myButton . setTitleColor ( UIColor . white , for : UIControlState . normal ) myButton . layer . cornerRadius = 40.0 myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 50 ) myButton . tag = 1 myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchUpInside ) // \u80cc\u666f\u8272\u3092\u9ed2. self . view . backgroundColor = UIColor . black // UI\u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0. self . view . addSubview ( myButton ); } // \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. func onClickMyButton ( sender : UIButton ){ // CIFilter\u3092\u751f\u6210\u3002name\u306b\u3069\u3093\u306a\u3092\u51e6\u7406\u3059\u308b\u306e\u304b\u8a18\u5165. let myPixellateFilter = CIFilter ( name : \"CIPixellate\" ) // \u3070\u304b\u3057\u51e6\u7406\u3092\u3044\u308c\u305f\u3044\u753b\u50cf\u3092\u30bb\u30c3\u30c8. myPixellateFilter !. setValue ( myInputImage , forKey : kCIInputImageKey ) // \u30d5\u30a3\u30eb\u30bf\u30fc\u3092\u901a\u3057\u305f\u753b\u50cf\u3092\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8. let myOutputImage : CIImage = myPixellateFilter !. outputImage ! // UIImage\u306b\u5909\u63db. let myOutputUIImage : UIImage = UIImage ( ciImage : myOutputImage ) // \u518d\u3073UIView\u306b\u30bb\u30c3\u30c8. myImageView . image = myOutputUIImage // \u518d\u63cf\u753b. myImageView . setNeedsDisplay () } }","title":"Swift 3.0"},{"location":"9.coreimage/005_coreimage/#swift-23","text":"1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 // // ViewController.swift // CoreImage005 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import CoreImage class ViewController : UIViewController { // \u30d9\u30fc\u30b9\u753b\u50cf. let myInputImage = CIImage ( image : UIImage ( named : \"sample1\" ) ! ) // \u30dc\u30bf\u30f3. let myButton : UIButton = UIButton () // UIView var myImageView : UIImageView ! override func viewDidLoad () { super . viewDidLoad () // UIImage\u306b\u5909\u63db. let myInputUIImage : UIImage = UIImage ( CIImage : myInputImage !) // ImageView. myImageView = UIImageView ( frame : CGRectMake ( 0 , 0 , myInputUIImage . size . width , myInputUIImage . size . height )) // UIImageView\u306e\u751f\u6210. myImageView . image = myInputUIImage self . view . addSubview ( myImageView ) // \u30dc\u30bf\u30f3. myButton . frame = CGRectMake ( 0 , 0 , 80 , 80 ) myButton . backgroundColor = UIColor . blueColor (); myButton . layer . masksToBounds = true myButton . setTitle ( \"\u30e2\u30b6\u30a4\u30af\" , forState : UIControlState . Normal ) myButton . setTitleColor ( UIColor . whiteColor (), forState : UIControlState . Normal ) myButton . layer . cornerRadius = 40.0 myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 50 ) myButton . tag = 1 myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : . TouchUpInside ) // \u80cc\u666f\u8272\u3092\u9ed2. self . view . backgroundColor = UIColor . blackColor () // UI\u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0. self . view . addSubview ( myButton ); } // \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. func onClickMyButton ( sender : UIButton ){ // CIFilter\u3092\u751f\u6210\u3002name\u306b\u3069\u3093\u306a\u3092\u51e6\u7406\u3059\u308b\u306e\u304b\u8a18\u5165. let myPixellateFilter = CIFilter ( name : \"CIPixellate\" ) // \u3070\u304b\u3057\u51e6\u7406\u3092\u3044\u308c\u305f\u3044\u753b\u50cf\u3092\u30bb\u30c3\u30c8. myPixellateFilter !. setValue ( myInputImage , forKey : kCIInputImageKey ) // \u30d5\u30a3\u30eb\u30bf\u30fc\u3092\u901a\u3057\u305f\u753b\u50cf\u3092\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8. let myOutputImage : CIImage = myPixellateFilter !. outputImage ! // UIImage\u306b\u5909\u63db. let myOutputUIImage : UIImage = UIImage ( CIImage : myOutputImage ) // \u518d\u3073UIView\u306b\u30bb\u30c3\u30c8. myImageView . image = myOutputUIImage // \u518d\u63cf\u753b. myImageView . setNeedsDisplay () } }","title":"Swift 2.3"},{"location":"9.coreimage/005_coreimage/#2x3x","text":"init(CIImage:) \u304b\u3089 init(ciImage:) \u306b\u5909\u66f4","title":"2.x\u30683.x\u306e\u5dee\u5206"},{"location":"9.coreimage/005_coreimage/#reference","text":"CIFilter https://developer.apple.com/reference/coreimage/cifilter CIImage https://developer.apple.com/reference/coreimage/ciimage","title":"Reference"},{"location":"9.coreimage/006_coreimage/","text":"\u307c\u304b\u3057\u51e6\u7406 Swift 3.0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 // // ViewController.swift // CoreImage006 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import CoreImage class ViewController : UIViewController { // \u30d9\u30fc\u30b9\u753b\u50cf. let myInputImage = CIImage ( image : UIImage ( named : \"sample1\" ) ! ) // \u30dc\u30bf\u30f3. let myButton : UIButton = UIButton () // UIView var myImageView : UIImageView ! override func viewDidLoad () { super . viewDidLoad () // UIImage\u306b\u5909\u63db. let myInputUIImage : UIImage = UIImage ( ciImage : myInputImage !) // ImageView. myImageView = UIImageView ( frame : CGRect ( x : 0 , y : 0 , width : myInputUIImage . size . width , height : myInputUIImage . size . height )) // UIImageView\u306e\u751f\u6210. myImageView . image = myInputUIImage self . view . addSubview ( myImageView ) // \u30dc\u30bf\u30f3. myButton . frame = CGRect ( x : 0 , y : 0 , width : 80 , height : 80 ) myButton . backgroundColor = UIColor . blue myButton . layer . masksToBounds = true myButton . setTitle ( \"\u307c\u304b\u3057\" , for : UIControlState . normal ) myButton . titleLabel ?. font = UIFont . systemFont ( ofSize : UIFont . smallSystemFontSize ) myButton . setTitleColor ( UIColor . white , for : UIControlState . normal ) myButton . layer . cornerRadius = 40.0 myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 50 ) myButton . tag = 1 myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchUpInside ) // \u80cc\u666f\u8272\u3092\u9ed2. self . view . backgroundColor = UIColor . black // UI\u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0. self . view . addSubview ( myButton ); } // \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8.. func onClickMyButton ( sender : UIButton ){ // CIFilter\u3092\u751f\u6210\u3002name\u306b\u3069\u3093\u306a\u3092\u51e6\u7406\u3059\u308b\u306e\u304b\u8a18\u5165. let myBlurFilter = CIFilter ( name : \"CIGaussianBlur\" ) // \u3070\u304b\u3057\u51e6\u7406\u3092\u3044\u308c\u305f\u3044\u753b\u50cf\u3092\u30bb\u30c3\u30c8. myBlurFilter !. setValue ( myInputImage , forKey : kCIInputImageKey ) // \u30d5\u30a3\u30eb\u30bf\u30fc\u3092\u901a\u3057\u305f\u753b\u50cf\u3092\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8. let myOutputImage : CIImage = myBlurFilter !. outputImage ! // UIImage\u306b\u5909\u63db. let myOutputUIImage : UIImage = UIImage ( ciImage : myOutputImage ) // \u518d\u3073UIView\u306b\u30bb\u30c3\u30c8. myImageView . image = myOutputUIImage // \u518d\u63cf\u753b. myImageView . setNeedsDisplay () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 // // ViewController.swift // CoreImage006 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import CoreImage class ViewController : UIViewController { // \u30d9\u30fc\u30b9\u753b\u50cf. let myInputImage = CIImage ( image : UIImage ( named : \"sample1\" ) ! ) // \u30dc\u30bf\u30f3. let myButton : UIButton = UIButton () // UIView var myImageView : UIImageView ! override func viewDidLoad () { super . viewDidLoad () // UIImage\u306b\u5909\u63db. let myInputUIImage : UIImage = UIImage ( CIImage : myInputImage !) // ImageView. myImageView = UIImageView ( frame : CGRectMake ( 0 , 0 , myInputUIImage . size . width , myInputUIImage . size . height )) // UIImageView\u306e\u751f\u6210. myImageView . image = myInputUIImage self . view . addSubview ( myImageView ) // \u30dc\u30bf\u30f3. myButton . frame = CGRectMake ( 0 , 0 , 80 , 80 ) myButton . backgroundColor = UIColor . blueColor (); myButton . layer . masksToBounds = true myButton . setTitle ( \"\u307c\u304b\u3057\" , forState : UIControlState . Normal ) myButton . titleLabel ?. font = UIFont . systemFontOfSize ( UIFont . smallSystemFontSize ()) myButton . setTitleColor ( UIColor . whiteColor (), forState : UIControlState . Normal ) myButton . layer . cornerRadius = 40.0 myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 50 ) myButton . tag = 1 myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : . TouchUpInside ) // \u80cc\u666f\u8272\u3092\u9ed2. self . view . backgroundColor = UIColor . blackColor () // UI\u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0. self . view . addSubview ( myButton ); } // \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8.. func onClickMyButton ( sender : UIButton ){ // CIFilter\u3092\u751f\u6210\u3002name\u306b\u3069\u3093\u306a\u3092\u51e6\u7406\u3059\u308b\u306e\u304b\u8a18\u5165. let myBlurFilter = CIFilter ( name : \"CIGaussianBlur\" ) // \u3070\u304b\u3057\u51e6\u7406\u3092\u3044\u308c\u305f\u3044\u753b\u50cf\u3092\u30bb\u30c3\u30c8. myBlurFilter !. setValue ( myInputImage , forKey : kCIInputImageKey ) // \u30d5\u30a3\u30eb\u30bf\u30fc\u3092\u901a\u3057\u305f\u753b\u50cf\u3092\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8. let myOutputImage : CIImage = myBlurFilter !. outputImage ! // UIImage\u306b\u5909\u63db. let myOutputUIImage : UIImage = UIImage ( CIImage : myOutputImage ) // \u518d\u3073UIView\u306b\u30bb\u30c3\u30c8. myImageView . image = myOutputUIImage // \u518d\u63cf\u753b. myImageView . setNeedsDisplay () } } 2.x\u30683.x\u306e\u5dee\u5206 init(CIImage:) \u304b\u3089 init(ciImage:) \u306b\u5909\u66f4 Reference CIFilter https://developer.apple.com/reference/coreimage/cifilter CIImage https://developer.apple.com/reference/coreimage/ciimage","title":"\u307c\u304b\u3057\u51e6\u7406"},{"location":"9.coreimage/006_coreimage/#_1","text":"","title":"\u307c\u304b\u3057\u51e6\u7406"},{"location":"9.coreimage/006_coreimage/#swift-30","text":"1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 // // ViewController.swift // CoreImage006 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import CoreImage class ViewController : UIViewController { // \u30d9\u30fc\u30b9\u753b\u50cf. let myInputImage = CIImage ( image : UIImage ( named : \"sample1\" ) ! ) // \u30dc\u30bf\u30f3. let myButton : UIButton = UIButton () // UIView var myImageView : UIImageView ! override func viewDidLoad () { super . viewDidLoad () // UIImage\u306b\u5909\u63db. let myInputUIImage : UIImage = UIImage ( ciImage : myInputImage !) // ImageView. myImageView = UIImageView ( frame : CGRect ( x : 0 , y : 0 , width : myInputUIImage . size . width , height : myInputUIImage . size . height )) // UIImageView\u306e\u751f\u6210. myImageView . image = myInputUIImage self . view . addSubview ( myImageView ) // \u30dc\u30bf\u30f3. myButton . frame = CGRect ( x : 0 , y : 0 , width : 80 , height : 80 ) myButton . backgroundColor = UIColor . blue myButton . layer . masksToBounds = true myButton . setTitle ( \"\u307c\u304b\u3057\" , for : UIControlState . normal ) myButton . titleLabel ?. font = UIFont . systemFont ( ofSize : UIFont . smallSystemFontSize ) myButton . setTitleColor ( UIColor . white , for : UIControlState . normal ) myButton . layer . cornerRadius = 40.0 myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 50 ) myButton . tag = 1 myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchUpInside ) // \u80cc\u666f\u8272\u3092\u9ed2. self . view . backgroundColor = UIColor . black // UI\u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0. self . view . addSubview ( myButton ); } // \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8.. func onClickMyButton ( sender : UIButton ){ // CIFilter\u3092\u751f\u6210\u3002name\u306b\u3069\u3093\u306a\u3092\u51e6\u7406\u3059\u308b\u306e\u304b\u8a18\u5165. let myBlurFilter = CIFilter ( name : \"CIGaussianBlur\" ) // \u3070\u304b\u3057\u51e6\u7406\u3092\u3044\u308c\u305f\u3044\u753b\u50cf\u3092\u30bb\u30c3\u30c8. myBlurFilter !. setValue ( myInputImage , forKey : kCIInputImageKey ) // \u30d5\u30a3\u30eb\u30bf\u30fc\u3092\u901a\u3057\u305f\u753b\u50cf\u3092\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8. let myOutputImage : CIImage = myBlurFilter !. outputImage ! // UIImage\u306b\u5909\u63db. let myOutputUIImage : UIImage = UIImage ( ciImage : myOutputImage ) // \u518d\u3073UIView\u306b\u30bb\u30c3\u30c8. myImageView . image = myOutputUIImage // \u518d\u63cf\u753b. myImageView . setNeedsDisplay () } }","title":"Swift 3.0"},{"location":"9.coreimage/006_coreimage/#swift-23","text":"1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 // // ViewController.swift // CoreImage006 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import CoreImage class ViewController : UIViewController { // \u30d9\u30fc\u30b9\u753b\u50cf. let myInputImage = CIImage ( image : UIImage ( named : \"sample1\" ) ! ) // \u30dc\u30bf\u30f3. let myButton : UIButton = UIButton () // UIView var myImageView : UIImageView ! override func viewDidLoad () { super . viewDidLoad () // UIImage\u306b\u5909\u63db. let myInputUIImage : UIImage = UIImage ( CIImage : myInputImage !) // ImageView. myImageView = UIImageView ( frame : CGRectMake ( 0 , 0 , myInputUIImage . size . width , myInputUIImage . size . height )) // UIImageView\u306e\u751f\u6210. myImageView . image = myInputUIImage self . view . addSubview ( myImageView ) // \u30dc\u30bf\u30f3. myButton . frame = CGRectMake ( 0 , 0 , 80 , 80 ) myButton . backgroundColor = UIColor . blueColor (); myButton . layer . masksToBounds = true myButton . setTitle ( \"\u307c\u304b\u3057\" , forState : UIControlState . Normal ) myButton . titleLabel ?. font = UIFont . systemFontOfSize ( UIFont . smallSystemFontSize ()) myButton . setTitleColor ( UIColor . whiteColor (), forState : UIControlState . Normal ) myButton . layer . cornerRadius = 40.0 myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 50 ) myButton . tag = 1 myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : . TouchUpInside ) // \u80cc\u666f\u8272\u3092\u9ed2. self . view . backgroundColor = UIColor . blackColor () // UI\u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0. self . view . addSubview ( myButton ); } // \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8.. func onClickMyButton ( sender : UIButton ){ // CIFilter\u3092\u751f\u6210\u3002name\u306b\u3069\u3093\u306a\u3092\u51e6\u7406\u3059\u308b\u306e\u304b\u8a18\u5165. let myBlurFilter = CIFilter ( name : \"CIGaussianBlur\" ) // \u3070\u304b\u3057\u51e6\u7406\u3092\u3044\u308c\u305f\u3044\u753b\u50cf\u3092\u30bb\u30c3\u30c8. myBlurFilter !. setValue ( myInputImage , forKey : kCIInputImageKey ) // \u30d5\u30a3\u30eb\u30bf\u30fc\u3092\u901a\u3057\u305f\u753b\u50cf\u3092\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8. let myOutputImage : CIImage = myBlurFilter !. outputImage ! // UIImage\u306b\u5909\u63db. let myOutputUIImage : UIImage = UIImage ( CIImage : myOutputImage ) // \u518d\u3073UIView\u306b\u30bb\u30c3\u30c8. myImageView . image = myOutputUIImage // \u518d\u63cf\u753b. myImageView . setNeedsDisplay () } }","title":"Swift 2.3"},{"location":"9.coreimage/006_coreimage/#2x3x","text":"init(CIImage:) \u304b\u3089 init(ciImage:) \u306b\u5909\u66f4","title":"2.x\u30683.x\u306e\u5dee\u5206"},{"location":"9.coreimage/006_coreimage/#reference","text":"CIFilter https://developer.apple.com/reference/coreimage/cifilter CIImage https://developer.apple.com/reference/coreimage/ciimage","title":"Reference"},{"location":"9.coreimage/007_coreimage/","text":"\u753b\u50cf\u306e\u8272\u306e\u53cd\u8ee2 Swift 3.0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 // // ViewController.swift // CoreImage007 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import CoreImage class ViewController : UIViewController { // \u30d9\u30fc\u30b9\u753b\u50cf. let myInputImage = CIImage ( image : UIImage ( named : \"sample1\" ) ! ) // ImageView. var myImageView : UIImageView ! // \u30dc\u30bf\u30f3. let myButton : UIButton = UIButton () override func viewDidLoad () { super . viewDidLoad () // UIImageView\u306e\u751f\u6210. myImageView = UIImageView ( frame : CGRect ( x : 0 , y : 0 , width : self . view . frame . size . width , height : self . view . frame . size . height )) myImageView . image = UIImage ( ciImage : myInputImage !) self . view . addSubview ( myImageView ) // \u30dc\u30bf\u30f3. myButton . frame = CGRect ( x : 0 , y : 0 , width : 80 , height : 80 ) myButton . backgroundColor = UIColor . black myButton . layer . masksToBounds = true myButton . setTitle ( \"\u8272\u306e\u53cd\u8ee2\" , for : UIControlState . normal ) myButton . titleLabel ?. font = UIFont . systemFont ( ofSize : UIFont . smallSystemFontSize ) myButton . setTitleColor ( UIColor . white , for : UIControlState . normal ) myButton . layer . cornerRadius = 40.0 myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 50 ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchUpInside ) // \u80cc\u666f\u8272\u3092\u9ed2. self . view . backgroundColor = UIColor . black // UI\u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0. self . view . addSubview ( myButton ); } // \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. func onClickMyButton ( sender : UIButton ){ // \u30ab\u30e9\u30fc\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u6307\u5b9a\u3057\u3066CIFilter\u3092\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316. let myInvertFilter = CIFilter ( name : \"CIColorInvert\" ) // \u30a4\u30e1\u30fc\u30b8\u306e\u30bb\u30c3\u30c8. myInvertFilter !. setValue ( myInputImage , forKey : kCIInputImageKey ) // \u30d5\u30a3\u30eb\u30bf\u30fc\u3092\u901a\u3057\u305f\u753b\u50cf\u3092\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8. let myOutputImage : CIImage = myInvertFilter !. outputImage ! // \u518d\u3073UIView\u306b\u30bb\u30c3\u30c8. myImageView . image = UIImage ( ciImage : myOutputImage ) // \u518d\u63cf\u753b. myImageView . setNeedsDisplay () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 // // ViewController.swift // CoreImage007 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import CoreImage class ViewController : UIViewController { // \u30d9\u30fc\u30b9\u753b\u50cf. let myInputImage = CIImage ( image : UIImage ( named : \"sample1\" ) ! ) // ImageView. var myImageView : UIImageView ! // \u30dc\u30bf\u30f3. let myButton : UIButton = UIButton () override func viewDidLoad () { super . viewDidLoad () // UIImageView\u306e\u751f\u6210. myImageView = UIImageView ( frame : CGRectMake ( 0 , 0 , self . view . frame . size . width , self . view . frame . size . height )) myImageView . image = UIImage ( CIImage : myInputImage !) self . view . addSubview ( myImageView ) // \u30dc\u30bf\u30f3. myButton . frame = CGRectMake ( 0 , 0 , 80 , 80 ) myButton . backgroundColor = UIColor . blackColor (); myButton . layer . masksToBounds = true myButton . setTitle ( \"\u8272\u306e\u53cd\u8ee2\" , forState : UIControlState . Normal ) myButton . titleLabel ?. font = UIFont . systemFontOfSize ( UIFont . smallSystemFontSize ()) myButton . setTitleColor ( UIColor . whiteColor (), forState : UIControlState . Normal ) myButton . layer . cornerRadius = 40.0 myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 50 ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : . TouchUpInside ) // \u80cc\u666f\u8272\u3092\u9ed2. self . view . backgroundColor = UIColor . blackColor () // UI\u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0. self . view . addSubview ( myButton ); } // \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. func onClickMyButton ( sender : UIButton ){ // \u30ab\u30e9\u30fc\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u6307\u5b9a\u3057\u3066CIFilter\u3092\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316. let myInvertFilter = CIFilter ( name : \"CIColorInvert\" ) // \u30a4\u30e1\u30fc\u30b8\u306e\u30bb\u30c3\u30c8. myInvertFilter !. setValue ( myInputImage , forKey : kCIInputImageKey ) // \u30d5\u30a3\u30eb\u30bf\u30fc\u3092\u901a\u3057\u305f\u753b\u50cf\u3092\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8. let myOutputImage : CIImage = myInvertFilter !. outputImage ! // \u518d\u3073UIView\u306b\u30bb\u30c3\u30c8. myImageView . image = UIImage ( CIImage : myOutputImage ) // \u518d\u63cf\u753b. myImageView . setNeedsDisplay () } } 2.x\u30683.x\u306e\u5dee\u5206 init(CIImage:) \u304b\u3089 init(ciImage:) \u306b\u5909\u66f4 Reference CIFilter https://developer.apple.com/reference/coreimage/cifilter CIImage https://developer.apple.com/reference/coreimage/ciimage","title":"\u753b\u50cf\u306e\u8272\u306e\u53cd\u8ee2"},{"location":"9.coreimage/007_coreimage/#_1","text":"","title":"\u753b\u50cf\u306e\u8272\u306e\u53cd\u8ee2"},{"location":"9.coreimage/007_coreimage/#swift-30","text":"1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 // // ViewController.swift // CoreImage007 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import CoreImage class ViewController : UIViewController { // \u30d9\u30fc\u30b9\u753b\u50cf. let myInputImage = CIImage ( image : UIImage ( named : \"sample1\" ) ! ) // ImageView. var myImageView : UIImageView ! // \u30dc\u30bf\u30f3. let myButton : UIButton = UIButton () override func viewDidLoad () { super . viewDidLoad () // UIImageView\u306e\u751f\u6210. myImageView = UIImageView ( frame : CGRect ( x : 0 , y : 0 , width : self . view . frame . size . width , height : self . view . frame . size . height )) myImageView . image = UIImage ( ciImage : myInputImage !) self . view . addSubview ( myImageView ) // \u30dc\u30bf\u30f3. myButton . frame = CGRect ( x : 0 , y : 0 , width : 80 , height : 80 ) myButton . backgroundColor = UIColor . black myButton . layer . masksToBounds = true myButton . setTitle ( \"\u8272\u306e\u53cd\u8ee2\" , for : UIControlState . normal ) myButton . titleLabel ?. font = UIFont . systemFont ( ofSize : UIFont . smallSystemFontSize ) myButton . setTitleColor ( UIColor . white , for : UIControlState . normal ) myButton . layer . cornerRadius = 40.0 myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 50 ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchUpInside ) // \u80cc\u666f\u8272\u3092\u9ed2. self . view . backgroundColor = UIColor . black // UI\u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0. self . view . addSubview ( myButton ); } // \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. func onClickMyButton ( sender : UIButton ){ // \u30ab\u30e9\u30fc\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u6307\u5b9a\u3057\u3066CIFilter\u3092\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316. let myInvertFilter = CIFilter ( name : \"CIColorInvert\" ) // \u30a4\u30e1\u30fc\u30b8\u306e\u30bb\u30c3\u30c8. myInvertFilter !. setValue ( myInputImage , forKey : kCIInputImageKey ) // \u30d5\u30a3\u30eb\u30bf\u30fc\u3092\u901a\u3057\u305f\u753b\u50cf\u3092\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8. let myOutputImage : CIImage = myInvertFilter !. outputImage ! // \u518d\u3073UIView\u306b\u30bb\u30c3\u30c8. myImageView . image = UIImage ( ciImage : myOutputImage ) // \u518d\u63cf\u753b. myImageView . setNeedsDisplay () } }","title":"Swift 3.0"},{"location":"9.coreimage/007_coreimage/#swift-23","text":"1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 // // ViewController.swift // CoreImage007 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import CoreImage class ViewController : UIViewController { // \u30d9\u30fc\u30b9\u753b\u50cf. let myInputImage = CIImage ( image : UIImage ( named : \"sample1\" ) ! ) // ImageView. var myImageView : UIImageView ! // \u30dc\u30bf\u30f3. let myButton : UIButton = UIButton () override func viewDidLoad () { super . viewDidLoad () // UIImageView\u306e\u751f\u6210. myImageView = UIImageView ( frame : CGRectMake ( 0 , 0 , self . view . frame . size . width , self . view . frame . size . height )) myImageView . image = UIImage ( CIImage : myInputImage !) self . view . addSubview ( myImageView ) // \u30dc\u30bf\u30f3. myButton . frame = CGRectMake ( 0 , 0 , 80 , 80 ) myButton . backgroundColor = UIColor . blackColor (); myButton . layer . masksToBounds = true myButton . setTitle ( \"\u8272\u306e\u53cd\u8ee2\" , forState : UIControlState . Normal ) myButton . titleLabel ?. font = UIFont . systemFontOfSize ( UIFont . smallSystemFontSize ()) myButton . setTitleColor ( UIColor . whiteColor (), forState : UIControlState . Normal ) myButton . layer . cornerRadius = 40.0 myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 50 ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : . TouchUpInside ) // \u80cc\u666f\u8272\u3092\u9ed2. self . view . backgroundColor = UIColor . blackColor () // UI\u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0. self . view . addSubview ( myButton ); } // \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. func onClickMyButton ( sender : UIButton ){ // \u30ab\u30e9\u30fc\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u6307\u5b9a\u3057\u3066CIFilter\u3092\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316. let myInvertFilter = CIFilter ( name : \"CIColorInvert\" ) // \u30a4\u30e1\u30fc\u30b8\u306e\u30bb\u30c3\u30c8. myInvertFilter !. setValue ( myInputImage , forKey : kCIInputImageKey ) // \u30d5\u30a3\u30eb\u30bf\u30fc\u3092\u901a\u3057\u305f\u753b\u50cf\u3092\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8. let myOutputImage : CIImage = myInvertFilter !. outputImage ! // \u518d\u3073UIView\u306b\u30bb\u30c3\u30c8. myImageView . image = UIImage ( CIImage : myOutputImage ) // \u518d\u63cf\u753b. myImageView . setNeedsDisplay () } }","title":"Swift 2.3"},{"location":"9.coreimage/007_coreimage/#2x3x","text":"init(CIImage:) \u304b\u3089 init(ciImage:) \u306b\u5909\u66f4","title":"2.x\u30683.x\u306e\u5dee\u5206"},{"location":"9.coreimage/007_coreimage/#reference","text":"CIFilter https://developer.apple.com/reference/coreimage/cifilter CIImage https://developer.apple.com/reference/coreimage/ciimage","title":"Reference"},{"location":"9.coreimage/008_coreimage/","text":"\u30e2\u30ce\u30af\u30ed\u51e6\u7406 Swift 3.0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 // // ViewController.swift // CoreImage008 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import CoreImage class ViewController : UIViewController { // \u30d9\u30fc\u30b9\u753b\u50cf. let myInputImage = CIImage ( image : UIImage ( named : \"sample1\" ) ! ) // ImageView. var myImageView : UIImageView ! // \u30dc\u30bf\u30f3. let myButton : UIButton = UIButton () override func viewDidLoad () { super . viewDidLoad () // UIImageView\u306e\u751f\u6210. myImageView = UIImageView ( frame : CGRect ( x : 0 , y : 0 , width : self . view . frame . size . width , height : self . view . frame . size . height )) myImageView . image = UIImage ( ciImage : myInputImage !) self . view . addSubview ( myImageView ) // \u30dc\u30bf\u30f3. myButton . frame = CGRect ( x : 0 , y : 0 , width : 80 , height : 80 ) myButton . backgroundColor = UIColor . black myButton . layer . masksToBounds = true myButton . setTitle ( \"\u30e2\u30ce\u30af\u30ed\u5316\" , for : UIControlState . normal ) myButton . titleLabel ?. font = UIFont . systemFont ( ofSize : UIFont . smallSystemFontSize ) myButton . setTitleColor ( UIColor . white , for : UIControlState . normal ) myButton . layer . cornerRadius = 40.0 myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 50 ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchUpInside ) // \u80cc\u666f\u8272\u3092\u9ed2. self . view . backgroundColor = UIColor . black // UI\u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0. self . view . addSubview ( myButton ); } // \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. func onClickMyButton ( sender : UIButton ){ // \u30ab\u30e9\u30fc\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u6307\u5b9a\u3057\u3066CIFilter\u3092\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316. let myMonochromeFilter = CIFilter ( name : \"CIColorMonochrome\" ) // \u30a4\u30e1\u30fc\u30b8\u306e\u30bb\u30c3\u30c8. myMonochromeFilter !. setValue ( myInputImage , forKey : kCIInputImageKey ) // \u3082\u306e\u304f\u308d\u5316\u3059\u308b\u305f\u3081\u306e\u5024\u306e\u8abf\u6574. myMonochromeFilter !. setValue ( CIColor ( red : 0.5 , green : 0.5 , blue : 0.5 ), forKey : kCIInputColorKey ) myMonochromeFilter !. setValue ( 1.0 , forKey : kCIInputIntensityKey ) // \u30d5\u30a3\u30eb\u30bf\u30fc\u3092\u901a\u3057\u305f\u753b\u50cf\u3092\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8. let myOutputImage : CIImage = myMonochromeFilter !. outputImage ! // \u518d\u3073UIView\u306b\u30bb\u30c3\u30c8. myImageView . image = UIImage ( ciImage : myOutputImage ) // \u518d\u63cf\u753b. myImageView . setNeedsDisplay () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 // // ViewController.swift // CoreImage008 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import CoreImage class ViewController : UIViewController { // \u30d9\u30fc\u30b9\u753b\u50cf. let myInputImage = CIImage ( image : UIImage ( named : \"sample1\" ) ! ) // ImageView. var myImageView : UIImageView ! // \u30dc\u30bf\u30f3. let myButton : UIButton = UIButton () override func viewDidLoad () { super . viewDidLoad () // UIImageView\u306e\u751f\u6210. myImageView = UIImageView ( frame : CGRectMake ( 0 , 0 , self . view . frame . size . width , self . view . frame . size . height )) myImageView . image = UIImage ( CIImage : myInputImage !) self . view . addSubview ( myImageView ) // \u30dc\u30bf\u30f3. myButton . frame = CGRectMake ( 0 , 0 , 80 , 80 ) myButton . backgroundColor = UIColor . blackColor (); myButton . layer . masksToBounds = true myButton . setTitle ( \"\u30e2\u30ce\u30af\u30ed\u5316\" , forState : UIControlState . Normal ) myButton . titleLabel ?. font = UIFont . systemFontOfSize ( UIFont . smallSystemFontSize ()) myButton . setTitleColor ( UIColor . whiteColor (), forState : UIControlState . Normal ) myButton . layer . cornerRadius = 40.0 myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 50 ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : . TouchUpInside ) // \u80cc\u666f\u8272\u3092\u9ed2. self . view . backgroundColor = UIColor . blackColor () // UI\u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0. self . view . addSubview ( myButton ); } // \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. func onClickMyButton ( sender : UIButton ){ // \u30ab\u30e9\u30fc\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u6307\u5b9a\u3057\u3066CIFilter\u3092\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316. let myMonochromeFilter = CIFilter ( name : \"CIColorMonochrome\" ) // \u30a4\u30e1\u30fc\u30b8\u306e\u30bb\u30c3\u30c8. myMonochromeFilter !. setValue ( myInputImage , forKey : kCIInputImageKey ) // \u3082\u306e\u304f\u308d\u5316\u3059\u308b\u305f\u3081\u306e\u5024\u306e\u8abf\u6574. myMonochromeFilter !. setValue ( CIColor ( red : 0.5 , green : 0.5 , blue : 0.5 ), forKey : kCIInputColorKey ) myMonochromeFilter !. setValue ( 1.0 , forKey : kCIInputIntensityKey ) // \u30d5\u30a3\u30eb\u30bf\u30fc\u3092\u901a\u3057\u305f\u753b\u50cf\u3092\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8. let myOutputImage : CIImage = myMonochromeFilter !. outputImage ! // \u518d\u3073UIView\u306b\u30bb\u30c3\u30c8. myImageView . image = UIImage ( CIImage : myOutputImage ) // \u518d\u63cf\u753b. myImageView . setNeedsDisplay () } } 2.x\u30683.x\u306e\u5dee\u5206 init(CIImage:) \u304b\u3089 init(ciImage:) \u306b\u5909\u66f4 Reference CIFilter https://developer.apple.com/reference/coreimage/cifilter CIImage https://developer.apple.com/reference/coreimage/ciimage","title":"\u30e2\u30ce\u30af\u30ed\u51e6\u7406"},{"location":"9.coreimage/008_coreimage/#_1","text":"","title":"\u30e2\u30ce\u30af\u30ed\u51e6\u7406"},{"location":"9.coreimage/008_coreimage/#swift-30","text":"1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 // // ViewController.swift // CoreImage008 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import CoreImage class ViewController : UIViewController { // \u30d9\u30fc\u30b9\u753b\u50cf. let myInputImage = CIImage ( image : UIImage ( named : \"sample1\" ) ! ) // ImageView. var myImageView : UIImageView ! // \u30dc\u30bf\u30f3. let myButton : UIButton = UIButton () override func viewDidLoad () { super . viewDidLoad () // UIImageView\u306e\u751f\u6210. myImageView = UIImageView ( frame : CGRect ( x : 0 , y : 0 , width : self . view . frame . size . width , height : self . view . frame . size . height )) myImageView . image = UIImage ( ciImage : myInputImage !) self . view . addSubview ( myImageView ) // \u30dc\u30bf\u30f3. myButton . frame = CGRect ( x : 0 , y : 0 , width : 80 , height : 80 ) myButton . backgroundColor = UIColor . black myButton . layer . masksToBounds = true myButton . setTitle ( \"\u30e2\u30ce\u30af\u30ed\u5316\" , for : UIControlState . normal ) myButton . titleLabel ?. font = UIFont . systemFont ( ofSize : UIFont . smallSystemFontSize ) myButton . setTitleColor ( UIColor . white , for : UIControlState . normal ) myButton . layer . cornerRadius = 40.0 myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 50 ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchUpInside ) // \u80cc\u666f\u8272\u3092\u9ed2. self . view . backgroundColor = UIColor . black // UI\u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0. self . view . addSubview ( myButton ); } // \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. func onClickMyButton ( sender : UIButton ){ // \u30ab\u30e9\u30fc\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u6307\u5b9a\u3057\u3066CIFilter\u3092\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316. let myMonochromeFilter = CIFilter ( name : \"CIColorMonochrome\" ) // \u30a4\u30e1\u30fc\u30b8\u306e\u30bb\u30c3\u30c8. myMonochromeFilter !. setValue ( myInputImage , forKey : kCIInputImageKey ) // \u3082\u306e\u304f\u308d\u5316\u3059\u308b\u305f\u3081\u306e\u5024\u306e\u8abf\u6574. myMonochromeFilter !. setValue ( CIColor ( red : 0.5 , green : 0.5 , blue : 0.5 ), forKey : kCIInputColorKey ) myMonochromeFilter !. setValue ( 1.0 , forKey : kCIInputIntensityKey ) // \u30d5\u30a3\u30eb\u30bf\u30fc\u3092\u901a\u3057\u305f\u753b\u50cf\u3092\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8. let myOutputImage : CIImage = myMonochromeFilter !. outputImage ! // \u518d\u3073UIView\u306b\u30bb\u30c3\u30c8. myImageView . image = UIImage ( ciImage : myOutputImage ) // \u518d\u63cf\u753b. myImageView . setNeedsDisplay () } }","title":"Swift 3.0"},{"location":"9.coreimage/008_coreimage/#swift-23","text":"1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 // // ViewController.swift // CoreImage008 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import CoreImage class ViewController : UIViewController { // \u30d9\u30fc\u30b9\u753b\u50cf. let myInputImage = CIImage ( image : UIImage ( named : \"sample1\" ) ! ) // ImageView. var myImageView : UIImageView ! // \u30dc\u30bf\u30f3. let myButton : UIButton = UIButton () override func viewDidLoad () { super . viewDidLoad () // UIImageView\u306e\u751f\u6210. myImageView = UIImageView ( frame : CGRectMake ( 0 , 0 , self . view . frame . size . width , self . view . frame . size . height )) myImageView . image = UIImage ( CIImage : myInputImage !) self . view . addSubview ( myImageView ) // \u30dc\u30bf\u30f3. myButton . frame = CGRectMake ( 0 , 0 , 80 , 80 ) myButton . backgroundColor = UIColor . blackColor (); myButton . layer . masksToBounds = true myButton . setTitle ( \"\u30e2\u30ce\u30af\u30ed\u5316\" , forState : UIControlState . Normal ) myButton . titleLabel ?. font = UIFont . systemFontOfSize ( UIFont . smallSystemFontSize ()) myButton . setTitleColor ( UIColor . whiteColor (), forState : UIControlState . Normal ) myButton . layer . cornerRadius = 40.0 myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 50 ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : . TouchUpInside ) // \u80cc\u666f\u8272\u3092\u9ed2. self . view . backgroundColor = UIColor . blackColor () // UI\u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0. self . view . addSubview ( myButton ); } // \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. func onClickMyButton ( sender : UIButton ){ // \u30ab\u30e9\u30fc\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u6307\u5b9a\u3057\u3066CIFilter\u3092\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316. let myMonochromeFilter = CIFilter ( name : \"CIColorMonochrome\" ) // \u30a4\u30e1\u30fc\u30b8\u306e\u30bb\u30c3\u30c8. myMonochromeFilter !. setValue ( myInputImage , forKey : kCIInputImageKey ) // \u3082\u306e\u304f\u308d\u5316\u3059\u308b\u305f\u3081\u306e\u5024\u306e\u8abf\u6574. myMonochromeFilter !. setValue ( CIColor ( red : 0.5 , green : 0.5 , blue : 0.5 ), forKey : kCIInputColorKey ) myMonochromeFilter !. setValue ( 1.0 , forKey : kCIInputIntensityKey ) // \u30d5\u30a3\u30eb\u30bf\u30fc\u3092\u901a\u3057\u305f\u753b\u50cf\u3092\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8. let myOutputImage : CIImage = myMonochromeFilter !. outputImage ! // \u518d\u3073UIView\u306b\u30bb\u30c3\u30c8. myImageView . image = UIImage ( CIImage : myOutputImage ) // \u518d\u63cf\u753b. myImageView . setNeedsDisplay () } }","title":"Swift 2.3"},{"location":"9.coreimage/008_coreimage/#2x3x","text":"init(CIImage:) \u304b\u3089 init(ciImage:) \u306b\u5909\u66f4","title":"2.x\u30683.x\u306e\u5dee\u5206"},{"location":"9.coreimage/008_coreimage/#reference","text":"CIFilter https://developer.apple.com/reference/coreimage/cifilter CIImage https://developer.apple.com/reference/coreimage/ciimage","title":"Reference"},{"location":"9.coreimage/009_coreimage/","text":"\u753b\u50cf\u306e\u8272\u5909\u63db Swift 3.0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 // // ViewController.swift // CoreImage009 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import CoreImage class ViewController : UIViewController { // \u30d9\u30fc\u30b9\u753b\u50cf. let myInputImage = CIImage ( image : UIImage ( named : \"sample1\" ) ! ) // ImageView. var myImageView : UIImageView ! // \u30dc\u30bf\u30f3. let myButton : UIButton = UIButton () override func viewDidLoad () { super . viewDidLoad () // UIImageView\u306e\u751f\u6210. myImageView = UIImageView ( frame : CGRect ( x : 0 , y : 0 , width : self . view . frame . size . width , height : self . view . frame . size . height )) myImageView . image = UIImage ( ciImage : myInputImage !) self . view . addSubview ( myImageView ) // \u30dc\u30bf\u30f3. myButton . frame = CGRect ( x : 0 , y : 0 , width : 80 , height : 80 ) myButton . backgroundColor = UIColor . black myButton . layer . masksToBounds = true myButton . setTitle ( \"\u8272\u5909\u63db\" , for : UIControlState . normal ) myButton . titleLabel ?. font = UIFont . systemFont ( ofSize : UIFont . smallSystemFontSize ) myButton . setTitleColor ( UIColor . white , for : UIControlState . normal ) myButton . layer . cornerRadius = 40.0 myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 50 ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchUpInside ) // \u80cc\u666f\u8272\u3092\u9ed2. self . view . backgroundColor = UIColor . black // UI\u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0. self . view . addSubview ( myButton ); } // \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. func onClickMyButton ( sender : UIButton ){ // \u30ab\u30e9\u30fc\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u6307\u5b9a\u3057\u3066CIFilter\u3092\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316. let myColorFilter = CIFilter ( name : \"CIColorCrossPolynomial\" ) // \u30a4\u30e1\u30fc\u30b8\u306e\u30bb\u30c3\u30c8. myColorFilter !. setValue ( myInputImage , forKey : kCIInputImageKey ) // RGB\u306e\u5909\u63db\u5024\u3092\u4f5c\u6210. let r : [ CGFloat ] = [ 0.0 , 1.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 ] let g : [ CGFloat ] = [ 0.0 , 0.0 , 1.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 ] let b : [ CGFloat ] = [ 1.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 ] // \u30e2\u30ce\u30af\u30ed\u5316\u3059\u308b\u305f\u3081\u306e\u5024\u306e\u8abf\u6574. myColorFilter !. setValue ( CIVector ( values : r , count : 10 ), forKey : \"inputRedCoefficients\" ) myColorFilter !. setValue ( CIVector ( values : g , count : 10 ), forKey : \"inputGreenCoefficients\" ) myColorFilter !. setValue ( CIVector ( values : b , count : 10 ), forKey : \"inputBlueCoefficients\" ) // \u30d5\u30a3\u30eb\u30bf\u30fc\u3092\u901a\u3057\u305f\u753b\u50cf\u3092\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8. let myOutputImage : CIImage = myColorFilter !. outputImage ! // \u518d\u3073UIView\u306b\u30bb\u30c3\u30c8. myImageView . image = UIImage ( ciImage : myOutputImage ) // \u518d\u63cf\u753b. myImageView . setNeedsDisplay () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 // // ViewController.swift // CoreImage009 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import CoreImage class ViewController : UIViewController { // \u30d9\u30fc\u30b9\u753b\u50cf. let myInputImage = CIImage ( image : UIImage ( named : \"sample1\" ) ! ) // ImageView. var myImageView : UIImageView ! // \u30dc\u30bf\u30f3. let myButton : UIButton = UIButton () override func viewDidLoad () { super . viewDidLoad () // UIImageView\u306e\u751f\u6210. myImageView = UIImageView ( frame : CGRectMake ( 0 , 0 , self . view . frame . size . width , self . view . frame . size . height )) myImageView . image = UIImage ( CIImage : myInputImage !) self . view . addSubview ( myImageView ) // \u30dc\u30bf\u30f3. myButton . frame = CGRectMake ( 0 , 0 , 80 , 80 ) myButton . backgroundColor = UIColor . blackColor (); myButton . layer . masksToBounds = true myButton . setTitle ( \"\u8272\u5909\u63db\" , forState : UIControlState . Normal ) myButton . titleLabel ?. font = UIFont . systemFontOfSize ( UIFont . smallSystemFontSize ()) myButton . setTitleColor ( UIColor . whiteColor (), forState : UIControlState . Normal ) myButton . layer . cornerRadius = 40.0 myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 50 ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : . TouchUpInside ) // \u80cc\u666f\u8272\u3092\u9ed2. self . view . backgroundColor = UIColor . blackColor () // UI\u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0. self . view . addSubview ( myButton ); } // \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. func onClickMyButton ( sender : UIButton ){ // \u30ab\u30e9\u30fc\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u6307\u5b9a\u3057\u3066CIFilter\u3092\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316. let myColorFilter = CIFilter ( name : \"CIColorCrossPolynomial\" ) // \u30a4\u30e1\u30fc\u30b8\u306e\u30bb\u30c3\u30c8. myColorFilter !. setValue ( myInputImage , forKey : kCIInputImageKey ) // RGB\u306e\u5909\u63db\u5024\u3092\u4f5c\u6210. let r : [ CGFloat ] = [ 0.0 , 1.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 ] let g : [ CGFloat ] = [ 0.0 , 0.0 , 1.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 ] let b : [ CGFloat ] = [ 1.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 ] // \u30e2\u30ce\u30af\u30ed\u5316\u3059\u308b\u305f\u3081\u306e\u5024\u306e\u8abf\u6574. myColorFilter !. setValue ( CIVector ( values : r , count : 10 ), forKey : \"inputRedCoefficients\" ) myColorFilter !. setValue ( CIVector ( values : g , count : 10 ), forKey : \"inputGreenCoefficients\" ) myColorFilter !. setValue ( CIVector ( values : b , count : 10 ), forKey : \"inputBlueCoefficients\" ) // \u30d5\u30a3\u30eb\u30bf\u30fc\u3092\u901a\u3057\u305f\u753b\u50cf\u3092\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8. let myOutputImage : CIImage = myColorFilter !. outputImage ! // \u518d\u3073UIView\u306b\u30bb\u30c3\u30c8. myImageView . image = UIImage ( CIImage : myOutputImage ) // \u518d\u63cf\u753b. myImageView . setNeedsDisplay () } } 2.x\u30683.x\u306e\u5dee\u5206 init(CIImage:) \u304b\u3089 init(ciImage:) \u306b\u5909\u66f4 Reference CIFilter https://developer.apple.com/reference/coreimage/cifilter CIImage https://developer.apple.com/reference/coreimage/ciimage","title":"\u753b\u50cf\u306e\u8272\u5909\u63db"},{"location":"9.coreimage/009_coreimage/#_1","text":"","title":"\u753b\u50cf\u306e\u8272\u5909\u63db"},{"location":"9.coreimage/009_coreimage/#swift-30","text":"1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 // // ViewController.swift // CoreImage009 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import CoreImage class ViewController : UIViewController { // \u30d9\u30fc\u30b9\u753b\u50cf. let myInputImage = CIImage ( image : UIImage ( named : \"sample1\" ) ! ) // ImageView. var myImageView : UIImageView ! // \u30dc\u30bf\u30f3. let myButton : UIButton = UIButton () override func viewDidLoad () { super . viewDidLoad () // UIImageView\u306e\u751f\u6210. myImageView = UIImageView ( frame : CGRect ( x : 0 , y : 0 , width : self . view . frame . size . width , height : self . view . frame . size . height )) myImageView . image = UIImage ( ciImage : myInputImage !) self . view . addSubview ( myImageView ) // \u30dc\u30bf\u30f3. myButton . frame = CGRect ( x : 0 , y : 0 , width : 80 , height : 80 ) myButton . backgroundColor = UIColor . black myButton . layer . masksToBounds = true myButton . setTitle ( \"\u8272\u5909\u63db\" , for : UIControlState . normal ) myButton . titleLabel ?. font = UIFont . systemFont ( ofSize : UIFont . smallSystemFontSize ) myButton . setTitleColor ( UIColor . white , for : UIControlState . normal ) myButton . layer . cornerRadius = 40.0 myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 50 ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchUpInside ) // \u80cc\u666f\u8272\u3092\u9ed2. self . view . backgroundColor = UIColor . black // UI\u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0. self . view . addSubview ( myButton ); } // \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. func onClickMyButton ( sender : UIButton ){ // \u30ab\u30e9\u30fc\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u6307\u5b9a\u3057\u3066CIFilter\u3092\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316. let myColorFilter = CIFilter ( name : \"CIColorCrossPolynomial\" ) // \u30a4\u30e1\u30fc\u30b8\u306e\u30bb\u30c3\u30c8. myColorFilter !. setValue ( myInputImage , forKey : kCIInputImageKey ) // RGB\u306e\u5909\u63db\u5024\u3092\u4f5c\u6210. let r : [ CGFloat ] = [ 0.0 , 1.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 ] let g : [ CGFloat ] = [ 0.0 , 0.0 , 1.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 ] let b : [ CGFloat ] = [ 1.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 ] // \u30e2\u30ce\u30af\u30ed\u5316\u3059\u308b\u305f\u3081\u306e\u5024\u306e\u8abf\u6574. myColorFilter !. setValue ( CIVector ( values : r , count : 10 ), forKey : \"inputRedCoefficients\" ) myColorFilter !. setValue ( CIVector ( values : g , count : 10 ), forKey : \"inputGreenCoefficients\" ) myColorFilter !. setValue ( CIVector ( values : b , count : 10 ), forKey : \"inputBlueCoefficients\" ) // \u30d5\u30a3\u30eb\u30bf\u30fc\u3092\u901a\u3057\u305f\u753b\u50cf\u3092\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8. let myOutputImage : CIImage = myColorFilter !. outputImage ! // \u518d\u3073UIView\u306b\u30bb\u30c3\u30c8. myImageView . image = UIImage ( ciImage : myOutputImage ) // \u518d\u63cf\u753b. myImageView . setNeedsDisplay () } }","title":"Swift 3.0"},{"location":"9.coreimage/009_coreimage/#swift-23","text":"1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 // // ViewController.swift // CoreImage009 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import CoreImage class ViewController : UIViewController { // \u30d9\u30fc\u30b9\u753b\u50cf. let myInputImage = CIImage ( image : UIImage ( named : \"sample1\" ) ! ) // ImageView. var myImageView : UIImageView ! // \u30dc\u30bf\u30f3. let myButton : UIButton = UIButton () override func viewDidLoad () { super . viewDidLoad () // UIImageView\u306e\u751f\u6210. myImageView = UIImageView ( frame : CGRectMake ( 0 , 0 , self . view . frame . size . width , self . view . frame . size . height )) myImageView . image = UIImage ( CIImage : myInputImage !) self . view . addSubview ( myImageView ) // \u30dc\u30bf\u30f3. myButton . frame = CGRectMake ( 0 , 0 , 80 , 80 ) myButton . backgroundColor = UIColor . blackColor (); myButton . layer . masksToBounds = true myButton . setTitle ( \"\u8272\u5909\u63db\" , forState : UIControlState . Normal ) myButton . titleLabel ?. font = UIFont . systemFontOfSize ( UIFont . smallSystemFontSize ()) myButton . setTitleColor ( UIColor . whiteColor (), forState : UIControlState . Normal ) myButton . layer . cornerRadius = 40.0 myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 50 ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : . TouchUpInside ) // \u80cc\u666f\u8272\u3092\u9ed2. self . view . backgroundColor = UIColor . blackColor () // UI\u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0. self . view . addSubview ( myButton ); } // \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. func onClickMyButton ( sender : UIButton ){ // \u30ab\u30e9\u30fc\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u6307\u5b9a\u3057\u3066CIFilter\u3092\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316. let myColorFilter = CIFilter ( name : \"CIColorCrossPolynomial\" ) // \u30a4\u30e1\u30fc\u30b8\u306e\u30bb\u30c3\u30c8. myColorFilter !. setValue ( myInputImage , forKey : kCIInputImageKey ) // RGB\u306e\u5909\u63db\u5024\u3092\u4f5c\u6210. let r : [ CGFloat ] = [ 0.0 , 1.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 ] let g : [ CGFloat ] = [ 0.0 , 0.0 , 1.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 ] let b : [ CGFloat ] = [ 1.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 ] // \u30e2\u30ce\u30af\u30ed\u5316\u3059\u308b\u305f\u3081\u306e\u5024\u306e\u8abf\u6574. myColorFilter !. setValue ( CIVector ( values : r , count : 10 ), forKey : \"inputRedCoefficients\" ) myColorFilter !. setValue ( CIVector ( values : g , count : 10 ), forKey : \"inputGreenCoefficients\" ) myColorFilter !. setValue ( CIVector ( values : b , count : 10 ), forKey : \"inputBlueCoefficients\" ) // \u30d5\u30a3\u30eb\u30bf\u30fc\u3092\u901a\u3057\u305f\u753b\u50cf\u3092\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8. let myOutputImage : CIImage = myColorFilter !. outputImage ! // \u518d\u3073UIView\u306b\u30bb\u30c3\u30c8. myImageView . image = UIImage ( CIImage : myOutputImage ) // \u518d\u63cf\u753b. myImageView . setNeedsDisplay () } }","title":"Swift 2.3"},{"location":"9.coreimage/009_coreimage/#2x3x","text":"init(CIImage:) \u304b\u3089 init(ciImage:) \u306b\u5909\u66f4","title":"2.x\u30683.x\u306e\u5dee\u5206"},{"location":"9.coreimage/009_coreimage/#reference","text":"CIFilter https://developer.apple.com/reference/coreimage/cifilter CIImage https://developer.apple.com/reference/coreimage/ciimage","title":"Reference"},{"location":"9.coreimage/010_coreimage/","text":"\u753b\u50cf\u306e\u5883\u754c\u3092\u30b7\u30e3\u30fc\u30d7\u306b\u3059\u308b Swift 3.0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 // // ViewController.swift // CoreImage010 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import CoreImage class ViewController : UIViewController { // \u30d9\u30fc\u30b9\u753b\u50cf. let myInputImage = CIImage ( image : UIImage ( named : \"sample1\" ) ! ) // ImageView. var myImageView : UIImageView ! // \u30dc\u30bf\u30f3. let myButton : UIButton = UIButton () override func viewDidLoad () { super . viewDidLoad () // UIImageView\u306e\u751f\u6210. myImageView = UIImageView ( frame : CGRect ( x : 0 , y : 0 , width : self . view . frame . size . width , height : self . view . frame . size . height )) myImageView . image = UIImage ( ciImage : myInputImage !) self . view . addSubview ( myImageView ) // \u30dc\u30bf\u30f3. myButton . frame = CGRect ( x : 0 , y : 0 , width : 80 , height : 80 ) myButton . backgroundColor = UIColor . black myButton . layer . masksToBounds = true myButton . setTitle ( \"\u30b7\u30e3\u30fc\u30d7\" , for : UIControlState . normal ) myButton . titleLabel ?. font = UIFont . systemFont ( ofSize : UIFont . smallSystemFontSize ) myButton . setTitleColor ( UIColor . white , for : UIControlState . normal ) myButton . layer . cornerRadius = 40.0 myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 50 ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchUpInside ) // \u80cc\u666f\u8272\u3092\u9ed2. self . view . backgroundColor = UIColor . black // UI\u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0. self . view . addSubview ( myButton ); } // \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. func onClickMyButton ( sender : UIButton ){ // \u30ab\u30e9\u30fc\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u6307\u5b9a\u3057\u3066CIFilter\u3092\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316. let mySharpFilter = CIFilter ( name : \"CIUnsharpMask\" ) // \u30a4\u30e1\u30fc\u30b8\u306e\u30bb\u30c3\u30c8. mySharpFilter !. setValue ( myInputImage , forKey : kCIInputImageKey ) // \u30d5\u30a3\u30eb\u30bf\u30fc\u3092\u901a\u3057\u305f\u753b\u50cf\u3092\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8. let myOutputImage : CIImage = mySharpFilter !. outputImage ! // \u518d\u3073UIView\u306b\u30bb\u30c3\u30c8. myImageView . image = UIImage ( ciImage : myOutputImage ) // \u518d\u63cf\u753b. myImageView . setNeedsDisplay () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 // // ViewController.swift // CoreImage010 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import CoreImage class ViewController : UIViewController { // \u30d9\u30fc\u30b9\u753b\u50cf. let myInputImage = CIImage ( image : UIImage ( named : \"sample1\" ) ! ) // ImageView. var myImageView : UIImageView ! // \u30dc\u30bf\u30f3. let myButton : UIButton = UIButton () override func viewDidLoad () { super . viewDidLoad () // UIImageView\u306e\u751f\u6210. myImageView = UIImageView ( frame : CGRectMake ( 0 , 0 , self . view . frame . size . width , self . view . frame . size . height )) myImageView . image = UIImage ( CIImage : myInputImage !) self . view . addSubview ( myImageView ) // \u30dc\u30bf\u30f3. myButton . frame = CGRectMake ( 0 , 0 , 80 , 80 ) myButton . backgroundColor = UIColor . blackColor (); myButton . layer . masksToBounds = true myButton . setTitle ( \"\u30b7\u30e3\u30fc\u30d7\" , forState : UIControlState . Normal ) myButton . titleLabel ?. font = UIFont . systemFontOfSize ( UIFont . smallSystemFontSize ()) myButton . setTitleColor ( UIColor . whiteColor (), forState : UIControlState . Normal ) myButton . layer . cornerRadius = 40.0 myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 50 ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : . TouchUpInside ) // \u80cc\u666f\u8272\u3092\u9ed2. self . view . backgroundColor = UIColor . blackColor () // UI\u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0. self . view . addSubview ( myButton ); } // \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. func onClickMyButton ( sender : UIButton ){ // \u30ab\u30e9\u30fc\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u6307\u5b9a\u3057\u3066CIFilter\u3092\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316. let mySharpFilter = CIFilter ( name : \"CIUnsharpMask\" ) // \u30a4\u30e1\u30fc\u30b8\u306e\u30bb\u30c3\u30c8. mySharpFilter !. setValue ( myInputImage , forKey : kCIInputImageKey ) // \u30d5\u30a3\u30eb\u30bf\u30fc\u3092\u901a\u3057\u305f\u753b\u50cf\u3092\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8. let myOutputImage : CIImage = mySharpFilter !. outputImage ! // \u518d\u3073UIView\u306b\u30bb\u30c3\u30c8. myImageView . image = UIImage ( CIImage : myOutputImage ) // \u518d\u63cf\u753b. myImageView . setNeedsDisplay () } } 2.x\u30683.x\u306e\u5dee\u5206 init(CIImage:) \u304b\u3089 init(ciImage:) \u306b\u5909\u66f4 Reference CIFilter https://developer.apple.com/reference/coreimage/cifilter CIImage https://developer.apple.com/reference/coreimage/ciimage","title":"\u753b\u50cf\u306e\u5883\u754c\u3092\u30b7\u30e3\u30fc\u30d7\u306b\u3059\u308b"},{"location":"9.coreimage/010_coreimage/#_1","text":"","title":"\u753b\u50cf\u306e\u5883\u754c\u3092\u30b7\u30e3\u30fc\u30d7\u306b\u3059\u308b"},{"location":"9.coreimage/010_coreimage/#swift-30","text":"1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 // // ViewController.swift // CoreImage010 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import CoreImage class ViewController : UIViewController { // \u30d9\u30fc\u30b9\u753b\u50cf. let myInputImage = CIImage ( image : UIImage ( named : \"sample1\" ) ! ) // ImageView. var myImageView : UIImageView ! // \u30dc\u30bf\u30f3. let myButton : UIButton = UIButton () override func viewDidLoad () { super . viewDidLoad () // UIImageView\u306e\u751f\u6210. myImageView = UIImageView ( frame : CGRect ( x : 0 , y : 0 , width : self . view . frame . size . width , height : self . view . frame . size . height )) myImageView . image = UIImage ( ciImage : myInputImage !) self . view . addSubview ( myImageView ) // \u30dc\u30bf\u30f3. myButton . frame = CGRect ( x : 0 , y : 0 , width : 80 , height : 80 ) myButton . backgroundColor = UIColor . black myButton . layer . masksToBounds = true myButton . setTitle ( \"\u30b7\u30e3\u30fc\u30d7\" , for : UIControlState . normal ) myButton . titleLabel ?. font = UIFont . systemFont ( ofSize : UIFont . smallSystemFontSize ) myButton . setTitleColor ( UIColor . white , for : UIControlState . normal ) myButton . layer . cornerRadius = 40.0 myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 50 ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchUpInside ) // \u80cc\u666f\u8272\u3092\u9ed2. self . view . backgroundColor = UIColor . black // UI\u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0. self . view . addSubview ( myButton ); } // \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. func onClickMyButton ( sender : UIButton ){ // \u30ab\u30e9\u30fc\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u6307\u5b9a\u3057\u3066CIFilter\u3092\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316. let mySharpFilter = CIFilter ( name : \"CIUnsharpMask\" ) // \u30a4\u30e1\u30fc\u30b8\u306e\u30bb\u30c3\u30c8. mySharpFilter !. setValue ( myInputImage , forKey : kCIInputImageKey ) // \u30d5\u30a3\u30eb\u30bf\u30fc\u3092\u901a\u3057\u305f\u753b\u50cf\u3092\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8. let myOutputImage : CIImage = mySharpFilter !. outputImage ! // \u518d\u3073UIView\u306b\u30bb\u30c3\u30c8. myImageView . image = UIImage ( ciImage : myOutputImage ) // \u518d\u63cf\u753b. myImageView . setNeedsDisplay () } }","title":"Swift 3.0"},{"location":"9.coreimage/010_coreimage/#swift-23","text":"1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 // // ViewController.swift // CoreImage010 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import CoreImage class ViewController : UIViewController { // \u30d9\u30fc\u30b9\u753b\u50cf. let myInputImage = CIImage ( image : UIImage ( named : \"sample1\" ) ! ) // ImageView. var myImageView : UIImageView ! // \u30dc\u30bf\u30f3. let myButton : UIButton = UIButton () override func viewDidLoad () { super . viewDidLoad () // UIImageView\u306e\u751f\u6210. myImageView = UIImageView ( frame : CGRectMake ( 0 , 0 , self . view . frame . size . width , self . view . frame . size . height )) myImageView . image = UIImage ( CIImage : myInputImage !) self . view . addSubview ( myImageView ) // \u30dc\u30bf\u30f3. myButton . frame = CGRectMake ( 0 , 0 , 80 , 80 ) myButton . backgroundColor = UIColor . blackColor (); myButton . layer . masksToBounds = true myButton . setTitle ( \"\u30b7\u30e3\u30fc\u30d7\" , forState : UIControlState . Normal ) myButton . titleLabel ?. font = UIFont . systemFontOfSize ( UIFont . smallSystemFontSize ()) myButton . setTitleColor ( UIColor . whiteColor (), forState : UIControlState . Normal ) myButton . layer . cornerRadius = 40.0 myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 50 ) myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : . TouchUpInside ) // \u80cc\u666f\u8272\u3092\u9ed2. self . view . backgroundColor = UIColor . blackColor () // UI\u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0. self . view . addSubview ( myButton ); } // \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. func onClickMyButton ( sender : UIButton ){ // \u30ab\u30e9\u30fc\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u6307\u5b9a\u3057\u3066CIFilter\u3092\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316. let mySharpFilter = CIFilter ( name : \"CIUnsharpMask\" ) // \u30a4\u30e1\u30fc\u30b8\u306e\u30bb\u30c3\u30c8. mySharpFilter !. setValue ( myInputImage , forKey : kCIInputImageKey ) // \u30d5\u30a3\u30eb\u30bf\u30fc\u3092\u901a\u3057\u305f\u753b\u50cf\u3092\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8. let myOutputImage : CIImage = mySharpFilter !. outputImage ! // \u518d\u3073UIView\u306b\u30bb\u30c3\u30c8. myImageView . image = UIImage ( CIImage : myOutputImage ) // \u518d\u63cf\u753b. myImageView . setNeedsDisplay () } }","title":"Swift 2.3"},{"location":"9.coreimage/010_coreimage/#2x3x","text":"init(CIImage:) \u304b\u3089 init(ciImage:) \u306b\u5909\u66f4","title":"2.x\u30683.x\u306e\u5dee\u5206"},{"location":"9.coreimage/010_coreimage/#reference","text":"CIFilter https://developer.apple.com/reference/coreimage/cifilter CIImage https://developer.apple.com/reference/coreimage/ciimage","title":"Reference"},{"location":"9.coreimage/011_coreimage/","text":"\u753b\u50cf\u306e\u5408\u6210 Swift 3.0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 // // ViewController.swift // CoreImage011 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import CoreImage class ViewController : UIViewController { // 1\u679a\u76ee\u306e\u753b\u50cf. let myInputImage1 = CIImage ( image : UIImage ( named : \"sample1\" ) ! ) // 2\u679a\u76ee\u306e\u753b\u50cf. let myInputImage2 = CIImage ( image : UIImage ( named : \"sample2\" ) ! ) // ImageView. var myImageView : UIImageView ! // \u30dc\u30bf\u30f3. let myButton : UIButton = UIButton () override func viewDidLoad () { super . viewDidLoad () // UIImageView\u306e\u751f\u6210. myImageView = UIImageView ( frame : CGRect ( x : 0 , y : 0 , width : self . view . frame . size . width , height : self . view . frame . size . height )) myImageView . image = UIImage ( ciImage : myInputImage1 !) self . view . addSubview ( myImageView ) // \u30dc\u30bf\u30f3. myButton . frame = CGRect ( x : 0 , y : 0 , width : 80 , height : 80 ) myButton . backgroundColor = UIColor . black myButton . layer . masksToBounds = true myButton . setTitle ( \"\u30d6\u30ec\u30f3\u30c9\" , for : UIControlState . normal ) myButton . titleLabel ?. font = UIFont . systemFont ( ofSize : UIFont . smallSystemFontSize ) myButton . setTitleColor ( UIColor . white , for : UIControlState . normal ) myButton . layer . cornerRadius = 40.0 myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 50 ) myButton . tag = 1 myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchUpInside ) // \u80cc\u666f\u8272\u3092\u9ed2. self . view . backgroundColor = UIColor . black // UI\u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0. self . view . addSubview ( myButton ); } // \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. func onClickMyButton ( sender : UIButton ){ // \u30ab\u30e9\u30fc\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u6307\u5b9a\u3057\u3066CIFilter\u3092\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316. let myComposeFilter = CIFilter ( name : \"CIMinimumCompositing\" ) // \u30a4\u30e1\u30fc\u30b8\u306e\u30bb\u30c3\u30c8. myComposeFilter !. setValue ( myInputImage1 , forKey : kCIInputImageKey ) myComposeFilter !. setValue ( myInputImage2 , forKey : kCIInputBackgroundImageKey ) // \u30d5\u30a3\u30eb\u30bf\u30fc\u3092\u901a\u3057\u305f\u753b\u50cf\u3092\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8. let myOutputImage : CIImage = myComposeFilter !. outputImage ! // \u518d\u3073UIView\u306b\u30bb\u30c3\u30c8. myImageView . image = UIImage ( ciImage : myOutputImage ) // \u518d\u63cf\u753b. myImageView . setNeedsDisplay () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 // // ViewController.swift // CoreImage011 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import CoreImage class ViewController : UIViewController { // 1\u679a\u76ee\u306e\u753b\u50cf. let myInputImage1 = CIImage ( image : UIImage ( named : \"sample1\" ) ! ) // 2\u679a\u76ee\u306e\u753b\u50cf. let myInputImage2 = CIImage ( image : UIImage ( named : \"sample2\" ) ! ) // ImageView. var myImageView : UIImageView ! // \u30dc\u30bf\u30f3. let myButton : UIButton = UIButton () override func viewDidLoad () { super . viewDidLoad () // UIImageView\u306e\u751f\u6210. myImageView = UIImageView ( frame : CGRectMake ( 0 , 0 , self . view . frame . size . width , self . view . frame . size . height )) myImageView . image = UIImage ( CIImage : myInputImage1 !) self . view . addSubview ( myImageView ) // \u30dc\u30bf\u30f3. myButton . frame = CGRectMake ( 0 , 0 , 80 , 80 ) myButton . backgroundColor = UIColor . blackColor (); myButton . layer . masksToBounds = true myButton . setTitle ( \"\u30d6\u30ec\u30f3\u30c9\" , forState : UIControlState . Normal ) myButton . titleLabel ?. font = UIFont . systemFontOfSize ( UIFont . smallSystemFontSize ()) myButton . setTitleColor ( UIColor . whiteColor (), forState : UIControlState . Normal ) myButton . layer . cornerRadius = 40.0 myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 50 ) myButton . tag = 1 myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : . TouchUpInside ) // \u80cc\u666f\u8272\u3092\u9ed2. self . view . backgroundColor = UIColor . blackColor () // UI\u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0. self . view . addSubview ( myButton ); } // \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. func onClickMyButton ( sender : UIButton ){ // \u30ab\u30e9\u30fc\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u6307\u5b9a\u3057\u3066CIFilter\u3092\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316. let myComposeFilter = CIFilter ( name : \"CIMinimumCompositing\" ) // \u30a4\u30e1\u30fc\u30b8\u306e\u30bb\u30c3\u30c8. myComposeFilter !. setValue ( myInputImage1 , forKey : kCIInputImageKey ) myComposeFilter !. setValue ( myInputImage2 , forKey : kCIInputBackgroundImageKey ) // \u30d5\u30a3\u30eb\u30bf\u30fc\u3092\u901a\u3057\u305f\u753b\u50cf\u3092\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8. let myOutputImage : CIImage = myComposeFilter !. outputImage ! // \u518d\u3073UIView\u306b\u30bb\u30c3\u30c8. myImageView . image = UIImage ( CIImage : myOutputImage ) // \u518d\u63cf\u753b. myImageView . setNeedsDisplay () } } 2.x\u30683.x\u306e\u5dee\u5206 init(CIImage:) \u304b\u3089 init(ciImage:) \u306b\u5909\u66f4 Reference CIFilter https://developer.apple.com/reference/coreimage/cifilter CIImage https://developer.apple.com/reference/coreimage/ciimage","title":"\u753b\u50cf\u306e\u5408\u6210"},{"location":"9.coreimage/011_coreimage/#_1","text":"","title":"\u753b\u50cf\u306e\u5408\u6210"},{"location":"9.coreimage/011_coreimage/#swift-30","text":"1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 // // ViewController.swift // CoreImage011 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import CoreImage class ViewController : UIViewController { // 1\u679a\u76ee\u306e\u753b\u50cf. let myInputImage1 = CIImage ( image : UIImage ( named : \"sample1\" ) ! ) // 2\u679a\u76ee\u306e\u753b\u50cf. let myInputImage2 = CIImage ( image : UIImage ( named : \"sample2\" ) ! ) // ImageView. var myImageView : UIImageView ! // \u30dc\u30bf\u30f3. let myButton : UIButton = UIButton () override func viewDidLoad () { super . viewDidLoad () // UIImageView\u306e\u751f\u6210. myImageView = UIImageView ( frame : CGRect ( x : 0 , y : 0 , width : self . view . frame . size . width , height : self . view . frame . size . height )) myImageView . image = UIImage ( ciImage : myInputImage1 !) self . view . addSubview ( myImageView ) // \u30dc\u30bf\u30f3. myButton . frame = CGRect ( x : 0 , y : 0 , width : 80 , height : 80 ) myButton . backgroundColor = UIColor . black myButton . layer . masksToBounds = true myButton . setTitle ( \"\u30d6\u30ec\u30f3\u30c9\" , for : UIControlState . normal ) myButton . titleLabel ?. font = UIFont . systemFont ( ofSize : UIFont . smallSystemFontSize ) myButton . setTitleColor ( UIColor . white , for : UIControlState . normal ) myButton . layer . cornerRadius = 40.0 myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 50 ) myButton . tag = 1 myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchUpInside ) // \u80cc\u666f\u8272\u3092\u9ed2. self . view . backgroundColor = UIColor . black // UI\u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0. self . view . addSubview ( myButton ); } // \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. func onClickMyButton ( sender : UIButton ){ // \u30ab\u30e9\u30fc\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u6307\u5b9a\u3057\u3066CIFilter\u3092\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316. let myComposeFilter = CIFilter ( name : \"CIMinimumCompositing\" ) // \u30a4\u30e1\u30fc\u30b8\u306e\u30bb\u30c3\u30c8. myComposeFilter !. setValue ( myInputImage1 , forKey : kCIInputImageKey ) myComposeFilter !. setValue ( myInputImage2 , forKey : kCIInputBackgroundImageKey ) // \u30d5\u30a3\u30eb\u30bf\u30fc\u3092\u901a\u3057\u305f\u753b\u50cf\u3092\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8. let myOutputImage : CIImage = myComposeFilter !. outputImage ! // \u518d\u3073UIView\u306b\u30bb\u30c3\u30c8. myImageView . image = UIImage ( ciImage : myOutputImage ) // \u518d\u63cf\u753b. myImageView . setNeedsDisplay () } }","title":"Swift 3.0"},{"location":"9.coreimage/011_coreimage/#swift-23","text":"1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 // // ViewController.swift // CoreImage011 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import CoreImage class ViewController : UIViewController { // 1\u679a\u76ee\u306e\u753b\u50cf. let myInputImage1 = CIImage ( image : UIImage ( named : \"sample1\" ) ! ) // 2\u679a\u76ee\u306e\u753b\u50cf. let myInputImage2 = CIImage ( image : UIImage ( named : \"sample2\" ) ! ) // ImageView. var myImageView : UIImageView ! // \u30dc\u30bf\u30f3. let myButton : UIButton = UIButton () override func viewDidLoad () { super . viewDidLoad () // UIImageView\u306e\u751f\u6210. myImageView = UIImageView ( frame : CGRectMake ( 0 , 0 , self . view . frame . size . width , self . view . frame . size . height )) myImageView . image = UIImage ( CIImage : myInputImage1 !) self . view . addSubview ( myImageView ) // \u30dc\u30bf\u30f3. myButton . frame = CGRectMake ( 0 , 0 , 80 , 80 ) myButton . backgroundColor = UIColor . blackColor (); myButton . layer . masksToBounds = true myButton . setTitle ( \"\u30d6\u30ec\u30f3\u30c9\" , forState : UIControlState . Normal ) myButton . titleLabel ?. font = UIFont . systemFontOfSize ( UIFont . smallSystemFontSize ()) myButton . setTitleColor ( UIColor . whiteColor (), forState : UIControlState . Normal ) myButton . layer . cornerRadius = 40.0 myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 50 ) myButton . tag = 1 myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : . TouchUpInside ) // \u80cc\u666f\u8272\u3092\u9ed2. self . view . backgroundColor = UIColor . blackColor () // UI\u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0. self . view . addSubview ( myButton ); } // \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8. func onClickMyButton ( sender : UIButton ){ // \u30ab\u30e9\u30fc\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u6307\u5b9a\u3057\u3066CIFilter\u3092\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316. let myComposeFilter = CIFilter ( name : \"CIMinimumCompositing\" ) // \u30a4\u30e1\u30fc\u30b8\u306e\u30bb\u30c3\u30c8. myComposeFilter !. setValue ( myInputImage1 , forKey : kCIInputImageKey ) myComposeFilter !. setValue ( myInputImage2 , forKey : kCIInputBackgroundImageKey ) // \u30d5\u30a3\u30eb\u30bf\u30fc\u3092\u901a\u3057\u305f\u753b\u50cf\u3092\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8. let myOutputImage : CIImage = myComposeFilter !. outputImage ! // \u518d\u3073UIView\u306b\u30bb\u30c3\u30c8. myImageView . image = UIImage ( CIImage : myOutputImage ) // \u518d\u63cf\u753b. myImageView . setNeedsDisplay () } }","title":"Swift 2.3"},{"location":"9.coreimage/011_coreimage/#2x3x","text":"init(CIImage:) \u304b\u3089 init(ciImage:) \u306b\u5909\u66f4","title":"2.x\u30683.x\u306e\u5dee\u5206"},{"location":"9.coreimage/011_coreimage/#reference","text":"CIFilter https://developer.apple.com/reference/coreimage/cifilter CIImage https://developer.apple.com/reference/coreimage/ciimage","title":"Reference"},{"location":"9.coreimage/012_coreimage/","text":"\u30b3\u30d4\u30fc\u30de\u30b7\u30f3\u30c8\u30e9\u30f3\u30b8\u30b7\u30e7\u30f3\u30d5\u30a3\u30eb\u30bf\u51e6\u7406 Swift 3.0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 // // ViewController.swift // CoreImage012 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import CoreImage import Foundation extension UIImage { class func Resize\u00dcIImage ( image : UIImage , width : CGFloat , height : CGFloat )-> UIImage !{ // \u6307\u5b9a\u3055\u308c\u305f\u753b\u50cf\u306e\u5927\u304d\u3055\u306e\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u7528\u610f. UIGraphicsBeginImageContext ( CGSize ( width : width , height : height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u306b\u753b\u50cf\u3092\u63cf\u753b\u3059\u308b. image . draw ( in : CGRect ( x : 0 , y : 0 , width : width , height : height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u304b\u3089UIImage\u3092\u4f5c\u308b. let newImage = UIGraphicsGetImageFromCurrentImageContext () // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u9589\u3058\u308b. UIGraphicsGetImageFromCurrentImageContext () return newImage } } class ViewController : UIViewController { // UIImageViewn\u306e\u751f\u6210. var myImageView : UIImageView ! var count = 0.0 var myTime = NSNumber ( value : 0.0 ) let myFilter = CIFilter ( name : \"CICopyMachineTransition\" ) // \u753b\u50cf\u9077\u79fb\u306e\u6642\u9593\u51e6\u7406. func update ( timer : Timer ) { count += 0.1 myTime = count myFilter !. setValue ( myTime , forKey : kCIInputTimeKey ) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092\u5f97\u308b. let myOutputImage = UIImage ( ciImage : myFilter !. outputImage !) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092UIImageView\u306b\u8a2d\u5b9a. myImageView . image = myOutputImage } override func viewDidLoad () { // UIImageView\u3092\u751f\u6210. myImageView = UIImageView ( frame : self . view . bounds ) self . view . addSubview ( myImageView ) // \u5909\u63db\u5143\u306e\u753b\u50cf\u3068\u9077\u79fb\u306e\u7d42\u7740\u70b9\u306e\u753b\u50cf\u3092\u751f\u6210. let CIImage1 = CIImage ( image : UIImage . Resize\u00dcIImage ( image : UIImage ( named : \"sample1\" ) ! , width : self . view . frame . maxX , height : self . view . frame . maxY )) let CIImage2 = CIImage ( image : UIImage . Resize\u00dcIImage ( image : UIImage ( named : \"sample2\" ) ! , width : self . view . frame . maxX , height : self . view . frame . maxY )) // \u30c8\u30e9\u30f3\u30b8\u30b7\u30e7\u30f3\u30ab\u30e9\u30fc\u306e\u6307\u5b9a. let myColor = CIColor ( color : UIColor . green ) // \u30b3\u30d4\u30fc\u30de\u30b7\u30f3\u8981\u7d20\u306e\u89d2\u5ea6\u3092\u6307\u5b9a\u3059\u308b\u30c7\u30d5\u30a9\u30eb\u30c8\u306f0. let myAngle = NSNumber ( value : 0 ) // \u30b3\u30d4\u30fc\u30de\u30b7\u30f3\u8981\u7d20\u306e\u5e45\u3092\u6307\u5b9a\u3059\u308b\u30c7\u30d5\u30a9\u30eb\u30c8\u306f1000. let myWidth = NSNumber ( value : 200 ) myFilter !. setValue ( myColor , forKey : kCIInputColorKey ) myFilter !. setValue ( myAngle , forKey : kCIInputAngleKey ) myFilter !. setValue ( myWidth , forKey : kCIInputWidthKey ) myFilter !. setValue ( CIImage1 , forKey : kCIInputImageKey ) myFilter !. setValue ( CIImage2 , forKey : kCIInputTargetImageKey ) // Nstimer\u306e\u8a2d\u5b9a. Timer . scheduledTimer ( timeInterval : 0.001 , target : self , selector : #selector ( ViewController . update ( timer :)), userInfo : nil , repeats : true ) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092\u5f97\u308b. let myOutputImage = UIImage ( ciImage : myFilter !. outputImage !) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092UIImageView\u306b\u8a2d\u5b9a. myImageView . image = myOutputImage } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 // // ViewController.swift // CoreImage012 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import CoreImage import Foundation extension UIImage { class func Resize\u00dcIImage ( image : UIImage , width : CGFloat , height : CGFloat )-> UIImage !{ // \u6307\u5b9a\u3055\u308c\u305f\u753b\u50cf\u306e\u5927\u304d\u3055\u306e\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u7528\u610f. UIGraphicsBeginImageContext ( CGSizeMake ( width , height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u306b\u753b\u50cf\u3092\u63cf\u753b\u3059\u308b. image . drawInRect ( CGRectMake ( 0 , 0 , width , height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u304b\u3089UIImage\u3092\u4f5c\u308b. let newImage = UIGraphicsGetImageFromCurrentImageContext () // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u9589\u3058\u308b. UIGraphicsGetImageFromCurrentImageContext () return newImage } } class ViewController : UIViewController { // UIImageViewn\u306e\u751f\u6210. var myImageView : UIImageView ! var count = 0.0 var myTime = NSNumber ( double : 0.0 ) let myFilter = CIFilter ( name : \"CICopyMachineTransition\" ) // \u753b\u50cf\u9077\u79fb\u306e\u6642\u9593\u51e6\u7406. func update ( timer : NSTimer ) { count += 0.1 myTime = count myFilter !. setValue ( myTime , forKey : kCIInputTimeKey ) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092\u5f97\u308b. let myOutputImage = UIImage ( CIImage : myFilter !. outputImage !) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092UIImageView\u306b\u8a2d\u5b9a. myImageView . image = myOutputImage } override func viewDidLoad () { // UIImageView\u3092\u751f\u6210. myImageView = UIImageView ( frame : self . view . bounds ) self . view . addSubview ( myImageView ) // \u5909\u63db\u5143\u306e\u753b\u50cf\u3068\u9077\u79fb\u306e\u7d42\u7740\u70b9\u306e\u753b\u50cf\u3092\u751f\u6210. let CIImage1 = CIImage ( image : UIImage . Resize\u00dcIImage ( UIImage ( named : \"sample1\" ) ! , width : self . view . frame . maxX , height : self . view . frame . maxY )) let CIImage2 = CIImage ( image : UIImage . Resize\u00dcIImage ( UIImage ( named : \"sample2\" ) ! , width : self . view . frame . maxX , height : self . view . frame . maxY )) // \u30c8\u30e9\u30f3\u30b8\u30b7\u30e7\u30f3\u30ab\u30e9\u30fc\u306e\u6307\u5b9a. let myColor = CIColor ( color : UIColor . greenColor ()) // \u30b3\u30d4\u30fc\u30de\u30b7\u30f3\u8981\u7d20\u306e\u89d2\u5ea6\u3092\u6307\u5b9a\u3059\u308b\u30c7\u30d5\u30a9\u30eb\u30c8\u306f0. let myAngle = NSNumber ( double : 0 ) // \u30b3\u30d4\u30fc\u30de\u30b7\u30f3\u8981\u7d20\u306e\u5e45\u3092\u6307\u5b9a\u3059\u308b\u30c7\u30d5\u30a9\u30eb\u30c8\u306f1000. let myWidth = NSNumber ( double : 200 ) myFilter !. setValue ( myColor , forKey : kCIInputColorKey ) myFilter !. setValue ( myAngle , forKey : kCIInputAngleKey ) myFilter !. setValue ( myWidth , forKey : kCIInputWidthKey ) myFilter !. setValue ( CIImage1 , forKey : kCIInputImageKey ) myFilter !. setValue ( CIImage2 , forKey : kCIInputTargetImageKey ) // Nstimer\u306e\u8a2d\u5b9a. NSTimer . scheduledTimerWithTimeInterval ( 0.001 , target : self , selector : #selector ( ViewController . update ( _ :)), userInfo : nil , repeats : true ) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092\u5f97\u308b. let myOutputImage = UIImage ( CIImage : myFilter !. outputImage !) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092UIImageView\u306b\u8a2d\u5b9a. myImageView . image = myOutputImage } } 2.x\u30683.x\u306e\u5dee\u5206 init(CIImage:) \u304b\u3089 init(ciImage:) \u306b\u5909\u66f4 scheduledTimerWithTimeInterval \u304b\u3089 scheduledTimer \u306b\u5909\u66f4 Reference CIFilter https://developer.apple.com/reference/coreimage/cifilter CIImage https://developer.apple.com/reference/coreimage/ciimage","title":"\u30b3\u30d4\u30fc\u30de\u30b7\u30f3\u30c8\u30e9\u30f3\u30b8\u30b7\u30e7\u30f3\u30d5\u30a3\u30eb\u30bf\u51e6\u7406"},{"location":"9.coreimage/012_coreimage/#_1","text":"","title":"\u30b3\u30d4\u30fc\u30de\u30b7\u30f3\u30c8\u30e9\u30f3\u30b8\u30b7\u30e7\u30f3\u30d5\u30a3\u30eb\u30bf\u51e6\u7406"},{"location":"9.coreimage/012_coreimage/#swift-30","text":"1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 // // ViewController.swift // CoreImage012 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import CoreImage import Foundation extension UIImage { class func Resize\u00dcIImage ( image : UIImage , width : CGFloat , height : CGFloat )-> UIImage !{ // \u6307\u5b9a\u3055\u308c\u305f\u753b\u50cf\u306e\u5927\u304d\u3055\u306e\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u7528\u610f. UIGraphicsBeginImageContext ( CGSize ( width : width , height : height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u306b\u753b\u50cf\u3092\u63cf\u753b\u3059\u308b. image . draw ( in : CGRect ( x : 0 , y : 0 , width : width , height : height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u304b\u3089UIImage\u3092\u4f5c\u308b. let newImage = UIGraphicsGetImageFromCurrentImageContext () // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u9589\u3058\u308b. UIGraphicsGetImageFromCurrentImageContext () return newImage } } class ViewController : UIViewController { // UIImageViewn\u306e\u751f\u6210. var myImageView : UIImageView ! var count = 0.0 var myTime = NSNumber ( value : 0.0 ) let myFilter = CIFilter ( name : \"CICopyMachineTransition\" ) // \u753b\u50cf\u9077\u79fb\u306e\u6642\u9593\u51e6\u7406. func update ( timer : Timer ) { count += 0.1 myTime = count myFilter !. setValue ( myTime , forKey : kCIInputTimeKey ) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092\u5f97\u308b. let myOutputImage = UIImage ( ciImage : myFilter !. outputImage !) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092UIImageView\u306b\u8a2d\u5b9a. myImageView . image = myOutputImage } override func viewDidLoad () { // UIImageView\u3092\u751f\u6210. myImageView = UIImageView ( frame : self . view . bounds ) self . view . addSubview ( myImageView ) // \u5909\u63db\u5143\u306e\u753b\u50cf\u3068\u9077\u79fb\u306e\u7d42\u7740\u70b9\u306e\u753b\u50cf\u3092\u751f\u6210. let CIImage1 = CIImage ( image : UIImage . Resize\u00dcIImage ( image : UIImage ( named : \"sample1\" ) ! , width : self . view . frame . maxX , height : self . view . frame . maxY )) let CIImage2 = CIImage ( image : UIImage . Resize\u00dcIImage ( image : UIImage ( named : \"sample2\" ) ! , width : self . view . frame . maxX , height : self . view . frame . maxY )) // \u30c8\u30e9\u30f3\u30b8\u30b7\u30e7\u30f3\u30ab\u30e9\u30fc\u306e\u6307\u5b9a. let myColor = CIColor ( color : UIColor . green ) // \u30b3\u30d4\u30fc\u30de\u30b7\u30f3\u8981\u7d20\u306e\u89d2\u5ea6\u3092\u6307\u5b9a\u3059\u308b\u30c7\u30d5\u30a9\u30eb\u30c8\u306f0. let myAngle = NSNumber ( value : 0 ) // \u30b3\u30d4\u30fc\u30de\u30b7\u30f3\u8981\u7d20\u306e\u5e45\u3092\u6307\u5b9a\u3059\u308b\u30c7\u30d5\u30a9\u30eb\u30c8\u306f1000. let myWidth = NSNumber ( value : 200 ) myFilter !. setValue ( myColor , forKey : kCIInputColorKey ) myFilter !. setValue ( myAngle , forKey : kCIInputAngleKey ) myFilter !. setValue ( myWidth , forKey : kCIInputWidthKey ) myFilter !. setValue ( CIImage1 , forKey : kCIInputImageKey ) myFilter !. setValue ( CIImage2 , forKey : kCIInputTargetImageKey ) // Nstimer\u306e\u8a2d\u5b9a. Timer . scheduledTimer ( timeInterval : 0.001 , target : self , selector : #selector ( ViewController . update ( timer :)), userInfo : nil , repeats : true ) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092\u5f97\u308b. let myOutputImage = UIImage ( ciImage : myFilter !. outputImage !) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092UIImageView\u306b\u8a2d\u5b9a. myImageView . image = myOutputImage } }","title":"Swift 3.0"},{"location":"9.coreimage/012_coreimage/#swift-23","text":"1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 // // ViewController.swift // CoreImage012 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import CoreImage import Foundation extension UIImage { class func Resize\u00dcIImage ( image : UIImage , width : CGFloat , height : CGFloat )-> UIImage !{ // \u6307\u5b9a\u3055\u308c\u305f\u753b\u50cf\u306e\u5927\u304d\u3055\u306e\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u7528\u610f. UIGraphicsBeginImageContext ( CGSizeMake ( width , height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u306b\u753b\u50cf\u3092\u63cf\u753b\u3059\u308b. image . drawInRect ( CGRectMake ( 0 , 0 , width , height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u304b\u3089UIImage\u3092\u4f5c\u308b. let newImage = UIGraphicsGetImageFromCurrentImageContext () // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u9589\u3058\u308b. UIGraphicsGetImageFromCurrentImageContext () return newImage } } class ViewController : UIViewController { // UIImageViewn\u306e\u751f\u6210. var myImageView : UIImageView ! var count = 0.0 var myTime = NSNumber ( double : 0.0 ) let myFilter = CIFilter ( name : \"CICopyMachineTransition\" ) // \u753b\u50cf\u9077\u79fb\u306e\u6642\u9593\u51e6\u7406. func update ( timer : NSTimer ) { count += 0.1 myTime = count myFilter !. setValue ( myTime , forKey : kCIInputTimeKey ) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092\u5f97\u308b. let myOutputImage = UIImage ( CIImage : myFilter !. outputImage !) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092UIImageView\u306b\u8a2d\u5b9a. myImageView . image = myOutputImage } override func viewDidLoad () { // UIImageView\u3092\u751f\u6210. myImageView = UIImageView ( frame : self . view . bounds ) self . view . addSubview ( myImageView ) // \u5909\u63db\u5143\u306e\u753b\u50cf\u3068\u9077\u79fb\u306e\u7d42\u7740\u70b9\u306e\u753b\u50cf\u3092\u751f\u6210. let CIImage1 = CIImage ( image : UIImage . Resize\u00dcIImage ( UIImage ( named : \"sample1\" ) ! , width : self . view . frame . maxX , height : self . view . frame . maxY )) let CIImage2 = CIImage ( image : UIImage . Resize\u00dcIImage ( UIImage ( named : \"sample2\" ) ! , width : self . view . frame . maxX , height : self . view . frame . maxY )) // \u30c8\u30e9\u30f3\u30b8\u30b7\u30e7\u30f3\u30ab\u30e9\u30fc\u306e\u6307\u5b9a. let myColor = CIColor ( color : UIColor . greenColor ()) // \u30b3\u30d4\u30fc\u30de\u30b7\u30f3\u8981\u7d20\u306e\u89d2\u5ea6\u3092\u6307\u5b9a\u3059\u308b\u30c7\u30d5\u30a9\u30eb\u30c8\u306f0. let myAngle = NSNumber ( double : 0 ) // \u30b3\u30d4\u30fc\u30de\u30b7\u30f3\u8981\u7d20\u306e\u5e45\u3092\u6307\u5b9a\u3059\u308b\u30c7\u30d5\u30a9\u30eb\u30c8\u306f1000. let myWidth = NSNumber ( double : 200 ) myFilter !. setValue ( myColor , forKey : kCIInputColorKey ) myFilter !. setValue ( myAngle , forKey : kCIInputAngleKey ) myFilter !. setValue ( myWidth , forKey : kCIInputWidthKey ) myFilter !. setValue ( CIImage1 , forKey : kCIInputImageKey ) myFilter !. setValue ( CIImage2 , forKey : kCIInputTargetImageKey ) // Nstimer\u306e\u8a2d\u5b9a. NSTimer . scheduledTimerWithTimeInterval ( 0.001 , target : self , selector : #selector ( ViewController . update ( _ :)), userInfo : nil , repeats : true ) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092\u5f97\u308b. let myOutputImage = UIImage ( CIImage : myFilter !. outputImage !) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092UIImageView\u306b\u8a2d\u5b9a. myImageView . image = myOutputImage } }","title":"Swift 2.3"},{"location":"9.coreimage/012_coreimage/#2x3x","text":"init(CIImage:) \u304b\u3089 init(ciImage:) \u306b\u5909\u66f4 scheduledTimerWithTimeInterval \u304b\u3089 scheduledTimer \u306b\u5909\u66f4","title":"2.x\u30683.x\u306e\u5dee\u5206"},{"location":"9.coreimage/012_coreimage/#reference","text":"CIFilter https://developer.apple.com/reference/coreimage/cifilter CIImage https://developer.apple.com/reference/coreimage/ciimage","title":"Reference"},{"location":"9.coreimage/013_coreimage/","text":"\u30b9\u30ef\u30a4\u30d7\u30c8\u30e9\u30f3\u30b8\u30b7\u30e7\u30f3\u30d5\u30a3\u30eb\u30bf\u51e6\u7406 Swift 3.0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 // // ViewController.swift // CoreImage013 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import CoreImage import Foundation extension UIImage { class func Resize\u00dcIImage ( image : UIImage , width : CGFloat , height : CGFloat )-> UIImage !{ // \u6307\u5b9a\u3055\u308c\u305f\u753b\u50cf\u306e\u5927\u304d\u3055\u306e\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u7528\u610f. UIGraphicsBeginImageContext ( CGSize ( width : width , height : height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u306b\u753b\u50cf\u3092\u63cf\u753b. image . draw ( in : CGRect ( x : 0 , y : 0 , width : width , height : height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u304b\u3089UIImage\u3092\u751f\u6210. let newImage = UIGraphicsGetImageFromCurrentImageContext () // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u9589\u3058\u308b. UIGraphicsGetImageFromCurrentImageContext () return newImage } } class ViewController : UIViewController { // UIImageViewn\u306e\u751f\u6210. var myImageView : UIImageView ! var count = 0.0 var myTime = NSNumber ( value : 0.0 ) let myFilter = CIFilter ( name : \"CISwipeTransition\" ) // \u753b\u50cf\u9077\u79fb\u306e\u6642\u9593\u51e6\u7406. func update ( timer : Timer ) { count += 0.15 myTime = count myFilter !. setValue ( myTime , forKey : kCIInputTimeKey ) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092\u5f97\u308b. let myOutputImage = UIImage ( ciImage : myFilter !. outputImage !) //\u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092UIImageView\u306b\u8a2d\u5b9a\u3059\u308b. myImageView . image = myOutputImage } override func viewDidLoad () { // UIImageView\u3092\u4f5c\u308b. myImageView = UIImageView ( frame : self . view . bounds ) self . view . addSubview ( myImageView ) // \u5909\u63db\u5143\u306e\u753b\u50cf\u3068\u9077\u79fb\u306e\u7d42\u7740\u70b9\u306e\u753b\u50cf\u3092\u4f5c\u308b. let CIImage1 = CIImage ( image : UIImage . Resize\u00dcIImage ( image : UIImage ( named : \"sample1\" ) ! , width : self . view . frame . maxX , height : self . view . frame . maxY )) let CIImage2 = CIImage ( image : UIImage . Resize\u00dcIImage ( image : UIImage ( named : \"sample2\" ) ! , width : self . view . frame . maxX , height : self . view . frame . maxY )) // \u30d5\u30a3\u30eb\u30bf\u51e6\u7406\u306e\u89d2\u5ea6\u3092\u6307\u5b9a\u3059\u308b. let myAngle = NSNumber ( value : 0.6 ) // \u30d5\u30a3\u30eb\u30bf\u51e6\u7406\u306e\u5e45\u3092\u6307\u5b9a\u3059\u308b. let myWidth = NSNumber ( value : 200 ) myFilter !. setValue ( myWidth , forKey : kCIInputWidthKey ) myFilter !. setValue ( myAngle , forKey : kCIInputAngleKey ) myFilter !. setValue ( CIImage1 , forKey : kCIInputImageKey ) myFilter !. setValue ( CIImage2 , forKey : kCIInputTargetImageKey ) // Nstimer\u306e\u8a2d\u5b9a. Timer . scheduledTimer ( timeInterval : 1 , target : self , selector : #selector ( ViewController . update ( timer :)), userInfo : nil , repeats : true ) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092\u5f97\u308b. let myOutputImage = UIImage ( ciImage : myFilter !. outputImage !) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092UIImageView\u306b\u8a2d\u5b9a. myImageView . image = myOutputImage } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 // // ViewController.swift // CoreImage013 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import CoreImage import Foundation extension UIImage { class func Resize\u00dcIImage ( image : UIImage , width : CGFloat , height : CGFloat )-> UIImage !{ // \u6307\u5b9a\u3055\u308c\u305f\u753b\u50cf\u306e\u5927\u304d\u3055\u306e\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u7528\u610f. UIGraphicsBeginImageContext ( CGSizeMake ( width , height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u306b\u753b\u50cf\u3092\u63cf\u753b. image . drawInRect ( CGRectMake ( 0 , 0 , width , height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u304b\u3089UIImage\u3092\u751f\u6210. let newImage = UIGraphicsGetImageFromCurrentImageContext () // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u9589\u3058\u308b. UIGraphicsGetImageFromCurrentImageContext () return newImage } } class ViewController : UIViewController { // UIImageViewn\u306e\u751f\u6210. var myImageView : UIImageView ! var count = 0.0 var myTime = NSNumber ( double : 0.0 ) let myFilter = CIFilter ( name : \"CISwipeTransition\" ) // \u753b\u50cf\u9077\u79fb\u306e\u6642\u9593\u51e6\u7406. func update ( timer : NSTimer ) { count += 0.15 myTime = count myFilter !. setValue ( myTime , forKey : kCIInputTimeKey ) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092\u5f97\u308b. let myOutputImage = UIImage ( CIImage : myFilter !. outputImage !) //\u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092UIImageView\u306b\u8a2d\u5b9a\u3059\u308b. myImageView . image = myOutputImage } override func viewDidLoad () { // UIImageView\u3092\u4f5c\u308b. myImageView = UIImageView ( frame : self . view . bounds ) self . view . addSubview ( myImageView ) // \u5909\u63db\u5143\u306e\u753b\u50cf\u3068\u9077\u79fb\u306e\u7d42\u7740\u70b9\u306e\u753b\u50cf\u3092\u4f5c\u308b. let CIImage1 = CIImage ( image : UIImage . Resize\u00dcIImage ( UIImage ( named : \"sample1\" ) ! , width : self . view . frame . maxX , height : self . view . frame . maxY )) let CIImage2 = CIImage ( image : UIImage . Resize\u00dcIImage ( UIImage ( named : \"sample2\" ) ! , width : self . view . frame . maxX , height : self . view . frame . maxY )) // \u30d5\u30a3\u30eb\u30bf\u51e6\u7406\u306e\u89d2\u5ea6\u3092\u6307\u5b9a\u3059\u308b. let myAngle = NSNumber ( double : 0.6 ) // \u30d5\u30a3\u30eb\u30bf\u51e6\u7406\u306e\u5e45\u3092\u6307\u5b9a\u3059\u308b. let myWidth = NSNumber ( double : 200 ) myFilter !. setValue ( myWidth , forKey : kCIInputWidthKey ) myFilter !. setValue ( myAngle , forKey : kCIInputAngleKey ) myFilter !. setValue ( CIImage1 , forKey : kCIInputImageKey ) myFilter !. setValue ( CIImage2 , forKey : kCIInputTargetImageKey ) // Nstimer\u306e\u8a2d\u5b9a. NSTimer . scheduledTimerWithTimeInterval ( 1 , target : self , selector : #selector ( ViewController . update ( _ :)), userInfo : nil , repeats : true ) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092\u5f97\u308b. let myOutputImage = UIImage ( CIImage : myFilter !. outputImage !) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092UIImageView\u306b\u8a2d\u5b9a. myImageView . image = myOutputImage } } 2.x\u30683.x\u306e\u5dee\u5206 init(CIImage:) \u304b\u3089 init(ciImage:) \u306b\u5909\u66f4 scheduledTimerWithTimeInterval \u304b\u3089 scheduledTimer \u306b\u5909\u66f4 Reference CIFilter https://developer.apple.com/reference/coreimage/cifilter CIImage https://developer.apple.com/reference/coreimage/ciimage","title":"\u30b9\u30ef\u30a4\u30d7\u30c8\u30e9\u30f3\u30b8\u30b7\u30e7\u30f3\u30d5\u30a3\u30eb\u30bf\u51e6\u7406"},{"location":"9.coreimage/013_coreimage/#_1","text":"","title":"\u30b9\u30ef\u30a4\u30d7\u30c8\u30e9\u30f3\u30b8\u30b7\u30e7\u30f3\u30d5\u30a3\u30eb\u30bf\u51e6\u7406"},{"location":"9.coreimage/013_coreimage/#swift-30","text":"1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 // // ViewController.swift // CoreImage013 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import CoreImage import Foundation extension UIImage { class func Resize\u00dcIImage ( image : UIImage , width : CGFloat , height : CGFloat )-> UIImage !{ // \u6307\u5b9a\u3055\u308c\u305f\u753b\u50cf\u306e\u5927\u304d\u3055\u306e\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u7528\u610f. UIGraphicsBeginImageContext ( CGSize ( width : width , height : height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u306b\u753b\u50cf\u3092\u63cf\u753b. image . draw ( in : CGRect ( x : 0 , y : 0 , width : width , height : height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u304b\u3089UIImage\u3092\u751f\u6210. let newImage = UIGraphicsGetImageFromCurrentImageContext () // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u9589\u3058\u308b. UIGraphicsGetImageFromCurrentImageContext () return newImage } } class ViewController : UIViewController { // UIImageViewn\u306e\u751f\u6210. var myImageView : UIImageView ! var count = 0.0 var myTime = NSNumber ( value : 0.0 ) let myFilter = CIFilter ( name : \"CISwipeTransition\" ) // \u753b\u50cf\u9077\u79fb\u306e\u6642\u9593\u51e6\u7406. func update ( timer : Timer ) { count += 0.15 myTime = count myFilter !. setValue ( myTime , forKey : kCIInputTimeKey ) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092\u5f97\u308b. let myOutputImage = UIImage ( ciImage : myFilter !. outputImage !) //\u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092UIImageView\u306b\u8a2d\u5b9a\u3059\u308b. myImageView . image = myOutputImage } override func viewDidLoad () { // UIImageView\u3092\u4f5c\u308b. myImageView = UIImageView ( frame : self . view . bounds ) self . view . addSubview ( myImageView ) // \u5909\u63db\u5143\u306e\u753b\u50cf\u3068\u9077\u79fb\u306e\u7d42\u7740\u70b9\u306e\u753b\u50cf\u3092\u4f5c\u308b. let CIImage1 = CIImage ( image : UIImage . Resize\u00dcIImage ( image : UIImage ( named : \"sample1\" ) ! , width : self . view . frame . maxX , height : self . view . frame . maxY )) let CIImage2 = CIImage ( image : UIImage . Resize\u00dcIImage ( image : UIImage ( named : \"sample2\" ) ! , width : self . view . frame . maxX , height : self . view . frame . maxY )) // \u30d5\u30a3\u30eb\u30bf\u51e6\u7406\u306e\u89d2\u5ea6\u3092\u6307\u5b9a\u3059\u308b. let myAngle = NSNumber ( value : 0.6 ) // \u30d5\u30a3\u30eb\u30bf\u51e6\u7406\u306e\u5e45\u3092\u6307\u5b9a\u3059\u308b. let myWidth = NSNumber ( value : 200 ) myFilter !. setValue ( myWidth , forKey : kCIInputWidthKey ) myFilter !. setValue ( myAngle , forKey : kCIInputAngleKey ) myFilter !. setValue ( CIImage1 , forKey : kCIInputImageKey ) myFilter !. setValue ( CIImage2 , forKey : kCIInputTargetImageKey ) // Nstimer\u306e\u8a2d\u5b9a. Timer . scheduledTimer ( timeInterval : 1 , target : self , selector : #selector ( ViewController . update ( timer :)), userInfo : nil , repeats : true ) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092\u5f97\u308b. let myOutputImage = UIImage ( ciImage : myFilter !. outputImage !) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092UIImageView\u306b\u8a2d\u5b9a. myImageView . image = myOutputImage } }","title":"Swift 3.0"},{"location":"9.coreimage/013_coreimage/#swift-23","text":"1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 // // ViewController.swift // CoreImage013 // // Created by Misato Morino on 2016/08/15. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import CoreImage import Foundation extension UIImage { class func Resize\u00dcIImage ( image : UIImage , width : CGFloat , height : CGFloat )-> UIImage !{ // \u6307\u5b9a\u3055\u308c\u305f\u753b\u50cf\u306e\u5927\u304d\u3055\u306e\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u7528\u610f. UIGraphicsBeginImageContext ( CGSizeMake ( width , height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u306b\u753b\u50cf\u3092\u63cf\u753b. image . drawInRect ( CGRectMake ( 0 , 0 , width , height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u304b\u3089UIImage\u3092\u751f\u6210. let newImage = UIGraphicsGetImageFromCurrentImageContext () // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u9589\u3058\u308b. UIGraphicsGetImageFromCurrentImageContext () return newImage } } class ViewController : UIViewController { // UIImageViewn\u306e\u751f\u6210. var myImageView : UIImageView ! var count = 0.0 var myTime = NSNumber ( double : 0.0 ) let myFilter = CIFilter ( name : \"CISwipeTransition\" ) // \u753b\u50cf\u9077\u79fb\u306e\u6642\u9593\u51e6\u7406. func update ( timer : NSTimer ) { count += 0.15 myTime = count myFilter !. setValue ( myTime , forKey : kCIInputTimeKey ) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092\u5f97\u308b. let myOutputImage = UIImage ( CIImage : myFilter !. outputImage !) //\u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092UIImageView\u306b\u8a2d\u5b9a\u3059\u308b. myImageView . image = myOutputImage } override func viewDidLoad () { // UIImageView\u3092\u4f5c\u308b. myImageView = UIImageView ( frame : self . view . bounds ) self . view . addSubview ( myImageView ) // \u5909\u63db\u5143\u306e\u753b\u50cf\u3068\u9077\u79fb\u306e\u7d42\u7740\u70b9\u306e\u753b\u50cf\u3092\u4f5c\u308b. let CIImage1 = CIImage ( image : UIImage . Resize\u00dcIImage ( UIImage ( named : \"sample1\" ) ! , width : self . view . frame . maxX , height : self . view . frame . maxY )) let CIImage2 = CIImage ( image : UIImage . Resize\u00dcIImage ( UIImage ( named : \"sample2\" ) ! , width : self . view . frame . maxX , height : self . view . frame . maxY )) // \u30d5\u30a3\u30eb\u30bf\u51e6\u7406\u306e\u89d2\u5ea6\u3092\u6307\u5b9a\u3059\u308b. let myAngle = NSNumber ( double : 0.6 ) // \u30d5\u30a3\u30eb\u30bf\u51e6\u7406\u306e\u5e45\u3092\u6307\u5b9a\u3059\u308b. let myWidth = NSNumber ( double : 200 ) myFilter !. setValue ( myWidth , forKey : kCIInputWidthKey ) myFilter !. setValue ( myAngle , forKey : kCIInputAngleKey ) myFilter !. setValue ( CIImage1 , forKey : kCIInputImageKey ) myFilter !. setValue ( CIImage2 , forKey : kCIInputTargetImageKey ) // Nstimer\u306e\u8a2d\u5b9a. NSTimer . scheduledTimerWithTimeInterval ( 1 , target : self , selector : #selector ( ViewController . update ( _ :)), userInfo : nil , repeats : true ) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092\u5f97\u308b. let myOutputImage = UIImage ( CIImage : myFilter !. outputImage !) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092UIImageView\u306b\u8a2d\u5b9a. myImageView . image = myOutputImage } }","title":"Swift 2.3"},{"location":"9.coreimage/013_coreimage/#2x3x","text":"init(CIImage:) \u304b\u3089 init(ciImage:) \u306b\u5909\u66f4 scheduledTimerWithTimeInterval \u304b\u3089 scheduledTimer \u306b\u5909\u66f4","title":"2.x\u30683.x\u306e\u5dee\u5206"},{"location":"9.coreimage/013_coreimage/#reference","text":"CIFilter https://developer.apple.com/reference/coreimage/cifilter CIImage https://developer.apple.com/reference/coreimage/ciimage","title":"Reference"},{"location":"9.coreimage/014_coreimage/","text":"\u30d0\u30fc\u30b9\u30ef\u30a4\u30d7\u30c8\u30e9\u30f3\u30b8\u30b7\u30e7\u30f3\u30d5\u30a3\u30eb\u30bf\u51e6\u7406 Swift 3.0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 // // ViewController.swift // CoreImage014 // // Created by Misato Morino on 2016/09/19. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import CoreImage import Foundation extension UIImage { class func Resize\u00dcIImage ( image : UIImage , width : CGFloat , height : CGFloat )-> UIImage !{ // \u6307\u5b9a\u3055\u308c\u305f\u753b\u50cf\u306e\u5927\u304d\u3055\u306e\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u7528\u610f. UIGraphicsBeginImageContext ( CGSize ( width : width , height : height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u306b\u753b\u50cf\u3092\u63cf\u753b\u3059\u308b. image . draw ( in : CGRect ( x : 0 , y : 0 , width : width , height : height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u304b\u3089UIImage\u3092\u4f5c\u308b. let newImage = UIGraphicsGetImageFromCurrentImageContext () // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u9589\u3058\u308b. UIGraphicsGetImageFromCurrentImageContext () return newImage } } class ViewController : UIViewController { // UIImageViewn\u306e\u751f\u6210. var myImageView : UIImageView ! var count = 0.0 var myTime = NSNumber ( value : 0.0 ) // CIBarSwipeTransition\u3092\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316. let myFilter = CIFilter ( name : \"CIBarsSwipeTransition\" ) // \u753b\u50cf\u9077\u79fb\u306e\u6642\u9593\u51e6\u7406. func update ( timer : Timer ) { count += 0.1 myTime = NSNumber ( value : count ) myFilter !. setValue ( myTime , forKey : kCIInputTimeKey ) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092\u5f97\u308b. let myOutputImage = UIImage ( ciImage : myFilter !. outputImage !) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092UIImageView\u306b\u8a2d\u5b9a\u3059\u308b. myImageView . image = myOutputImage } override func viewDidLoad () { // UIImageView\u3092\u751f\u6210. myImageView = UIImageView ( frame : self . view . bounds ) self . view . addSubview ( myImageView ) // \u5909\u63db\u5143\u306e\u753b\u50cf\u3068\u9077\u79fb\u306e\u7d42\u7740\u70b9\u306e\u753b\u50cf\u3092\u751f\u6210. let CIImage1 = CIImage ( image : UIImage . Resize\u00dcIImage ( image : UIImage ( named : \"sample1\" ) ! , width : self . view . frame . maxX , height : self . view . frame . maxY )) let CIImage2 = CIImage ( image : UIImage . Resize\u00dcIImage ( image : UIImage ( named : \"sample2\" ) ! , width : self . view . frame . maxX , height : self . view . frame . maxY )) let myAngle = NSNumber ( value : 3.14 ) let myWidth = NSNumber ( value : 30.00 ) myFilter !. setValue ( myAngle , forKey : kCIInputAngleKey ) myFilter !. setValue ( myWidth , forKey : kCIInputWidthKey ) myFilter !. setValue ( CIImage1 , forKey : kCIInputImageKey ) myFilter !. setValue ( CIImage2 , forKey : kCIInputTargetImageKey ) // Nstimer\u306e\u8a2d\u5b9a. Timer . scheduledTimer ( timeInterval : 0.001 , target : self , selector : #selector ( ViewController . update ( timer :)), userInfo : nil , repeats : true ) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092\u5f97\u308b. let myOutputImage = UIImage ( ciImage : myFilter !. outputImage !) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092UIImageView\u306b\u8a2d\u5b9a. myImageView . image = myOutputImage } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 // // ViewController.swift // CoreImage014 // // Created by Misato Morino on 2016/09/19. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import CoreImage import Foundation extension UIImage { class func Resize\u00dcIImage ( image : UIImage , width : CGFloat , height : CGFloat )-> UIImage !{ // \u6307\u5b9a\u3055\u308c\u305f\u753b\u50cf\u306e\u5927\u304d\u3055\u306e\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u7528\u610f. UIGraphicsBeginImageContext ( CGSizeMake ( width , height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u306b\u753b\u50cf\u3092\u63cf\u753b\u3059\u308b. image . drawInRect ( CGRectMake ( 0 , 0 , width , height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u304b\u3089UIImage\u3092\u4f5c\u308b. let newImage = UIGraphicsGetImageFromCurrentImageContext () // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u9589\u3058\u308b. UIGraphicsGetImageFromCurrentImageContext () return newImage } } class ViewController : UIViewController { // UIImageViewn\u306e\u751f\u6210. var myImageView : UIImageView ! var count = 0.0 var myTime = NSNumber ( double : 0.0 ) // CIBarSwipeTransition\u3092\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316. let myFilter = CIFilter ( name : \"CIBarsSwipeTransition\" ) // \u753b\u50cf\u9077\u79fb\u306e\u6642\u9593\u51e6\u7406. func update ( timer : NSTimer ) { count += 0.1 myTime = count myFilter !. setValue ( myTime , forKey : kCIInputTimeKey ) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092\u5f97\u308b. let myOutputImage = UIImage ( CIImage : myFilter !. outputImage !) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092UIImageView\u306b\u8a2d\u5b9a\u3059\u308b. myImageView . image = myOutputImage } override func viewDidLoad () { // UIImageView\u3092\u751f\u6210. myImageView = UIImageView ( frame : self . view . bounds ) self . view . addSubview ( myImageView ) // \u5909\u63db\u5143\u306e\u753b\u50cf\u3068\u9077\u79fb\u306e\u7d42\u7740\u70b9\u306e\u753b\u50cf\u3092\u751f\u6210. let CIImage1 = CIImage ( image : UIImage . Resize\u00dcIImage ( UIImage ( named : \"sample1\" ) ! , width : self . view . frame . maxX , height : self . view . frame . maxY )) let CIImage2 = CIImage ( image : UIImage . Resize\u00dcIImage ( UIImage ( named : \"sample2\" ) ! , width : self . view . frame . maxX , height : self . view . frame . maxY )) let myAngle = NSNumber ( double : 3.14 ) let myWidth = NSNumber ( double : 30.00 ) myFilter !. setValue ( myAngle , forKey : kCIInputAngleKey ) myFilter !. setValue ( myWidth , forKey : kCIInputWidthKey ) myFilter !. setValue ( CIImage1 , forKey : kCIInputImageKey ) myFilter !. setValue ( CIImage2 , forKey : kCIInputTargetImageKey ) // Nstimer\u306e\u8a2d\u5b9a. NSTimer . scheduledTimerWithTimeInterval ( 0.001 , target : self , selector : #selector ( ViewController . update ( _ :)), userInfo : nil , repeats : true ) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092\u5f97\u308b. let myOutputImage = UIImage ( CIImage : myFilter !. outputImage !) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092UIImageView\u306b\u8a2d\u5b9a. myImageView . image = myOutputImage } } 2.x\u30683.x\u306e\u5dee\u5206 init(CIImage:) \u304b\u3089 init(ciImage:) \u306b\u5909\u66f4 scheduledTimerWithTimeInterval \u304b\u3089 scheduledTimer \u306b\u5909\u66f4 Reference CIFilter https://developer.apple.com/reference/coreimage/cifilter CIImage https://developer.apple.com/reference/coreimage/ciimage","title":"\u30d0\u30fc\u30b9\u30ef\u30a4\u30d7\u30c8\u30e9\u30f3\u30b8\u30b7\u30e7\u30f3\u30d5\u30a3\u30eb\u30bf\u51e6\u7406"},{"location":"9.coreimage/014_coreimage/#_1","text":"","title":"\u30d0\u30fc\u30b9\u30ef\u30a4\u30d7\u30c8\u30e9\u30f3\u30b8\u30b7\u30e7\u30f3\u30d5\u30a3\u30eb\u30bf\u51e6\u7406"},{"location":"9.coreimage/014_coreimage/#swift-30","text":"1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 // // ViewController.swift // CoreImage014 // // Created by Misato Morino on 2016/09/19. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import CoreImage import Foundation extension UIImage { class func Resize\u00dcIImage ( image : UIImage , width : CGFloat , height : CGFloat )-> UIImage !{ // \u6307\u5b9a\u3055\u308c\u305f\u753b\u50cf\u306e\u5927\u304d\u3055\u306e\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u7528\u610f. UIGraphicsBeginImageContext ( CGSize ( width : width , height : height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u306b\u753b\u50cf\u3092\u63cf\u753b\u3059\u308b. image . draw ( in : CGRect ( x : 0 , y : 0 , width : width , height : height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u304b\u3089UIImage\u3092\u4f5c\u308b. let newImage = UIGraphicsGetImageFromCurrentImageContext () // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u9589\u3058\u308b. UIGraphicsGetImageFromCurrentImageContext () return newImage } } class ViewController : UIViewController { // UIImageViewn\u306e\u751f\u6210. var myImageView : UIImageView ! var count = 0.0 var myTime = NSNumber ( value : 0.0 ) // CIBarSwipeTransition\u3092\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316. let myFilter = CIFilter ( name : \"CIBarsSwipeTransition\" ) // \u753b\u50cf\u9077\u79fb\u306e\u6642\u9593\u51e6\u7406. func update ( timer : Timer ) { count += 0.1 myTime = NSNumber ( value : count ) myFilter !. setValue ( myTime , forKey : kCIInputTimeKey ) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092\u5f97\u308b. let myOutputImage = UIImage ( ciImage : myFilter !. outputImage !) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092UIImageView\u306b\u8a2d\u5b9a\u3059\u308b. myImageView . image = myOutputImage } override func viewDidLoad () { // UIImageView\u3092\u751f\u6210. myImageView = UIImageView ( frame : self . view . bounds ) self . view . addSubview ( myImageView ) // \u5909\u63db\u5143\u306e\u753b\u50cf\u3068\u9077\u79fb\u306e\u7d42\u7740\u70b9\u306e\u753b\u50cf\u3092\u751f\u6210. let CIImage1 = CIImage ( image : UIImage . Resize\u00dcIImage ( image : UIImage ( named : \"sample1\" ) ! , width : self . view . frame . maxX , height : self . view . frame . maxY )) let CIImage2 = CIImage ( image : UIImage . Resize\u00dcIImage ( image : UIImage ( named : \"sample2\" ) ! , width : self . view . frame . maxX , height : self . view . frame . maxY )) let myAngle = NSNumber ( value : 3.14 ) let myWidth = NSNumber ( value : 30.00 ) myFilter !. setValue ( myAngle , forKey : kCIInputAngleKey ) myFilter !. setValue ( myWidth , forKey : kCIInputWidthKey ) myFilter !. setValue ( CIImage1 , forKey : kCIInputImageKey ) myFilter !. setValue ( CIImage2 , forKey : kCIInputTargetImageKey ) // Nstimer\u306e\u8a2d\u5b9a. Timer . scheduledTimer ( timeInterval : 0.001 , target : self , selector : #selector ( ViewController . update ( timer :)), userInfo : nil , repeats : true ) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092\u5f97\u308b. let myOutputImage = UIImage ( ciImage : myFilter !. outputImage !) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092UIImageView\u306b\u8a2d\u5b9a. myImageView . image = myOutputImage } }","title":"Swift 3.0"},{"location":"9.coreimage/014_coreimage/#swift-23","text":"1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 // // ViewController.swift // CoreImage014 // // Created by Misato Morino on 2016/09/19. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import CoreImage import Foundation extension UIImage { class func Resize\u00dcIImage ( image : UIImage , width : CGFloat , height : CGFloat )-> UIImage !{ // \u6307\u5b9a\u3055\u308c\u305f\u753b\u50cf\u306e\u5927\u304d\u3055\u306e\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u7528\u610f. UIGraphicsBeginImageContext ( CGSizeMake ( width , height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u306b\u753b\u50cf\u3092\u63cf\u753b\u3059\u308b. image . drawInRect ( CGRectMake ( 0 , 0 , width , height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u304b\u3089UIImage\u3092\u4f5c\u308b. let newImage = UIGraphicsGetImageFromCurrentImageContext () // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u9589\u3058\u308b. UIGraphicsGetImageFromCurrentImageContext () return newImage } } class ViewController : UIViewController { // UIImageViewn\u306e\u751f\u6210. var myImageView : UIImageView ! var count = 0.0 var myTime = NSNumber ( double : 0.0 ) // CIBarSwipeTransition\u3092\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316. let myFilter = CIFilter ( name : \"CIBarsSwipeTransition\" ) // \u753b\u50cf\u9077\u79fb\u306e\u6642\u9593\u51e6\u7406. func update ( timer : NSTimer ) { count += 0.1 myTime = count myFilter !. setValue ( myTime , forKey : kCIInputTimeKey ) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092\u5f97\u308b. let myOutputImage = UIImage ( CIImage : myFilter !. outputImage !) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092UIImageView\u306b\u8a2d\u5b9a\u3059\u308b. myImageView . image = myOutputImage } override func viewDidLoad () { // UIImageView\u3092\u751f\u6210. myImageView = UIImageView ( frame : self . view . bounds ) self . view . addSubview ( myImageView ) // \u5909\u63db\u5143\u306e\u753b\u50cf\u3068\u9077\u79fb\u306e\u7d42\u7740\u70b9\u306e\u753b\u50cf\u3092\u751f\u6210. let CIImage1 = CIImage ( image : UIImage . Resize\u00dcIImage ( UIImage ( named : \"sample1\" ) ! , width : self . view . frame . maxX , height : self . view . frame . maxY )) let CIImage2 = CIImage ( image : UIImage . Resize\u00dcIImage ( UIImage ( named : \"sample2\" ) ! , width : self . view . frame . maxX , height : self . view . frame . maxY )) let myAngle = NSNumber ( double : 3.14 ) let myWidth = NSNumber ( double : 30.00 ) myFilter !. setValue ( myAngle , forKey : kCIInputAngleKey ) myFilter !. setValue ( myWidth , forKey : kCIInputWidthKey ) myFilter !. setValue ( CIImage1 , forKey : kCIInputImageKey ) myFilter !. setValue ( CIImage2 , forKey : kCIInputTargetImageKey ) // Nstimer\u306e\u8a2d\u5b9a. NSTimer . scheduledTimerWithTimeInterval ( 0.001 , target : self , selector : #selector ( ViewController . update ( _ :)), userInfo : nil , repeats : true ) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092\u5f97\u308b. let myOutputImage = UIImage ( CIImage : myFilter !. outputImage !) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092UIImageView\u306b\u8a2d\u5b9a. myImageView . image = myOutputImage } }","title":"Swift 2.3"},{"location":"9.coreimage/014_coreimage/#2x3x","text":"init(CIImage:) \u304b\u3089 init(ciImage:) \u306b\u5909\u66f4 scheduledTimerWithTimeInterval \u304b\u3089 scheduledTimer \u306b\u5909\u66f4","title":"2.x\u30683.x\u306e\u5dee\u5206"},{"location":"9.coreimage/014_coreimage/#reference","text":"CIFilter https://developer.apple.com/reference/coreimage/cifilter CIImage https://developer.apple.com/reference/coreimage/ciimage","title":"Reference"},{"location":"9.coreimage/015_coreimage/","text":"\u30d5\u30e9\u30c3\u30b7\u30e5\u30c8\u30e9\u30f3\u30b8\u30b7\u30e7\u30f3\u30d5\u30a3\u30eb\u30bf\u51e6\u7406 Swift 3.0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 // // ViewController.swift // CoreImage015 // // Created by Misato Morino on 2016/09/19. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import CoreImage import Foundation extension UIImage { class func Resize\u00dcIImage ( image : UIImage , width : CGFloat , height : CGFloat )-> UIImage !{ // \u6307\u5b9a\u3055\u308c\u305f\u753b\u50cf\u306e\u5927\u304d\u3055\u306e\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u7528\u610f. UIGraphicsBeginImageContext ( CGSize ( width : width , height : height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u306b\u753b\u50cf\u3092\u63cf\u753b. image . draw ( in : CGRect ( x : 0 , y : 0 , width : width , height : height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u304b\u3089UIImage\u3092\u751f\u6210. let newImage = UIGraphicsGetImageFromCurrentImageContext () // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u9589\u3058\u308b. UIGraphicsGetImageFromCurrentImageContext () return newImage } } class ViewController : UIViewController { // UIImageViewn\u306e\u751f\u6210. var myImageView : UIImageView ! var count = 0.0 var myTime = NSNumber ( value : 0.0 ) let myFilter = CIFilter ( name : \"CIFlashTransition\" ) // \u753b\u50cf\u9077\u79fb\u306e\u6642\u9593\u51e6\u7406. func update ( timer : Timer ) { count += 0.1 myTime = NSNumber ( value : count ) myFilter !. setValue ( myTime , forKey : kCIInputTimeKey ) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092\u5f97\u308b. let myOutputImage = UIImage ( ciImage : myFilter !. outputImage !) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092UIImageView\u306b\u8a2d\u5b9a. myImageView . image = myOutputImage } override func viewDidLoad () { // UIImageView\u3092\u751f\u6210. myImageView = UIImageView ( frame : self . view . bounds ) self . view . addSubview ( myImageView ) // \u5909\u63db\u5143\u306e\u753b\u50cf\u3068\u9077\u79fb\u306e\u7d42\u7740\u70b9\u306e\u753b\u50cf\u3092\u751f\u6210. let CIImage1 = CIImage ( image : UIImage . Resize\u00dcIImage ( image : UIImage ( named : \"sample1.jpg\" ) ! , width : self . view . frame . maxX , height : self . view . frame . maxY )) let CIImage2 = CIImage ( image : UIImage . Resize\u00dcIImage ( image : UIImage ( named : \"sample2.jpg\" ) ! , width : self . view . frame . maxX , height : self . view . frame . maxY )) // \u30d5\u30e9\u30c3\u30b7\u30e5\u30ab\u30e9\u30fc\u306e\u6307\u5b9a. let myColor = CIColor ( color : UIColor . yellow ) // \u30d5\u30e9\u30c3\u30b7\u30e5\u304c\u767a\u751f\u3059\u308b\u5ea7\u6a19\u306e\u6307\u5b9a. let myCenter = CIVector ( cgPoint : view . center ) myFilter !. setValue ( myColor , forKey : kCIInputColorKey ) myFilter !. setValue ( myCenter , forKey : kCIInputCenterKey ) myFilter !. setValue ( CIImage1 , forKey : kCIInputImageKey ) myFilter !. setValue ( CIImage2 , forKey : kCIInputTargetImageKey ) // Nstimer\u306e\u8a2d\u5b9a. Timer . scheduledTimer ( timeInterval : 0.001 , target : self , selector : #selector ( ViewController . update ( timer :)), userInfo : nil , repeats : true ) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092\u5f97\u308b. let myOutputImage = UIImage ( ciImage : myFilter !. outputImage !) //\u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092UIImageView\u306b\u8a2d\u5b9a. myImageView . image = myOutputImage } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 // // ViewController.swift // CoreImage015 // // Created by Misato Morino on 2016/09/19. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import CoreImage import Foundation extension UIImage { class func Resize\u00dcIImage ( image : UIImage , width : CGFloat , height : CGFloat )-> UIImage !{ // \u6307\u5b9a\u3055\u308c\u305f\u753b\u50cf\u306e\u5927\u304d\u3055\u306e\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u7528\u610f. UIGraphicsBeginImageContext ( CGSizeMake ( width , height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u306b\u753b\u50cf\u3092\u63cf\u753b. image . drawInRect ( CGRectMake ( 0 , 0 , width , height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u304b\u3089UIImage\u3092\u751f\u6210. let newImage = UIGraphicsGetImageFromCurrentImageContext () // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u9589\u3058\u308b. UIGraphicsGetImageFromCurrentImageContext () return newImage } } class ViewController : UIViewController { // UIImageViewn\u306e\u751f\u6210. var myImageView : UIImageView ! var count = 0.0 var myTime = NSNumber ( double : 0.0 ) let myFilter = CIFilter ( name : \"CIFlashTransition\" ) // \u753b\u50cf\u9077\u79fb\u306e\u6642\u9593\u51e6\u7406. func update ( timer : NSTimer ) { count += 0.1 myTime = count myFilter !. setValue ( myTime , forKey : kCIInputTimeKey ) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092\u5f97\u308b. let myOutputImage = UIImage ( CIImage : myFilter !. outputImage !) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092UIImageView\u306b\u8a2d\u5b9a. myImageView . image = myOutputImage } override func viewDidLoad () { // UIImageView\u3092\u751f\u6210. myImageView = UIImageView ( frame : self . view . bounds ) self . view . addSubview ( myImageView ) // \u5909\u63db\u5143\u306e\u753b\u50cf\u3068\u9077\u79fb\u306e\u7d42\u7740\u70b9\u306e\u753b\u50cf\u3092\u751f\u6210. let CIImage1 = CIImage ( image : UIImage . Resize\u00dcIImage ( UIImage ( named : \"sample1.jpg\" ) ! , width : self . view . frame . maxX , height : self . view . frame . maxY )) let CIImage2 = CIImage ( image : UIImage . Resize\u00dcIImage ( UIImage ( named : \"sample2.jpg\" ) ! , width : self . view . frame . maxX , height : self . view . frame . maxY )) // \u30d5\u30e9\u30c3\u30b7\u30e5\u30ab\u30e9\u30fc\u306e\u6307\u5b9a. let myColor = CIColor ( color : UIColor . yellowColor ()) // \u30d5\u30e9\u30c3\u30b7\u30e5\u304c\u767a\u751f\u3059\u308b\u5ea7\u6a19\u306e\u6307\u5b9a. let myCenter = CIVector ( CGPoint : view . center ) myFilter !. setValue ( myColor , forKey : kCIInputColorKey ) myFilter !. setValue ( myCenter , forKey : kCIInputCenterKey ) myFilter !. setValue ( CIImage1 , forKey : kCIInputImageKey ) myFilter !. setValue ( CIImage2 , forKey : kCIInputTargetImageKey ) // Nstimer\u306e\u8a2d\u5b9a. NSTimer . scheduledTimerWithTimeInterval ( 0.001 , target : self , selector : #selector ( ViewController . update ( _ :)), userInfo : nil , repeats : true ) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092\u5f97\u308b. let myOutputImage = UIImage ( CIImage : myFilter !. outputImage !) //\u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092UIImageView\u306b\u8a2d\u5b9a. myImageView . image = myOutputImage } } 2.x\u30683.x\u306e\u5dee\u5206 init(CIImage:) \u304b\u3089 init(ciImage:) \u306b\u5909\u66f4 scheduledTimerWithTimeInterval \u304b\u3089 scheduledTimer \u306b\u5909\u66f4 Reference CIFilter https://developer.apple.com/reference/coreimage/cifilter CIImage https://developer.apple.com/reference/coreimage/ciimage","title":"\u30d5\u30e9\u30c3\u30b7\u30e5\u30c8\u30e9\u30f3\u30b8\u30b7\u30e7\u30f3\u30d5\u30a3\u30eb\u30bf\u51e6\u7406"},{"location":"9.coreimage/015_coreimage/#_1","text":"","title":"\u30d5\u30e9\u30c3\u30b7\u30e5\u30c8\u30e9\u30f3\u30b8\u30b7\u30e7\u30f3\u30d5\u30a3\u30eb\u30bf\u51e6\u7406"},{"location":"9.coreimage/015_coreimage/#swift-30","text":"1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 // // ViewController.swift // CoreImage015 // // Created by Misato Morino on 2016/09/19. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import CoreImage import Foundation extension UIImage { class func Resize\u00dcIImage ( image : UIImage , width : CGFloat , height : CGFloat )-> UIImage !{ // \u6307\u5b9a\u3055\u308c\u305f\u753b\u50cf\u306e\u5927\u304d\u3055\u306e\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u7528\u610f. UIGraphicsBeginImageContext ( CGSize ( width : width , height : height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u306b\u753b\u50cf\u3092\u63cf\u753b. image . draw ( in : CGRect ( x : 0 , y : 0 , width : width , height : height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u304b\u3089UIImage\u3092\u751f\u6210. let newImage = UIGraphicsGetImageFromCurrentImageContext () // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u9589\u3058\u308b. UIGraphicsGetImageFromCurrentImageContext () return newImage } } class ViewController : UIViewController { // UIImageViewn\u306e\u751f\u6210. var myImageView : UIImageView ! var count = 0.0 var myTime = NSNumber ( value : 0.0 ) let myFilter = CIFilter ( name : \"CIFlashTransition\" ) // \u753b\u50cf\u9077\u79fb\u306e\u6642\u9593\u51e6\u7406. func update ( timer : Timer ) { count += 0.1 myTime = NSNumber ( value : count ) myFilter !. setValue ( myTime , forKey : kCIInputTimeKey ) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092\u5f97\u308b. let myOutputImage = UIImage ( ciImage : myFilter !. outputImage !) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092UIImageView\u306b\u8a2d\u5b9a. myImageView . image = myOutputImage } override func viewDidLoad () { // UIImageView\u3092\u751f\u6210. myImageView = UIImageView ( frame : self . view . bounds ) self . view . addSubview ( myImageView ) // \u5909\u63db\u5143\u306e\u753b\u50cf\u3068\u9077\u79fb\u306e\u7d42\u7740\u70b9\u306e\u753b\u50cf\u3092\u751f\u6210. let CIImage1 = CIImage ( image : UIImage . Resize\u00dcIImage ( image : UIImage ( named : \"sample1.jpg\" ) ! , width : self . view . frame . maxX , height : self . view . frame . maxY )) let CIImage2 = CIImage ( image : UIImage . Resize\u00dcIImage ( image : UIImage ( named : \"sample2.jpg\" ) ! , width : self . view . frame . maxX , height : self . view . frame . maxY )) // \u30d5\u30e9\u30c3\u30b7\u30e5\u30ab\u30e9\u30fc\u306e\u6307\u5b9a. let myColor = CIColor ( color : UIColor . yellow ) // \u30d5\u30e9\u30c3\u30b7\u30e5\u304c\u767a\u751f\u3059\u308b\u5ea7\u6a19\u306e\u6307\u5b9a. let myCenter = CIVector ( cgPoint : view . center ) myFilter !. setValue ( myColor , forKey : kCIInputColorKey ) myFilter !. setValue ( myCenter , forKey : kCIInputCenterKey ) myFilter !. setValue ( CIImage1 , forKey : kCIInputImageKey ) myFilter !. setValue ( CIImage2 , forKey : kCIInputTargetImageKey ) // Nstimer\u306e\u8a2d\u5b9a. Timer . scheduledTimer ( timeInterval : 0.001 , target : self , selector : #selector ( ViewController . update ( timer :)), userInfo : nil , repeats : true ) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092\u5f97\u308b. let myOutputImage = UIImage ( ciImage : myFilter !. outputImage !) //\u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092UIImageView\u306b\u8a2d\u5b9a. myImageView . image = myOutputImage } }","title":"Swift 3.0"},{"location":"9.coreimage/015_coreimage/#swift-23","text":"1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 // // ViewController.swift // CoreImage015 // // Created by Misato Morino on 2016/09/19. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import CoreImage import Foundation extension UIImage { class func Resize\u00dcIImage ( image : UIImage , width : CGFloat , height : CGFloat )-> UIImage !{ // \u6307\u5b9a\u3055\u308c\u305f\u753b\u50cf\u306e\u5927\u304d\u3055\u306e\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u7528\u610f. UIGraphicsBeginImageContext ( CGSizeMake ( width , height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u306b\u753b\u50cf\u3092\u63cf\u753b. image . drawInRect ( CGRectMake ( 0 , 0 , width , height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u304b\u3089UIImage\u3092\u751f\u6210. let newImage = UIGraphicsGetImageFromCurrentImageContext () // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u9589\u3058\u308b. UIGraphicsGetImageFromCurrentImageContext () return newImage } } class ViewController : UIViewController { // UIImageViewn\u306e\u751f\u6210. var myImageView : UIImageView ! var count = 0.0 var myTime = NSNumber ( double : 0.0 ) let myFilter = CIFilter ( name : \"CIFlashTransition\" ) // \u753b\u50cf\u9077\u79fb\u306e\u6642\u9593\u51e6\u7406. func update ( timer : NSTimer ) { count += 0.1 myTime = count myFilter !. setValue ( myTime , forKey : kCIInputTimeKey ) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092\u5f97\u308b. let myOutputImage = UIImage ( CIImage : myFilter !. outputImage !) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092UIImageView\u306b\u8a2d\u5b9a. myImageView . image = myOutputImage } override func viewDidLoad () { // UIImageView\u3092\u751f\u6210. myImageView = UIImageView ( frame : self . view . bounds ) self . view . addSubview ( myImageView ) // \u5909\u63db\u5143\u306e\u753b\u50cf\u3068\u9077\u79fb\u306e\u7d42\u7740\u70b9\u306e\u753b\u50cf\u3092\u751f\u6210. let CIImage1 = CIImage ( image : UIImage . Resize\u00dcIImage ( UIImage ( named : \"sample1.jpg\" ) ! , width : self . view . frame . maxX , height : self . view . frame . maxY )) let CIImage2 = CIImage ( image : UIImage . Resize\u00dcIImage ( UIImage ( named : \"sample2.jpg\" ) ! , width : self . view . frame . maxX , height : self . view . frame . maxY )) // \u30d5\u30e9\u30c3\u30b7\u30e5\u30ab\u30e9\u30fc\u306e\u6307\u5b9a. let myColor = CIColor ( color : UIColor . yellowColor ()) // \u30d5\u30e9\u30c3\u30b7\u30e5\u304c\u767a\u751f\u3059\u308b\u5ea7\u6a19\u306e\u6307\u5b9a. let myCenter = CIVector ( CGPoint : view . center ) myFilter !. setValue ( myColor , forKey : kCIInputColorKey ) myFilter !. setValue ( myCenter , forKey : kCIInputCenterKey ) myFilter !. setValue ( CIImage1 , forKey : kCIInputImageKey ) myFilter !. setValue ( CIImage2 , forKey : kCIInputTargetImageKey ) // Nstimer\u306e\u8a2d\u5b9a. NSTimer . scheduledTimerWithTimeInterval ( 0.001 , target : self , selector : #selector ( ViewController . update ( _ :)), userInfo : nil , repeats : true ) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092\u5f97\u308b. let myOutputImage = UIImage ( CIImage : myFilter !. outputImage !) //\u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092UIImageView\u306b\u8a2d\u5b9a. myImageView . image = myOutputImage } }","title":"Swift 2.3"},{"location":"9.coreimage/015_coreimage/#2x3x","text":"init(CIImage:) \u304b\u3089 init(ciImage:) \u306b\u5909\u66f4 scheduledTimerWithTimeInterval \u304b\u3089 scheduledTimer \u306b\u5909\u66f4","title":"2.x\u30683.x\u306e\u5dee\u5206"},{"location":"9.coreimage/015_coreimage/#reference","text":"CIFilter https://developer.apple.com/reference/coreimage/cifilter CIImage https://developer.apple.com/reference/coreimage/ciimage","title":"Reference"},{"location":"9.coreimage/016_coreimage/","text":"\u30e2\u30c3\u30c9\u30c8\u30e9\u30f3\u30b8\u30b7\u30e7\u30f3\u30d5\u30a3\u30eb\u30bf\u51e6\u7406 Swift 3.0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 // // ViewController.swift // CoreImage016 // // Created by Misato Morino on 2016/09/19. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import CoreImage import Foundation extension UIImage { class func Resize\u00dcIImage ( image : UIImage , width : CGFloat , height : CGFloat )-> UIImage !{ // \u6307\u5b9a\u3055\u308c\u305f\u753b\u50cf\u306e\u5927\u304d\u3055\u306e\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u7528\u610f. UIGraphicsBeginImageContext ( CGSize ( width : width , height : height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u306b\u753b\u50cf\u3092\u63cf\u753b. image . draw ( in : CGRect ( x : 0 , y : 0 , width : width , height : height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u304b\u3089UIImage\u3092\u751f\u6210. let newImage = UIGraphicsGetImageFromCurrentImageContext () // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u9589\u3058\u308b. UIGraphicsGetImageFromCurrentImageContext () return newImage } } class ViewController : UIViewController { var myImageView : UIImageView ! var count = 0.0 var myTime = NSNumber ( value : 0.0 ) let myFilter = CIFilter ( name : \"CIModTransition\" ) // \u753b\u50cf\u9077\u79fb\u306e\u6642\u9593\u51e6\u7406. func update ( timer : Timer ) { count += 0.1 myTime = NSNumber ( value : count ) myFilter !. setValue ( myTime , forKey : kCIInputTimeKey ) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092\u5f97\u308b. let myOutputImage = UIImage ( ciImage : myFilter !. outputImage !) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092UIImageView\u306b\u8a2d\u5b9a. myImageView . image = myOutputImage } override func viewDidLoad () { // UIImageView\u3092\u751f\u6210. myImageView = UIImageView ( frame : self . view . bounds ) self . view . addSubview ( myImageView ) // \u5909\u63db\u5143\u306e\u753b\u50cf\u3068\u9077\u79fb\u306e\u7d42\u7740\u70b9\u306e\u753b\u50cf\u3092\u751f\u6210. let CIImage1 = CIImage ( image : UIImage . Resize\u00dcIImage ( image : UIImage ( named : \"sample1\" ) ! , width : self . view . frame . maxX , height : self . view . frame . maxY )) let CIImage2 = CIImage ( image : UIImage . Resize\u00dcIImage ( image : UIImage ( named : \"sample2\" ) ! , width : self . view . frame . maxX , height : self . view . frame . maxY )) // CIModTransition\u30d5\u30a3\u30eb\u30bf\u306b\u5fc5\u8981\u306a\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u8a2d\u5b9a. // \u30c8\u30e9\u30f3\u30b8\u30b7\u30e7\u30f3\u9818\u57df\u306e\u4e2d\u5fc3\u3092x\u53ca\u3073y\u5ea7\u6a19\u3067\u6307\u5b9a. let myCenter = CIVector ( cgPoint : view . center ) // \u4e2d\u5fc3\u304b\u3089\u7a74\u306e\u7e01\u307e\u3067\u306e\u8ddd\u96e2\u3092\u6307\u5b9a. let myRadius = NSNumber ( value : 200 ) // \u7a74\u306e\u89d2\u5ea6\u3092\u6307\u5b9a. let myAngle = NSNumber ( value : 2 ) // \u5404\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u30bb\u30c3\u30c8. myFilter !. setValue ( myCenter , forKey : kCIInputCenterKey ) myFilter !. setValue ( myRadius , forKey : kCIInputRadiusKey ) myFilter !. setValue ( myAngle , forKey : kCIInputAngleKey ) myFilter !. setValue ( CIImage1 , forKey : kCIInputImageKey ) myFilter !. setValue ( CIImage2 , forKey : kCIInputTargetImageKey ) // Nstimer\u306e\u8a2d\u5b9a. Timer . scheduledTimer ( timeInterval : 0.001 , target : self , selector : #selector ( ViewController . update ( timer :)), userInfo : nil , repeats : true ) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092\u5f97\u308b. let myOutputImage = UIImage ( ciImage : myFilter !. outputImage !) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092UIImageView\u306b\u8a2d\u5b9a. myImageView . image = myOutputImage } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 // // ViewController.swift // CoreImage016 // // Created by Misato Morino on 2016/09/19. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import CoreImage import Foundation extension UIImage { class func Resize\u00dcIImage ( image : UIImage , width : CGFloat , height : CGFloat )-> UIImage !{ // \u6307\u5b9a\u3055\u308c\u305f\u753b\u50cf\u306e\u5927\u304d\u3055\u306e\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u7528\u610f. UIGraphicsBeginImageContext ( CGSizeMake ( width , height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u306b\u753b\u50cf\u3092\u63cf\u753b. image . drawInRect ( CGRectMake ( 0 , 0 , width , height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u304b\u3089UIImage\u3092\u751f\u6210. let newImage = UIGraphicsGetImageFromCurrentImageContext () // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u9589\u3058\u308b. UIGraphicsGetImageFromCurrentImageContext () return newImage } } class ViewController : UIViewController { var myImageView : UIImageView ! var count = 0.0 var myTime = NSNumber ( double : 0.0 ) let myFilter = CIFilter ( name : \"CIModTransition\" ) // \u753b\u50cf\u9077\u79fb\u306e\u6642\u9593\u51e6\u7406. func update ( timer : NSTimer ) { count += 0.1 myTime = count myFilter !. setValue ( myTime , forKey : kCIInputTimeKey ) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092\u5f97\u308b. let myOutputImage = UIImage ( CIImage : myFilter !. outputImage !) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092UIImageView\u306b\u8a2d\u5b9a. myImageView . image = myOutputImage } override func viewDidLoad () { // UIImageView\u3092\u751f\u6210. myImageView = UIImageView ( frame : self . view . bounds ) self . view . addSubview ( myImageView ) // \u5909\u63db\u5143\u306e\u753b\u50cf\u3068\u9077\u79fb\u306e\u7d42\u7740\u70b9\u306e\u753b\u50cf\u3092\u751f\u6210. let CIImage1 = CIImage ( image : UIImage . Resize\u00dcIImage ( UIImage ( named : \"sample1\" ) ! , width : self . view . frame . maxX , height : self . view . frame . maxY )) let CIImage2 = CIImage ( image : UIImage . Resize\u00dcIImage ( UIImage ( named : \"sample2\" ) ! , width : self . view . frame . maxX , height : self . view . frame . maxY )) // CIModTransition\u30d5\u30a3\u30eb\u30bf\u306b\u5fc5\u8981\u306a\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u8a2d\u5b9a. // \u30c8\u30e9\u30f3\u30b8\u30b7\u30e7\u30f3\u9818\u57df\u306e\u4e2d\u5fc3\u3092x\u53ca\u3073y\u5ea7\u6a19\u3067\u6307\u5b9a. let myCenter = CIVector ( CGPoint : view . center ) // \u4e2d\u5fc3\u304b\u3089\u7a74\u306e\u7e01\u307e\u3067\u306e\u8ddd\u96e2\u3092\u6307\u5b9a. let myRadius = NSNumber ( int : 200 ) // \u7a74\u306e\u89d2\u5ea6\u3092\u6307\u5b9a. let myAngle = NSNumber ( int : 2 ) // \u5404\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u30bb\u30c3\u30c8. myFilter !. setValue ( myCenter , forKey : kCIInputCenterKey ) myFilter !. setValue ( myRadius , forKey : kCIInputRadiusKey ) myFilter !. setValue ( myAngle , forKey : kCIInputAngleKey ) myFilter !. setValue ( CIImage1 , forKey : kCIInputImageKey ) myFilter !. setValue ( CIImage2 , forKey : kCIInputTargetImageKey ) // Nstimer\u306e\u8a2d\u5b9a. NSTimer . scheduledTimerWithTimeInterval ( 0.001 , target : self , selector : #selector ( ViewController . update ( _ :)), userInfo : nil , repeats : true ) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092\u5f97\u308b. let myOutputImage = UIImage ( CIImage : myFilter !. outputImage !) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092UIImageView\u306b\u8a2d\u5b9a. myImageView . image = myOutputImage } } 2.x\u30683.x\u306e\u5dee\u5206 init(CIImage:) \u304b\u3089 init(ciImage:) \u306b\u5909\u66f4 scheduledTimerWithTimeInterval \u304b\u3089 scheduledTimer \u306b\u5909\u66f4 Reference CIFilter https://developer.apple.com/reference/coreimage/cifilter CIImage https://developer.apple.com/reference/coreimage/ciimage","title":"\u30e2\u30c3\u30c9\u30c8\u30e9\u30f3\u30b8\u30b7\u30e7\u30f3\u30d5\u30a3\u30eb\u30bf\u51e6\u7406"},{"location":"9.coreimage/016_coreimage/#_1","text":"","title":"\u30e2\u30c3\u30c9\u30c8\u30e9\u30f3\u30b8\u30b7\u30e7\u30f3\u30d5\u30a3\u30eb\u30bf\u51e6\u7406"},{"location":"9.coreimage/016_coreimage/#swift-30","text":"1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 // // ViewController.swift // CoreImage016 // // Created by Misato Morino on 2016/09/19. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import CoreImage import Foundation extension UIImage { class func Resize\u00dcIImage ( image : UIImage , width : CGFloat , height : CGFloat )-> UIImage !{ // \u6307\u5b9a\u3055\u308c\u305f\u753b\u50cf\u306e\u5927\u304d\u3055\u306e\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u7528\u610f. UIGraphicsBeginImageContext ( CGSize ( width : width , height : height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u306b\u753b\u50cf\u3092\u63cf\u753b. image . draw ( in : CGRect ( x : 0 , y : 0 , width : width , height : height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u304b\u3089UIImage\u3092\u751f\u6210. let newImage = UIGraphicsGetImageFromCurrentImageContext () // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u9589\u3058\u308b. UIGraphicsGetImageFromCurrentImageContext () return newImage } } class ViewController : UIViewController { var myImageView : UIImageView ! var count = 0.0 var myTime = NSNumber ( value : 0.0 ) let myFilter = CIFilter ( name : \"CIModTransition\" ) // \u753b\u50cf\u9077\u79fb\u306e\u6642\u9593\u51e6\u7406. func update ( timer : Timer ) { count += 0.1 myTime = NSNumber ( value : count ) myFilter !. setValue ( myTime , forKey : kCIInputTimeKey ) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092\u5f97\u308b. let myOutputImage = UIImage ( ciImage : myFilter !. outputImage !) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092UIImageView\u306b\u8a2d\u5b9a. myImageView . image = myOutputImage } override func viewDidLoad () { // UIImageView\u3092\u751f\u6210. myImageView = UIImageView ( frame : self . view . bounds ) self . view . addSubview ( myImageView ) // \u5909\u63db\u5143\u306e\u753b\u50cf\u3068\u9077\u79fb\u306e\u7d42\u7740\u70b9\u306e\u753b\u50cf\u3092\u751f\u6210. let CIImage1 = CIImage ( image : UIImage . Resize\u00dcIImage ( image : UIImage ( named : \"sample1\" ) ! , width : self . view . frame . maxX , height : self . view . frame . maxY )) let CIImage2 = CIImage ( image : UIImage . Resize\u00dcIImage ( image : UIImage ( named : \"sample2\" ) ! , width : self . view . frame . maxX , height : self . view . frame . maxY )) // CIModTransition\u30d5\u30a3\u30eb\u30bf\u306b\u5fc5\u8981\u306a\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u8a2d\u5b9a. // \u30c8\u30e9\u30f3\u30b8\u30b7\u30e7\u30f3\u9818\u57df\u306e\u4e2d\u5fc3\u3092x\u53ca\u3073y\u5ea7\u6a19\u3067\u6307\u5b9a. let myCenter = CIVector ( cgPoint : view . center ) // \u4e2d\u5fc3\u304b\u3089\u7a74\u306e\u7e01\u307e\u3067\u306e\u8ddd\u96e2\u3092\u6307\u5b9a. let myRadius = NSNumber ( value : 200 ) // \u7a74\u306e\u89d2\u5ea6\u3092\u6307\u5b9a. let myAngle = NSNumber ( value : 2 ) // \u5404\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u30bb\u30c3\u30c8. myFilter !. setValue ( myCenter , forKey : kCIInputCenterKey ) myFilter !. setValue ( myRadius , forKey : kCIInputRadiusKey ) myFilter !. setValue ( myAngle , forKey : kCIInputAngleKey ) myFilter !. setValue ( CIImage1 , forKey : kCIInputImageKey ) myFilter !. setValue ( CIImage2 , forKey : kCIInputTargetImageKey ) // Nstimer\u306e\u8a2d\u5b9a. Timer . scheduledTimer ( timeInterval : 0.001 , target : self , selector : #selector ( ViewController . update ( timer :)), userInfo : nil , repeats : true ) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092\u5f97\u308b. let myOutputImage = UIImage ( ciImage : myFilter !. outputImage !) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092UIImageView\u306b\u8a2d\u5b9a. myImageView . image = myOutputImage } }","title":"Swift 3.0"},{"location":"9.coreimage/016_coreimage/#swift-23","text":"1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 // // ViewController.swift // CoreImage016 // // Created by Misato Morino on 2016/09/19. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import CoreImage import Foundation extension UIImage { class func Resize\u00dcIImage ( image : UIImage , width : CGFloat , height : CGFloat )-> UIImage !{ // \u6307\u5b9a\u3055\u308c\u305f\u753b\u50cf\u306e\u5927\u304d\u3055\u306e\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u7528\u610f. UIGraphicsBeginImageContext ( CGSizeMake ( width , height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u306b\u753b\u50cf\u3092\u63cf\u753b. image . drawInRect ( CGRectMake ( 0 , 0 , width , height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u304b\u3089UIImage\u3092\u751f\u6210. let newImage = UIGraphicsGetImageFromCurrentImageContext () // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u9589\u3058\u308b. UIGraphicsGetImageFromCurrentImageContext () return newImage } } class ViewController : UIViewController { var myImageView : UIImageView ! var count = 0.0 var myTime = NSNumber ( double : 0.0 ) let myFilter = CIFilter ( name : \"CIModTransition\" ) // \u753b\u50cf\u9077\u79fb\u306e\u6642\u9593\u51e6\u7406. func update ( timer : NSTimer ) { count += 0.1 myTime = count myFilter !. setValue ( myTime , forKey : kCIInputTimeKey ) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092\u5f97\u308b. let myOutputImage = UIImage ( CIImage : myFilter !. outputImage !) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092UIImageView\u306b\u8a2d\u5b9a. myImageView . image = myOutputImage } override func viewDidLoad () { // UIImageView\u3092\u751f\u6210. myImageView = UIImageView ( frame : self . view . bounds ) self . view . addSubview ( myImageView ) // \u5909\u63db\u5143\u306e\u753b\u50cf\u3068\u9077\u79fb\u306e\u7d42\u7740\u70b9\u306e\u753b\u50cf\u3092\u751f\u6210. let CIImage1 = CIImage ( image : UIImage . Resize\u00dcIImage ( UIImage ( named : \"sample1\" ) ! , width : self . view . frame . maxX , height : self . view . frame . maxY )) let CIImage2 = CIImage ( image : UIImage . Resize\u00dcIImage ( UIImage ( named : \"sample2\" ) ! , width : self . view . frame . maxX , height : self . view . frame . maxY )) // CIModTransition\u30d5\u30a3\u30eb\u30bf\u306b\u5fc5\u8981\u306a\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u8a2d\u5b9a. // \u30c8\u30e9\u30f3\u30b8\u30b7\u30e7\u30f3\u9818\u57df\u306e\u4e2d\u5fc3\u3092x\u53ca\u3073y\u5ea7\u6a19\u3067\u6307\u5b9a. let myCenter = CIVector ( CGPoint : view . center ) // \u4e2d\u5fc3\u304b\u3089\u7a74\u306e\u7e01\u307e\u3067\u306e\u8ddd\u96e2\u3092\u6307\u5b9a. let myRadius = NSNumber ( int : 200 ) // \u7a74\u306e\u89d2\u5ea6\u3092\u6307\u5b9a. let myAngle = NSNumber ( int : 2 ) // \u5404\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u30bb\u30c3\u30c8. myFilter !. setValue ( myCenter , forKey : kCIInputCenterKey ) myFilter !. setValue ( myRadius , forKey : kCIInputRadiusKey ) myFilter !. setValue ( myAngle , forKey : kCIInputAngleKey ) myFilter !. setValue ( CIImage1 , forKey : kCIInputImageKey ) myFilter !. setValue ( CIImage2 , forKey : kCIInputTargetImageKey ) // Nstimer\u306e\u8a2d\u5b9a. NSTimer . scheduledTimerWithTimeInterval ( 0.001 , target : self , selector : #selector ( ViewController . update ( _ :)), userInfo : nil , repeats : true ) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092\u5f97\u308b. let myOutputImage = UIImage ( CIImage : myFilter !. outputImage !) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092UIImageView\u306b\u8a2d\u5b9a. myImageView . image = myOutputImage } }","title":"Swift 2.3"},{"location":"9.coreimage/016_coreimage/#2x3x","text":"init(CIImage:) \u304b\u3089 init(ciImage:) \u306b\u5909\u66f4 scheduledTimerWithTimeInterval \u304b\u3089 scheduledTimer \u306b\u5909\u66f4","title":"2.x\u30683.x\u306e\u5dee\u5206"},{"location":"9.coreimage/016_coreimage/#reference","text":"CIFilter https://developer.apple.com/reference/coreimage/cifilter CIImage https://developer.apple.com/reference/coreimage/ciimage","title":"Reference"},{"location":"9.coreimage/017_coreimage/","text":"\u30c7\u30a3\u30be\u30eb\u30d6\u30c8\u30e9\u30f3\u30b8\u30b7\u30e7\u30f3\u30d5\u30a3\u30eb\u30bf\u51e6\u7406 Swift 3.0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 // // ViewController.swift // CoreImage017 // // Created by Misato Morino on 2016/09/19. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import CoreImage import Foundation extension UIImage { /* \u753b\u50cf\u3092Resize\u3059\u308b\u30af\u30e9\u30b9\u30e1\u30bd\u30c3\u30c9. */ class func Resize\u00dcIImage ( image : UIImage , width : CGFloat , height : CGFloat )-> UIImage !{ // \u6307\u5b9a\u3055\u308c\u305f\u753b\u50cf\u306e\u5927\u304d\u3055\u306e\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u7528\u610f. UIGraphicsBeginImageContext ( CGSize ( width : width , height : height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u306b\u753b\u50cf\u3092\u63cf\u753b\u3059\u308b. image . draw ( in : CGRect ( x : 0 , y : 0 , width : width , height : height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u304b\u3089UIImage\u3092\u4f5c\u308b. let newImage = UIGraphicsGetImageFromCurrentImageContext () // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u9589\u3058\u308b. UIGraphicsGetImageFromCurrentImageContext () return newImage } } class ViewController : UIViewController { var myImageView : UIImageView ! var count = 0.0 var myTime = NSNumber ( value : 0.0 ) // CIDissolveTransition\u3092\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316. let myFilter = CIFilter ( name : \"CIDissolveTransition\" ) // \u753b\u50cf\u9077\u79fb\u306e\u6642\u9593\u51e6\u7406. func update ( timer : Timer ) { count += 0.1 myTime = NSNumber ( value : count ) // Filter\u306b\u30bf\u30a4\u30de\u30fc\u3092\u30bb\u30c3\u30c8. myFilter !. setValue ( myTime , forKey : kCIInputTimeKey ) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092\u5f97\u308b. let myOutputImage = UIImage ( ciImage : myFilter !. outputImage !) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092UIImageView\u306b\u8a2d\u5b9a\u3059\u308b. myImageView . image = myOutputImage } override func viewDidLoad () { // UIImageView\u3092\u4f5c\u308b. myImageView = UIImageView ( frame : self . view . bounds ) self . view . addSubview ( myImageView ) // \u5909\u63db\u5143\u306e\u753b\u50cf\u3068\u9077\u79fb\u306e\u7d42\u7740\u70b9\u306e\u753b\u50cf\u3092\u4f5c\u308b. let CIImage1 = CIImage ( image : UIImage . Resize\u00dcIImage ( image : UIImage ( named : \"sample1\" ) ! , width : self . view . frame . maxX , height : self . view . frame . maxY )) let CIImage2 = CIImage ( image : UIImage . Resize\u00dcIImage ( image : UIImage ( named : \"sample2\" ) ! , width : self . view . frame . maxX , height : self . view . frame . maxY )) myFilter !. setValue ( CIImage1 , forKey : kCIInputImageKey ) myFilter !. setValue ( CIImage2 , forKey : kCIInputTargetImageKey ) // Nstimer\u306e\u8a2d\u5b9a. Timer . scheduledTimer ( timeInterval : 0.001 , target : self , selector : #selector ( ViewController . update ( timer :)), userInfo : nil , repeats : true ) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092\u5f97\u308b. let myOutputImage = UIImage ( ciImage : myFilter !. outputImage !) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092UIImageView\u306b\u8a2d\u5b9a\u3059\u308b. myImageView . image = myOutputImage } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 // // ViewController.swift // CoreImage017 // // Created by Misato Morino on 2016/09/19. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import CoreImage import Foundation extension UIImage { /* \u753b\u50cf\u3092Resize\u3059\u308b\u30af\u30e9\u30b9\u30e1\u30bd\u30c3\u30c9. */ class func Resize\u00dcIImage ( image : UIImage , width : CGFloat , height : CGFloat )-> UIImage !{ // \u6307\u5b9a\u3055\u308c\u305f\u753b\u50cf\u306e\u5927\u304d\u3055\u306e\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u7528\u610f. UIGraphicsBeginImageContext ( CGSizeMake ( width , height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u306b\u753b\u50cf\u3092\u63cf\u753b\u3059\u308b. image . drawInRect ( CGRectMake ( 0 , 0 , width , height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u304b\u3089UIImage\u3092\u4f5c\u308b. let newImage = UIGraphicsGetImageFromCurrentImageContext () // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u9589\u3058\u308b. UIGraphicsGetImageFromCurrentImageContext () return newImage } } class ViewController : UIViewController { var myImageView : UIImageView ! var count = 0.0 var myTime = NSNumber ( double : 0.0 ) // CIDissolveTransition\u3092\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316. let myFilter = CIFilter ( name : \"CIDissolveTransition\" ) // \u753b\u50cf\u9077\u79fb\u306e\u6642\u9593\u51e6\u7406. func update ( timer : NSTimer ) { count += 0.1 myTime = count // Filter\u306b\u30bf\u30a4\u30de\u30fc\u3092\u30bb\u30c3\u30c8. myFilter !. setValue ( myTime , forKey : kCIInputTimeKey ) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092\u5f97\u308b. let myOutputImage = UIImage ( CIImage : myFilter !. outputImage !) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092UIImageView\u306b\u8a2d\u5b9a\u3059\u308b. myImageView . image = myOutputImage } override func viewDidLoad () { // UIImageView\u3092\u4f5c\u308b. myImageView = UIImageView ( frame : self . view . bounds ) self . view . addSubview ( myImageView ) // \u5909\u63db\u5143\u306e\u753b\u50cf\u3068\u9077\u79fb\u306e\u7d42\u7740\u70b9\u306e\u753b\u50cf\u3092\u4f5c\u308b. let CIImage1 = CIImage ( image : UIImage . Resize\u00dcIImage ( UIImage ( named : \"sample1\" ) ! , width : self . view . frame . maxX , height : self . view . frame . maxY )) let CIImage2 = CIImage ( image : UIImage . Resize\u00dcIImage ( UIImage ( named : \"sample2\" ) ! , width : self . view . frame . maxX , height : self . view . frame . maxY )) myFilter !. setValue ( CIImage1 , forKey : kCIInputImageKey ) myFilter !. setValue ( CIImage2 , forKey : kCIInputTargetImageKey ) // Nstimer\u306e\u8a2d\u5b9a. NSTimer . scheduledTimerWithTimeInterval ( 0.001 , target : self , selector : #selector ( ViewController . update ( _ :)), userInfo : nil , repeats : true ) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092\u5f97\u308b. let myOutputImage = UIImage ( CIImage : myFilter !. outputImage !) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092UIImageView\u306b\u8a2d\u5b9a\u3059\u308b. myImageView . image = myOutputImage } } 2.x\u30683.x\u306e\u5dee\u5206 init(CIImage:) \u304b\u3089 init(ciImage:) \u306b\u5909\u66f4 scheduledTimerWithTimeInterval \u304b\u3089 scheduledTimer \u306b\u5909\u66f4 Reference CIFilter https://developer.apple.com/reference/coreimage/cifilter CIImage https://developer.apple.com/reference/coreimage/ciimage","title":"\u30c7\u30a3\u30be\u30eb\u30d6\u30c8\u30e9\u30f3\u30b8\u30b7\u30e7\u30f3\u30d5\u30a3\u30eb\u30bf\u51e6\u7406"},{"location":"9.coreimage/017_coreimage/#_1","text":"","title":"\u30c7\u30a3\u30be\u30eb\u30d6\u30c8\u30e9\u30f3\u30b8\u30b7\u30e7\u30f3\u30d5\u30a3\u30eb\u30bf\u51e6\u7406"},{"location":"9.coreimage/017_coreimage/#swift-30","text":"1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 // // ViewController.swift // CoreImage017 // // Created by Misato Morino on 2016/09/19. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import CoreImage import Foundation extension UIImage { /* \u753b\u50cf\u3092Resize\u3059\u308b\u30af\u30e9\u30b9\u30e1\u30bd\u30c3\u30c9. */ class func Resize\u00dcIImage ( image : UIImage , width : CGFloat , height : CGFloat )-> UIImage !{ // \u6307\u5b9a\u3055\u308c\u305f\u753b\u50cf\u306e\u5927\u304d\u3055\u306e\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u7528\u610f. UIGraphicsBeginImageContext ( CGSize ( width : width , height : height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u306b\u753b\u50cf\u3092\u63cf\u753b\u3059\u308b. image . draw ( in : CGRect ( x : 0 , y : 0 , width : width , height : height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u304b\u3089UIImage\u3092\u4f5c\u308b. let newImage = UIGraphicsGetImageFromCurrentImageContext () // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u9589\u3058\u308b. UIGraphicsGetImageFromCurrentImageContext () return newImage } } class ViewController : UIViewController { var myImageView : UIImageView ! var count = 0.0 var myTime = NSNumber ( value : 0.0 ) // CIDissolveTransition\u3092\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316. let myFilter = CIFilter ( name : \"CIDissolveTransition\" ) // \u753b\u50cf\u9077\u79fb\u306e\u6642\u9593\u51e6\u7406. func update ( timer : Timer ) { count += 0.1 myTime = NSNumber ( value : count ) // Filter\u306b\u30bf\u30a4\u30de\u30fc\u3092\u30bb\u30c3\u30c8. myFilter !. setValue ( myTime , forKey : kCIInputTimeKey ) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092\u5f97\u308b. let myOutputImage = UIImage ( ciImage : myFilter !. outputImage !) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092UIImageView\u306b\u8a2d\u5b9a\u3059\u308b. myImageView . image = myOutputImage } override func viewDidLoad () { // UIImageView\u3092\u4f5c\u308b. myImageView = UIImageView ( frame : self . view . bounds ) self . view . addSubview ( myImageView ) // \u5909\u63db\u5143\u306e\u753b\u50cf\u3068\u9077\u79fb\u306e\u7d42\u7740\u70b9\u306e\u753b\u50cf\u3092\u4f5c\u308b. let CIImage1 = CIImage ( image : UIImage . Resize\u00dcIImage ( image : UIImage ( named : \"sample1\" ) ! , width : self . view . frame . maxX , height : self . view . frame . maxY )) let CIImage2 = CIImage ( image : UIImage . Resize\u00dcIImage ( image : UIImage ( named : \"sample2\" ) ! , width : self . view . frame . maxX , height : self . view . frame . maxY )) myFilter !. setValue ( CIImage1 , forKey : kCIInputImageKey ) myFilter !. setValue ( CIImage2 , forKey : kCIInputTargetImageKey ) // Nstimer\u306e\u8a2d\u5b9a. Timer . scheduledTimer ( timeInterval : 0.001 , target : self , selector : #selector ( ViewController . update ( timer :)), userInfo : nil , repeats : true ) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092\u5f97\u308b. let myOutputImage = UIImage ( ciImage : myFilter !. outputImage !) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092UIImageView\u306b\u8a2d\u5b9a\u3059\u308b. myImageView . image = myOutputImage } }","title":"Swift 3.0"},{"location":"9.coreimage/017_coreimage/#swift-23","text":"1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 // // ViewController.swift // CoreImage017 // // Created by Misato Morino on 2016/09/19. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import CoreImage import Foundation extension UIImage { /* \u753b\u50cf\u3092Resize\u3059\u308b\u30af\u30e9\u30b9\u30e1\u30bd\u30c3\u30c9. */ class func Resize\u00dcIImage ( image : UIImage , width : CGFloat , height : CGFloat )-> UIImage !{ // \u6307\u5b9a\u3055\u308c\u305f\u753b\u50cf\u306e\u5927\u304d\u3055\u306e\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u7528\u610f. UIGraphicsBeginImageContext ( CGSizeMake ( width , height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u306b\u753b\u50cf\u3092\u63cf\u753b\u3059\u308b. image . drawInRect ( CGRectMake ( 0 , 0 , width , height )) // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u304b\u3089UIImage\u3092\u4f5c\u308b. let newImage = UIGraphicsGetImageFromCurrentImageContext () // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u9589\u3058\u308b. UIGraphicsGetImageFromCurrentImageContext () return newImage } } class ViewController : UIViewController { var myImageView : UIImageView ! var count = 0.0 var myTime = NSNumber ( double : 0.0 ) // CIDissolveTransition\u3092\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316. let myFilter = CIFilter ( name : \"CIDissolveTransition\" ) // \u753b\u50cf\u9077\u79fb\u306e\u6642\u9593\u51e6\u7406. func update ( timer : NSTimer ) { count += 0.1 myTime = count // Filter\u306b\u30bf\u30a4\u30de\u30fc\u3092\u30bb\u30c3\u30c8. myFilter !. setValue ( myTime , forKey : kCIInputTimeKey ) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092\u5f97\u308b. let myOutputImage = UIImage ( CIImage : myFilter !. outputImage !) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092UIImageView\u306b\u8a2d\u5b9a\u3059\u308b. myImageView . image = myOutputImage } override func viewDidLoad () { // UIImageView\u3092\u4f5c\u308b. myImageView = UIImageView ( frame : self . view . bounds ) self . view . addSubview ( myImageView ) // \u5909\u63db\u5143\u306e\u753b\u50cf\u3068\u9077\u79fb\u306e\u7d42\u7740\u70b9\u306e\u753b\u50cf\u3092\u4f5c\u308b. let CIImage1 = CIImage ( image : UIImage . Resize\u00dcIImage ( UIImage ( named : \"sample1\" ) ! , width : self . view . frame . maxX , height : self . view . frame . maxY )) let CIImage2 = CIImage ( image : UIImage . Resize\u00dcIImage ( UIImage ( named : \"sample2\" ) ! , width : self . view . frame . maxX , height : self . view . frame . maxY )) myFilter !. setValue ( CIImage1 , forKey : kCIInputImageKey ) myFilter !. setValue ( CIImage2 , forKey : kCIInputTargetImageKey ) // Nstimer\u306e\u8a2d\u5b9a. NSTimer . scheduledTimerWithTimeInterval ( 0.001 , target : self , selector : #selector ( ViewController . update ( _ :)), userInfo : nil , repeats : true ) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092\u5f97\u308b. let myOutputImage = UIImage ( CIImage : myFilter !. outputImage !) // \u52a0\u5de5\u5f8c\u306e\u753b\u50cf\u3092UIImageView\u306b\u8a2d\u5b9a\u3059\u308b. myImageView . image = myOutputImage } }","title":"Swift 2.3"},{"location":"9.coreimage/017_coreimage/#2x3x","text":"init(CIImage:) \u304b\u3089 init(ciImage:) \u306b\u5909\u66f4 scheduledTimerWithTimeInterval \u304b\u3089 scheduledTimer \u306b\u5909\u66f4","title":"2.x\u30683.x\u306e\u5dee\u5206"},{"location":"9.coreimage/017_coreimage/#reference","text":"CIFilter https://developer.apple.com/reference/coreimage/cifilter CIImage https://developer.apple.com/reference/coreimage/ciimage","title":"Reference"},{"location":"9.coreimage/018_coreimage/","text":"\u753b\u50cf\u306e\u30d4\u30f3\u30c1\u51e6\u7406 Swift 3.0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 // // ViewController.swift // CoreImage018 // // Created by Misato Morino on 2016/09/19. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import CoreImage class ViewController : UIViewController { // \u753b\u50cf. let myInputImage = CIImage ( image : UIImage ( named : \"sample1\" ) ! ) // ImageView. var myImageView : UIImageView ! // \u30dc\u30bf\u30f3. let myButton : UIButton = UIButton () override func viewDidLoad () { super . viewDidLoad () //UIImageView\u306e\u751f\u6210 myImageView = UIImageView ( frame : CGRect ( x : 0 , y : 0 , width : 350 , height : 600 )) myImageView . image = UIImage ( ciImage : myInputImage !) self . view . addSubview ( myImageView ) // \u30dc\u30bf\u30f3. myButton . frame = CGRect ( x : 0 , y : 0 , width : 80 , height : 80 ) myButton . backgroundColor = UIColor . black myButton . layer . masksToBounds = true myButton . setTitle ( \"\u30d4\u30f3\u30c1\" , for : UIControlState . normal ) myButton . titleLabel ?. font = UIFont . systemFont ( ofSize : UIFont . smallSystemFontSize ) myButton . setTitleColor ( UIColor . white , for : UIControlState . normal ) myButton . layer . cornerRadius = 40.0 myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 50 ) myButton . tag = 1 myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchUpInside ) // \u80cc\u666f\u8272\u3092\u9ed2. self . view . backgroundColor = UIColor . black // UI\u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0 self . view . addSubview ( myButton ); } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8 */ func onClickMyButton ( sender : UIButton ){ //\u30ab\u30e9\u30fc\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u6307\u5b9a\u3057\u3066CIFilter\u3092\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316 let myPinchDistortionFilter = CIFilter ( name : \"CIPinchDistortion\" ) // \u4e2d\u5fc3\u3092\u30bb\u30c3\u30c8. myPinchDistortionFilter !. setValue ( CIVector ( cgPoint : CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height / 2 )), forKey : \"inputCenter\" ) //\u30a4\u30e1\u30fc\u30b8\u306e\u30bb\u30c3\u30c8 myPinchDistortionFilter !. setValue ( myInputImage , forKey : kCIInputImageKey ) //\u30d5\u30a3\u30eb\u30bf\u30fc\u3092\u901a\u3057\u305f\u753b\u50cf\u3092\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8 let myOutputImage : CIImage = myPinchDistortionFilter !. outputImage ! // \u518d\u3073UIView\u306b\u30bb\u30c3\u30c8. myImageView . image = UIImage ( ciImage : myOutputImage ) // \u518d\u63cf\u753b. myImageView . setNeedsDisplay () } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 // // ViewController.swift // CoreImage018 // // Created by Misato Morino on 2016/09/19. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import CoreImage class ViewController : UIViewController { // \u753b\u50cf. let myInputImage = CIImage ( image : UIImage ( named : \"sample1\" ) ! ) // ImageView. var myImageView : UIImageView ! // \u30dc\u30bf\u30f3. let myButton : UIButton = UIButton () override func viewDidLoad () { super . viewDidLoad () //UIImageView\u306e\u751f\u6210 myImageView = UIImageView ( frame : CGRectMake ( 0 , 0 , 350 , 600 )) myImageView . image = UIImage ( CIImage : myInputImage !) self . view . addSubview ( myImageView ) // \u30dc\u30bf\u30f3. myButton . frame = CGRectMake ( 0 , 0 , 80 , 80 ) myButton . backgroundColor = UIColor . blackColor (); myButton . layer . masksToBounds = true myButton . setTitle ( \"\u30d4\u30f3\u30c1\" , forState : UIControlState . Normal ) myButton . titleLabel ?. font = UIFont . systemFontOfSize ( UIFont . smallSystemFontSize ()) myButton . setTitleColor ( UIColor . whiteColor (), forState : UIControlState . Normal ) myButton . layer . cornerRadius = 40.0 myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 50 ) myButton . tag = 1 myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : . TouchUpInside ) // \u80cc\u666f\u8272\u3092\u9ed2. self . view . backgroundColor = UIColor . blackColor () // UI\u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0 self . view . addSubview ( myButton ); } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8 */ func onClickMyButton ( sender : UIButton ){ //\u30ab\u30e9\u30fc\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u6307\u5b9a\u3057\u3066CIFilter\u3092\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316 let myPinchDistortionFilter = CIFilter ( name : \"CIPinchDistortion\" ) // \u4e2d\u5fc3\u3092\u30bb\u30c3\u30c8. myPinchDistortionFilter !. setValue ( CIVector ( CGPoint : CGPointMake ( self . view . frame . width / 2 , self . view . frame . height / 2 )), forKey : \"inputCenter\" ) //\u30a4\u30e1\u30fc\u30b8\u306e\u30bb\u30c3\u30c8 myPinchDistortionFilter !. setValue ( myInputImage , forKey : kCIInputImageKey ) //\u30d5\u30a3\u30eb\u30bf\u30fc\u3092\u901a\u3057\u305f\u753b\u50cf\u3092\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8 let myOutputImage : CIImage = myPinchDistortionFilter !. outputImage ! // \u518d\u3073UIView\u306b\u30bb\u30c3\u30c8. myImageView . image = UIImage ( CIImage : myOutputImage ) // \u518d\u63cf\u753b. myImageView . setNeedsDisplay () } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } 2.x\u30683.x\u306e\u5dee\u5206 init(CIImage:) \u304b\u3089 init(ciImage:) \u306b\u5909\u66f4 Reference CIFilter https://developer.apple.com/reference/coreimage/cifilter CIImage https://developer.apple.com/reference/coreimage/ciimage","title":"\u753b\u50cf\u306e\u30d4\u30f3\u30c1\u51e6\u7406"},{"location":"9.coreimage/018_coreimage/#_1","text":"","title":"\u753b\u50cf\u306e\u30d4\u30f3\u30c1\u51e6\u7406"},{"location":"9.coreimage/018_coreimage/#swift-30","text":"1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 // // ViewController.swift // CoreImage018 // // Created by Misato Morino on 2016/09/19. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import CoreImage class ViewController : UIViewController { // \u753b\u50cf. let myInputImage = CIImage ( image : UIImage ( named : \"sample1\" ) ! ) // ImageView. var myImageView : UIImageView ! // \u30dc\u30bf\u30f3. let myButton : UIButton = UIButton () override func viewDidLoad () { super . viewDidLoad () //UIImageView\u306e\u751f\u6210 myImageView = UIImageView ( frame : CGRect ( x : 0 , y : 0 , width : 350 , height : 600 )) myImageView . image = UIImage ( ciImage : myInputImage !) self . view . addSubview ( myImageView ) // \u30dc\u30bf\u30f3. myButton . frame = CGRect ( x : 0 , y : 0 , width : 80 , height : 80 ) myButton . backgroundColor = UIColor . black myButton . layer . masksToBounds = true myButton . setTitle ( \"\u30d4\u30f3\u30c1\" , for : UIControlState . normal ) myButton . titleLabel ?. font = UIFont . systemFont ( ofSize : UIFont . smallSystemFontSize ) myButton . setTitleColor ( UIColor . white , for : UIControlState . normal ) myButton . layer . cornerRadius = 40.0 myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 50 ) myButton . tag = 1 myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchUpInside ) // \u80cc\u666f\u8272\u3092\u9ed2. self . view . backgroundColor = UIColor . black // UI\u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0 self . view . addSubview ( myButton ); } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8 */ func onClickMyButton ( sender : UIButton ){ //\u30ab\u30e9\u30fc\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u6307\u5b9a\u3057\u3066CIFilter\u3092\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316 let myPinchDistortionFilter = CIFilter ( name : \"CIPinchDistortion\" ) // \u4e2d\u5fc3\u3092\u30bb\u30c3\u30c8. myPinchDistortionFilter !. setValue ( CIVector ( cgPoint : CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height / 2 )), forKey : \"inputCenter\" ) //\u30a4\u30e1\u30fc\u30b8\u306e\u30bb\u30c3\u30c8 myPinchDistortionFilter !. setValue ( myInputImage , forKey : kCIInputImageKey ) //\u30d5\u30a3\u30eb\u30bf\u30fc\u3092\u901a\u3057\u305f\u753b\u50cf\u3092\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8 let myOutputImage : CIImage = myPinchDistortionFilter !. outputImage ! // \u518d\u3073UIView\u306b\u30bb\u30c3\u30c8. myImageView . image = UIImage ( ciImage : myOutputImage ) // \u518d\u63cf\u753b. myImageView . setNeedsDisplay () } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } }","title":"Swift 3.0"},{"location":"9.coreimage/018_coreimage/#swift-23","text":"1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 // // ViewController.swift // CoreImage018 // // Created by Misato Morino on 2016/09/19. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import CoreImage class ViewController : UIViewController { // \u753b\u50cf. let myInputImage = CIImage ( image : UIImage ( named : \"sample1\" ) ! ) // ImageView. var myImageView : UIImageView ! // \u30dc\u30bf\u30f3. let myButton : UIButton = UIButton () override func viewDidLoad () { super . viewDidLoad () //UIImageView\u306e\u751f\u6210 myImageView = UIImageView ( frame : CGRectMake ( 0 , 0 , 350 , 600 )) myImageView . image = UIImage ( CIImage : myInputImage !) self . view . addSubview ( myImageView ) // \u30dc\u30bf\u30f3. myButton . frame = CGRectMake ( 0 , 0 , 80 , 80 ) myButton . backgroundColor = UIColor . blackColor (); myButton . layer . masksToBounds = true myButton . setTitle ( \"\u30d4\u30f3\u30c1\" , forState : UIControlState . Normal ) myButton . titleLabel ?. font = UIFont . systemFontOfSize ( UIFont . smallSystemFontSize ()) myButton . setTitleColor ( UIColor . whiteColor (), forState : UIControlState . Normal ) myButton . layer . cornerRadius = 40.0 myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 50 ) myButton . tag = 1 myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : . TouchUpInside ) // \u80cc\u666f\u8272\u3092\u9ed2. self . view . backgroundColor = UIColor . blackColor () // UI\u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0 self . view . addSubview ( myButton ); } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8 */ func onClickMyButton ( sender : UIButton ){ //\u30ab\u30e9\u30fc\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u6307\u5b9a\u3057\u3066CIFilter\u3092\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316 let myPinchDistortionFilter = CIFilter ( name : \"CIPinchDistortion\" ) // \u4e2d\u5fc3\u3092\u30bb\u30c3\u30c8. myPinchDistortionFilter !. setValue ( CIVector ( CGPoint : CGPointMake ( self . view . frame . width / 2 , self . view . frame . height / 2 )), forKey : \"inputCenter\" ) //\u30a4\u30e1\u30fc\u30b8\u306e\u30bb\u30c3\u30c8 myPinchDistortionFilter !. setValue ( myInputImage , forKey : kCIInputImageKey ) //\u30d5\u30a3\u30eb\u30bf\u30fc\u3092\u901a\u3057\u305f\u753b\u50cf\u3092\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8 let myOutputImage : CIImage = myPinchDistortionFilter !. outputImage ! // \u518d\u3073UIView\u306b\u30bb\u30c3\u30c8. myImageView . image = UIImage ( CIImage : myOutputImage ) // \u518d\u63cf\u753b. myImageView . setNeedsDisplay () } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } }","title":"Swift 2.3"},{"location":"9.coreimage/018_coreimage/#2x3x","text":"init(CIImage:) \u304b\u3089 init(ciImage:) \u306b\u5909\u66f4","title":"2.x\u30683.x\u306e\u5dee\u5206"},{"location":"9.coreimage/018_coreimage/#reference","text":"CIFilter https://developer.apple.com/reference/coreimage/cifilter CIImage https://developer.apple.com/reference/coreimage/ciimage","title":"Reference"},{"location":"9.coreimage/019_coreimage/","text":"\u753b\u50cf\u306e\u30d6\u30eb\u30fc\u30e0\u51e6\u7406 Swift 3.0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 // // ViewController.swift // CoreImage019 // // Created by Misato Morino on 2016/09/19. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import CoreImage class ViewController : UIViewController { // \u753b\u50cf. let myInputImage = CIImage ( image : UIImage ( named : \"sample1\" ) ! ) // ImageView. var myImageView : UIImageView ! // \u30dc\u30bf\u30f3. let myButton : UIButton = UIButton () override func viewDidLoad () { super . viewDidLoad () //UIImageView\u306e\u751f\u6210 myImageView = UIImageView ( frame : CGRect ( x : 0 , y : 0 , width : 350 , height : 600 )) myImageView . image = UIImage ( ciImage : myInputImage !) myImageView . center = self . view . center myImageView . contentMode = UIViewContentMode . scaleAspectFit self . view . addSubview ( myImageView ) // \u30dc\u30bf\u30f3. myButton . frame = CGRect ( x : 0 , y : 0 , width : 80 , height : 80 ) myButton . backgroundColor = UIColor . black myButton . layer . masksToBounds = true myButton . setTitle ( \"\u30d6\u30eb\u30fc\u30e0\" , for : UIControlState . normal ) myButton . titleLabel ?. font = UIFont . systemFont ( ofSize : UIFont . smallSystemFontSize ) myButton . setTitleColor ( UIColor . white , for : UIControlState . normal ) myButton . layer . cornerRadius = 40.0 myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 50 ) myButton . tag = 1 myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchUpInside ) // \u80cc\u666f\u8272\u3092\u9ed2. self . view . backgroundColor = UIColor . black // UI\u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0 self . view . addSubview ( myButton ); } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8 */ func onClickMyButton ( sender : UIButton ){ //\u30ab\u30e9\u30fc\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u6307\u5b9a\u3057\u3066CIFilter\u3092\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316 let myBloomFilter = CIFilter ( name : \"CIBloom\" ) //\u30a4\u30e1\u30fc\u30b8\u306e\u30bb\u30c3\u30c8 myBloomFilter !. setValue ( myInputImage , forKey : kCIInputImageKey ) // \u30c9\u30c3\u30c8\u306e\u30b5\u30a4\u30ba. myBloomFilter !. setValue ( NSNumber ( value : 15.0 ), forKey : kCIInputRadiusKey ) //\u30d5\u30a3\u30eb\u30bf\u30fc\u3092\u901a\u3057\u305f\u753b\u50cf\u3092\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8 let myOutputImage : CIImage = myBloomFilter !. outputImage ! // \u518d\u3073UIView\u306b\u30bb\u30c3\u30c8. myImageView . image = UIImage ( ciImage : myOutputImage ) // \u518d\u63cf\u753b. myImageView . setNeedsDisplay () } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } Swift 2.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 // // ViewController.swift // CoreImage019 // // Created by Misato Morino on 2016/09/19. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import CoreImage class ViewController : UIViewController { // \u753b\u50cf. let myInputImage = CIImage ( image : UIImage ( named : \"sample1\" ) ! ) // ImageView. var myImageView : UIImageView ! // \u30dc\u30bf\u30f3. let myButton : UIButton = UIButton () override func viewDidLoad () { super . viewDidLoad () //UIImageView\u306e\u751f\u6210 myImageView = UIImageView ( frame : CGRectMake ( 0 , 0 , 350 , 600 )) myImageView . image = UIImage ( CIImage : myInputImage !) myImageView . center = self . view . center myImageView . contentMode = UIViewContentMode . ScaleAspectFit self . view . addSubview ( myImageView ) // \u30dc\u30bf\u30f3. myButton . frame = CGRectMake ( 0 , 0 , 80 , 80 ) myButton . backgroundColor = UIColor . blackColor (); myButton . layer . masksToBounds = true myButton . setTitle ( \"\u30d6\u30eb\u30fc\u30e0\" , forState : UIControlState . Normal ) myButton . titleLabel ?. font = UIFont . systemFontOfSize ( UIFont . smallSystemFontSize ()) myButton . setTitleColor ( UIColor . whiteColor (), forState : UIControlState . Normal ) myButton . layer . cornerRadius = 40.0 myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 50 ) myButton . tag = 1 myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : . TouchUpInside ) // \u80cc\u666f\u8272\u3092\u9ed2. self . view . backgroundColor = UIColor . blackColor () // UI\u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0 self . view . addSubview ( myButton ); } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8 */ func onClickMyButton ( sender : UIButton ){ //\u30ab\u30e9\u30fc\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u6307\u5b9a\u3057\u3066CIFilter\u3092\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316 let myBloomFilter = CIFilter ( name : \"CIBloom\" ) //\u30a4\u30e1\u30fc\u30b8\u306e\u30bb\u30c3\u30c8 myBloomFilter !. setValue ( myInputImage , forKey : kCIInputImageKey ) // \u30c9\u30c3\u30c8\u306e\u30b5\u30a4\u30ba. myBloomFilter !. setValue ( NSNumber ( double : 15.0 ), forKey : kCIInputRadiusKey ) //\u30d5\u30a3\u30eb\u30bf\u30fc\u3092\u901a\u3057\u305f\u753b\u50cf\u3092\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8 let myOutputImage : CIImage = myBloomFilter !. outputImage ! // \u518d\u3073UIView\u306b\u30bb\u30c3\u30c8. myImageView . image = UIImage ( CIImage : myOutputImage ) // \u518d\u63cf\u753b. myImageView . setNeedsDisplay () } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } } 2.x\u30683.x\u306e\u5dee\u5206 init(CIImage:) \u304b\u3089 init(ciImage:) \u306b\u5909\u66f4 Reference CIFilter https://developer.apple.com/reference/coreimage/cifilter CIImage https://developer.apple.com/reference/coreimage/ciimage","title":"\u753b\u50cf\u306e\u30d6\u30eb\u30fc\u30e0\u51e6\u7406"},{"location":"9.coreimage/019_coreimage/#_1","text":"","title":"\u753b\u50cf\u306e\u30d6\u30eb\u30fc\u30e0\u51e6\u7406"},{"location":"9.coreimage/019_coreimage/#swift-30","text":"1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 // // ViewController.swift // CoreImage019 // // Created by Misato Morino on 2016/09/19. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import CoreImage class ViewController : UIViewController { // \u753b\u50cf. let myInputImage = CIImage ( image : UIImage ( named : \"sample1\" ) ! ) // ImageView. var myImageView : UIImageView ! // \u30dc\u30bf\u30f3. let myButton : UIButton = UIButton () override func viewDidLoad () { super . viewDidLoad () //UIImageView\u306e\u751f\u6210 myImageView = UIImageView ( frame : CGRect ( x : 0 , y : 0 , width : 350 , height : 600 )) myImageView . image = UIImage ( ciImage : myInputImage !) myImageView . center = self . view . center myImageView . contentMode = UIViewContentMode . scaleAspectFit self . view . addSubview ( myImageView ) // \u30dc\u30bf\u30f3. myButton . frame = CGRect ( x : 0 , y : 0 , width : 80 , height : 80 ) myButton . backgroundColor = UIColor . black myButton . layer . masksToBounds = true myButton . setTitle ( \"\u30d6\u30eb\u30fc\u30e0\" , for : UIControlState . normal ) myButton . titleLabel ?. font = UIFont . systemFont ( ofSize : UIFont . smallSystemFontSize ) myButton . setTitleColor ( UIColor . white , for : UIControlState . normal ) myButton . layer . cornerRadius = 40.0 myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 50 ) myButton . tag = 1 myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( sender :)), for : . touchUpInside ) // \u80cc\u666f\u8272\u3092\u9ed2. self . view . backgroundColor = UIColor . black // UI\u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0 self . view . addSubview ( myButton ); } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8 */ func onClickMyButton ( sender : UIButton ){ //\u30ab\u30e9\u30fc\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u6307\u5b9a\u3057\u3066CIFilter\u3092\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316 let myBloomFilter = CIFilter ( name : \"CIBloom\" ) //\u30a4\u30e1\u30fc\u30b8\u306e\u30bb\u30c3\u30c8 myBloomFilter !. setValue ( myInputImage , forKey : kCIInputImageKey ) // \u30c9\u30c3\u30c8\u306e\u30b5\u30a4\u30ba. myBloomFilter !. setValue ( NSNumber ( value : 15.0 ), forKey : kCIInputRadiusKey ) //\u30d5\u30a3\u30eb\u30bf\u30fc\u3092\u901a\u3057\u305f\u753b\u50cf\u3092\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8 let myOutputImage : CIImage = myBloomFilter !. outputImage ! // \u518d\u3073UIView\u306b\u30bb\u30c3\u30c8. myImageView . image = UIImage ( ciImage : myOutputImage ) // \u518d\u63cf\u753b. myImageView . setNeedsDisplay () } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } }","title":"Swift 3.0"},{"location":"9.coreimage/019_coreimage/#swift-23","text":"1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 // // ViewController.swift // CoreImage019 // // Created by Misato Morino on 2016/09/19. // Copyright \u00a9 2016\u5e74 Misato Morino. All rights reserved. // import UIKit import CoreImage class ViewController : UIViewController { // \u753b\u50cf. let myInputImage = CIImage ( image : UIImage ( named : \"sample1\" ) ! ) // ImageView. var myImageView : UIImageView ! // \u30dc\u30bf\u30f3. let myButton : UIButton = UIButton () override func viewDidLoad () { super . viewDidLoad () //UIImageView\u306e\u751f\u6210 myImageView = UIImageView ( frame : CGRectMake ( 0 , 0 , 350 , 600 )) myImageView . image = UIImage ( CIImage : myInputImage !) myImageView . center = self . view . center myImageView . contentMode = UIViewContentMode . ScaleAspectFit self . view . addSubview ( myImageView ) // \u30dc\u30bf\u30f3. myButton . frame = CGRectMake ( 0 , 0 , 80 , 80 ) myButton . backgroundColor = UIColor . blackColor (); myButton . layer . masksToBounds = true myButton . setTitle ( \"\u30d6\u30eb\u30fc\u30e0\" , forState : UIControlState . Normal ) myButton . titleLabel ?. font = UIFont . systemFontOfSize ( UIFont . smallSystemFontSize ()) myButton . setTitleColor ( UIColor . whiteColor (), forState : UIControlState . Normal ) myButton . layer . cornerRadius = 40.0 myButton . layer . position = CGPoint ( x : self . view . frame . width / 2 , y : self . view . frame . height - 50 ) myButton . tag = 1 myButton . addTarget ( self , action : #selector ( ViewController . onClickMyButton ( _ :)), forControlEvents : . TouchUpInside ) // \u80cc\u666f\u8272\u3092\u9ed2. self . view . backgroundColor = UIColor . blackColor () // UI\u30dc\u30bf\u30f3\u3092View\u306b\u8ffd\u52a0 self . view . addSubview ( myButton ); } /* \u30dc\u30bf\u30f3\u30a4\u30d9\u30f3\u30c8 */ func onClickMyButton ( sender : UIButton ){ //\u30ab\u30e9\u30fc\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u6307\u5b9a\u3057\u3066CIFilter\u3092\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316 let myBloomFilter = CIFilter ( name : \"CIBloom\" ) //\u30a4\u30e1\u30fc\u30b8\u306e\u30bb\u30c3\u30c8 myBloomFilter !. setValue ( myInputImage , forKey : kCIInputImageKey ) // \u30c9\u30c3\u30c8\u306e\u30b5\u30a4\u30ba. myBloomFilter !. setValue ( NSNumber ( double : 15.0 ), forKey : kCIInputRadiusKey ) //\u30d5\u30a3\u30eb\u30bf\u30fc\u3092\u901a\u3057\u305f\u753b\u50cf\u3092\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8 let myOutputImage : CIImage = myBloomFilter !. outputImage ! // \u518d\u3073UIView\u306b\u30bb\u30c3\u30c8. myImageView . image = UIImage ( CIImage : myOutputImage ) // \u518d\u63cf\u753b. myImageView . setNeedsDisplay () } override func didReceiveMemoryWarning () { super . didReceiveMemoryWarning () } }","title":"Swift 2.3"},{"location":"9.coreimage/019_coreimage/#2x3x","text":"init(CIImage:) \u304b\u3089 init(ciImage:) \u306b\u5909\u66f4","title":"2.x\u30683.x\u306e\u5dee\u5206"},{"location":"9.coreimage/019_coreimage/#reference","text":"CIFilter https://developer.apple.com/reference/coreimage/cifilter CIImage https://developer.apple.com/reference/coreimage/ciimage","title":"Reference"}]}